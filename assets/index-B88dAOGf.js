var Un=Object.defineProperty;var Bn=(ue,X,oe)=>X in ue?Un(ue,X,{enumerable:!0,configurable:!0,writable:!0,value:oe}):ue[X]=oe;var wt=(ue,X,oe)=>Bn(ue,typeof X!="symbol"?X+"":X,oe);(function(){const X=document.createElement("link").relList;if(X&&X.supports&&X.supports("modulepreload"))return;for(const Q of document.querySelectorAll('link[rel="modulepreload"]'))te(Q);new MutationObserver(Q=>{for(const re of Q)if(re.type==="childList")for(const ie of re.addedNodes)ie.tagName==="LINK"&&ie.rel==="modulepreload"&&te(ie)}).observe(document,{childList:!0,subtree:!0});function oe(Q){const re={};return Q.integrity&&(re.integrity=Q.integrity),Q.referrerPolicy&&(re.referrerPolicy=Q.referrerPolicy),Q.crossOrigin==="use-credentials"?re.credentials="include":Q.crossOrigin==="anonymous"?re.credentials="omit":re.credentials="same-origin",re}function te(Q){if(Q.ep)return;Q.ep=!0;const re=oe(Q);fetch(Q.href,re)}})();var n,l,u$1,t,i,o,r,f$1,e,c,s,a,h={},v=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function d(ue,X){for(var oe in X)ue[oe]=X[oe];return ue}function w(ue){ue&&ue.parentNode&&ue.parentNode.removeChild(ue)}function _(ue,X,oe){var te,Q,re,ie={};for(re in X)re=="key"?te=X[re]:re=="ref"?Q=X[re]:ie[re]=X[re];if(arguments.length>2&&(ie.children=arguments.length>3?n.call(arguments,2):oe),typeof ue=="function"&&ue.defaultProps!=null)for(re in ue.defaultProps)ie[re]===void 0&&(ie[re]=ue.defaultProps[re]);return g(ue,ie,te,Q,null)}function g(ue,X,oe,te,Q){var re={type:ue,props:X,key:oe,ref:te,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:Q??++u$1,__i:-1,__u:0};return Q==null&&l.vnode!=null&&l.vnode(re),re}function m(){return{current:null}}function b(ue){return ue.children}function k(ue,X){this.props=ue,this.context=X}function x(ue,X){if(X==null)return ue.__?x(ue.__,ue.__i+1):null;for(var oe;X<ue.__k.length;X++)if((oe=ue.__k[X])!=null&&oe.__e!=null)return oe.__e;return typeof ue.type=="function"?x(ue):null}function C(ue){var X,oe;if((ue=ue.__)!=null&&ue.__c!=null){for(ue.__e=ue.__c.base=null,X=0;X<ue.__k.length;X++)if((oe=ue.__k[X])!=null&&oe.__e!=null){ue.__e=ue.__c.base=oe.__e;break}return C(ue)}}function S(ue){(!ue.__d&&(ue.__d=!0)&&i.push(ue)&&!M.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(M)}function M(){var ue,X,oe,te,Q,re,ie,ee;for(i.sort(f$1);ue=i.shift();)ue.__d&&(X=i.length,te=void 0,re=(Q=(oe=ue).__v).__e,ie=[],ee=[],oe.__P&&((te=d({},Q)).__v=Q.__v+1,l.vnode&&l.vnode(te),O(oe.__P,te,Q,oe.__n,oe.__P.namespaceURI,32&Q.__u?[re]:null,ie,re??x(Q),!!(32&Q.__u),ee),te.__v=Q.__v,te.__.__k[te.__i]=te,j(ie,te,ee),te.__e!=re&&C(te)),i.length>X&&i.sort(f$1));M.__r=0}function P(ue,X,oe,te,Q,re,ie,ee,ae,Z,Y){var W,R,U,K,J,ne=te&&te.__k||v,se=X.length;for(oe.__d=ae,$(oe,X,ne),ae=oe.__d,W=0;W<se;W++)(U=oe.__k[W])!=null&&(R=U.__i===-1?h:ne[U.__i]||h,U.__i=W,O(ue,U,R,Q,re,ie,ee,ae,Z,Y),K=U.__e,U.ref&&R.ref!=U.ref&&(R.ref&&N(R.ref,null,U),Y.push(U.ref,U.__c||K,U)),J==null&&K!=null&&(J=K),65536&U.__u||R.__k===U.__k?ae=I(U,ae,ue):typeof U.type=="function"&&U.__d!==void 0?ae=U.__d:K&&(ae=K.nextSibling),U.__d=void 0,U.__u&=-196609);oe.__d=ae,oe.__e=J}function $(ue,X,oe){var te,Q,re,ie,ee,ae=X.length,Z=oe.length,Y=Z,W=0;for(ue.__k=[],te=0;te<ae;te++)(Q=X[te])!=null&&typeof Q!="boolean"&&typeof Q!="function"?(ie=te+W,(Q=ue.__k[te]=typeof Q=="string"||typeof Q=="number"||typeof Q=="bigint"||Q.constructor==String?g(null,Q,null,null,null):y(Q)?g(b,{children:Q},null,null,null):Q.constructor===void 0&&Q.__b>0?g(Q.type,Q.props,Q.key,Q.ref?Q.ref:null,Q.__v):Q).__=ue,Q.__b=ue.__b+1,re=null,(ee=Q.__i=L(Q,oe,ie,Y))!==-1&&(Y--,(re=oe[ee])&&(re.__u|=131072)),re==null||re.__v===null?(ee==-1&&W--,typeof Q.type!="function"&&(Q.__u|=65536)):ee!==ie&&(ee==ie-1?W--:ee==ie+1?W++:(ee>ie?W--:W++,Q.__u|=65536))):Q=ue.__k[te]=null;if(Y)for(te=0;te<Z;te++)(re=oe[te])!=null&&!(131072&re.__u)&&(re.__e==ue.__d&&(ue.__d=x(re)),V(re,re))}function I(ue,X,oe){var te,Q;if(typeof ue.type=="function"){for(te=ue.__k,Q=0;te&&Q<te.length;Q++)te[Q]&&(te[Q].__=ue,X=I(te[Q],X,oe));return X}ue.__e!=X&&(X&&ue.type&&!oe.contains(X)&&(X=x(ue)),oe.insertBefore(ue.__e,X||null),X=ue.__e);do X=X&&X.nextSibling;while(X!=null&&X.nodeType===8);return X}function H(ue,X){return X=X||[],ue==null||typeof ue=="boolean"||(y(ue)?ue.some(function(oe){H(oe,X)}):X.push(ue)),X}function L(ue,X,oe,te){var Q=ue.key,re=ue.type,ie=oe-1,ee=oe+1,ae=X[oe];if(ae===null||ae&&Q==ae.key&&re===ae.type&&!(131072&ae.__u))return oe;if(te>(ae!=null&&!(131072&ae.__u)?1:0))for(;ie>=0||ee<X.length;){if(ie>=0){if((ae=X[ie])&&!(131072&ae.__u)&&Q==ae.key&&re===ae.type)return ie;ie--}if(ee<X.length){if((ae=X[ee])&&!(131072&ae.__u)&&Q==ae.key&&re===ae.type)return ee;ee++}}return-1}function T(ue,X,oe){X[0]==="-"?ue.setProperty(X,oe??""):ue[X]=oe==null?"":typeof oe!="number"||p.test(X)?oe:oe+"px"}function A(ue,X,oe,te,Q){var re;e:if(X==="style")if(typeof oe=="string")ue.style.cssText=oe;else{if(typeof te=="string"&&(ue.style.cssText=te=""),te)for(X in te)oe&&X in oe||T(ue.style,X,"");if(oe)for(X in oe)te&&oe[X]===te[X]||T(ue.style,X,oe[X])}else if(X[0]==="o"&&X[1]==="n")re=X!==(X=X.replace(/(PointerCapture)$|Capture$/i,"$1")),X=X.toLowerCase()in ue||X==="onFocusOut"||X==="onFocusIn"?X.toLowerCase().slice(2):X.slice(2),ue.l||(ue.l={}),ue.l[X+re]=oe,oe?te?oe.u=te.u:(oe.u=e,ue.addEventListener(X,re?s:c,re)):ue.removeEventListener(X,re?s:c,re);else{if(Q=="http://www.w3.org/2000/svg")X=X.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(X!="width"&&X!="height"&&X!="href"&&X!="list"&&X!="form"&&X!="tabIndex"&&X!="download"&&X!="rowSpan"&&X!="colSpan"&&X!="role"&&X!="popover"&&X in ue)try{ue[X]=oe??"";break e}catch{}typeof oe=="function"||(oe==null||oe===!1&&X[4]!=="-"?ue.removeAttribute(X):ue.setAttribute(X,X=="popover"&&oe==1?"":oe))}}function F(ue){return function(X){if(this.l){var oe=this.l[X.type+ue];if(X.t==null)X.t=e++;else if(X.t<oe.u)return;return oe(l.event?l.event(X):X)}}}function O(ue,X,oe,te,Q,re,ie,ee,ae,Z){var Y,W,R,U,K,J,ne,se,le,ce,de,pe,fe,he,be,Te,xe=X.type;if(X.constructor!==void 0)return null;128&oe.__u&&(ae=!!(32&oe.__u),re=[ee=X.__e=oe.__e]),(Y=l.__b)&&Y(X);e:if(typeof xe=="function")try{if(se=X.props,le="prototype"in xe&&xe.prototype.render,ce=(Y=xe.contextType)&&te[Y.__c],de=Y?ce?ce.props.value:Y.__:te,oe.__c?ne=(W=X.__c=oe.__c).__=W.__E:(le?X.__c=W=new xe(se,de):(X.__c=W=new k(se,de),W.constructor=xe,W.render=q),ce&&ce.sub(W),W.props=se,W.state||(W.state={}),W.context=de,W.__n=te,R=W.__d=!0,W.__h=[],W._sb=[]),le&&W.__s==null&&(W.__s=W.state),le&&xe.getDerivedStateFromProps!=null&&(W.__s==W.state&&(W.__s=d({},W.__s)),d(W.__s,xe.getDerivedStateFromProps(se,W.__s))),U=W.props,K=W.state,W.__v=X,R)le&&xe.getDerivedStateFromProps==null&&W.componentWillMount!=null&&W.componentWillMount(),le&&W.componentDidMount!=null&&W.__h.push(W.componentDidMount);else{if(le&&xe.getDerivedStateFromProps==null&&se!==U&&W.componentWillReceiveProps!=null&&W.componentWillReceiveProps(se,de),!W.__e&&(W.shouldComponentUpdate!=null&&W.shouldComponentUpdate(se,W.__s,de)===!1||X.__v===oe.__v)){for(X.__v!==oe.__v&&(W.props=se,W.state=W.__s,W.__d=!1),X.__e=oe.__e,X.__k=oe.__k,X.__k.some(function(Se){Se&&(Se.__=X)}),pe=0;pe<W._sb.length;pe++)W.__h.push(W._sb[pe]);W._sb=[],W.__h.length&&ie.push(W);break e}W.componentWillUpdate!=null&&W.componentWillUpdate(se,W.__s,de),le&&W.componentDidUpdate!=null&&W.__h.push(function(){W.componentDidUpdate(U,K,J)})}if(W.context=de,W.props=se,W.__P=ue,W.__e=!1,fe=l.__r,he=0,le){for(W.state=W.__s,W.__d=!1,fe&&fe(X),Y=W.render(W.props,W.state,W.context),be=0;be<W._sb.length;be++)W.__h.push(W._sb[be]);W._sb=[]}else do W.__d=!1,fe&&fe(X),Y=W.render(W.props,W.state,W.context),W.state=W.__s;while(W.__d&&++he<25);W.state=W.__s,W.getChildContext!=null&&(te=d(d({},te),W.getChildContext())),le&&!R&&W.getSnapshotBeforeUpdate!=null&&(J=W.getSnapshotBeforeUpdate(U,K)),P(ue,y(Te=Y!=null&&Y.type===b&&Y.key==null?Y.props.children:Y)?Te:[Te],X,oe,te,Q,re,ie,ee,ae,Z),W.base=X.__e,X.__u&=-161,W.__h.length&&ie.push(W),ne&&(W.__E=W.__=null)}catch(Se){if(X.__v=null,ae||re!=null){for(X.__u|=ae?160:128;ee&&ee.nodeType===8&&ee.nextSibling;)ee=ee.nextSibling;re[re.indexOf(ee)]=null,X.__e=ee}else X.__e=oe.__e,X.__k=oe.__k;l.__e(Se,X,oe)}else re==null&&X.__v===oe.__v?(X.__k=oe.__k,X.__e=oe.__e):X.__e=z(oe.__e,X,oe,te,Q,re,ie,ae,Z);(Y=l.diffed)&&Y(X)}function j(ue,X,oe){X.__d=void 0;for(var te=0;te<oe.length;te++)N(oe[te],oe[++te],oe[++te]);l.__c&&l.__c(X,ue),ue.some(function(Q){try{ue=Q.__h,Q.__h=[],ue.some(function(re){re.call(Q)})}catch(re){l.__e(re,Q.__v)}})}function z(ue,X,oe,te,Q,re,ie,ee,ae){var Z,Y,W,R,U,K,J,ne=oe.props,se=X.props,le=X.type;if(le==="svg"?Q="http://www.w3.org/2000/svg":le==="math"?Q="http://www.w3.org/1998/Math/MathML":Q||(Q="http://www.w3.org/1999/xhtml"),re!=null){for(Z=0;Z<re.length;Z++)if((U=re[Z])&&"setAttribute"in U==!!le&&(le?U.localName===le:U.nodeType===3)){ue=U,re[Z]=null;break}}if(ue==null){if(le===null)return document.createTextNode(se);ue=document.createElementNS(Q,le,se.is&&se),ee&&(l.__m&&l.__m(X,re),ee=!1),re=null}if(le===null)ne===se||ee&&ue.data===se||(ue.data=se);else{if(re=re&&n.call(ue.childNodes),ne=oe.props||h,!ee&&re!=null)for(ne={},Z=0;Z<ue.attributes.length;Z++)ne[(U=ue.attributes[Z]).name]=U.value;for(Z in ne)if(U=ne[Z],Z!="children"){if(Z=="dangerouslySetInnerHTML")W=U;else if(!(Z in se)){if(Z=="value"&&"defaultValue"in se||Z=="checked"&&"defaultChecked"in se)continue;A(ue,Z,null,U,Q)}}for(Z in se)U=se[Z],Z=="children"?R=U:Z=="dangerouslySetInnerHTML"?Y=U:Z=="value"?K=U:Z=="checked"?J=U:ee&&typeof U!="function"||ne[Z]===U||A(ue,Z,U,ne[Z],Q);if(Y)ee||W&&(Y.__html===W.__html||Y.__html===ue.innerHTML)||(ue.innerHTML=Y.__html),X.__k=[];else if(W&&(ue.innerHTML=""),P(ue,y(R)?R:[R],X,oe,te,le==="foreignObject"?"http://www.w3.org/1999/xhtml":Q,re,ie,re?re[0]:oe.__k&&x(oe,0),ee,ae),re!=null)for(Z=re.length;Z--;)w(re[Z]);ee||(Z="value",le==="progress"&&K==null?ue.removeAttribute("value"):K!==void 0&&(K!==ue[Z]||le==="progress"&&!K||le==="option"&&K!==ne[Z])&&A(ue,Z,K,ne[Z],Q),Z="checked",J!==void 0&&J!==ue[Z]&&A(ue,Z,J,ne[Z],Q))}return ue}function N(ue,X,oe){try{if(typeof ue=="function"){var te=typeof ue.__u=="function";te&&ue.__u(),te&&X==null||(ue.__u=ue(X))}else ue.current=X}catch(Q){l.__e(Q,oe)}}function V(ue,X,oe){var te,Q;if(l.unmount&&l.unmount(ue),(te=ue.ref)&&(te.current&&te.current!==ue.__e||N(te,null,X)),(te=ue.__c)!=null){if(te.componentWillUnmount)try{te.componentWillUnmount()}catch(re){l.__e(re,X)}te.base=te.__P=null}if(te=ue.__k)for(Q=0;Q<te.length;Q++)te[Q]&&V(te[Q],X,oe||typeof ue.type!="function");oe||w(ue.__e),ue.__c=ue.__=ue.__e=ue.__d=void 0}function q(ue,X,oe){return this.constructor(ue,oe)}function B(ue,X,oe){var te,Q,re,ie;l.__&&l.__(ue,X),Q=(te=typeof oe=="function")?null:oe&&oe.__k||X.__k,re=[],ie=[],O(X,ue=(!te&&oe||X).__k=_(b,null,[ue]),Q||h,h,X.namespaceURI,!te&&oe?[oe]:Q?null:X.firstChild?n.call(X.childNodes):null,re,!te&&oe?oe:Q?Q.__e:X.firstChild,te,ie),j(re,ue,ie)}function D(ue,X){B(ue,X,D)}function E(ue,X,oe){var te,Q,re,ie,ee=d({},ue.props);for(re in ue.type&&ue.type.defaultProps&&(ie=ue.type.defaultProps),X)re=="key"?te=X[re]:re=="ref"?Q=X[re]:ee[re]=X[re]===void 0&&ie!==void 0?ie[re]:X[re];return arguments.length>2&&(ee.children=arguments.length>3?n.call(arguments,2):oe),g(ue.type,ee,te||ue.key,Q||ue.ref,null)}function G(ue,X){var oe={__c:X="__cC"+a++,__:ue,Consumer:function(te,Q){return te.children(Q)},Provider:function(te){var Q,re;return this.getChildContext||(Q=new Set,(re={})[X]=this,this.getChildContext=function(){return re},this.componentWillUnmount=function(){Q=null},this.shouldComponentUpdate=function(ie){this.props.value!==ie.value&&Q.forEach(function(ee){ee.__e=!0,S(ee)})},this.sub=function(ie){Q.add(ie);var ee=ie.componentWillUnmount;ie.componentWillUnmount=function(){Q&&Q.delete(ie),ee&&ee.call(ie)}}),te.children}};return oe.Provider.__=oe.Consumer.contextType=oe}n=v.slice,l={__e:function(ue,X,oe,te){for(var Q,re,ie;X=X.__;)if((Q=X.__c)&&!Q.__)try{if((re=Q.constructor)&&re.getDerivedStateFromError!=null&&(Q.setState(re.getDerivedStateFromError(ue)),ie=Q.__d),Q.componentDidCatch!=null&&(Q.componentDidCatch(ue,te||{}),ie=Q.__d),ie)return Q.__E=Q}catch(ee){ue=ee}throw ue}},u$1=0,t=function(ue){return ue!=null&&ue.constructor==null},k.prototype.setState=function(ue,X){var oe;oe=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=d({},this.state),typeof ue=="function"&&(ue=ue(d({},oe),this.props)),ue&&d(oe,ue),ue!=null&&this.__v&&(X&&this._sb.push(X),S(this))},k.prototype.forceUpdate=function(ue){this.__v&&(this.__e=!0,ue&&this.__h.push(ue),S(this))},k.prototype.render=b,i=[],r=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f$1=function(ue,X){return ue.__v.__b-X.__v.__b},M.__r=0,e=0,c=F(!1),s=F(!0),a=0;const preact_module=Object.freeze(Object.defineProperty({__proto__:null,Component:k,Fragment:b,cloneElement:E,createContext:G,createElement:_,createRef:m,h:_,hydrate:D,get isValidElement(){return t},get options(){return l},render:B,toChildArray:H},Symbol.toStringTag,{value:"Module"}));var f=0;function u(ue,X,oe,te,Q,re){X||(X={});var ie,ee,ae=X;"ref"in X&&(ie=X.ref,delete X.ref);var Z={type:ue,props:ae,key:oe,ref:ie,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:Q,__self:re};if(typeof ue=="function"&&(ie=ue.defaultProps))for(ee in ie)ae[ee]===void 0&&(ae[ee]=ie[ee]);return l.vnode&&l.vnode(Z),Z}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ue){return ue&&ue.__esModule&&Object.prototype.hasOwnProperty.call(ue,"default")?ue.default:ue}function getAugmentedNamespace(ue){if(ue.__esModule)return ue;var X=ue.default;if(typeof X=="function"){var oe=function te(){return this instanceof te?Reflect.construct(X,arguments,this.constructor):X.apply(this,arguments)};oe.prototype=X.prototype}else oe={};return Object.defineProperty(oe,"__esModule",{value:!0}),Object.keys(ue).forEach(function(te){var Q=Object.getOwnPropertyDescriptor(ue,te);Object.defineProperty(oe,te,Q.get?Q:{enumerable:!0,get:function(){return ue[te]}})}),oe}var axios$3={exports:{}},bind$2=function(X,oe){return function(){for(var Q=new Array(arguments.length),re=0;re<Q.length;re++)Q[re]=arguments[re];return X.apply(oe,Q)}},bind$1=bind$2,toString=Object.prototype.toString;function isArray(ue){return toString.call(ue)==="[object Array]"}function isUndefined(ue){return typeof ue>"u"}function isBuffer(ue){return ue!==null&&!isUndefined(ue)&&ue.constructor!==null&&!isUndefined(ue.constructor)&&typeof ue.constructor.isBuffer=="function"&&ue.constructor.isBuffer(ue)}function isArrayBuffer(ue){return toString.call(ue)==="[object ArrayBuffer]"}function isFormData(ue){return typeof FormData<"u"&&ue instanceof FormData}function isArrayBufferView(ue){var X;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?X=ArrayBuffer.isView(ue):X=ue&&ue.buffer&&ue.buffer instanceof ArrayBuffer,X}function isString(ue){return typeof ue=="string"}function isNumber(ue){return typeof ue=="number"}function isObject(ue){return ue!==null&&typeof ue=="object"}function isPlainObject(ue){if(toString.call(ue)!=="[object Object]")return!1;var X=Object.getPrototypeOf(ue);return X===null||X===Object.prototype}function isDate(ue){return toString.call(ue)==="[object Date]"}function isFile(ue){return toString.call(ue)==="[object File]"}function isBlob(ue){return toString.call(ue)==="[object Blob]"}function isFunction(ue){return toString.call(ue)==="[object Function]"}function isStream(ue){return isObject(ue)&&isFunction(ue.pipe)}function isURLSearchParams(ue){return typeof URLSearchParams<"u"&&ue instanceof URLSearchParams}function trim(ue){return ue.trim?ue.trim():ue.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function forEach(ue,X){if(!(ue===null||typeof ue>"u"))if(typeof ue!="object"&&(ue=[ue]),isArray(ue))for(var oe=0,te=ue.length;oe<te;oe++)X.call(null,ue[oe],oe,ue);else for(var Q in ue)Object.prototype.hasOwnProperty.call(ue,Q)&&X.call(null,ue[Q],Q,ue)}function merge(){var ue={};function X(Q,re){isPlainObject(ue[re])&&isPlainObject(Q)?ue[re]=merge(ue[re],Q):isPlainObject(Q)?ue[re]=merge({},Q):isArray(Q)?ue[re]=Q.slice():ue[re]=Q}for(var oe=0,te=arguments.length;oe<te;oe++)forEach(arguments[oe],X);return ue}function extend(ue,X,oe){return forEach(X,function(Q,re){oe&&typeof Q=="function"?ue[re]=bind$1(Q,oe):ue[re]=Q}),ue}function stripBOM(ue){return ue.charCodeAt(0)===65279&&(ue=ue.slice(1)),ue}var utils$9={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM},utils$8=utils$9;function encode(ue){return encodeURIComponent(ue).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function(X,oe,te){if(!oe)return X;var Q;if(te)Q=te(oe);else if(utils$8.isURLSearchParams(oe))Q=oe.toString();else{var re=[];utils$8.forEach(oe,function(ae,Z){ae===null||typeof ae>"u"||(utils$8.isArray(ae)?Z=Z+"[]":ae=[ae],utils$8.forEach(ae,function(W){utils$8.isDate(W)?W=W.toISOString():utils$8.isObject(W)&&(W=JSON.stringify(W)),re.push(encode(Z)+"="+encode(W))}))}),Q=re.join("&")}if(Q){var ie=X.indexOf("#");ie!==-1&&(X=X.slice(0,ie)),X+=(X.indexOf("?")===-1?"?":"&")+Q}return X},utils$7=utils$9;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(X,oe,te){return this.handlers.push({fulfilled:X,rejected:oe,synchronous:te?te.synchronous:!1,runWhen:te?te.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(X){this.handlers[X]&&(this.handlers[X]=null)};InterceptorManager$1.prototype.forEach=function(X){utils$7.forEach(this.handlers,function(te){te!==null&&X(te)})};var InterceptorManager_1=InterceptorManager$1,utils$6=utils$9,normalizeHeaderName$1=function(X,oe){utils$6.forEach(X,function(Q,re){re!==oe&&re.toUpperCase()===oe.toUpperCase()&&(X[oe]=Q,delete X[re])})},enhanceError$1=function(X,oe,te,Q,re){return X.config=oe,te&&(X.code=te),X.request=Q,X.response=re,X.isAxiosError=!0,X.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},X},createError,hasRequiredCreateError;function requireCreateError(){if(hasRequiredCreateError)return createError;hasRequiredCreateError=1;var ue=enhanceError$1;return createError=function(oe,te,Q,re,ie){var ee=new Error(oe);return ue(ee,te,Q,re,ie)},createError}var settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var ue=requireCreateError();return settle=function(oe,te,Q){var re=Q.config.validateStatus;!Q.status||!re||re(Q.status)?oe(Q):te(ue("Request failed with status code "+Q.status,Q.config,null,Q.request,Q))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var ue=utils$9;return cookies=ue.isStandardBrowserEnv()?function(){return{write:function(te,Q,re,ie,ee,ae){var Z=[];Z.push(te+"="+encodeURIComponent(Q)),ue.isNumber(re)&&Z.push("expires="+new Date(re).toGMTString()),ue.isString(ie)&&Z.push("path="+ie),ue.isString(ee)&&Z.push("domain="+ee),ae===!0&&Z.push("secure"),document.cookie=Z.join("; ")},read:function(te){var Q=document.cookie.match(new RegExp("(^|;\\s*)("+te+")=([^;]*)"));return Q?decodeURIComponent(Q[3]):null},remove:function(te){this.write(te,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL,hasRequiredIsAbsoluteURL;function requireIsAbsoluteURL(){return hasRequiredIsAbsoluteURL||(hasRequiredIsAbsoluteURL=1,isAbsoluteURL=function(X){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(X)}),isAbsoluteURL}var combineURLs,hasRequiredCombineURLs;function requireCombineURLs(){return hasRequiredCombineURLs||(hasRequiredCombineURLs=1,combineURLs=function(X,oe){return oe?X.replace(/\/+$/,"")+"/"+oe.replace(/^\/+/,""):X}),combineURLs}var buildFullPath,hasRequiredBuildFullPath;function requireBuildFullPath(){if(hasRequiredBuildFullPath)return buildFullPath;hasRequiredBuildFullPath=1;var ue=requireIsAbsoluteURL(),X=requireCombineURLs();return buildFullPath=function(te,Q){return te&&!ue(Q)?X(te,Q):Q},buildFullPath}var parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var ue=utils$9,X=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(te){var Q={},re,ie,ee;return te&&ue.forEach(te.split(`
`),function(Z){if(ee=Z.indexOf(":"),re=ue.trim(Z.substr(0,ee)).toLowerCase(),ie=ue.trim(Z.substr(ee+1)),re){if(Q[re]&&X.indexOf(re)>=0)return;re==="set-cookie"?Q[re]=(Q[re]?Q[re]:[]).concat([ie]):Q[re]=Q[re]?Q[re]+", "+ie:ie}}),Q},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var ue=utils$9;return isURLSameOrigin=ue.isStandardBrowserEnv()?function(){var oe=/(msie|trident)/i.test(navigator.userAgent),te=document.createElement("a"),Q;function re(ie){var ee=ie;return oe&&(te.setAttribute("href",ee),ee=te.href),te.setAttribute("href",ee),{href:te.href,protocol:te.protocol?te.protocol.replace(/:$/,""):"",host:te.host,search:te.search?te.search.replace(/^\?/,""):"",hash:te.hash?te.hash.replace(/^#/,""):"",hostname:te.hostname,port:te.port,pathname:te.pathname.charAt(0)==="/"?te.pathname:"/"+te.pathname}}return Q=re(window.location.href),function(ee){var ae=ue.isString(ee)?re(ee):ee;return ae.protocol===Q.protocol&&ae.host===Q.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var ue=utils$9,X=requireSettle(),oe=requireCookies(),te=buildURL$1,Q=requireBuildFullPath(),re=requireParseHeaders(),ie=requireIsURLSameOrigin(),ee=requireCreateError();return xhr=function(Z){return new Promise(function(W,R){var U=Z.data,K=Z.headers,J=Z.responseType;ue.isFormData(U)&&delete K["Content-Type"];var ne=new XMLHttpRequest;if(Z.auth){var se=Z.auth.username||"",le=Z.auth.password?unescape(encodeURIComponent(Z.auth.password)):"";K.Authorization="Basic "+btoa(se+":"+le)}var ce=Q(Z.baseURL,Z.url);ne.open(Z.method.toUpperCase(),te(ce,Z.params,Z.paramsSerializer),!0),ne.timeout=Z.timeout;function de(){if(ne){var fe="getAllResponseHeaders"in ne?re(ne.getAllResponseHeaders()):null,he=!J||J==="text"||J==="json"?ne.responseText:ne.response,be={data:he,status:ne.status,statusText:ne.statusText,headers:fe,config:Z,request:ne};X(W,R,be),ne=null}}if("onloadend"in ne?ne.onloadend=de:ne.onreadystatechange=function(){!ne||ne.readyState!==4||ne.status===0&&!(ne.responseURL&&ne.responseURL.indexOf("file:")===0)||setTimeout(de)},ne.onabort=function(){ne&&(R(ee("Request aborted",Z,"ECONNABORTED",ne)),ne=null)},ne.onerror=function(){R(ee("Network Error",Z,null,ne)),ne=null},ne.ontimeout=function(){var he="timeout of "+Z.timeout+"ms exceeded";Z.timeoutErrorMessage&&(he=Z.timeoutErrorMessage),R(ee(he,Z,Z.transitional&&Z.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",ne)),ne=null},ue.isStandardBrowserEnv()){var pe=(Z.withCredentials||ie(ce))&&Z.xsrfCookieName?oe.read(Z.xsrfCookieName):void 0;pe&&(K[Z.xsrfHeaderName]=pe)}"setRequestHeader"in ne&&ue.forEach(K,function(he,be){typeof U>"u"&&be.toLowerCase()==="content-type"?delete K[be]:ne.setRequestHeader(be,he)}),ue.isUndefined(Z.withCredentials)||(ne.withCredentials=!!Z.withCredentials),J&&J!=="json"&&(ne.responseType=Z.responseType),typeof Z.onDownloadProgress=="function"&&ne.addEventListener("progress",Z.onDownloadProgress),typeof Z.onUploadProgress=="function"&&ne.upload&&ne.upload.addEventListener("progress",Z.onUploadProgress),Z.cancelToken&&Z.cancelToken.promise.then(function(he){ne&&(ne.abort(),R(he),ne=null)}),U||(U=null),ne.send(U)})},xhr}var utils$5=utils$9,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(ue,X){!utils$5.isUndefined(ue)&&utils$5.isUndefined(ue["Content-Type"])&&(ue["Content-Type"]=X)}function getDefaultAdapter(){var ue;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(ue=requireXhr()),ue}function stringifySafely(ue,X,oe){if(utils$5.isString(ue))try{return(X||JSON.parse)(ue),utils$5.trim(ue)}catch(te){if(te.name!=="SyntaxError")throw te}return(0,JSON.stringify)(ue)}var defaults$3={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:getDefaultAdapter(),transformRequest:[function(X,oe){return normalizeHeaderName(oe,"Accept"),normalizeHeaderName(oe,"Content-Type"),utils$5.isFormData(X)||utils$5.isArrayBuffer(X)||utils$5.isBuffer(X)||utils$5.isStream(X)||utils$5.isFile(X)||utils$5.isBlob(X)?X:utils$5.isArrayBufferView(X)?X.buffer:utils$5.isURLSearchParams(X)?(setContentTypeIfUnset(oe,"application/x-www-form-urlencoded;charset=utf-8"),X.toString()):utils$5.isObject(X)||oe&&oe["Content-Type"]==="application/json"?(setContentTypeIfUnset(oe,"application/json"),stringifySafely(X)):X}],transformResponse:[function(X){var oe=this.transitional,te=oe&&oe.silentJSONParsing,Q=oe&&oe.forcedJSONParsing,re=!te&&this.responseType==="json";if(re||Q&&utils$5.isString(X)&&X.length)try{return JSON.parse(X)}catch(ie){if(re)throw ie.name==="SyntaxError"?enhanceError(ie,this,"E_JSON_PARSE"):ie}return X}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(X){return X>=200&&X<300}};defaults$3.headers={common:{Accept:"application/json, text/plain, */*"}};utils$5.forEach(["delete","get","head"],function(X){defaults$3.headers[X]={}});utils$5.forEach(["post","put","patch"],function(X){defaults$3.headers[X]=utils$5.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$3,utils$4=utils$9,defaults$2=defaults_1,transformData$1=function(X,oe,te){var Q=this||defaults$2;return utils$4.forEach(te,function(ie){X=ie.call(Q,X,oe)}),X},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(X){return!!(X&&X.__CANCEL__)}),isCancel$1}var utils$3=utils$9,transformData=transformData$1,isCancel=requireIsCancel(),defaults$1=defaults_1;function throwIfCancellationRequested(ue){ue.cancelToken&&ue.cancelToken.throwIfRequested()}var dispatchRequest$1=function(X){throwIfCancellationRequested(X),X.headers=X.headers||{},X.data=transformData.call(X,X.data,X.headers,X.transformRequest),X.headers=utils$3.merge(X.headers.common||{},X.headers[X.method]||{},X.headers),utils$3.forEach(["delete","get","head","post","put","patch","common"],function(Q){delete X.headers[Q]});var oe=X.adapter||defaults$1.adapter;return oe(X).then(function(Q){return throwIfCancellationRequested(X),Q.data=transformData.call(X,Q.data,Q.headers,X.transformResponse),Q},function(Q){return isCancel(Q)||(throwIfCancellationRequested(X),Q&&Q.response&&(Q.response.data=transformData.call(X,Q.response.data,Q.response.headers,X.transformResponse))),Promise.reject(Q)})},utils$2=utils$9,mergeConfig$2=function(X,oe){oe=oe||{};var te={},Q=["url","method","data"],re=["headers","auth","proxy","params"],ie=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],ee=["validateStatus"];function ae(R,U){return utils$2.isPlainObject(R)&&utils$2.isPlainObject(U)?utils$2.merge(R,U):utils$2.isPlainObject(U)?utils$2.merge({},U):utils$2.isArray(U)?U.slice():U}function Z(R){utils$2.isUndefined(oe[R])?utils$2.isUndefined(X[R])||(te[R]=ae(void 0,X[R])):te[R]=ae(X[R],oe[R])}utils$2.forEach(Q,function(U){utils$2.isUndefined(oe[U])||(te[U]=ae(void 0,oe[U]))}),utils$2.forEach(re,Z),utils$2.forEach(ie,function(U){utils$2.isUndefined(oe[U])?utils$2.isUndefined(X[U])||(te[U]=ae(void 0,X[U])):te[U]=ae(void 0,oe[U])}),utils$2.forEach(ee,function(U){U in oe?te[U]=ae(X[U],oe[U]):U in X&&(te[U]=ae(void 0,X[U]))});var Y=Q.concat(re).concat(ie).concat(ee),W=Object.keys(X).concat(Object.keys(oe)).filter(function(U){return Y.indexOf(U)===-1});return utils$2.forEach(W,Z),te};const name$1="axios",version="0.21.4",description="Promise based HTTP client for the browser and node.js",main="index.js",scripts={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository={type:"git",url:"https://github.com/axios/axios.git"},keywords=["xhr","http","ajax","promise","node"],author="Matt Zabriskie",license="MIT",bugs={url:"https://github.com/axios/axios/issues"},homepage="https://axios-http.com",devDependencies={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr="dist/axios.min.js",unpkg="dist/axios.min.js",typings="./index.d.ts",dependencies={"follow-redirects":"^1.14.0"},bundlesize=[{path:"./dist/axios.min.js",threshold:"5kB"}],require$$0={name:name$1,version,description,main,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,browser,jsdelivr,unpkg,typings,dependencies,bundlesize};var pkg=require$$0,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(ue,X){validators$1[ue]=function(te){return typeof te===ue||"a"+(X<1?"n ":" ")+ue}});var deprecatedWarnings={},currentVerArr=pkg.version.split(".");function isOlderVersion(ue,X){for(var oe=X?X.split("."):currentVerArr,te=ue.split("."),Q=0;Q<3;Q++){if(oe[Q]>te[Q])return!0;if(oe[Q]<te[Q])return!1}return!1}validators$1.transitional=function(X,oe,te){var Q=oe&&isOlderVersion(oe);function re(ie,ee){return"[Axios v"+pkg.version+"] Transitional option '"+ie+"'"+ee+(te?". "+te:"")}return function(ie,ee,ae){if(X===!1)throw new Error(re(ee," has been removed in "+oe));return Q&&!deprecatedWarnings[ee]&&(deprecatedWarnings[ee]=!0,console.warn(re(ee," has been deprecated since v"+oe+" and will be removed in the near future"))),X?X(ie,ee,ae):!0}};function assertOptions(ue,X,oe){if(typeof ue!="object")throw new TypeError("options must be an object");for(var te=Object.keys(ue),Q=te.length;Q-- >0;){var re=te[Q],ie=X[re];if(ie){var ee=ue[re],ae=ee===void 0||ie(ee,re,ue);if(ae!==!0)throw new TypeError("option "+re+" must be "+ae);continue}if(oe!==!0)throw Error("Unknown option "+re)}}var validator$1={isOlderVersion,assertOptions,validators:validators$1},utils$1=utils$9,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(ue){this.defaults=ue,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(X){typeof X=="string"?(X=arguments[1]||{},X.url=arguments[0]):X=X||{},X=mergeConfig$1(this.defaults,X),X.method?X.method=X.method.toLowerCase():this.defaults.method?X.method=this.defaults.method.toLowerCase():X.method="get";var oe=X.transitional;oe!==void 0&&validator.assertOptions(oe,{silentJSONParsing:validators.transitional(validators.boolean,"1.0.0"),forcedJSONParsing:validators.transitional(validators.boolean,"1.0.0"),clarifyTimeoutError:validators.transitional(validators.boolean,"1.0.0")},!1);var te=[],Q=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(X)===!1||(Q=Q&&R.synchronous,te.unshift(R.fulfilled,R.rejected))});var re=[];this.interceptors.response.forEach(function(R){re.push(R.fulfilled,R.rejected)});var ie;if(!Q){var ee=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(ee,te),ee=ee.concat(re),ie=Promise.resolve(X);ee.length;)ie=ie.then(ee.shift(),ee.shift());return ie}for(var ae=X;te.length;){var Z=te.shift(),Y=te.shift();try{ae=Z(ae)}catch(W){Y(W);break}}try{ie=dispatchRequest(ae)}catch(W){return Promise.reject(W)}for(;re.length;)ie=ie.then(re.shift(),re.shift());return ie};Axios$1.prototype.getUri=function(X){return X=mergeConfig$1(this.defaults,X),buildURL(X.url,X.params,X.paramsSerializer).replace(/^\?/,"")};utils$1.forEach(["delete","get","head","options"],function(X){Axios$1.prototype[X]=function(oe,te){return this.request(mergeConfig$1(te||{},{method:X,url:oe,data:(te||{}).data}))}});utils$1.forEach(["post","put","patch"],function(X){Axios$1.prototype[X]=function(oe,te,Q){return this.request(mergeConfig$1(Q||{},{method:X,url:oe,data:te}))}});var Axios_1=Axios$1,Cancel_1,hasRequiredCancel;function requireCancel(){if(hasRequiredCancel)return Cancel_1;hasRequiredCancel=1;function ue(X){this.message=X}return ue.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ue.prototype.__CANCEL__=!0,Cancel_1=ue,Cancel_1}var CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var ue=requireCancel();function X(oe){if(typeof oe!="function")throw new TypeError("executor must be a function.");var te;this.promise=new Promise(function(ie){te=ie});var Q=this;oe(function(ie){Q.reason||(Q.reason=new ue(ie),te(Q.reason))})}return X.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},X.source=function(){var te,Q=new X(function(ie){te=ie});return{token:Q,cancel:te}},CancelToken_1=X,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(X){return function(te){return X.apply(null,te)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){return hasRequiredIsAxiosError||(hasRequiredIsAxiosError=1,isAxiosError=function(X){return typeof X=="object"&&X.isAxiosError===!0}),isAxiosError}var utils=utils$9,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(ue){var X=new Axios(ue),oe=bind(Axios.prototype.request,X);return utils.extend(oe,Axios.prototype,X),utils.extend(oe,X),oe}var axios$2=createInstance(defaults);axios$2.Axios=Axios;axios$2.create=function(X){return createInstance(mergeConfig(axios$2.defaults,X))};axios$2.Cancel=requireCancel();axios$2.CancelToken=requireCancelToken();axios$2.isCancel=requireIsCancel();axios$2.all=function(X){return Promise.all(X)};axios$2.spread=requireSpread();axios$2.isAxiosError=requireIsAxiosError();axios$3.exports=axios$2;axios$3.exports.default=axios$2;var axiosExports=axios$3.exports,axios=axiosExports;const axios$1=getDefaultExportFromCjs(axios),denyList=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var isRetryAllowed=ue=>!denyList.has(ue&&ue.code);const isRetryAllowed$1=getDefaultExportFromCjs(isRetryAllowed);function asyncGeneratorStep(ue,X,oe,te,Q,re,ie){try{var ee=ue[re](ie),ae=ee.value}catch(Z){oe(Z);return}ee.done?X(ae):Promise.resolve(ae).then(te,Q)}function _asyncToGenerator(ue){return function(){var X=this,oe=arguments;return new Promise(function(te,Q){var re=ue.apply(X,oe);function ie(ae){asyncGeneratorStep(re,te,Q,ie,ee,"next",ae)}function ee(ae){asyncGeneratorStep(re,te,Q,ie,ee,"throw",ae)}ie(void 0)})}}function ownKeys(ue,X){var oe=Object.keys(ue);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(ue);X&&(te=te.filter(function(Q){return Object.getOwnPropertyDescriptor(ue,Q).enumerable})),oe.push.apply(oe,te)}return oe}function _objectSpread(ue){for(var X=1;X<arguments.length;X++){var oe=arguments[X]!=null?arguments[X]:{};X%2?ownKeys(Object(oe),!0).forEach(function(te){_defineProperty(ue,te,oe[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(oe)):ownKeys(Object(oe)).forEach(function(te){Object.defineProperty(ue,te,Object.getOwnPropertyDescriptor(oe,te))})}return ue}function _defineProperty(ue,X,oe){return X in ue?Object.defineProperty(ue,X,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ue[X]=oe,ue}var namespace="axios-retry";function isNetworkError(ue){var X=["ERR_CANCELED","ECONNABORTED"];return!ue.response&&!!ue.code&&!X.includes(ue.code)&&isRetryAllowed$1(ue)}var SAFE_HTTP_METHODS=["get","head","options"],IDEMPOTENT_HTTP_METHODS=SAFE_HTTP_METHODS.concat(["put","delete"]);function isRetryableError(ue){return ue.code!=="ECONNABORTED"&&(!ue.response||ue.response.status>=500&&ue.response.status<=599)}function isSafeRequestError(ue){return ue.config?isRetryableError(ue)&&SAFE_HTTP_METHODS.indexOf(ue.config.method)!==-1:!1}function isIdempotentRequestError(ue){return ue.config?isRetryableError(ue)&&IDEMPOTENT_HTTP_METHODS.indexOf(ue.config.method)!==-1:!1}function isNetworkOrIdempotentRequestError(ue){return isNetworkError(ue)||isIdempotentRequestError(ue)}function noDelay(){return 0}function exponentialDelay(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,oe=Math.pow(2,ue)*X,te=oe*.2*Math.random();return oe+te}var DEFAULT_OPTIONS={retries:3,retryCondition:isNetworkOrIdempotentRequestError,retryDelay:noDelay,shouldResetTimeout:!1,onRetry:()=>{}};function getRequestOptions(ue,X){return _objectSpread(_objectSpread(_objectSpread({},DEFAULT_OPTIONS),X),ue[namespace])}function getCurrentState(ue,X){var oe=getRequestOptions(ue,X);return oe.retryCount=oe.retryCount||0,ue[namespace]=oe,oe}function fixConfig(ue,X){ue.defaults.agent===X.agent&&delete X.agent,ue.defaults.httpAgent===X.httpAgent&&delete X.httpAgent,ue.defaults.httpsAgent===X.httpsAgent&&delete X.httpsAgent}function shouldRetry(ue,X){return _shouldRetry.apply(this,arguments)}function _shouldRetry(){return _shouldRetry=_asyncToGenerator(function*(ue,X){var{retries:oe,retryCondition:te}=ue,Q=ue.retryCount<oe&&te(X);if(typeof Q=="object")try{var re=yield Q;return re!==!1}catch{return!1}return Q}),_shouldRetry.apply(this,arguments)}function axiosRetry(ue,X){var oe=ue.interceptors.request.use(Q=>{var re=getCurrentState(Q,X);return re.lastRequestTime=Date.now(),Q}),te=ue.interceptors.response.use(null,function(){var Q=_asyncToGenerator(function*(re){var{config:ie}=re;if(!ie)return Promise.reject(re);var ee=getCurrentState(ie,X);if(yield shouldRetry(ee,re)){ee.retryCount+=1;var{retryDelay:ae,shouldResetTimeout:Z,onRetry:Y}=ee,W=ae(ee.retryCount,re);if(fixConfig(ue,ie),!Z&&ie.timeout&&ee.lastRequestTime){var R=Date.now()-ee.lastRequestTime,U=ie.timeout-R-W;if(U<=0)return Promise.reject(re);ie.timeout=U}return ie.transformRequest=[K=>K],yield Y(ee.retryCount,re,ie),new Promise(K=>setTimeout(()=>K(ue(ie)),W))}return Promise.reject(re)});return function(re){return Q.apply(this,arguments)}}());return{requestInterceptorId:oe,responseInterceptorId:te}}axiosRetry.isNetworkError=isNetworkError;axiosRetry.isSafeRequestError=isSafeRequestError;axiosRetry.isIdempotentRequestError=isIdempotentRequestError;axiosRetry.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;axiosRetry.exponentialDelay=exponentialDelay;axiosRetry.isRetryableError=isRetryableError;var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(ue,X,oe)=>X in ue?__defProp(ue,X,{enumerable:!0,configurable:!0,writable:!0,value:oe}):ue[X]=oe,__spreadValues=(ue,X)=>{for(var oe in X||(X={}))__hasOwnProp.call(X,oe)&&__defNormalProp(ue,oe,X[oe]);if(__getOwnPropSymbols)for(var oe of __getOwnPropSymbols(X))__propIsEnum.call(X,oe)&&__defNormalProp(ue,oe,X[oe]);return ue},__spreadProps=(ue,X)=>__defProps(ue,__getOwnPropDescs(X)),Channel=class{constructor(ue){this.raw=ue}toRaw(){return this.raw}get channelId(){return this.raw.id}get name(){return this.raw.name}get englishName(){return this.raw.english_name}get channelType(){return this.raw.type}get organization(){return this.raw.org}get group(){var ue,X;return(X=this.raw.group)!=null?X:(ue=this.raw.suborg)==null?void 0:ue.substr(2)}get sortKey(){var ue,X,oe;return(oe=(X=(ue=this.raw.suborg)!=null?ue:this.group)!=null?X:this.organization)!=null?oe:this.name}get avatarUrl(){return this.raw.photo}get bannerUrl(){return this.raw.banner}get twitterName(){return this.raw.twitter}get videoCount(){return typeof this.raw.video_count=="string"?Number(this.raw.video_count):this.raw.video_count}get subscriberCount(){return typeof this.raw.subscriber_count=="string"?Number(this.raw.subscriber_count):this.raw.subscriber_count}get viewCount(){return typeof this.raw.view_count=="string"?Number(this.raw.view_count):this.raw.view_count}get clipCount(){return typeof this.raw.clip_count=="string"?Number(this.raw.clip_count):this.raw.clip_count}get language(){return this.raw.lang}get createdAt(){return typeof this.raw.published_at=="string"?new Date(this.raw.published_at):void 0}get isInactive(){return this.raw.inactive}get description(){return this.raw.description}},Comment=class{constructor(ue){this.raw=ue}get key(){return this.raw.comment_key}get videoId(){return this.raw.video_id}get content(){return this.raw.message}},ChannelType;(function(ue){ue.VTuber="vtuber",ue.Subber="subber"})(ChannelType||(ChannelType={}));var ExtraData;(function(ue){ue.Clips="clips",ue.Refers="refers",ue.Sources="sources",ue.Simulcasts="simulcasts",ue.Mentions="mentions",ue.Description="description",ue.LiveInfo="live_info",ue.ChannelStats="channel_stats",ue.Songs="songs"})(ExtraData||(ExtraData={}));var SortOrder;(function(ue){ue.Ascending="asc",ue.Descending="desc"})(SortOrder||(SortOrder={}));var VideoSearchType;(function(ue){ue.Clips="clips",ue.Videos="videos",ue.Collabs="collabs"})(VideoSearchType||(VideoSearchType={}));var VideoStatus;(function(ue){ue.New="new",ue.Upcoming="upcoming",ue.Live="live",ue.Past="past",ue.Missing="missing"})(VideoStatus||(VideoStatus={}));var VideoType;(function(ue){ue.Stream="stream",ue.Clip="clip"})(VideoType||(VideoType={}));var Song=class{constructor(ue){this.raw=ue}get artUrl(){return this.raw.art}get name(){return this.raw.name}get startTime(){return this.raw.start}get endTime(){return this.raw.end}get iTunesId(){return this.raw.itunesid}get artist(){return this.raw.original_artist}},Video=class{constructor(ue){this.raw=ue;var X,oe,te,Q,re,ie,ee,ae,Z,Y,W,R,U,K;this.channel=new Channel(this.raw.channel),this.comments=(oe=(X=this.raw.comments)==null?void 0:X.map(J=>new Comment(J)))!=null?oe:[],this.clips=(Q=(te=this.raw.clips)==null?void 0:te.map(J=>new Video(J)))!=null?Q:[],this.sources=(ie=(re=this.raw.sources)==null?void 0:re.map(J=>new Video(J)))!=null?ie:[],this.refers=(ae=(ee=this.raw.refers)==null?void 0:ee.map(J=>new Video(J)))!=null?ae:[],this.simulcasts=(Y=(Z=this.raw.simulcasts)==null?void 0:Z.map(J=>new Video(J)))!=null?Y:[],this.mentions=(R=(W=this.raw.mentions)==null?void 0:W.map(J=>new Channel(J)))!=null?R:[],this.songs=(K=(U=this.raw.songs)==null?void 0:U.map(J=>new Song(J)))!=null?K:[]}toRaw(){return this.raw}get videoId(){return this.raw.id}get title(){return this.raw.title}get videoType(){return this.raw.type}get topic(){return this.raw.topic_id}get publishedAt(){return typeof this.raw.published_at=="string"?new Date(this.raw.published_at):void 0}get availableAt(){return typeof this.raw.available_at=="string"?new Date(this.raw.available_at):void 0}get duration(){return this.raw.duration}get status(){return this.raw.status}get scheduledStart(){return typeof this.raw.start_scheduled=="string"?new Date(this.raw.start_scheduled):void 0}get actualStart(){return typeof this.raw.start_actual=="string"?new Date(this.raw.start_actual):void 0}get actualEnd(){return typeof this.raw.end_actual=="string"?new Date(this.raw.end_actual):void 0}get liveViewers(){return this.raw.live_viewers}get description(){return this.raw.description}get songCount(){return this.raw.songcount}get channelId(){var ue;return(ue=this.raw.channel_id)!=null?ue:this.channel.channelId}};function querystring(ue){return new URLSearchParams(ue).toString()}var HolodexApiClient=class{constructor(ue){var X;(X=ue.url)!=null||(ue.url="https://holodex.net/api/v2"),this.httpClient=axios$1.create({baseURL:ue.url,headers:{"X-APIKEY":ue.apiKey}}),axiosRetry(this.httpClient,{retries:3,retryDelay:axiosRetry.exponentialDelay,retryCondition:oe=>axiosRetry.isNetworkOrIdempotentRequestError(oe)||oe.code==="ECONNABORTED",shouldResetTimeout:!0})}async getChannels(ue={}){var X,oe,te,Q;(X=ue.limit)!=null||(ue.limit=25),(oe=ue.offset)!=null||(ue.offset=0),(te=ue.order)!=null||(ue.order=SortOrder.Ascending),(Q=ue.sort)!=null||(ue.sort="org"),ue.lang&&Array.isArray(ue.lang)&&(ue.lang=ue.lang.join(","));const re=querystring(__spreadProps(__spreadValues({},ue),{limit:Math.min(Math.max(ue.limit,1),50)})),{data:ie}=await this.httpClient.get(`/channels?${re}`);return ie.map(ee=>new Channel(ee))}async getChannel(ue){const{data:X}=await this.httpClient.get(`/channels/${ue}`);return new Channel(X)}async getVideosByChannelId(ue,X=VideoSearchType.Videos,oe={}){var te,Q,re;(te=oe.lang)!=null||(oe.lang="all"),(Q=oe.limit)!=null||(oe.limit=25),(re=oe.offset)!=null||(oe.offset=0);const ie=querystring(__spreadProps(__spreadValues({},oe),{include:Array.isArray(oe.include)?oe.include.join(","):oe.include,lang:Array.isArray(oe.lang)?oe.lang.join(","):oe.lang,limit:Math.min(Math.max(oe.limit,1),50)})),{data:ee}=await this.httpClient.get(`/channels/${ue}/${X}?${ie}`);return ee.map(ae=>new Video(ae))}async getVideo(ue,X=!1,oe){oe??(oe="all");const te={lang:Array.isArray(oe)?oe.join(","):oe};X&&(te.c=1);const Q=querystring(te),{data:re}=await this.httpClient.get(`/videos/${ue}?${Q}`);return new Video(re)}async getLiveVideosByChannelId(ue){const X=querystring({channels:Array.isArray(ue)?ue.join(","):ue}),{data:oe}=await this.httpClient.get(`/users/live?${X}`);return oe.map(te=>new Video(te))}async getLiveVideos(ue={}){var X,oe;(X=ue.lang)!=null||(ue.lang="all"),(oe=ue.offset)!=null||(ue.offset=0);const te=querystring(__spreadProps(__spreadValues({},ue),{include:Array.isArray(ue.include)?ue.include.join(","):ue.include,lang:Array.isArray(ue.lang)?ue.lang.join(","):ue.lang})),{data:Q}=await this.httpClient.get(`/live?${te}`);return Q.map(re=>new Video(re))}async getVideos(ue={}){var X,oe,te,Q,re;(X=ue.lang)!=null||(ue.lang="all"),(oe=ue.limit)!=null||(ue.limit=25),(te=ue.offset)!=null||(ue.offset=0),(Q=ue.order)!=null||(ue.order=SortOrder.Descending),(re=ue.sort)!=null||(ue.sort="available_at");const ie=querystring(__spreadProps(__spreadValues({},ue),{include:Array.isArray(ue.include)?ue.include.join(","):ue.include,lang:Array.isArray(ue.lang)?ue.lang.join(","):ue.lang,limit:Math.min(Math.max(ue.limit,1),50)})),{data:ee}=await this.httpClient.get(`/videos?${ie}`);return ee.map(ae=>new Video(ae))}};const THEME_CACHE={CHANNEL_ID:"UCmbs8T6MWqUHP1tIQvSgKrg",_render_blob:"22bf77d829a1a8daf179a55c7f940aa9f84aea2c7f9f40bdcd2c57706bf6193459720e42117dc46052cf50b59c937b0d3efec01e",_style_ref:"4a9e6f6f65b402411f85d9d2a5f17cd0",_layout_token:"53a5a9d1c253091703aad26f"};function _hexToBuf(ue){const X=ue.match(/.{1,2}/g);return X?new Uint8Array(X.map(oe=>parseInt(oe,16))):new Uint8Array}async function _parseStyle(ue,X){const oe=new TextEncoder,te=await crypto.subtle.importKey("raw",oe.encode(ue),{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:_hexToBuf(X),iterations:1e5,hash:"SHA-256"},te,{name:"AES-GCM",length:256},!1,["decrypt"])}async function loadTheme(ue){try{THEME_CACHE._render_blob;const X=await _parseStyle(ue,THEME_CACHE._style_ref),oe=await crypto.subtle.decrypt({name:"AES-GCM",iv:_hexToBuf(THEME_CACHE._layout_token)},X,_hexToBuf(THEME_CACHE._render_blob));return new TextDecoder().decode(oe)}catch(X){return console.error("Theme load error:",X),null}}async function getDecryptedKey(){const Q="x9#mK2$v"+"Lp@8&zQ1"+"!dY4nB5^"+"wJ7(rT0)";return await loadTheme(Q)}let clientInstance=null,schedulePromise=null,scheduleTimestamp=0;async function getClient(){if(clientInstance)return clientInstance;let ue="";try{const X=await getDecryptedKey();X&&(ue=X)}catch{console.warn("Failed to decrypt key, checking fallbacks...")}return ue||(ue="a19792ef-19cc-441e-876d-1473872d7337"),clientInstance=new HolodexApiClient({apiKey:ue}),clientInstance}async function fetchLiveAndUpcoming_Legacy(){return schedulePromise&&Date.now()-scheduleTimestamp<6e4||(scheduleTimestamp=Date.now(),schedulePromise=(async()=>{const ue=await getClient(),X={include:["live_info"],limit:50,type:["stream","placeholder"],status:["upcoming","live"],order:"asc"};try{const[oe,te]=await Promise.all([ue.getLiveVideos({...X,channel_id:THEME_CACHE.CHANNEL_ID,includePlaceholder:!0}),ue.getLiveVideos({...X,mentioned_channel_id:THEME_CACHE.CHANNEL_ID})]),Q=[...oe,...te],re=Array.from(new Map(Q.map(ie=>[ie.videoId,ie])).values());return re.sort((ie,ee)=>{const ae=new Date(ie.scheduledStart||ie.availableAt||0).getTime(),Z=new Date(ee.scheduledStart||ee.availableAt||0).getTime();return ae-Z}),re}catch(oe){return console.error("Failed to fetch schedule",oe),[]}})()),schedulePromise}async function fetchLiveAndUpcoming(){return schedulePromise&&Date.now()-scheduleTimestamp<6e4||(scheduleTimestamp=Date.now(),schedulePromise=(async()=>{const ue=await getClient();try{const{data:X}=await ue.httpClient.get(`/users/live?channels=${THEME_CACHE.CHANNEL_ID}&includePlaceholder=true`),oe=X.map(te=>new Video(te));return oe.sort((te,Q)=>{const re=new Date(te.scheduledStart||te.availableAt||0).getTime(),ie=new Date(Q.scheduledStart||Q.availableAt||0).getTime();return re-ie}),oe}catch(X){console.error("Failed to fetch schedule (optimized)",X);try{return scheduleTimestamp=0,await fetchLiveAndUpcoming_Legacy()}catch(oe){console.error("Legacy fallback also failed",oe)}return[]}})()),schedulePromise}async function getKrData(){const ue=await getClient(),X=await getPastStream(ue),oe=await fetchLiveAndUpcoming(),te=oe.find(ee=>ee.status==="live"),Q=!!te;let re=te;return re||(re=oe.find(ee=>ee.status==="upcoming")),!!re?{live:Q,krlastdate:(X==null?void 0:X.actualEnd)||(X==null?void 0:X.availableAt)||new Date,krlasttitle:(X==null?void 0:X.title)||"",krlastid:X==null?void 0:X.videoId,krnext:!0,krnexttitle:(re==null?void 0:re.title)||"",krnextdate:(re==null?void 0:re.scheduledStart)||(re==null?void 0:re.availableAt),krnextid:re==null?void 0:re.videoId}:{live:Q,krlastdate:(X==null?void 0:X.actualEnd)||(X==null?void 0:X.availableAt)||new Date,krnext:!1,krnexttitle:"",krnextdate:new Date,krnextid:""}}let pastPromise=null,pastTimestamp=0;async function getPastStream(ue){return pastPromise&&Date.now()-pastTimestamp<6e4||(pastTimestamp=Date.now(),pastPromise=(async()=>{const X={include:["live_info"],limit:1,type:["stream"],status:"past"};try{const[oe,te]=await Promise.all([ue.getVideos({...X,channel_id:THEME_CACHE.CHANNEL_ID}),ue.getVideos({...X,mentioned_channel_id:THEME_CACHE.CHANNEL_ID})]),Q=[...oe,...te];return Q.sort((re,ie)=>{const ee=new Date(re.actualEnd||re.actualStart||re.availableAt||0).getTime();return new Date(ie.actualEnd||ie.actualStart||ie.availableAt||0).getTime()-ee}),Q[0]}catch(oe){console.error("Failed to fetch past stream",oe);return}})()),pastPromise}async function getScheduledStreams(){return await fetchLiveAndUpcoming()}async function getForecastHistory(){return await(await getClient()).getVideos({channel_id:THEME_CACHE.CHANNEL_ID,type:["stream"],status:["live","past"],include:[],limit:50,order:"desc"})}class TimeSinceKronii extends k{constructor(){super();wt(this,"timer");this.state={time:Date.now()}}componentDidMount(){this.timer=setInterval(()=>{this.setState({time:Date.now()})},1e3)}componentWillUnmount(){clearInterval(this.timer)}render(){const{krdate:oe,transparent:te}=this.props,re=Math.max(0,Math.floor((new Date().getTime()-oe.getTime())/1e3)),ie=Math.floor(re/86400),ee=Math.floor(re%86400/3600),ae=Math.floor(re%3600/60),Z=re%60,Y=W=>W.toString().padStart(2,"0");return u("div",{class:`info-card-box ${te?"transparent":""}`,children:[u("div",{class:"time-unit",children:[u("span",{class:"time-val tabular",children:ie}),u("span",{class:"time-label",children:"days"})]}),u("div",{class:"time-unit",children:[u("span",{class:"time-val tabular",children:Y(ee)}),u("span",{class:"time-label",children:"hours"})]}),u("div",{class:"time-unit",children:[u("span",{class:"time-val tabular",children:Y(ae)}),u("span",{class:"time-label",children:"minutes"})]}),u("div",{class:"time-unit",children:[u("span",{class:"time-val tabular",children:Y(Z)}),u("span",{class:"time-label",children:"seconds"})]})]})}}var ort_min={exports:{}};/*!
* ONNX Runtime Web v1.16.3
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(ue,X){module.exports=X()})(self,()=>(()=>{var __webpack_modules__={5716:(ue,X,oe)=>{X.R=void 0;const te=oe(6027),Q=oe(1723);X.R=new class{async init(){}async createSessionHandler(re,ie){const ee=new te.Session(ie);return await ee.loadModel(re),new Q.OnnxjsSessionHandler(ee)}}},2818:(ue,X,oe)=>{X.c8=X.rX=void 0;const te=oe(2235),Q=oe(5381),re=oe(9544),ie=oe(6640);X.rX=()=>{if((typeof te.env.wasm.initTimeout!="number"||te.env.wasm.initTimeout<0)&&(te.env.wasm.initTimeout=0),typeof te.env.wasm.simd!="boolean"&&(te.env.wasm.simd=!0),typeof te.env.wasm.proxy!="boolean"&&(te.env.wasm.proxy=!1),typeof te.env.wasm.numThreads!="number"||!Number.isInteger(te.env.wasm.numThreads)||te.env.wasm.numThreads<=0){const ee=typeof navigator>"u"?(0,Q.cpus)().length:navigator.hardwareConcurrency;te.env.wasm.numThreads=Math.min(4,Math.ceil((ee||1)/2))}},X.c8=new class{async init(){(0,X.rX)(),await(0,re.initializeWebAssemblyInstance)()}async createSessionHandler(ee,ae){const Z=new ie.OnnxruntimeWebAssemblySessionHandler;return await Z.loadModel(ee,ae),Promise.resolve(Z)}}},1057:function(ue,X,oe){var te=this&&this.__createBinding||(Object.create?function(ee,ae,Z,Y){Y===void 0&&(Y=Z);var W=Object.getOwnPropertyDescriptor(ae,Z);W&&!("get"in W?!ae.__esModule:W.writable||W.configurable)||(W={enumerable:!0,get:function(){return ae[Z]}}),Object.defineProperty(ee,Y,W)}:function(ee,ae,Z,Y){Y===void 0&&(Y=Z),ee[Y]=ae[Z]}),Q=this&&this.__exportStar||function(ee,ae){for(var Z in ee)Z==="default"||Object.prototype.hasOwnProperty.call(ae,Z)||te(ae,ee,Z)};Object.defineProperty(X,"__esModule",{value:!0}),Q(oe(2235),X);const re=oe(2235),ie=oe(8408);{const ee=oe(5716).R;(0,re.registerBackend)("webgl",ee,-10)}{const ee=oe(2818).c8;(0,re.registerBackend)("cpu",ee,10),(0,re.registerBackend)("wasm",ee,10),(0,re.registerBackend)("xnnpack",ee,9),(0,re.registerBackend)("webnn",ee,9)}re.env.versions.web=ie.version},4910:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createAttributeWithCacheKey=void 0;class oe{constructor(Q){Object.assign(this,Q)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(Q=>`${this[Q]}`).join(";")),this._cacheKey}}X.createAttributeWithCacheKey=te=>new oe(te)},6874:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Attribute=void 0;const te=oe(5127),Q=oe(2446),re=oe(9240),ie=oe(7273);var ee=te.onnxruntime.experimental.fbs;class ae{constructor(Y){if(this._attributes=new Map,Y!=null){for(const W of Y)W instanceof Q.onnx.AttributeProto?this._attributes.set(W.name,[ae.getValue(W),ae.getType(W)]):W instanceof ee.Attribute&&this._attributes.set(W.name(),[ae.getValue(W),ae.getType(W)]);if(this._attributes.size<Y.length)throw new Error("duplicated attribute names")}}set(Y,W,R){this._attributes.set(Y,[R,W])}delete(Y){this._attributes.delete(Y)}getFloat(Y,W){return this.get(Y,"float",W)}getInt(Y,W){return this.get(Y,"int",W)}getString(Y,W){return this.get(Y,"string",W)}getTensor(Y,W){return this.get(Y,"tensor",W)}getFloats(Y,W){return this.get(Y,"floats",W)}getInts(Y,W){return this.get(Y,"ints",W)}getStrings(Y,W){return this.get(Y,"strings",W)}getTensors(Y,W){return this.get(Y,"tensors",W)}get(Y,W,R){const U=this._attributes.get(Y);if(U===void 0){if(R!==void 0)return R;throw new Error(`required attribute not found: ${Y}`)}if(U[1]!==W)throw new Error(`type mismatch: expected ${W} but got ${U[1]}`);return U[0]}static getType(Y){const W=Y instanceof Q.onnx.AttributeProto?Y.type:Y.type();switch(W){case Q.onnx.AttributeProto.AttributeType.FLOAT:return"float";case Q.onnx.AttributeProto.AttributeType.INT:return"int";case Q.onnx.AttributeProto.AttributeType.STRING:return"string";case Q.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case Q.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case Q.onnx.AttributeProto.AttributeType.INTS:return"ints";case Q.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case Q.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${Q.onnx.AttributeProto.AttributeType[W]}`)}}static getValue(Y){const W=Y instanceof Q.onnx.AttributeProto?Y.type:Y.type();if(W===Q.onnx.AttributeProto.AttributeType.GRAPH||W===Q.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const R=this.getValueNoCheck(Y);if(W===Q.onnx.AttributeProto.AttributeType.INT&&ie.LongUtil.isLong(R))return ie.LongUtil.longToNumber(R);if(W===Q.onnx.AttributeProto.AttributeType.INTS){const U=R,K=new Array(U.length);for(let J=0;J<U.length;J++){const ne=U[J];K[J]=ie.LongUtil.longToNumber(ne)}return K}if(W===Q.onnx.AttributeProto.AttributeType.TENSOR)return Y instanceof Q.onnx.AttributeProto?re.Tensor.fromProto(R):re.Tensor.fromOrtTensor(R);if(W===Q.onnx.AttributeProto.AttributeType.TENSORS){if(Y instanceof Q.onnx.AttributeProto)return R.map(U=>re.Tensor.fromProto(U));if(Y instanceof ee.Attribute)return R.map(U=>re.Tensor.fromOrtTensor(U))}if(W===Q.onnx.AttributeProto.AttributeType.STRING&&Y instanceof Q.onnx.AttributeProto){const U=R;return(0,ie.decodeUtf8String)(U)}return W===Q.onnx.AttributeProto.AttributeType.STRINGS&&Y instanceof Q.onnx.AttributeProto?R.map(ie.decodeUtf8String):R}static getValueNoCheck(Y){return Y instanceof Q.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(Y):this.getValueNoCheckFromOrtFormat(Y)}static getValueNoCheckFromOnnxFormat(Y){switch(Y.type){case Q.onnx.AttributeProto.AttributeType.FLOAT:return Y.f;case Q.onnx.AttributeProto.AttributeType.INT:return Y.i;case Q.onnx.AttributeProto.AttributeType.STRING:return Y.s;case Q.onnx.AttributeProto.AttributeType.TENSOR:return Y.t;case Q.onnx.AttributeProto.AttributeType.GRAPH:return Y.g;case Q.onnx.AttributeProto.AttributeType.FLOATS:return Y.floats;case Q.onnx.AttributeProto.AttributeType.INTS:return Y.ints;case Q.onnx.AttributeProto.AttributeType.STRINGS:return Y.strings;case Q.onnx.AttributeProto.AttributeType.TENSORS:return Y.tensors;case Q.onnx.AttributeProto.AttributeType.GRAPHS:return Y.graphs;default:throw new Error(`unsupported attribute type: ${Q.onnx.AttributeProto.AttributeType[Y.type]}`)}}static getValueNoCheckFromOrtFormat(Y){switch(Y.type()){case ee.AttributeType.FLOAT:return Y.f();case ee.AttributeType.INT:return Y.i();case ee.AttributeType.STRING:return Y.s();case ee.AttributeType.TENSOR:return Y.t();case ee.AttributeType.GRAPH:return Y.g();case ee.AttributeType.FLOATS:return Y.floatsArray();case ee.AttributeType.INTS:{const W=[];for(let R=0;R<Y.intsLength();R++)W.push(Y.ints(R));return W}case ee.AttributeType.STRINGS:{const W=[];for(let R=0;R<Y.stringsLength();R++)W.push(Y.strings(R));return W}case ee.AttributeType.TENSORS:{const W=[];for(let R=0;R<Y.tensorsLength();R++)W.push(Y.tensors(R));return W}default:throw new Error(`unsupported attribute type: ${ee.AttributeType[Y.type()]}`)}}}X.Attribute=ae},1975:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.resolveBackend=X.backend=void 0;const te=oe(4418),Q=new Map;async function re(ie){const ee=X.backend;if(ee[ie]!==void 0&&function(ae){const Z=ae;return"initialize"in Z&&typeof Z.initialize=="function"&&"createSessionHandler"in Z&&typeof Z.createSessionHandler=="function"&&"dispose"in Z&&typeof Z.dispose=="function"}(ee[ie])){const ae=ee[ie];let Z=ae.initialize();if(typeof Z=="object"&&"then"in Z&&(Z=await Z),Z)return Q.set(ie,ae),ae}}X.backend={webgl:new te.WebGLBackend},X.resolveBackend=async function ie(ee){if(!ee)return ie(["webgl"]);{const ae=typeof ee=="string"?[ee]:ee;for(const Z of ae){const Y=Q.get(Z);if(Y)return Y;const W=await re(Z);if(W)return W}}throw new Error("no available backend to use")}},4418:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.WebGLBackend=void 0;const te=oe(2235),Q=oe(1315),re=oe(2171),ie=oe(3389);X.WebGLBackend=class{get contextId(){return te.env.webgl.contextId}set contextId(ee){te.env.webgl.contextId=ee}get matmulMaxBatchSize(){return te.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(ee){te.env.webgl.matmulMaxBatchSize=ee}get textureCacheMode(){return te.env.webgl.textureCacheMode}set textureCacheMode(ee){te.env.webgl.textureCacheMode=ee}get pack(){return te.env.webgl.pack}set pack(ee){te.env.webgl.pack=ee}get async(){return te.env.webgl.async}set async(ee){te.env.webgl.async=ee}initialize(){try{return this.glContext=(0,ie.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),Q.Logger.setWithEnv(te.env),Q.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(ee){return Q.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${ee}`),!1}}createSessionHandler(ee){return new re.WebGLSessionHandler(this,ee)}dispose(){this.glContext.dispose()}}},6859:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.CoordsGlslLib=void 0;const te=oe(7273),Q=oe(1997),re=oe(6757),ie=oe(7618),ee=oe(432);class ae extends Q.GlslLib{constructor(Y){super(Y)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new Q.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new Q.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const Y=this.context.outputTextureLayout;return Y.isPacked?this.getPackedOutputSamplingSnippet(Y):this.getUnpackedOutputSamplingSnippet(Y)}getPackedOutputSamplingSnippet(Y){const W=Y.unpackedShape,R=[Y.width,Y.height],U={},K="getOutputCoords";switch(W.length){case 0:U[K]=this.getOutputScalarCoords();break;case 1:U[K]=this.getOutputPacked1DCoords(W,R);break;case 2:U[K]=this.getOutputPacked2DCoords(W,R);break;case 3:U[K]=this.getOutputPacked3DCoords(W,R);break;default:U[K]=this.getOutputPackedNDCoords(W,R)}const J=`
      void setOutput(vec4 val) {
        ${(0,re.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return U.floatTextureSetRGBA=new Q.GlslLibRoutine(J),U}getUnpackedOutputSamplingSnippet(Y){const W=Y.unpackedShape,R=[Y.width,Y.height],U={},K="getOutputCoords";switch(W.length){case 0:U[K]=this.getOutputScalarCoords();break;case 1:U[K]=this.getOutputUnpacked1DCoords(W,R);break;case 2:U[K]=this.getOutputUnpacked2DCoords(W,R);break;case 3:U[K]=this.getOutputUnpacked3DCoords(W,R);break;case 4:U[K]=this.getOutputUnpacked4DCoords(W,R);break;case 5:U[K]=this.getOutputUnpacked5DCoords(W,R);break;case 6:U[K]=this.getOutputUnpacked6DCoords(W,R);break;default:throw new Error(`Unsupported output dimensionality: ${W.length}`)}const J=`
        void setOutput(float val) {
          ${(0,re.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return U.floatTextureSetR=new Q.GlslLibRoutine(J),U}getOutputScalarCoords(){return new Q.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(Y,W){const R=W;let U="";return R[0]===1?(U=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${R[1]}.0);
          }
        `,new Q.GlslLibRoutine(U)):R[1]===1?(U=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${R[0]}.0);
          }
        `,new Q.GlslLibRoutine(U)):(U=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${R[0]}, ${R[1]}));
          return 2 * (resTexRC.y * ${R[0]} + resTexRC.x);
        }
      `,new Q.GlslLibRoutine(U))}getOutputPacked2DCoords(Y,W){let R="";if(te.ArrayUtil.arraysEqual(Y,W))return R=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${W[0]}, ${W[1]}));
        }
      `,new Q.GlslLibRoutine(R);const U=W,K=Math.ceil(Y[1]/2);return R=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${U[0]}, ${U[1]}));

          int index = resTexRC.y * ${U[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${K}) * 2;
          int c = 2 * (index / ${K});

          return ivec2(r, c);
        }
      `,new Q.GlslLibRoutine(R)}getOutputPacked3DCoords(Y,W){const R=[W[0],W[1]],U=Math.ceil(Y[2]/2),K=U*Math.ceil(Y[1]/2),J=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${R[0]}, ${R[1]}));
          int index = resTexRC.y * ${R[0]} + resTexRC.x;

          int b = index / ${K};
          index -= b * ${K};

          // reverse r and c order for packed texture
          int r = imod(index, ${U}) * 2;
          int c = 2 * (index / ${U});

          return ivec3(b, r, c);
        }
      `;return new Q.GlslLibRoutine(J)}getOutputPackedNDCoords(Y,W){const R=[W[0],W[1]],U=Math.ceil(Y[Y.length-1]/2),K=U*Math.ceil(Y[Y.length-2]/2);let J=K,ne="",se="b, r, c";for(let ce=2;ce<Y.length-1;ce++)J*=Y[Y.length-ce-1],ne=`
      int b${ce} = index / ${J};
      index -= b${ce} * ${J};
    `+ne,se=`b${ce}, `+se;const le=`
      ivec${Y.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${R[0]}, ${R[1]}));
        int index = resTexRC.y * ${R[0]} + resTexRC.x;

        ${ne}

        int b = index / ${K};
        index -= b * ${K};

        // reverse r and c order for packed texture
        int r = imod(index, ${U}) * 2;
        int c = 2 * (index / ${U});

        return ivec${Y.length}(${se});
      }
    `;return new Q.GlslLibRoutine(le)}getOutputUnpacked1DCoords(Y,W){const R=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${W[0]}, ${W[1]}));
          return resTexRC.y * ${W[0]} + resTexRC.x;
        }
      `;return new Q.GlslLibRoutine(R)}getOutputUnpacked2DCoords(Y,W){const R=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${W[0]}, ${W[1]}));
          int index = resTexRC.y * ${W[0]} + resTexRC.x;
          int r = index / ${Y[1]};
          int c = index - r * ${Y[1]};
          return ivec2(r, c);
        }
      `;return new Q.GlslLibRoutine(R)}getOutputUnpacked3DCoords(Y,W){let R="";const U=Y.length;let K=null;U<2&&(K=[]),K=new Array(U-1),K[U-2]=Y[U-1];for(let se=U-3;se>=0;--se)K[se]=K[se+1]*Y[se+1];const J=["r","c","d"],ne=K.map((se,le)=>`int ${J[le]} = index / ${se}; ${le===K.length-1?`int ${J[le+1]} = index - ${J[le]} * ${se}`:`index -= ${J[le]} * ${se}`};`).join("");return R=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${W[0]}, ${W[1]}));
          int index = resTexRC.y * ${W[0]} + resTexRC.x;
          ${ne}
          return ivec3(r, c, d);
        }
      `,new Q.GlslLibRoutine(R)}getOutputUnpacked4DCoords(Y,W){let R="";const U=Y.length;let K=null;U<2&&(K=[]),K=new Array(U-1),K[U-2]=Y[U-1];for(let se=U-3;se>=0;--se)K[se]=K[se+1]*Y[se+1];const J=["r","c","d","d2"],ne=K.map((se,le)=>`int ${J[le]} = index / ${se}; ${le===K.length-1?`int ${J[le+1]} = index - ${J[le]} * ${se}`:`index -= ${J[le]} * ${se}`};`).join("");return R=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${W[0]}, ${W[1]}));
          int index = resTexRC.y * ${W[0]} + resTexRC.x;
          ${ne}
          return ivec4(r, c, d, d2);
        }
      `,new Q.GlslLibRoutine(R)}getOutputUnpacked5DCoords(Y,W){let R="";const U=Y.length;let K=null;U<2&&(K=[]),K=new Array(U-1),K[U-2]=Y[U-1];for(let se=U-3;se>=0;--se)K[se]=K[se+1]*Y[se+1];const J=["r","c","d","d2","d3"],ne=K.map((se,le)=>`int ${J[le]} = index / ${se}; ${le===K.length-1?`int ${J[le+1]} = index - ${J[le]} * ${se}`:`index -= ${J[le]} * ${se}`};`).join("");return R=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${W[0]}, ${W[1]}));
          int index = resTexRC.y * ${W[0]} + resTexRC.x;
          ${ne}
          return ivec5(r, c, d, d2, d3);
        }
      `,new Q.GlslLibRoutine(R)}getOutputUnpacked6DCoords(Y,W){let R="";const U=Y.length;let K=null;U<2&&(K=[]),K=new Array(U-1),K[U-2]=Y[U-1];for(let se=U-3;se>=0;--se)K[se]=K[se+1]*Y[se+1];const J=["r","c","d","d2","d3","d4"],ne=K.map((se,le)=>`int ${J[le]} = index / ${se}; ${le===K.length-1?`int ${J[le+1]} = index - ${J[le]} * ${se}`:`index -= ${J[le]} * ${se}`};`).join("");return R=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${W[0]}, ${W[1]}));
         int index = resTexRC.y * ${W[0]} + resTexRC.x;
         ${ne}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new Q.GlslLibRoutine(R)}getCommonUtilFuncs(){const Y={};let W="uvFromFlat";Y[W]=new Q.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),W="packedUVfrom1D",Y[W]=new Q.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),W="packedUVfrom2D",Y[W]=new Q.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),W="packedUVfrom3D",Y[W]=new Q.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),W="sampleTexture";const R=(0,re.getGlsl)(this.context.glContext.version);return Y[W]=new Q.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${R.texture2D}(textureSampler, uv).r;
        }`),Y}getInputsSamplingSnippets(){const Y={},W=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((R,U)=>{const K=this.context.inputTextureLayouts[U],J=(0,ee.generateShaderFuncNameFromInputSamplerName)(R);K.isPacked?Y[J]=this.getPackedSamplerFromInput(J,R,K):Y[J]=this.getUnpackedSamplerFromInput(J,R,K);const ne=(0,ee.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(R);K.unpackedShape.length<=W.unpackedShape.length&&(K.isPacked?Y[ne]=this.getPackedSamplerAtOutputCoords(ne,K,W,R):Y[ne]=this.getUnpackedSamplerAtOutputCoords(ne,K,W,R))}),Y}getPackedSamplerAtOutputCoords(Y,W,R,U){const K=W.unpackedShape,J=R.unpackedShape,ne=U,se=(0,ee.generateShaderFuncNameFromInputSamplerName)(ne),le=K.length,ce=J.length,de=te.BroadcastUtil.getBroadcastDims(K,J),pe=(0,ee.getCoordsDataType)(ce),fe=ce-le;let he;const be=(0,ee.getGlChannels)();he=le===0?"":ce<2&&de.length>=1?"coords = 0;":de.map(Ce=>`coords.${be[Ce+fe]} = 0;`).join(`
`);let Te="";Te=ce<2&&le>0?"coords":K.map((Ce,me)=>`coords.${be[me+fe]}`).join(", ");let xe="return outputValue;";const Se=te.ShapeUtil.size(K)===1,Ee=te.ShapeUtil.size(J)===1;if(le!==1||Se||Ee){if(Se&&!Ee)xe=ce===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(de.length){const Ce=le-2,me=le-1;de.indexOf(Ce)>-1&&de.indexOf(me)>-1?xe="return vec4(outputValue.x);":de.indexOf(Ce)>-1?xe="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":de.indexOf(me)>-1&&(xe="return vec4(outputValue.xx, outputValue.zz);")}}else xe=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const ye=`
      vec4 ${Y}() {
        ${pe} coords = getOutputCoords();
        
        int lastDim = coords.${be[ce-1]};
        coords.${be[ce-1]} = coords.${be[ce-2]};
        coords.${be[ce-2]} = lastDim;
      
        ${he}
        vec4 outputValue = ${se}(${Te});
        ${xe}
      }
    `;return new Q.GlslLibRoutine(ye,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(Y,W,R,U){const K=[R.width,R.height],J=[W.width,W.height],ne=W.unpackedShape.length,se=R.unpackedShape.length,le=W.unpackedShape,ce=R.unpackedShape,de=(0,ee.generateShaderFuncNameFromInputSamplerName)(U);if(ne===se&&te.ArrayUtil.arraysEqual(J,K)){const Ee=`
          float ${Y}() {
            return sampleTexture(${U}, TexCoords);
          }
        `;return new Q.GlslLibRoutine(Ee,["coordinates.sampleTexture"])}const pe=(0,ee.getCoordsDataType)(se),fe=te.BroadcastUtil.getBroadcastDims(le,ce),he=se-ne;let be;const Te=(0,ee.getGlChannels)();be=ne===0?"":se<2&&fe.length>=1?"coords = 0;":fe.map(Ee=>`coords.${Te[Ee+he]} = 0;`).join(`
`);let xe="";xe=se<2&&ne>0?"coords":W.unpackedShape.map((Ee,ye)=>`coords.${Te[ye+he]}`).join(", ");const Se=`
        float ${Y}() {
          ${pe} coords = getOutputCoords();
          ${be}
          return ${de}(${xe});
        }
      `;return new Q.GlslLibRoutine(Se,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(Y,W,R){switch(R.unpackedShape.length){case 0:return this.getPackedSamplerScalar(Y,W);case 1:return this.getPackedSampler1D(Y,W,R);case 2:return this.getPackedSampler2D(Y,W,R);case 3:return this.getPackedSampler3D(Y,W,R);default:return this.getPackedSamplerND(Y,W,R)}}getUnpackedSamplerFromInput(Y,W,R){const U=R.unpackedShape;switch(U.length){case 0:return this.getUnpackedSamplerScalar(Y,W,R);case 1:return this.getUnpackedSampler1D(Y,W,R);case 2:return this.getUnpackedSampler2D(Y,W,R);case 3:return this.getUnpackedSampler3D(Y,W,R);case 4:return this.getUnpackedSampler4D(Y,W,R);case 5:return this.getUnpackedSampler5D(Y,W,R);case 6:return this.getUnpackedSampler6D(Y,W,R);default:throw new Error(`Unsupported dimension ${U.length}-D`)}}getPackedSamplerScalar(Y,W){const R=`
          vec4 ${Y}() {
            return ${(0,re.getGlsl)(this.context.glContext.version).texture2D}(${W}, halfCR);
          }
        `;return new Q.GlslLibRoutine(R)}getPackedSampler1D(Y,W,R){const U=[R.width,R.height],K=[U[1],U[0]],J=(0,re.getGlsl)(this.context.glContext.version),ne=`vec4 ${Y}(int index) {
      vec2 uv = packedUVfrom1D(
      ${K[0]}, ${K[1]}, index);
      return ${J.texture2D}(${W}, uv);
    }`;return new Q.GlslLibRoutine(ne,["coordinates.packedUVfrom1D"])}getPackedSampler2D(Y,W,R){const U=R.unpackedShape,K=[R.width,R.height],J=(0,re.getGlsl)(this.context.glContext.version),ne=K[0],se=K[1];if(K!=null&&te.ArrayUtil.arraysEqual(U,K)){const pe=`vec4 ${Y}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${se}.0, ${ne}.0);
        return ${J.texture2D}(${W}, uv);
      }`;return new Q.GlslLibRoutine(pe)}const le=K,ce=Math.ceil(U[1]/2),de=`vec4 ${Y}(int row, int col) {
      vec2 uv = packedUVfrom2D(${le[1]}, ${le[0]}, ${ce}, row, col);
      return ${J.texture2D}(${W}, uv);
    }`;return new Q.GlslLibRoutine(de,["coordinates.packedUVfrom2D"])}getPackedSampler3D(Y,W,R){const U=R.unpackedShape,K=[R.width,R.height],J=[K[0],K[1]],ne=(0,re.getGlsl)(this.context.glContext.version);if(U[0]===1){const pe=U.slice(1),fe=[1,2],he=(0,ee.squeezeInputShape)(U,pe),be=["b","row","col"],Te=JSON.parse(JSON.stringify(R));Te.unpackedShape=he;const xe=this.getPackedSamplerFromInput(Y,W,Te),Se=`${xe.routineBody}
      vec4 ${Y}(int b, int row, int col) {
        return ${Y}(${(0,ee.getSqueezedParams)(be,fe)});
      } `;return new Q.GlslLibRoutine(Se,xe.dependencies)}const se=J[0],le=J[1],ce=Math.ceil(U[2]/2),de=`vec4 ${Y}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${le}, ${se}, ${ce*Math.ceil(U[1]/2)}, ${ce}, b, row, col);
      return ${ne.texture2D}(${W}, uv);}`;return new Q.GlslLibRoutine(de,["coordinates.packedUVfrom3D"])}getPackedSamplerND(Y,W,R){const U=R.unpackedShape,K=U.length,J=[R.width,R.height],ne=(0,re.getGlsl)(this.context.glContext.version),se=[J[0],J[1]],le=se[1],ce=se[0],de=Math.ceil(U[K-1]/2);let pe=de*Math.ceil(U[K-2]/2),fe="int b, int row, int col",he=`b * ${pe} + (row / 2) * ${de} + (col / 2)`;for(let Te=2;Te<K-1;Te++)fe=`int b${Te}, `+fe,pe*=U[K-Te-1],he=`b${Te} * ${pe} + `+he;const be=`vec4 ${Y}(${fe}) {
      int index = ${he};
      int texR = index / ${ce};
      int texC = index - texR * ${ce};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${ce}, ${le});
      return ${ne.texture2D}(${W}, uv);
    }`;return new Q.GlslLibRoutine(be)}getUnpackedSamplerScalar(Y,W,R){const[U,K]=[R.width,R.height];if(U===1&&K===1){const ne=`
          float ${Y}() {
            return sampleTexture(${W}, halfCR);
          }
        `;return new Q.GlslLibRoutine(ne,["coordinates.sampleTexture"])}const J=`
        float ${Y}() {
          int offset_${W} = coordsToOffset(TexCoords, ${U}, ${K});
          vec2 uv = uvFromFlat(${U}, ${K}, offset_${W});
          return sampleTexture(${W}, uv);
        }
      `;return new Q.GlslLibRoutine(J,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(Y,W,R){const U=R.width,K=R.height;if(K===1&&U===1){const ne=`
        float ${Y}(int index) {
          return sampleTexture(${W}, halfCR);
        }
      `;return new Q.GlslLibRoutine(ne,["coordinates.sampleTexture"])}if(K===1){const ne=`
          float ${Y}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${U}.0, 0.5);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(ne,["coordinates.sampleTexture"])}if(U===1){const ne=`
          float ${Y}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${K}.0);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(ne,["coordinates.sampleTexture"])}const J=`
        float ${Y}(int index) {
          vec2 uv = uvFromFlat(${U}, ${K}, index);
          return sampleTexture(${W}, uv);
        }
      `;return new Q.GlslLibRoutine(J,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(Y,W,R){const U=R.unpackedShape,K=[R.height,R.width];if(K!=null&&te.ArrayUtil.arraysEqual(U,K)){const pe=`
          float ${Y}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${K[1]}.0, ${K[0]}.0);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(pe,["coordinates.sampleTexture"])}const{newShape:J,keptDims:ne}=(0,ie.squeezeShape)(U),se=J;if(se.length<U.length){const pe=(0,ee.squeezeInputShape)(U,se),fe=JSON.parse(JSON.stringify(R));fe.unpackedShape=pe;const he=["col","row"],be=`
          ${this.getUnpackedSamplerFromInput(Y,W,fe).routineBody}
          float ${Y}(int row, int col) {
            return ${Y}(${(0,ee.getSqueezedParams)(he,ne)});
          }
        `;return new Q.GlslLibRoutine(be,["coordinates.sampleTexture"])}const le=K[1],ce=K[0];if(ce===1){const pe=`
          float ${Y}(int row, int col) {
            int offset_${W} = coordsToOffset(TexCoords, ${le}, ${ce});
            float index = dot(vec3(row, col, offset_${W}), vec3(${U[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${le}.0);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(pe,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(le===1){const pe=`
          float ${Y}(int row, int col) {
            int offset_${W} = coordsToOffset(TexCoords, ${le}, ${ce});
            float index = dot(vec3(row, col, offset_${W}), vec3(${U[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${ce}.0, 0.5);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(pe,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const de=`
        float ${Y}(int row, int col) {
          int index = col * ${U[1]} + row;
          vec2 uv = uvFromFlat(${le}, ${ce}, index);
          return sampleTexture(${W}, uv);
        }
      `;return new Q.GlslLibRoutine(de,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(Y,W,R){const U=R.unpackedShape,K=U[1]*U[2],J=U[2],{newShape:ne,keptDims:se}=(0,ie.squeezeShape)(U),le=ne;if(le.length<U.length){const de=(0,ee.squeezeInputShape)(U,le),pe=["batch","col","row"],fe=JSON.parse(JSON.stringify(R));fe.unpackedShape=de;const he=this.getUnpackedSamplerFromInput(Y,W,fe),be=se.reverse(),Te=`
          ${he.routineBody}
          float ${Y}(int batch, int row, int col) {
            return ${Y}(${(0,ee.getSqueezedParams)(pe,be)});
          }
        `;return new Q.GlslLibRoutine(Te,he.dependencies)}const ce=`
          float ${Y}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${K} + col * ${J} + row;
            vec2 uv = uvFromFlat(${R.width}, ${R.height}, index);
            return sampleTexture(${W}, uv);
          }
      `;return new Q.GlslLibRoutine(ce,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(Y,W,R){const U=R.unpackedShape,K=U[3],J=U[2]*K,ne=`
        float ${Y}(int row, int col, int depth, int depth2) {
          int index = row * ${U[1]*J} + col * ${J} +
              depth2 * ${K} + depth;
          vec2 uv = uvFromFlat(${R.width}, ${R.height}, index);
          return sampleTexture(${W}, uv);
        }
      `;return new Q.GlslLibRoutine(ne,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(Y,W,R){const U=R.unpackedShape,K=U[4],J=U[3]*K,ne=U[2]*J,se=U[1]*ne,{newShape:le,keptDims:ce}=(0,ie.squeezeShape)(U);if(le.length<U.length){const pe=(0,ee.squeezeInputShape)(U,le),fe=["row","col","depth","depth2","depth3"],he=JSON.parse(JSON.stringify(R));he.unpackedShape=pe;const be=`
          ${this.getUnpackedSamplerFromInput(Y,W,he).routineBody}
          float ${Y}(int row, int col, int depth, int depth2, int depth3) {
            return ${Y}(${(0,ee.getSqueezedParams)(fe,ce)});
          }
        `;return new Q.GlslLibRoutine(be,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const de=`
        float ${Y}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${se} + col * ${ne} + depth * ${J} +
          depth3 * ${K} + depth2;
          vec2 uv = uvFromFlat(${R.width}, ${R.height}, index);
          return sampleTexture(${W}, uv);
        }
      `;return new Q.GlslLibRoutine(de,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(Y,W,R){const U=R.unpackedShape,K=U[5],J=U[4]*K,ne=U[3]*J,se=U[2]*ne,le=U[1]*se,{newShape:ce,keptDims:de}=(0,ie.squeezeShape)(U);if(ce.length<U.length){const fe=(0,ee.squeezeInputShape)(U,ce),he=["row","col","depth","depth2","depth3","depth4"],be=JSON.parse(JSON.stringify(R));be.unpackedShape=fe;const Te=`
            ${this.getUnpackedSamplerFromInput(Y,W,be).routineBody}
            float ${Y}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${Y}(${(0,ee.getSqueezedParams)(he,de)});
            }
          `;return new Q.GlslLibRoutine(Te,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const pe=`
          float ${Y}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${le} + col * ${se} + depth * ${ne} +
            depth2 * ${J} + depth3 * ${K} + depth4;
            vec2 uv = uvFromFlat(${R.width}, ${R.height}, index);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(pe,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const Y=this.context.outputTextureLayout,W=Y.shape.length,R=Y.strides,U=Y.width,K=Y.height,J=[];for(let se=0;se<W-1;++se)J.push(`
        c[${se}] = offset / ${R[se]};`),J.push(`
        offset -= c[${se}] * ${R[se]};`);J.push(`
        c[${W-1}] = offset;`);const ne=`
      void toVec(vec2 texCoords, out int c[${W}]) {
        int offset = coordsToOffset(texCoords, ${U}, ${K});
        ${J.join("")}
      }
      void toVec(int offset, out int c[${W}]) {
        ${J.join("")}
      }
    `;return{toVec:new Q.GlslLibRoutine(ne,["coordinates.coordsToOffset"])}}valueFrom(){const Y={};return this.context.programInfo.inputNames.forEach((W,R)=>{const U=this.context.inputTextureLayouts[R],K=(U.unpackedShape.length>0?U.unpackedShape:U.shape).length;let J=`_${W}`;Y[J]=new Q.GlslLibRoutine(this.getValueFromSingle(W,K,U.width,U.height,!1),[`shapeUtils.indicesToOffset${J}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),J+="_T",Y[J]=new Q.GlslLibRoutine(this.getValueFromSingle(W,K,U.width,U.height,!0),[`shapeUtils.indicesToOffset${J}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),Y}getValueFromSingle(Y,W,R,U,K){let J=`_${Y}`;return K&&(J+="_T"),`
        float ${J}(int m[${W}]) {
          int offset = indicesToOffset${J}(m);
          vec2 coords = offsetToCoords(offset, ${R}, ${U});
          float value = getColorAsFloat(${(0,re.getGlsl)(this.context.glContext.version).texture2D}(${Y}, coords));
          return value;
        }
        `}getPackedValueFrom(Y,W,R,U,K){let J=`_${Y}_Pack`;return K&&(J+="_T"),`
        vec4 ${J}(int m[${W}]) {
          int offset = indicesToOffset_${Y}(m);
          vec2 coords = offsetToCoords(offset, ${R}, ${U});
          return ${(0,re.getGlsl)(this.context.glContext.version).texture2D}(${Y}, coords);
        }
        `}}X.CoordsGlslLib=ae},1997:(ue,X)=>{var oe;Object.defineProperty(X,"__esModule",{value:!0}),X.TopologicalSortGlslRoutines=X.GlslLibRoutineNode=X.GlslLibRoutine=X.GlslLib=X.GlslContext=X.FunctionType=void 0,(oe=X.FunctionType||(X.FunctionType={}))[oe.ValueBased=0]="ValueBased",oe[oe.Positional=1]="Positional",X.GlslContext=class{constructor(te,Q,re,ie){this.glContext=te,this.programInfo=Q,this.inputTextureLayouts=re,this.outputTextureLayout=ie}},X.GlslLib=class{constructor(te){this.context=te}},X.GlslLibRoutine=class{constructor(te,Q){this.routineBody=te,this.dependencies=Q}},X.GlslLibRoutineNode=class{constructor(te,Q,re){this.name=te,this.dependencies=re||[],Q&&(this.routineBody=Q)}addDependency(te){te&&this.dependencies.push(te)}},X.TopologicalSortGlslRoutines=class{static returnOrderedNodes(te){if(!te||te.length===0)return[];if(te.length===1)return te;const Q=new Set,re=new Set,ie=new Array;return this.createOrderedNodes(te,Q,re,ie),ie}static createOrderedNodes(te,Q,re,ie){for(let ee=0;ee<te.length;++ee)this.dfsTraverse(te[ee],Q,re,ie)}static dfsTraverse(te,Q,re,ie){if(!te||re.has(te.name))return;if(Q.has(te.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");Q.add(te.name);const ee=te.dependencies;if(ee&&ee.length>0)for(let ae=0;ae<ee.length;++ae)this.dfsTraverse(ee[ae],Q,re,ie);ie.push(te),re.add(te.name),Q.delete(te.name)}}},1371:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.EncodingGlslLib=void 0;const te=oe(1997);class Q extends te.GlslLib{constructor(ie){super(ie)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new te.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new te.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const ie=Q.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new te.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${ie}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const ie=Q.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new te.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${ie}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const ie=new ArrayBuffer(4),ee=new Uint32Array(ie),ae=new Uint8Array(ie);if(ee[0]=3735928559,ae[0]===239)return!0;if(ae[0]===222)return!1;throw new Error("unknown endianness")}}X.EncodingGlslLib=Q},2691:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.FragColorGlslLib=void 0;const te=oe(1997),Q=oe(6757);class re extends te.GlslLib{constructor(ee){super(ee)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const ee=(0,Q.getGlsl)(this.context.glContext.version);return{setFragColor:new te.GlslLibRoutine(`
        void setFragColor(float value) {
            ${ee.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new te.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}X.FragColorGlslLib=re},3878:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.replaceInlines=void 0;const oe=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;X.replaceInlines=function(te){const Q={};let re;for(;(re=oe.exec(te))!==null;){const ie=re[3].split(",").map(ee=>{const ae=ee.trim().split(" ");return ae&&ae.length===2?{type:ae[0],name:ae[1]}:null}).filter(ee=>ee!==null);Q[re[2]]={params:ie,body:re[4]}}for(const ie in Q){const ee="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",ie),ae=new RegExp(ee,"gm");for(;(re=ae.exec(te))!==null;){const Z=re[1],Y=re[2],W=re[3].split(","),R=Z?`${Z} ${Y};`:"";let U=Q[ie].body,K="";Q[ie].params.forEach((ne,se)=>{ne&&(K+=`${ne.type} ${ne.name} = ${W[se]};
`)}),U=`${K}
 ${U}`,U=U.replace("return",`${Y} = `);const J=`
      ${R}
      {
        ${U}
      }
      `;te=te.replace(re[0],J)}}return te.replace(oe,"")}},8897:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.GlslPreprocessor=void 0;const te=oe(1997),Q=oe(3878),re=oe(1248),ie=oe(6757);X.GlslPreprocessor=class{constructor(ee,ae,Z,Y){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new te.GlslContext(ee,ae,Z,Y),Object.keys(re.glslRegistry).forEach(R=>{const U=new re.glslRegistry[R](this.context);this.libs[R]=U});const W=this.glslLibRoutineDependencyGraph;for(const R in this.libs){const U=this.libs[R].getFunctions();for(const K in U){const J=R+"."+K;let ne;W[J]?(ne=W[J],ne.routineBody=U[K].routineBody):(ne=new te.GlslLibRoutineNode(J,U[K].routineBody),W[J]=ne);const se=U[K].dependencies;if(se)for(let le=0;le<se.length;++le)if(W[se[le]])ne.addDependency(W[se[le]]);else{const ce=new te.GlslLibRoutineNode(se[le]);W[se[le]]=ce,ne.addDependency(ce)}}}}preprocess(){const ee=this.context.programInfo;let ae=ee.shaderSource;return this.context.programInfo.hasMain||(ae=`${ae}
      ${(0,ie.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),ae=(0,Q.replaceInlines)(ae),`${(0,ie.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(ee.inputNames,ee.variables)}
    ${this.getImports(ae)}
    ${ae}`}getImports(ee){const ae=this.selectGlslLibRoutinesToBeIncluded(ee);if(ae.length===0)return"";let Z="";for(let Y=0;Y<ae.length;++Y){if(!ae[Y].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${ae[Y].name}`);Z+=ae[Y].routineBody+`
`}return Z}selectGlslLibRoutinesToBeIncluded(ee){const ae=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(Z=>{const Y=Z.split(".")[1];ee.indexOf(Y)!==-1&&ae.push(this.glslLibRoutineDependencyGraph[Z])}),te.TopologicalSortGlslRoutines.returnOrderedNodes(ae)}getUniforms(ee,ae){const Z=[];if(ee)for(const Y of ee)Z.push(`uniform sampler2D ${Y};`);if(ae)for(const Y of ae)Z.push(`uniform ${Y.type} ${Y.name}${Y.arrayLength?`[${Y.arrayLength}]`:""};`);return Z.join(`
`)}}},1248:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.glslRegistry=void 0;const te=oe(6859),Q=oe(1371),re=oe(2691),ie=oe(9183),ee=oe(9314);X.glslRegistry={encoding:Q.EncodingGlslLib,fragcolor:re.FragColorGlslLib,vec:ee.VecGlslLib,shapeUtils:ie.ShapeUtilsGlslLib,coordinates:te.CoordsGlslLib}},9183:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.ShapeUtilsGlslLib=void 0;const te=oe(1997);class Q extends te.GlslLib{constructor(ie){super(ie)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const ie=this.context.outputTextureLayout.shape.length,ee={};return this.context.programInfo.inputNames.forEach((ae,Z)=>{const Y=this.context.inputTextureLayouts[Z].unpackedShape;if(Y.length<=ie){const W=Y.length,R=ie-W,U=`bcastIndices_${ae}`;let K="";for(let ne=0;ne<W;++ne)K+=`
          realIndices[${ne}] = int( mod(float(bcastedIndices[${R+ne}]), ${Y[ne]}.0) );
          `;const J=`
        void ${U} (int bcastedIndices[${ie}], out int realIndices[${W}]) {
          ${K}
        }
        `;ee[U]=new te.GlslLibRoutine(J)}}),ee}bcastMatmulIndex(){const ie=this.context.outputTextureLayout.shape.length,ee={};return this.context.programInfo.inputNames.forEach((ae,Z)=>{const Y=this.context.inputTextureLayouts[Z].shape;if(!(Y.length<2||Y.length>ie)){const W=Y.length,R=ie-W,U=`bcastMatmulIndices_${ae}`;let K="";for(let ne=0;ne<W-2;++ne)K+=`
          realIndices[${ne}] = int( mod(float(bcastedIndices[${R+ne}]), ${Y[ne]}.0) );
          `;const J=`
        void ${U}(int bcastedIndices[${ie}], out int realIndices[${W}]) {
          ${K}
          realIndices[${W-1}] = bcastedIndices[${ie-1}];
          realIndices[${W-2}] = bcastedIndices[${ie-2}];
        }
        `;ee[U]=new te.GlslLibRoutine(J)}}),ee}indicesToOffset(){const ie={};return this.context.programInfo.inputNames.forEach((ee,ae)=>{const Z=this.context.inputTextureLayouts[ae].shape,Y=this.context.inputTextureLayouts[ae].strides,W=Z.length;let R=`indicesToOffset_${ee}`;ie[R]=new te.GlslLibRoutine(Q.indexToOffsetSingle(R,W,Y)),R=`indicesToOffset_${ee}_T`,ie[R]=new te.GlslLibRoutine(Q.indexToOffsetSingle(R,W,Y.slice().reverse()))}),ie}static indexToOffsetSingle(ie,ee,ae){let Z="";for(let Y=ee-1;Y>=0;--Y)Z+=`
        offset += indices[${Y}] * ${ae[Y]};
        `;return`
      int ${ie}(int indices[${ee}]) {
        int offset = 0;
        ${Z}
        return offset;
      }
      `}offsetToIndices(){const ie={};return this.context.programInfo.inputNames.forEach((ee,ae)=>{const Z=this.context.inputTextureLayouts[ae].shape,Y=this.context.inputTextureLayouts[ae].strides,W=Z.length;let R=`offsetToIndices_${ee}`;ie[R]=new te.GlslLibRoutine(Q.offsetToIndicesSingle(R,W,Y)),R=`offsetToIndices_${ee}_T`,ie[R]=new te.GlslLibRoutine(Q.offsetToIndicesSingle(R,W,Y.slice().reverse()))}),ie}static offsetToIndicesSingle(ie,ee,ae){const Z=[];for(let Y=0;Y<ee-1;++Y)Z.push(`
      indices[${Y}] = offset / ${ae[Y]};`),Z.push(`
        offset -= indices[${Y}] * ${ae[Y]};`);return Z.push(`
      indices[${ee-1}] = offset;`),`
      void ${ie}(int offset, out int indices[${ee}]) {
        ${Z.join("")}
      }
      `}incrementIndices(){const ie={};return this.context.programInfo.inputNames.forEach((ee,ae)=>{const Z=this.context.inputTextureLayouts[ae].shape,Y=Z.length,W=`incrementIndices_${ee}`;let R="";for(let K=0;K<Y;++K)R+=`
        shape[${K}] = ${Z[K]};`;const U=`
        void ${W}(int axis, out int indices[${Y}]) {
          int shape[${Y}];
          ${R};
          for(int i = ${Y} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;ie[W]=new te.GlslLibRoutine(U)}),ie}}X.ShapeUtilsGlslLib=Q},6757:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.getDefaultFragShaderMain=X.getFragShaderPreamble=X.getVertexShaderSource=X.getGlsl=void 0;const oe={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},te={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function Q(re){return re===1?oe:te}X.getGlsl=Q,X.getVertexShaderSource=function(re){const ie=Q(re);return`${ie.version}
      precision highp float;
      ${ie.attribute} vec3 position;
      ${ie.attribute} vec2 textureCoord;

      ${ie.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},X.getFragShaderPreamble=function(re){const ie=Q(re);return`${ie.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${ie.varyingFrag} vec2 TexCoords;
    ${ie.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},X.getDefaultFragShaderMain=function(re,ie){return`
  void main() {
    int indices[${ie}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${Q(re).output} = result;
  }
  `}},9314:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.VecGlslLib=void 0;const te=oe(1997);class Q extends te.GlslLib{constructor(ie){super(ie)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const ie=this.context.outputTextureLayout.shape.length,ee={add:"+=",sub:"-=",mul:"*=",div:"/="},ae={};for(const Z in ee){const Y=`${Z}Vec`;let W="";for(let U=0;U<ie;++U)W+=`
          dest[${U}] ${ee[Z]} src[${U}];
          `;const R=`
        void ${Y}(int src[${ie}], out int dest[${ie}]) {
          ${W}
        }
        `;ae[Y]=new te.GlslLibRoutine(R)}return ae}copyVec(){const ie=this.context.outputTextureLayout.shape.length;let ee="";for(let Z=0;Z<ie;++Z)ee+=`
        dest[${Z}] = src[${Z}];
        `;const ae=`
      void copyVec(int src[${ie}], out int dest[${ie}]) {
        ${ee}
      }
      `;return{copyVec:new te.GlslLibRoutine(ae)}}setVecItem(){const ie=this.context.outputTextureLayout.shape.length;let ee=`
        if(index < 0)
            index =${ie} + index;
        if (index == 0)
            m[0] = value;
        `;for(let Z=1;Z<ie-1;++Z)ee+=`
        else if (index == ${Z})
            m[${Z}] = value;
            `;ee+=`
        else
            m[${ie-1}] = value;
        `;const ae=`
      void setVecItem(out int m[${ie}], int index, int value) {
        ${ee}
      }
        `;return{setVecItem:new te.GlslLibRoutine(ae)}}getVecItem(){const ie=this.context.outputTextureLayout.shape.length;let ee=`
        if(index < 0)
            index = ${ie} + index;
        if (index == 0)
            return m[0];
      `;for(let Z=1;Z<ie-1;++Z)ee+=`
        else if (index == ${Z})
            return m[${Z}];
      `;ee+=`
        else
            return m[${ie-1}];
        `;const ae=`
      int getVecItem(int m[${ie}], int index) {
        ${ee}
      }
    `;return{getVecItem:new te.GlslLibRoutine(ae)}}}X.VecGlslLib=Q},7860:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.WebGLInferenceHandler=void 0;const te=oe(1315),Q=oe(9240),re=oe(7273),ie=oe(9),ee=oe(7379),ae=oe(2488),Z=oe(540),Y=oe(3314),W=oe(5639);X.WebGLInferenceHandler=class{constructor(R){this.session=R,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(R,U){return(0,Y.calculateTextureWidthAndHeight)(this.session.layoutStrategy,R,U)}executeProgram(R,U){if(U.length<R.inputNames.length)throw new Error(`Input size mustn't be less than ${R.inputNames.length}.`);if(R.inputNames.length!==R.inputTypes.length)throw new Error("input names size does not match input types");const K=[];for(let de=0;de<R.inputNames.length;++de)K[de]=this.getOrCreateTextureData(U[de],R.inputTypes[de]);const J=((de,pe)=>{const fe=pe.map(be=>`${be.unpackedShape.join(",")};${be.width}x${be.height}`).join("_");let he=de.name;return de.cacheHint&&(he+="["+de.cacheHint+"]"),he+=":"+fe,he})(R,K);let ne=this.session.programManager.getArtifact(J);const se=ne?ne.programInfo:typeof R.get=="function"?R.get():R,le=(0,Y.createTextureLayoutFromTextureType)(this.session.layoutStrategy,se.output.dims,se.output.textureType),ce=this.createTextureData(le,se.output.type);return ne||(ne=this.session.programManager.build(se,K,ce),this.session.programManager.setArtifact(J,ne)),this.runProgram(ne,K,ce),ce}run(R,U){return this.executeProgram(R,U).tensor}runProgram(R,U,K){for(let J=0;J<U.length;++J)if(!!U[J].isPacked!=(R.programInfo.inputTypes[J]===W.TextureType.packed))throw new Error(`input[${J}] property packed inconsistent`);if(!!K.isPacked!=(R.programInfo.output.textureType===W.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(R,U,K)}getOrCreateTextureData(R,U){let K=this.getTextureData(R.dataId,U===W.TextureType.packed);if(!K&&(K=this.getTextureData(R.dataId,U!==W.TextureType.packed),K))return U===W.TextureType.packed?this.pack(K):this.unpack(K);if(!K){const J=(0,Y.createTextureLayoutFromTextureType)(this.session.layoutStrategy,R.dims,U);if(U===W.TextureType.packedLastDimension){const le=R.dims;if(le.length===4){const ce=[le[0],Math.ceil(le[1]*le[2]*le[3]/4)],de=(0,Y.createTextureLayoutFromTextureType)(this.session.layoutStrategy,ce,U);let pe=R.numberData;if(le[1]*le[2]*le[3]%4!=0){const fe=le[0],he=le[1]*le[2]*le[3],be=Math.ceil(he*1/4)*4;pe=new Float32Array(fe*be);for(let Te=0;Te<fe;++Te){const xe=Te*he,Se=Te*be+Te%1*he;pe.set(R.numberData.subarray(xe,xe+he),Se)}}return this.createTextureData(de,R.type,pe,R,1)}}if(U===W.TextureType.packed){const ne=(0,Y.createTextureLayoutFromShape)(this.session.layoutStrategy,R.dims,1,[],{reverseWH:!0}),se=this.createTextureData(ne,R.type,R.numberData,R,1);K=this.pack(se)}else K=this.createTextureData(J,R.type,R.numberData,R,1)}return K}createTextureDataFromLayoutBindTensor(R,U,K,J){return this.createTextureData(R,U,K,J,1)}createTextureData(R,U,K,J,ne){te.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(R)}]`);const se=this.session.textureManager.createTextureFromLayout(U,R,K,ne);return this.createTextureDataFromTexture(R,U,se,J)}reshapeUnpacked(R,U){const K=this.getOrCreateTextureData(R,W.TextureType.unpacked),J={channels:K.channels,height:K.height,width:K.width,shape:U.length!==0?U:[1],strides:re.ShapeUtil.computeStrides(U),unpackedShape:U};return this.createTextureDataFromTexture(J,R.type,K.texture).tensor}reshapePacked(R,U){const K=this.getOrCreateTextureData(R,W.TextureType.packed);if((0,ee.isReshapeCheap)(R.dims,U)){const ce={channels:K.channels,height:K.height,width:K.width,shape:U.length!==0?U:[1],strides:re.ShapeUtil.computeStrides(U),unpackedShape:U,isPacked:!0};return this.createTextureDataFromTexture(ce,R.type,K.texture).tensor}const J=(0,ee.processDims3D)(R.dims),ne=(0,ee.processDims3D)(U),se=this.reshapePacked(R,J),le=this.run((0,ee.createPackedReshape3DProgramInfoLoader)(this,se,ne),[se]);return this.reshapePacked(le,U)}cast(R,U){const K=this.getOrCreateTextureData(R,W.TextureType.unpacked);return this.createTextureDataFromTexture(K,U,K.texture).tensor}createTextureDataFromTexture(R,U,K,J,ne){const se=Object.assign(Object.assign({},R),{tensor:J||new Q.Tensor(R.unpackedShape,U,le=>this.readTexture(se),async le=>this.readTextureAsync(se),void 0,ne),texture:K});return this.setTextureData(se.tensor.dataId,se,R.isPacked),se}getTextureData(R,U=!1){return this.session.isInitializer(R)?this.session.getTextureData(R,U):U?this.packedTextureDataCache.get(R):this.unpackedTextureDataCache.get(R)}setTextureData(R,U,K=!1){this.session.isInitializer(R)?this.session.setTextureData(R,U,K):(K?this.packedTextureDataCache:this.unpackedTextureDataCache).set(R,U)}isTextureLayoutCached(R,U=!1){return!!this.getTextureData(R.dataId,U)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(R=>this.session.textureManager.releaseTexture(R)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(R=>this.session.textureManager.releaseTexture(R)),this.unpackedTextureDataCache=new Map}readTexture(R){return R.isPacked?this.readTexture(this.unpack(R)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(R,R.tensor.type,R.channels):this.session.textureManager.readUint8TextureAsFloat((0,ae.encodeAsUint8)(this,R))}async readTextureAsync(R){return R.isPacked?this.readTextureAsync(this.unpack(R)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(R,R.tensor.type,R.channels):this.session.textureManager.readUint8TextureAsFloat((0,ae.encodeAsUint8)(this,R))}pack(R){return this.executeProgram((0,ie.createPackProgramInfoLoader)(this,R.tensor),[R.tensor])}unpack(R){return this.executeProgram((0,Z.createUnpackProgramInfoLoader)(this,R.tensor),[R.tensor])}}},4110:function(ue,X,oe){var te=this&&this.__createBinding||(Object.create?function(Be,je,Ve,Ge){Ge===void 0&&(Ge=Ve);var He=Object.getOwnPropertyDescriptor(je,Ve);He&&!("get"in He?!je.__esModule:He.writable||He.configurable)||(He={enumerable:!0,get:function(){return je[Ve]}}),Object.defineProperty(Be,Ge,He)}:function(Be,je,Ve,Ge){Ge===void 0&&(Ge=Ve),Be[Ge]=je[Ve]}),Q=this&&this.__setModuleDefault||(Object.create?function(Be,je){Object.defineProperty(Be,"default",{enumerable:!0,value:je})}:function(Be,je){Be.default=je}),re=this&&this.__importStar||function(Be){if(Be&&Be.__esModule)return Be;var je={};if(Be!=null)for(var Ve in Be)Ve!=="default"&&Object.prototype.hasOwnProperty.call(Be,Ve)&&te(je,Be,Ve);return Q(je,Be),je};Object.defineProperty(X,"__esModule",{value:!0}),X.WEBGL_OP_RESOLVE_RULES=void 0;const ie=oe(8817),ee=re(oe(5194)),ae=oe(4752),Z=oe(6668),Y=oe(9754),W=oe(5042),R=oe(6742),U=oe(4125),K=oe(6149),J=oe(5378),ne=oe(6981),se=oe(7413),le=oe(7006),ce=oe(8276),de=oe(5565),pe=oe(2834),fe=oe(1010),he=oe(8126),be=oe(2801),Te=oe(565),xe=oe(2444),Se=oe(815),Ee=oe(564),ye=oe(5416),Ce=oe(1240),me=oe(5944),we=oe(5707),Ae=re(oe(9087)),Fe=oe(7862),Le=oe(3980);X.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",Ae.abs],["Acos","","7+",Ae.acos],["Add","","7+",ee.add],["And","","7+",ee.and],["Asin","","7+",Ae.asin],["Atan","","7+",Ae.atan],["AveragePool","","7+",pe.averagePool,pe.parseAveragePoolAttributes],["BatchNormalization","","7+",ie.batchNormalization,ie.parseBatchNormalizationAttributes],["Cast","","6+",ae.cast,ae.parseCastAttributes],["Ceil","","6+",Ae.ceil],["Clip","","6-10",Ae.clip,Ae.parseClipAttributes],["Clip","","11+",Ae.clipV11],["Concat","","4+",Z.concat,Z.parseConcatAttributes],["Conv","","1+",Y.conv,Y.parseConvAttributes],["ConvTranspose","","1+",W.convTranspose,W.parseConvTransposeAttributes],["Cos","","7+",Ae.cos],["Div","","7+",ee.div],["Dropout","","7+",Ae.identity],["DepthToSpace","","1+",R.depthToSpace,R.parseDepthToSpaceAttributes],["Equal","","7+",ee.equal],["Elu","","6+",Ae.elu,Ae.parseEluAttributes],["Exp","","6+",Ae.exp],["Flatten","","1+",U.flatten,U.parseFlattenAttributes],["Floor","","6+",Ae.floor],["FusedConv","com.microsoft","1+",Y.conv,Y.parseConvAttributes],["Gather","","1+",K.gather,K.parseGatherAttributes],["Gemm","","7-10",J.gemm,J.parseGemmAttributesV7],["Gemm","","11+",J.gemm,J.parseGemmAttributesV11],["GlobalAveragePool","","1+",pe.globalAveragePool,pe.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",pe.globalMaxPool],["Greater","","7+",ee.greater],["Identity","","1+",Ae.identity],["ImageScaler","","1+",ne.imageScaler,ne.parseImageScalerAttributes],["InstanceNormalization","","6+",se.instanceNormalization,se.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",Ae.leakyRelu,Ae.parseLeakyReluAttributes],["Less","","7+",ee.less],["LRN","","1+",le.lrn,le.parseLrnAttributes],["Log","","6+",Ae.log],["MatMul","","1+",ce.matMul,ce.parseMatMulAttributes],["MaxPool","","1+",pe.maxPool,pe.parseMaxPoolAttributes],["Mul","","7+",ee.mul],["Neg","","6+",Ae.neg],["Not","","1+",Ae.not],["Or","","7+",ee.or],["Pad","","2-10",de.padV2,de.parsePadAttributesV2],["Pad","","11+",de.padV11,de.parsePadAttributesV11],["Pow","","7+",ee.pow],["PRelu","","7+",ee.pRelu],["ReduceLogSum","","1+",fe.reduceLogSum,fe.parseReduceAttributes],["ReduceMax","","1+",fe.reduceMax,fe.parseReduceAttributes],["ReduceMean","","1+",fe.reduceMean,fe.parseReduceAttributes],["ReduceMin","","1+",fe.reduceMin,fe.parseReduceAttributes],["ReduceProd","","1+",fe.reduceProd,fe.parseReduceAttributes],["ReduceSum","","1-12",fe.reduceSum,fe.parseReduceAttributes],["ReduceSumSquare","","1+",fe.reduceLogSumSquare,fe.parseReduceAttributes],["Relu","","6+",Ae.relu],["Reshape","","5+",he.reshape],["Resize","","10",be.resize,be.parseResizeAttributesV10],["Resize","","11+",be.resize,be.parseResizeAttributesV11],["Shape","","1+",Te.shape],["Sigmoid","","6+",Ae.sigmoid],["Sin","","7+",Ae.sin],["Slice","","10+",xe.sliceV10],["Slice","","1-9",xe.slice,xe.parseSliceAttributes],["Softmax","","1-12",Se.softmax,Se.parseSoftmaxAttributes],["Softmax","","13+",Se.softmaxV13,Se.parseSoftmaxAttributesV13],["Split","","2-12",Ee.split,Ee.parseSplitAttributes],["Sqrt","","6+",Ae.sqrt],["Squeeze","","1-12",ye.squeeze,ye.parseSqueezeAttributes],["Squeeze","","13+",ye.squeezeV13],["Sub","","7+",ee.sub],["Sum","","6+",Ce.sum],["Tan","","7+",Ae.tan],["Tanh","","6+",Ae.tanh],["Tile","","6+",me.tile],["Transpose","","1+",we.transpose,we.parseTransposeAttributes],["Upsample","","7-8",Le.upsample,Le.parseUpsampleAttributesV7],["Upsample","","9",Le.upsample,Le.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Fe.unsqueeze,Fe.parseUnsqueezeAttributes],["Unsqueeze","","13+",Fe.unsqueezeV13],["Xor","","7+",ee.xor]]},8817:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseBatchNormalizationAttributes=X.batchNormalization=void 0;const te=oe(4910),Q=oe(6757),re=oe(5639),ie={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[re.TextureType.unpacked,re.TextureType.unpacked,re.TextureType.unpacked,re.TextureType.unpacked,re.TextureType.unpacked]};X.batchNormalization=(Z,Y,W)=>(ae(Y),[Z.run(Object.assign(Object.assign({},ie),{cacheHint:W.cacheKey,get:()=>ee(Z,Y,W)}),Y)]),X.parseBatchNormalizationAttributes=Z=>{const Y=Z.attributes.getFloat("epsilon",1e-5),W=Z.attributes.getFloat("momentum",.9),R=Z.attributes.getInt("spatial",1);return(0,te.createAttributeWithCacheKey)({epsilon:Y,momentum:W,spatial:R})};const ee=(Z,Y,W)=>{const R=(0,Q.getGlsl)(Z.session.backend.glContext.version),U=Y[0].dims.length,[K,J]=Z.calculateTextureWidthAndHeight(Y[1].dims,re.TextureType.unpacked),ne=`
  float process(int[${U}] indices) {
    vec2 position = offsetToCoords(indices[1], ${K}, ${J});
    float scale = getColorAsFloat(${R.texture2D}(Scale, position));
    float mean = getColorAsFloat(${R.texture2D}(Mean, position));
    float variance = getColorAsFloat(${R.texture2D}(Variance, position));
    float b = getColorAsFloat(${R.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${W.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},ie),{output:{dims:Y[0].dims,type:Y[0].type,textureType:re.TextureType.unpacked},shaderSource:ne})},ae=Z=>{if(!Z||Z.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const Y=Z[0],W=Z[1],R=Z[2],U=Z[3],K=Z[4];if(Y.dims.length<3||W.dims.length!==1||R.dims.length!==1||U.dims.length!==1||K.dims.length!==1)throw new Error("invalid input shape.");if(W.dims[0]!==Y.dims[1]||R.dims[0]!==Y.dims[1]||U.dims[0]!==Y.dims[1]||K.dims[0]!==Y.dims[1])throw new Error("invalid input shape.");if(Y.type!=="float32"&&Y.type!=="float64"||W.type!=="float32"&&W.type!=="float64"||R.type!=="float32"&&R.type!=="float64"||U.type!=="float32"&&U.type!=="float64"||K.type!=="float32"&&K.type!=="float64")throw new Error("invalid input tensor types.")}},5194:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.xor=X.sub=X.pRelu=X.pow=X.or=X.mul=X.less=X.greater=X.equal=X.div=X.and=X.add=X.glslPRelu=X.glslPow=X.glslXor=X.glslOr=X.glslAnd=X.glslLess=X.glslGreater=X.glslEqual=X.glslSub=X.glslMul=X.glslDiv=X.glslAdd=void 0;const te=oe(7273),Q=oe(1997),re=oe(6757),ie=oe(5639);function ee(){const pe="add_";return{body:`
  float ${pe}(float a, float b) {
    return a + b;
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function ae(){const pe="div_";return{body:`
  float ${pe}(float a, float b) {
    return a / b;
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function Z(){const pe="mul_";return{body:`
  float ${pe}(float a, float b) {
    return a * b;
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function Y(){const pe="sub_";return{body:`
  float ${pe}(float a, float b) {
    return a - b;
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function W(){const pe="equal_";return{body:`
  float ${pe}(float a, float b) {
    return float(a == b);
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function R(){const pe="greater_";return{body:`
  float ${pe}(float a, float b) {
    return float(a > b);
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function U(){const pe="less_";return{body:`
  float ${pe}(float a, float b) {
    return float(a < b);
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function K(){const pe="and_";return{body:`
  float ${pe}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function J(){const pe="or_";return{body:`
  float ${pe}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function ne(){const pe="xor_";return{body:`
  float ${pe}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function se(){return function(pe){const fe=`${pe}_`;return{body:`
  float ${fe}(float a, float b) {
    return ${pe}(a, b);
  }
  vec4 ${fe}(vec4 v1, vec4 v2) {
    return ${pe}(v1, v2);
  }
  `,name:fe,type:Q.FunctionType.ValueBased}}("pow")}function le(){const pe="prelu_";return{body:`
  float ${pe}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}X.glslAdd=ee,X.glslDiv=ae,X.glslMul=Z,X.glslSub=Y,X.glslEqual=W,X.glslGreater=R,X.glslLess=U,X.glslAnd=K,X.glslOr=J,X.glslXor=ne,X.glslPow=se,X.glslPRelu=le;const ce=(pe,fe,he,be=fe[0].type,Te)=>{const xe=pe.session.pack?ie.TextureType.packed:ie.TextureType.unpacked;return{name:he.name,inputNames:["A","B"],inputTypes:[xe,xe],cacheHint:Te,get:()=>de(pe,fe,he,be)}},de=(pe,fe,he,be=fe[0].type)=>{const Te=pe.session.pack?ie.TextureType.packed:ie.TextureType.unpacked,xe=!te.ShapeUtil.areEqual(fe[0].dims,fe[1].dims);let Se=fe[0].dims;const Ee=pe.session.pack;if(xe){const me=te.BroadcastUtil.calcShape(fe[0].dims,fe[1].dims,!1);if(!me)throw new Error("Can't perform binary op on the given tensors");Se=me;const we=Se.length,Ae=fe[0].dims.length!==0?fe[0].dims.length:1,Fe=fe[1].dims.length!==0?fe[1].dims.length:1,Le=fe[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Be=fe[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",je=(0,re.getGlsl)(pe.session.backend.glContext.version),Ve=Ee?`
      ${he.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${he.name}(a, b);
        ${je.output} = result;
      }`:`
      ${he.body}
      float process(int indices[${we}]) {
        int aindices[${Ae}];
        int bindices[${Fe}];
        ${Le}
        ${Be}
        return ${he.name}(_A(aindices), _B(bindices));
      }`;return{name:he.name,inputNames:["A","B"],inputTypes:[Te,Te],output:{dims:Se,type:be,textureType:Te},shaderSource:Ve,hasMain:Ee}}const ye=(0,re.getGlsl)(pe.session.backend.glContext.version),Ce=`
    ${he.body}
    void main() {
      vec4 v1 = ${ye.texture2D}(A, TexCoords);
      vec4 v2 = ${ye.texture2D}(B, TexCoords);
      vec4 result = ${he.name}(v1, v2);
      ${ye.output} = result;
    }
    `;return{name:he.name,inputNames:["A","B"],inputTypes:[Te,Te],output:{dims:fe[0].dims,type:be,textureType:Te},shaderSource:Ce,hasMain:!0}};X.add=(pe,fe)=>[pe.run(ce(pe,fe,ee()),fe)],X.and=(pe,fe)=>[pe.run(ce(pe,fe,K(),"bool"),fe)],X.div=(pe,fe)=>[pe.run(ce(pe,fe,ae()),fe)],X.equal=(pe,fe)=>[pe.run(ce(pe,fe,W(),"bool"),fe)],X.greater=(pe,fe)=>[pe.run(ce(pe,fe,R(),"bool"),fe)],X.less=(pe,fe)=>[pe.run(ce(pe,fe,U(),"bool"),fe)],X.mul=(pe,fe)=>[pe.run(ce(pe,fe,Z()),fe)],X.or=(pe,fe)=>[pe.run(ce(pe,fe,J(),"bool"),fe)],X.pow=(pe,fe)=>[pe.run(ce(pe,fe,se()),fe)],X.pRelu=(pe,fe)=>[pe.run(ce(pe,fe,le()),fe)],X.sub=(pe,fe)=>[pe.run(ce(pe,fe,Y()),fe)],X.xor=(pe,fe)=>[pe.run(ce(pe,fe,ne(),"bool"),fe)]},4752:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseCastAttributes=X.cast=void 0;const te=oe(7273);X.cast=(re,ie,ee)=>(Q(ie),[re.cast(ie[0],ee)]),X.parseCastAttributes=re=>te.ProtoUtil.tensorDataTypeFromProto(re.attributes.getInt("to"));const Q=re=>{if(!re||re.length!==1)throw new Error("Cast requires 1 input.");if(re[0].type==="string")throw new Error("Invalid input type.")}},4595:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createPackedConcatProgramInfoLoader=void 0;const te=oe(6757),Q=oe(5639),re=oe(432),ie=oe(5614);X.createPackedConcatProgramInfoLoader=(ae,Z,Y)=>{const W=(R=Z.length,U=Y.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:R},(K,J)=>`X${J}`),inputTypes:Array(R).fill(Q.TextureType.packed),cacheHint:U});var R,U;return Object.assign(Object.assign({},W),{get:()=>((K,J,ne,se)=>{const le=ne[0].dims.slice();if(se>=le.length||se<-1*le.length)throw new Error("axis specified for concat doesn't match input dimensionality");se<0&&(se=le.length+se);const ce=le.slice(0);for(let Le=1;Le<ne.length;Le++){const Be=ne[Le].dims.slice();for(let je=0;je<le.length;je++)if(je===se)ce[se]+=Be[je];else if(le[je]!==Be[je])throw new Error("non concat dimensions must match")}const de=ce.length,pe=(0,ie.getChannels)("coords",de),fe=(0,re.getCoordsDataType)(de),he=(0,ie.unpackFromChannel)(),be=ne.map(Le=>Le.dims),Te=(0,re.getGlChannels)(de),xe=new Array(be.length-1);xe[0]=be[0][se];for(let Le=1;Le<xe.length;Le++)xe[Le]=xe[Le-1]+be[Le][se];const Se=Te[se],Ee=Te.slice(-2),ye=Te.join();let Ce=`if (${Se} < ${xe[0]}) {
        return getChannel(
            getX0(${ye}), vec2(${Ee.join()}));
        }`;for(let Le=1;Le<xe.length;Le++){const Be=xe[Le-1];Ce+=`
            if (${Se} < ${xe[Le]}  && ${Se} >= ${xe[Le-1]}) {
              return getChannel(
                getX${Le}(${ee(Te,Se,Be)}),
                vec2(${ee(Ee,Se,Be)}));
            }`}const me=xe.length,we=xe[xe.length-1];Ce+=`
            return getChannel(
              getX${me}(${ee(Te,Se,we)}),
              vec2(${ee(Ee,Se,we)}));`;const Ae=(0,te.getGlsl)(K.session.backend.glContext.version),Fe=`
          ${he}
          float getValue(${Te.map(Le=>"int "+Le)}) {
            ${Ce}
          }

          void main() {
            ${fe} coords = getOutputCoords();
            int lastDim = coords.${Te[de-1]};
            coords.${Te[de-1]} = coords.${Te[de-2]};
            coords.${Te[de-2]} = lastDim;

            vec4 result = vec4(getValue(${pe}), 0., 0., 0.);

            ${pe[de-1]} = ${pe[de-1]} + 1;
            if (${pe[de-1]} < ${ce[de-1]}) {
              result.g = getValue(${pe});
            }

            ${pe[de-2]} = ${pe[de-2]} + 1;
            if (${pe[de-2]} < ${ce[de-2]}) {
              result.a = getValue(${pe});
            }

            ${pe[de-1]} = ${pe[de-1]} - 1;
            if (${pe[de-2]} < ${ce[de-2]} &&
                ${pe[de-1]} < ${ce[de-1]}) {
              result.b = getValue(${pe});
            }
            ${Ae.output} = result;
          }
        `;return Object.assign(Object.assign({},J),{output:{dims:ce,type:ne[0].type,textureType:Q.TextureType.packed},shaderSource:Fe,hasMain:!0})})(ae,W,Z,Y.axis)})};const ee=(ae,Z,Y)=>{const W=ae.indexOf(Z);return ae.map((R,U)=>U===W?`${R} - ${Y}`:R).join()}},6668:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseConcatAttributes=X.concat=void 0;const te=oe(4910),Q=oe(5639),re=oe(4595);X.concat=(R,U,K)=>(W(U),R.session.pack&&U[0].dims.length>1?[R.run((0,re.createPackedConcatProgramInfoLoader)(R,U,K),U)]:[R.run(ie(R,U,K),U)]);const ie=(R,U,K)=>{const J=(ne=U.length,se=K.cacheKey,{name:"Concat",inputNames:Array.from({length:ne},(le,ce)=>`X${ce}`),inputTypes:Array(ne).fill(Q.TextureType.unpacked),cacheHint:se});var ne,se;return Object.assign(Object.assign({},J),{get:()=>((le,ce,de,pe)=>{const fe=de[0].dims.slice();if(pe>=fe.length||pe<-1*fe.length)throw new Error("axis specified for concat doesn't match input dimensionality");pe<0&&(pe=fe.length+pe);const he=fe.slice(0);for(let ye=1;ye<de.length;ye++){const Ce=de[ye].dims.slice();for(let me=0;me<fe.length;me++)if(me===pe)he[pe]+=Ce[me];else if(fe[me]!==Ce[me])throw new Error("non concat dimensions must match")}const be=he.length,Te=new Array(de.length);let xe=0;for(let ye=0;ye<Te.length;++ye)xe+=de[ye].dims[pe],Te[ye]=xe;let Se="";Se=de.length<5?ee(Te):ae(Te);const Ee=`
        ${Z(de.length,be)}
        ${Y(Te)}
        ${Se}
        float process(int indices[${be}]) {
          int textureIndex = getTextureWhereDataResides (indices[${pe}]);

          if(textureIndex != 0) {
            indices[${pe}] = indices[${pe}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},ce),{output:{dims:he,type:de[0].type,textureType:Q.TextureType.unpacked},shaderSource:Ee})})(0,J,U,K.axis)})},ee=R=>`int getTextureWhereDataResides(int index) {
      ${R.map((U,K)=>`if(index<${U}) {return ${K};}
`).join("")}
    }`,ae=R=>ee(R),Z=(R,U)=>{const K=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${U}]) {`];for(let J=0;J<R;++J)J===0?K.push(`	if (textureIndex == ${J}) { return _X${J}(indices); }`):J===R-1?K.push(`	else { return _X${J}(indices); }`):K.push(`	else if (textureIndex == ${J}) { return _X${J}(indices); }`);return K.push("	}"),K.join(`
`)},Y=R=>{const U=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let K=0;K<R.length;++K)K===0?U.push(`	if (index == ${K}) { return ${R[K]}; }`):K===R.length-1?U.push(`	else { return ${R[K]}; }`):U.push(`	else if (index == ${K}) { return ${R[K]}; }`);return U.push("	}"),U.join(`
`)};X.parseConcatAttributes=R=>(0,te.createAttributeWithCacheKey)({axis:R.attributes.getInt("axis")});const W=R=>{if(!R||R.length<1)throw new Error("too few inputs");const U=R[0].type,K=R[0].dims.length;if(U==="string")throw new Error("string tensor is not supported yet");for(const J of R){if(J.type!==U)throw new Error("input tensors should be one type");if(J.dims.length!==K)throw new Error("input tensors should have the same shape")}}},7825:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createUnpackedGroupedConvProgramInfoLoader=void 0;const te=oe(1315),Q=oe(6757),re=oe(5639),ie=oe(9754),ee=oe(2150);X.createUnpackedGroupedConvProgramInfoLoader=(ae,Z,Y)=>{const W=(R=Z.length>2,U=Y.cacheKey,{name:"GroupedConv",inputNames:R?["X","W","Bias"]:["X","W"],inputTypes:R?[re.TextureType.unpacked,re.TextureType.unpacked,re.TextureType.unpacked]:[re.TextureType.unpacked,re.TextureType.unpacked],cacheHint:U});var R,U;return Object.assign(Object.assign({},W),{get:()=>((K,J,ne,se)=>{const le=J.length>2?"value += getBias(output_channel);":"",ce=J[0].dims.slice(),de=J[1].dims.slice(),pe=de[0]/se.group;te.Logger.verbose("GroupedConv",`autpPad:${se.autoPad}, dilations:${se.dilations}, group:${se.group}, kernelShape:${se.kernelShape}, pads:${se.pads}, strides:${se.strides}`);const fe=(0,ie.calculateOutputShape)(ce,de,se.dilations,se.pads,se.strides),he=(0,Q.getGlsl)(K.session.backend.glContext.version),{activationFunction:be,applyActivation:Te}=(0,ee.getActivationSnippet)(se),xe=`
  const ivec2 strides = ivec2(${se.strides[0]}, ${se.strides[1]});
  const ivec2 pads = ivec2(${se.pads[0]}, ${se.pads[1]});
  ${be}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${pe};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${de[1]}; wInChannel++) {
      int input_channel = group_id * ${de[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${de[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${se.dilations[0]};

        if (xHeight < 0 || xHeight >= ${ce[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${de[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${se.dilations[1]};
          if (xWidth < 0 || xWidth >= ${ce[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${le}
    ${Te}
    ${he.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},ne),{output:{dims:fe,type:J[0].type,textureType:re.TextureType.unpacked},shaderSource:xe,hasMain:!0})})(ae,Z,W,Y)})}},7708:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.conv2DPacked=X.conv2DPackedPointwise=void 0;const te=oe(9754),Q=oe(5950),re=oe(5632);X.conv2DPackedPointwise=(ie,ee,ae)=>{const Z=ee[0].dims,Y=ee[1].dims,W=(0,te.calculateOutputShape)(Z,Y,ae.dilations,ae.pads,ae.strides),R=ie.reshapePacked(ee[0],[Z[1],Z[2]*Z[3]]),U=ie.reshapePacked(ee[1],[Y[0],Y[1]]),K=ee.length>2?[U,R,ee[2]]:[U,R],J=ie.run((0,re.createPackedMatmulProgramInfoLoader)(ie,K,ae),K);return ie.reshapePacked(J,W)},X.conv2DPacked=(ie,ee,ae)=>{const Z=ee[0].dims,Y=ee[1].dims,W=(0,te.calculateOutputShape)(Z,Y,ae.dilations,ae.pads,ae.strides),R=ie.run((0,Q.createPackedIm2ColProgramInfoLoader)(ie,ee[0],ee[1],W,ae),[ee[0]]),U=ie.reshapePacked(ee[1],[Y[0],Y[1]*Y[2]*Y[3]]),K=ee.length===3?[U,R,ee[2]]:[U,R],J=ie.run((0,re.createPackedMatmulProgramInfoLoader)(ie,K,ae),K);return ie.reshapePacked(J,W)}},5042:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseConvTransposeAttributes=X.convTranspose=void 0;const te=oe(4910),Q=oe(6757),re=oe(5639),ie=oe(2150),ee=(U,K,J,ne,se,le)=>(U-1)*K+J+(ne-1)*se+1-le,ae=(U,K,J,ne,se)=>{const le=Math.floor(U/2);K==="SAME_UPPER"?(J[ne]=le,J[se]=U-le):K==="SAME_LOWER"&&(J[ne]=U-le,J[se]=le)};X.convTranspose=(U,K,J)=>(R(K,J),Z(U,K,J));const Z=(U,K,J)=>{const ne=W(J,K);return[Y(U,K,ne)]},Y=(U,K,J)=>U.run(((ne,se,le)=>{const ce=(de=se.length>2,pe=le.cacheKey,{name:"ConvTranspose",inputNames:de?["X","W","B"]:["X","W"],inputTypes:de?[re.TextureType.unpacked,re.TextureType.unpacked,re.TextureType.unpacked]:[re.TextureType.unpacked,re.TextureType.unpacked],cacheHint:pe});var de,pe;return Object.assign(Object.assign({},ce),{get:()=>((fe,he,be,Te)=>{const xe=he.length>2?"getB(output_channel)":"0.0",Se=he[0].dims,Ee=he[1].dims,ye=Ee[1],Ce=Ee[0]/Te.group,me=[he[0].dims[0],he[1].dims[1]*Te.group,...Te.outputShape],we=(0,Q.getGlsl)(fe.session.backend.glContext.version),{activationFunction:Ae,applyActivation:Fe}=(0,ie.getActivationSnippet)(Te),Le=`
  const ivec2 strides = ivec2(${Te.strides[0]}, ${Te.strides[1]});
  const ivec2 pads = ivec2(${Te.pads[0]}, ${Te.pads[1]});
  ${Ae}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${ye};
    int wOutChannel = output_channel - group_id * ${ye};

    float value = ${xe};
    for (int inChannelOffset = 0; inChannelOffset < ${Ce}; inChannelOffset++) {
      int input_channel = group_id * ${Ce} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Ee[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Ee[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${Te.dilations[0]}, wHOff * ${Te.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${Se[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${Se[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Fe}
    ${we.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},be),{output:{dims:me,type:he[0].type,textureType:re.TextureType.unpacked},shaderSource:Le,hasMain:!0})})(ne,se,ce,le)})})(U,K,J),K),W=(U,K)=>{const J=U.kernelShape.slice();if(U.kernelShape.length===0)for(let ce=2;ce<K[1].dims.length;++ce)J.push(K[1].dims[ce]);const ne=U.pads.slice(),se=U.outputShape.slice();((ce,de,pe,fe,he,be,Te,xe)=>{const Se=ce.length-2,Ee=xe.length===0;for(let ye=0;ye<Se;++ye){const Ce=Ee?ce[ye+2]*be[ye]:xe[ye],me=ee(ce[ye+2],be[ye],he[ye],de[ye],pe[ye],Ce);ae(me,fe,he,ye,ye+Se),Ee&&xe.push(be[ye]*(ce[ye+2]-1)+Te[ye]+(de[ye]-1)*pe[ye]+1-he[ye]-he[ye+Se])}})(K[0].dims,J,U.dilations,U.autoPad,ne,U.strides,U.outputPadding,se);const le=Object.assign({},U);return Object.assign(le,{kernelShape:J,pads:ne,outputShape:se,cacheKey:U.cacheKey}),le};X.parseConvTransposeAttributes=U=>{const K=U.attributes,J=(0,ie.parseInternalActivationAttributes)(K),ne=K.getString("auto_pad","NOTSET"),se=K.getInts("dilations",[1,1]),le=K.getInt("group",1),ce=K.getInts("kernel_shape",[]),de=K.getInts("output_padding",[0,0]),pe=K.getInts("output_shape",[]),fe=K.getInts("pads",[0,0,0,0]),he=K.getInts("strides",[1,1]);return(0,te.createAttributeWithCacheKey)(Object.assign({autoPad:ne,dilations:se,group:le,kernelShape:ce,outputPadding:de,outputShape:pe,pads:fe,strides:he},J))};const R=(U,K)=>{if(!U||U.length!==2&&U.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(U[0].dims.length!==4||U[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(U[0].dims[1]!==U[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const J=U[1].dims[1]*K.group;if(U.length===3&&(U[2].dims.length!==1||U[2].dims[0]!==J))throw new Error("invalid bias");const ne=U[0].dims.length-2;if(K.dilations.length!==ne)throw new Error(`dilations should be ${ne}D`);if(K.strides.length!==ne)throw new Error(`strides should be ${ne}D`);if(K.pads.length!==2*ne)throw new Error(`pads should be ${2*ne}D`);if(K.outputPadding.length!==ne)throw new Error(`output_padding should be ${ne}D`);if(K.kernelShape.length!==0&&K.kernelShape.length!==U[1].dims.length-2)throw new Error("invalid kernel shape");if(K.outputShape.length!==0&&K.outputShape.length!==U[0].dims.length-2)throw new Error("invalid output shape");if(U[0].type!=="float32"||U[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(U.length===3&&U[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseConvAttributes=X.conv=X.calculateOutputShape=void 0;const te=oe(4910),Q=oe(7273),re=oe(7825),ie=oe(7708),ee=oe(3281),ae=oe(2150),Z=oe(1625),Y=oe(8276);X.calculateOutputShape=(ne,se,le,ce,de)=>{const pe=ne[0],fe=ne.slice(2),he=fe.length,be=se[0],Te=se.slice(2).map((Se,Ee)=>Se+(Se-1)*(le[Ee]-1)),xe=fe.map((Se,Ee)=>Se+ce[Ee]+ce[Ee+he]).map((Se,Ee)=>Math.floor((Se-Te[Ee]+de[Ee])/de[Ee]));return[pe,be].concat(...xe)},X.conv=(ne,se,le)=>(J(se,le),W(ne,se,le));const W=(ne,se,le)=>{const ce=K(le,se),de=ne.session.pack,pe=ce.kernelShape[0]===1&&ce.kernelShape[1]===1;return ce.group>1?[ne.run((0,re.createUnpackedGroupedConvProgramInfoLoader)(ne,se,ce),se)]:pe&&de?[R(ne,se,ce)]:de&&se[0].dims.length===4&&se[0].dims[0]===1&&!pe?[(0,ie.conv2DPacked)(ne,se,ce)]:[U(ne,se,ce)]},R=(ne,se,le)=>{const ce=se[0].dims,de=se[1].dims,pe=(0,X.calculateOutputShape)(ce,de,le.dilations,le.pads,le.strides),fe=ne.reshapeUnpacked(se[0],[ce[1],ce[2]*ce[3]]),he=ne.reshapeUnpacked(se[1],[de[0],de[1]]),be=se.length>2?[he,fe,se[2]]:[he,fe],Te=ne.run((0,Y.createMatmulProgramInfoLoader)(be,le),be);return ne.reshapeUnpacked(Te,pe)},U=(ne,se,le)=>{const ce=se[0].dims,de=se[1].dims,pe=(0,X.calculateOutputShape)(ce,de,le.dilations,le.pads,le.strides),fe=ne.run((0,Z.createIm2ColProgramInfoLoader)(ne,se[0],se[1],pe,le),[se[0]]),he=se.length===3?[fe,se[1],se[2]]:[fe,se[1]];return ne.run((0,ee.createDotProductProgramInfoLoader)(ne,se,pe,le),he)},K=(ne,se)=>{const le=ne.kernelShape.slice();if(ne.kernelShape.length===0)for(let pe=2;pe<se[1].dims.length;++pe)le.push(se[1].dims[pe]);const ce=ne.pads.slice();Q.PoolConvUtil.adjustPadsBasedOnAutoPad(se[0].dims,ne.strides,ne.dilations,le,ce,ne.autoPad);const de=Object.assign({},ne);return Object.assign(de,{kernelShape:le,pads:ce,cacheKey:ne.cacheKey}),de};X.parseConvAttributes=ne=>{const se=ne.attributes,le=(0,ae.parseInternalActivationAttributes)(se),ce=se.getString("auto_pad","NOTSET"),de=se.getInts("dilations",[1,1]),pe=se.getInt("group",1),fe=se.getInts("kernel_shape",[]),he=se.getInts("pads",[0,0,0,0]),be=se.getInts("strides",[1,1]);return(0,te.createAttributeWithCacheKey)(Object.assign({autoPad:ce,dilations:de,group:pe,kernelShape:fe,pads:he,strides:be},le))};const J=(ne,se)=>{if(!ne||ne.length!==2&&ne.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(ne[0].dims.length!==4||ne[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(ne[0].dims[1]!==ne[1].dims[1]*se.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(ne.length===3&&(ne[2].dims.length!==1||ne[1].dims[0]!==ne[2].dims[0]))throw new Error("invalid bias");const le=ne[0].dims.length-2;if(se.dilations.length!==le)throw new Error(`dilations should be ${le}D`);if(se.strides.length!==le)throw new Error(`strides should be ${le}D`);if(se.pads.length!==2*le)throw new Error(`pads should be ${2*le}D`);if(se.kernelShape.length!==0&&se.kernelShape.length!==ne[1].dims.length-2)throw new Error("invalid kernel shape");if(ne[0].type!=="float32"||ne[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(ne.length===3&&ne[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},6742:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseDepthToSpaceAttributes=X.depthToSpace=void 0;const te=oe(5707);X.depthToSpace=(re,ie,ee)=>{Q(ie);const ae=ee.blocksize,Z=ae*ae,Y=ee.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],W=ee.mode==="DCR"?[ie[0].dims[0],ae,ae,ie[0].dims[1]/Z,ie[0].dims[2],ie[0].dims[3]]:[ie[0].dims[0],ie[0].dims[1]/Z,ae,ae,ie[0].dims[2],ie[0].dims[3]],R=re.reshapeUnpacked(ie[0],W),U={perm:Y,cacheKey:`${Y}`},[K]=(0,te.transpose)(re,[R],U),J=[ie[0].dims[0],ie[0].dims[1]/Z,ie[0].dims[2]*ae,ie[0].dims[3]*ae];return[re.reshapeUnpacked(K,J)]},X.parseDepthToSpaceAttributes=re=>{const ie=re.attributes.getInt("blocksize");if(ie<1)throw new Error(`blocksize must be >= 1, but got : ${ie} for DepthToSpace`);const ee=re.attributes.getString("mode","DCR");if(ee!=="DCR"&&ee!=="CRD")throw new Error(`unrecognized mode: ${ee} for DepthToSpace`);return{mode:ee,blocksize:ie}};const Q=re=>{if(re.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${re.length}`);if(re[0].type==="string"||re[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createDotProductProgramInfoLoader=void 0;const te=oe(7273),Q=oe(6757),re=oe(5639),ie=oe(2150),ee=oe(1625);X.createDotProductProgramInfoLoader=(ae,Z,Y,W)=>{const R=((U,K)=>({name:"ConvDotProduct",inputNames:U?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:U?[re.TextureType.unpacked,re.TextureType.packedLastDimension,re.TextureType.unpacked]:[re.TextureType.unpacked,re.TextureType.packedLastDimension],cacheKey:K.activationCacheKey}))(Z.length>2,W);return Object.assign(Object.assign({},R),{get:()=>((U,K,J,ne,se)=>{const le=J[0].dims,ce=J[1].dims,de=[ce[0],Math.ceil(le[1]*ce[2]*ce[3]/4)],pe=(0,ee.calculateIm2ColDims)(le,ce,ne),[fe,he]=U.calculateTextureWidthAndHeight(de,re.TextureType.packedLastDimension),be=te.ShapeUtil.computeStrides(pe),[Te,xe]=U.calculateTextureWidthAndHeight(pe,re.TextureType.packedLastDimension),Se=ne.length,Ee=J.length<3?"0.0":"_B(b)",ye=Math.ceil(le[1]*ce[2]*ce[3]/4),{activationFunction:Ce,applyActivation:me}=(0,ie.getActivationSnippet)(se),we=(0,Q.getGlsl)(U.session.backend.glContext.version),Ae=`
${Ce}
float process(int indices[${Se}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${be[0]} + im2col[1] * ${be[1]} + im2col[2] * ${be[2]};
  int kernelOffset = indices[1] * ${de[1]};
  float value = ${Ee};
  for (int i = 0; i < ${ye}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${Te}, ${xe});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${fe}, ${he});
    value += dot(${we.texture2D}(Im2Col, im2colCoords), ${we.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${me}
  return value;
}`;return Object.assign(Object.assign({},K),{output:{dims:ne,type:J[0].type,textureType:re.TextureType.unpacked},shaderSource:Ae})})(ae,R,Z,Y,W)})}},4125:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseFlattenAttributes=X.flatten=void 0;const te=oe(7273);X.flatten=(re,ie,ee)=>{Q(ie,ee);const ae=te.ShapeUtil.flattenShape(ie[0].dims,ee);return[re.reshapeUnpacked(ie[0],ae)]},X.parseFlattenAttributes=re=>re.attributes.getInt("axis",1);const Q=(re,ie)=>{if(!re||re.length!==1)throw new Error("Flatten requires 1 input.");const ee=re[0].dims.length;if(ee===0)throw new Error("scalar tensor is not supported.");if(ie<-ee||ie>ee)throw new Error("Invalid axis");if(re[0].type==="string")throw new Error("string tensor is not supported.")}},2150:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseInternalActivationAttributes=X.getActivationSnippet=void 0;const te=oe(7273),Q=oe(9087);X.getActivationSnippet=function(re){let ie;switch(re.activation){case"Relu":ie=(0,Q.glslRelu)();break;case"Sigmoid":ie=(0,Q.glslSigmoid)();break;case"Clip":ie=(0,Q.glslClip)(re.clipMin,re.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const ee=ie.name;return{activationFunction:ie.body,applyActivation:`value = ${ee}_(value);`}},X.parseInternalActivationAttributes=re=>{const ie=re.getString("activation","");if(ie==="Clip"){const[ee,ae]=re.getFloats("activation_params",[te.MIN_CLIP,te.MAX_CLIP]);return{activation:ie,clipMax:ae,clipMin:ee,activationCacheKey:`${ie}:${ee},${ae}`}}return{activation:ie,activationCacheKey:ie}}},6149:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseGatherAttributes=X.gather=void 0;const te=oe(4910),Q=oe(6145),re=oe(7273),ie=oe(5639);X.gather=(Y,W,R)=>(Z(W,R.axis),[Y.run(ae(Y,W,R),W)]),X.parseGatherAttributes=Y=>(0,te.createAttributeWithCacheKey)({axis:Y.attributes.getInt("axis",0)});const ee={name:"Gather",inputNames:["A","B"],inputTypes:[ie.TextureType.unpacked,ie.TextureType.unpacked]},ae=(Y,W,R)=>{const U=Object.assign(Object.assign({},ee),{cacheHint:R.cacheKey});return Object.assign(Object.assign({},U),{get:()=>((K,J,ne,se)=>{const le=ne[0].dims.slice(),ce=ne[1].dims.slice(),de=new Array(le.length+ce.length-1);se=re.ShapeUtil.normalizeAxis(se,le.length);const pe=[];for(let he=0;he<de.length;he++)he<se?(de[he]=le[he],pe.push(`inputIdx[${he}] = outputIdx[${he}];`)):he<se+ce.length?(de[he]=ce[he-se],pe.push(`indexDataIdx[${he-se}] = outputIdx[${he}];`)):(de[he]=le[he-ce.length+1],pe.push(`inputIdx[${he-ce.length+1}] = outputIdx[${he}];`));const fe=`
      float process(int outputIdx[${de.length||1}]) {
        int inputIdx[${le.length}];
        int indexDataIdx[${ce.length||1}];
        indexDataIdx[0] = 0;
        ${pe.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${se}] = idx < 0 ? idx + ${le[se]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},J),{output:{dims:de,type:ne[0].type,textureType:ie.TextureType.unpacked},shaderSource:fe})})(0,U,W,R.axis)})},Z=(Y,W)=>{if(!Y||Y.length!==2)throw new Error("Gather requires 2 inputs.");const R=Y[0].dims.length;if(R<1)throw new Error("Invalid input shape.");if(W<-R||W>R-1)throw new Error("Invalid axis.");if(Q.NUMBER_TYPES.indexOf(Y[0].type)===-1)throw new Error("Invaid input type.");if(Y[1].type!=="int32"&&Y[1].type!=="int16")throw new Error("Invaid input type.")}},5378:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseGemmAttributesV11=X.parseGemmAttributesV7=X.gemm=void 0;const te=oe(4910),Q=oe(7273),re=oe(5639);X.gemm=(Y,W,R)=>(Z(W,R),[Y.run(ee(W,R),W)]);const ie=(Y,W)=>{const R=Y.attributes.getInt("transA",0)!==0,U=Y.attributes.getInt("transB",0)!==0,K=Y.attributes.getFloat("alpha",1),J=Y.attributes.getFloat("beta",1);return(0,te.createAttributeWithCacheKey)({transA:R,transB:U,alpha:K,beta:J,isOptionalC:W})};X.parseGemmAttributesV7=Y=>ie(Y,!1),X.parseGemmAttributesV11=Y=>ie(Y,!0);const ee=(Y,W)=>{const R={name:"Gemm",inputNames:Y.length===3?["A","B","C"]:["A","B"],inputTypes:Y.length===3?[re.TextureType.unpacked,re.TextureType.unpacked,re.TextureType.unpacked]:[re.TextureType.unpacked,re.TextureType.unpacked],key:W.cacheKey};return Object.assign(Object.assign({},R),{get:()=>ae(R,Y,W)})},ae=(Y,W,R)=>{const U=W[0].dims.slice(),K=W[1].dims.slice(),[J,ne]=Q.GemmUtil.getShapeOfGemmResult(U,R.transA,K,R.transB,W.length===3?W[2].dims:void 0),se=[J,ne];if(!se)throw new Error("Can't use gemm on the given tensors");let le=U[U.length-1],ce="";R.transA&&(le=U[0]),R.transA&&R.transB?ce="value += _A_T(a) * _B_T(b);":R.transA&&!R.transB?ce="value += _A_T(a) * _B(b);":!R.transA&&R.transB?ce="value += _A(a) * _B_T(b);":R.transA||R.transB||(ce="value += _A(a) * _B(b);");const de=se.length,pe=`
      float process(int indices[${de}]) {
          int a[${de}];
          int b[${de}];
          ${W.length===3?`int c[${W[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${W.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${le}; ++k) {
              a[${de-1}] = k;
              b[${de-2}] = k;
              ${ce}
          }

          value = value * alpha;
          ${W.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},Y),{output:{dims:se,type:W[0].type,textureType:re.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:R.alpha},{name:"beta",type:"float",data:R.beta}],shaderSource:pe})},Z=(Y,W)=>{if(!Y)throw new Error("Input is missing");if(W.isOptionalC&&(Y.length<2||Y.length>3))throw new Error("Invaid input shape.");if(!W.isOptionalC&&Y.length!==3)throw new Error("Gemm requires 3 inputs");if(Y.length===3&&Y[2].dims.length!==1&&Y[2].dims.length!==2)throw new Error("Invalid input shape of C");if(Y[0].type!=="float32"&&Y[0].type!=="float64"||Y[1].type!=="float32"&&Y[1].type!=="float64"||Y.length===3&&Y[2].type!=="float32"&&Y[2].type!=="float64")throw new Error("Invalid input type.");if(Y[0].type!==Y[1].type||Y.length===3&&Y[0].type!==Y[2].type)throw new Error("Input types are mismatched")}},5950:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createPackedIm2ColProgramInfoLoader=void 0;const te=oe(6757),Q=oe(5639),re=oe(5614);X.createPackedIm2ColProgramInfoLoader=(ie,ee,ae,Z,Y)=>{const W=(R=Y.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[Q.TextureType.packed],cacheHint:R});var R;return Object.assign(Object.assign({},W),{get:()=>((U,K,J,ne,se,le)=>{const ce=J.dims,de=ne.dims,pe=se.length,fe=[de[1]*de[2]*de[3],se[2]*se[3]],he=de[2]*de[3],be=(0,re.unpackFromChannel)(),Te=(0,te.getGlsl)(U.session.backend.glContext.version);let xe="";for(let Ee=0;Ee<=1;Ee++)for(let ye=0;ye<=1;ye++)xe+=`
            blockIndex = rc.x + ${ye};
            pos = rc.y + ${Ee};

            if(blockIndex < ${fe[1]} && pos < ${fe[0]}) {
              offsetY = int(blockIndex / (${se[pe-1]})) * ${le.strides[0]} -
                ${le.pads[0]};
              d0 = offsetY + ${le.dilations[0]} * (imod(pos, ${he}) / ${de[2]});

              if(d0 < ${ce[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${se[pe-1]}) * ${le.strides[1]} -
                  ${le.pads[1]};
                d1 = offsetX + ${le.dilations[1]} * imod(imod(pos, ${he}), ${de[2]});

                if(d1 < ${ce[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${he}.);
                    innerDims = vec2(d0, d1);
                    result[${2*Ee+ye}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const Se=`
      ${be}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${xe}
          ${Te.output} = result;
      }
            `;return Object.assign(Object.assign({},K),{output:{dims:fe,type:J.type,textureType:Q.TextureType.packed},shaderSource:Se,hasMain:!0})})(ie,W,ee,ae,Z,Y)})}},1625:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.calculateIm2ColDims=X.createIm2ColProgramInfoLoader=void 0;const te=oe(5639);X.createIm2ColProgramInfoLoader=(Q,re,ie,ee,ae)=>{const Z=(Y=ae.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[te.TextureType.unpacked],cacheHint:Y});var Y;return Object.assign(Object.assign({},Z),{get:()=>((W,R,U,K,J,ne)=>{const se=U.dims,le=K.dims,ce=J.length,de=(0,X.calculateIm2ColDims)(se,le,J,4),pe=`
        const int XC = ${se[1]};
        const int XH = ${se[2]};
        const int XW = ${se[3]};
        const int KH = ${ne.kernelShape[0]};
        const int KW = ${ne.kernelShape[1]};
        const int dilationH = ${ne.dilations[0]};
        const int dilationW = ${ne.dilations[1]};
        const int strideH = ${ne.strides[0]};
        const int strideW = ${ne.strides[1]};
        const int padH = ${ne.pads[0]};
        const int padW = ${ne.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${ce}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${se.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},R),{output:{dims:de,type:U.type,textureType:te.TextureType.packedLastDimension},shaderSource:pe})})(0,Z,re,ie,ee,ae)})},X.calculateIm2ColDims=(Q,re,ie,ee=4)=>[ie[0],ie[2],ie[3],Math.ceil(Q[1]*re[2]*re[3]/ee)]},6981:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseImageScalerAttributes=X.imageScaler=void 0;const te=oe(4910),Q=oe(5639);X.imageScaler=(Z,Y,W)=>(ae(Y),[Z.run(ie(Z,Y,W),Y)]),X.parseImageScalerAttributes=Z=>{const Y=Z.attributes.getFloat("scale"),W=Z.attributes.getFloats("bias");return(0,te.createAttributeWithCacheKey)({scale:Y,bias:W})};const re={name:"ImageScaler",inputNames:["X"],inputTypes:[Q.TextureType.unpacked]},ie=(Z,Y,W)=>{const R=Object.assign(Object.assign({},re),{cacheHint:W.cacheKey});return Object.assign(Object.assign({},R),{get:()=>((U,K,J,ne)=>{const se=J[0].dims.slice(),le=se.length,ce=`
      ${ee(ne.bias.length)}
      float process(int indices[${le}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},K),{output:{dims:se,type:J[0].type,textureType:Q.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:ne.bias.length,data:ne.bias},{name:"scale",type:"float",data:ne.scale}],shaderSource:ce})})(0,R,Y,W)})},ee=Z=>{const Y=[`float getBias(float bias[${Z}], int channel) {`];for(let W=0;W<Z;++W)W===0?Y.push(`	if (channel == ${W}) { return bias[${W}]; }`):W===Z-1?Y.push(`	else { return bias[${W}]; }`):Y.push(`	else if (channel == ${W}) { return bias[${W}]; }`);return Y.push("	}"),Y.join(`
`)},ae=Z=>{if(!Z||Z.length!==1)throw new Error("ImageScaler requires 1 input.");if(Z[0].dims.length!==4)throw new Error("Invalid input shape.");if(Z[0].type!=="float32"&&Z[0].type!=="float64")throw new Error("Invalid input type.")}},7413:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseInstanceNormalizationAttributes=X.instanceNormalization=void 0;const te=oe(6757),Q=oe(5639);X.instanceNormalization=(Y,W,R)=>{Z(W);const U=Y.run(ie(W[0]),W);return[Y.run(ae(Y,W[0],R,U.dims),[W[0],U,W[1],W[2]])]},X.parseInstanceNormalizationAttributes=Y=>Y.attributes.getFloat("epsilon",1e-5);const re={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[Q.TextureType.unpacked]},ie=Y=>Object.assign(Object.assign({},re),{get:()=>((W,R)=>{const U=R.dims.slice(),K=U[1],J=U[2]*U[3],ne=[U[0],K],se=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${U[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${U[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${J});
        temp = 0.0;
        for(int a2=0; a2<${U[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${U[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${J});

        return v;
      }`;return Object.assign(Object.assign({},W),{output:{dims:ne,type:R.type,textureType:Q.TextureType.packedLastDimension},shaderSource:se})})(re,Y)}),ee={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[Q.TextureType.unpacked,Q.TextureType.packedLastDimension,Q.TextureType.unpacked,Q.TextureType.unpacked]},ae=(Y,W,R,U)=>{const K=Object.assign(Object.assign({},ee),{cacheHint:`${R}`});return Object.assign(Object.assign({},K),{get:()=>((J,ne,se,le,ce)=>{const de=(0,te.getGlsl)(J.session.backend.glContext.version),[pe,fe]=J.calculateTextureWidthAndHeight(ce,Q.TextureType.packedLastDimension),[he,be]=[pe/4,fe],Te=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${he}, ${be});
        return ${de.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},ne),{output:{dims:se.dims,type:se.type,textureType:Q.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:le}],shaderSource:Te})})(Y,K,W,R,U)})},Z=Y=>{if(!Y||Y.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const W=Y[0],R=Y[1],U=Y[2];if(W.dims.length<3||R.dims.length!==1||U.dims.length!==1)throw new Error("Invalid input shape.");if(R.dims[0]!==W.dims[1]||U.dims[0]!==W.dims[1])throw new Error("Input shapes are mismatched.");if(W.type!=="float32"&&W.type!=="float64"||R.type!=="float32"&&R.type!=="float64"||U.type!=="float32"&&U.type!=="float64")throw new Error("Invalid input type.");if(Y[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},7006:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createLrnProgramInfoLoader=X.parseLrnAttributes=X.lrn=void 0;const te=oe(4910),Q=oe(5639);X.lrn=(ae,Z,Y)=>(ee(Z),[ae.run(ie(Z,Y),Z)]),X.parseLrnAttributes=ae=>{const Z=ae.attributes.getFloat("alpha",1e-4),Y=ae.attributes.getFloat("beta",.75),W=ae.attributes.getFloat("bias",1),R=ae.attributes.getInt("size");return(0,te.createAttributeWithCacheKey)({alpha:Z,beta:Y,bias:W,size:R})};const re={name:"LRN",inputNames:["X"],inputTypes:[Q.TextureType.unpacked]};function ie(ae,Z){return Object.assign(Object.assign({},re),{cacheHint:Z.cacheKey,get:()=>function(Y,W){const R=Y[0].dims[1],U=Y[0].dims.length,K=-Math.floor((W.size-1)/2),J=Math.ceil((W.size-1)/2),ne=`float(${W.alpha}) / float(${W.size})`,se=`
    float process(int indices[${U}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${K}; i <= ${J}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${R}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(float(${W.bias}) + ${ne} * square_sum, float(${W.beta}));
    }`;return Object.assign(Object.assign({},re),{cacheHint:W.cacheKey,output:{dims:Y[0].dims,type:Y[0].type,textureType:Q.TextureType.unpacked},shaderSource:se})}(ae,Z)})}X.createLrnProgramInfoLoader=ie;const ee=ae=>{if(!ae||ae.length!==1)throw new Error("LRN requires 1 input.");if(ae[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(ae[0].type!=="float32")throw new Error("input should be float type")}},5632:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createPackedMatmulProgramInfoLoader=void 0;const te=oe(7273),Q=oe(6757),re=oe(5639),ie=oe(432),ee=oe(2150),ae=oe(8276);X.createPackedMatmulProgramInfoLoader=(Z,Y,W)=>{const R=(U=Y.length>2,K=W.activationCacheKey,{name:"MatMul (packed)",inputNames:U?["A","B","Bias"]:["A","B"],inputTypes:U?[re.TextureType.packed,re.TextureType.packed,re.TextureType.packed]:[re.TextureType.packed,re.TextureType.packed],cacheHint:K});var U,K;return Object.assign(Object.assign({},R),{get:()=>((J,ne,se,le)=>{const ce=se.length>2,de=ce?"value += getBiasForMatmul();":"",pe=se[0].dims,fe=se[1].dims,he=te.BroadcastUtil.calcShape(pe,fe,!0),be=!te.ShapeUtil.areEqual(se[0].dims,se[1].dims);if(!he)throw new Error("Can't use matmul on the given tensors");const Te=pe[pe.length-1],xe=Math.ceil(Te/2),Se=pe.length,Ee=fe.length,ye=(0,Q.getGlsl)(J.session.backend.glContext.version),Ce=(0,ie.getCoordsDataType)(he.length),me=he.length,we=(0,ie.getGlChannels)(),{activationFunction:Ae,applyActivation:Fe}=(0,ee.getActivationSnippet)(le),Le=ce?`${(0,ae.getBiasForMatmul)(Ce,we,se[2].dims,he,!0)}`:"",Be=be?`${function(He,Ke,Ye,Ze){let et=[],ot=[];const ut=Ye[0].dims,lt=Ye[1].dims,xt=ut.length,tt=lt.length,ct=Ze.length,bt=ct-xt,gt=ct-tt;et=ut.map((mt,St)=>`coords.${Ke[St+bt]}`),et[xt-1]="i*2",et.join(", "),ot=lt.map((mt,St)=>`coords.${Ke[St+gt]}`),ot[tt-2]="i*2",ot.join(", ");const yt=te.BroadcastUtil.getBroadcastDims(ut,Ze),Tt=te.BroadcastUtil.getBroadcastDims(lt,Ze),_t=yt.map(mt=>`coords.${Ke[mt+bt]} = 0;`).join(`
`),It=Tt.map(mt=>`coords.${Ke[mt+gt]} = 0;`).join(`
`),Et=`int lastDim = coords.${Ke[ct-1]};
  coords.${Ke[ct-1]} = coords.${Ke[ct-2]};
  coords.${Ke[ct-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${He} coords = getOutputCoords();
  ${Et}
  ${_t}
  vec4 outputValue = getA(${et});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${He} coords = getOutputCoords();
  ${Et}
  ${It}
  vec4 outputValue = getB(${ot});
  return outputValue;
}`}(Ce,we,se,he)}`:"",je=be?"getAAtOutCoordsMatmul(i)":`getA(${function(He,Ke){let Ye="";for(let Ze=0;Ze<Ke-2;Ze++)Ye+=`rc.${He[Ze]}, `;return Ye+=`rc.${He[Ke-2]}, i*2`,Ye}(we,Se)})`,Ve=be?"getBAtOutCoordsMatmul(i)":`getB(${function(He,Ke){let Ye="";for(let Ze=0;Ze<Ke-2;Ze++)Ye+=`rc.${He[Ze]}, `;return Ye+=`i*2, rc.${He[Ke-1]}`,Ye}(we,Ee)})`,Ge=`
            ${Be}
            ${Le}
            ${Ae}
            void main() {
              ${be?"":`${Ce} rc =
          getOutputCoords(); int lastDim = rc.${we[me-1]}; rc.${we[me-1]} =
          rc.${we[me-2]}; rc.${we[me-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${xe}; i++) {
                vec4 a = ${je};
                vec4 b = ${Ve};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${de}
              ${Fe}
              ${ye.output} = value;
            }`;return Object.assign(Object.assign({},ne),{output:{dims:he,type:se[0].type,textureType:re.TextureType.packed},shaderSource:Ge,hasMain:!0})})(Z,R,Y,W)})}},8276:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.getBiasForMatmul=X.createMatmulProgramInfoLoader=X.parseMatMulAttributes=X.matMul=void 0;const te=oe(7273),Q=oe(5639),re=oe(432),ie=oe(2150),ee=oe(5632);X.matMul=(R,U,K)=>(Y(U),R.session.pack?[R.run((0,ee.createPackedMatmulProgramInfoLoader)(R,U,K),U)]:[R.run(Z(U,K),U)]),X.parseMatMulAttributes=R=>(0,ie.parseInternalActivationAttributes)(R.attributes);const ae=(R,U)=>({name:"MatMul",inputNames:R?["A","B","Bias"]:["A","B"],inputTypes:R?[Q.TextureType.unpacked,Q.TextureType.unpacked,Q.TextureType.unpacked]:[Q.TextureType.unpacked,Q.TextureType.unpacked],cacheHint:U});function Z(R,U){const K=ae(R.length>2,U.activationCacheKey);return Object.assign(Object.assign({},K),{get:()=>function(J,ne,se){const le=ne[0].dims,ce=ne[1].dims,de=te.BroadcastUtil.calcShape(le,ce,!0);if(!de)throw new Error("Can't use matmul on the given tensors");const pe=(0,re.getCoordsDataType)(de.length),fe=(0,re.getGlChannels)(),{activationFunction:he,applyActivation:be}=(0,ie.getActivationSnippet)(se),Te=ne.length>2,xe=Te?"value += getBiasForMatmul();":"",Se=Te?`${W(pe,fe,ne[2].dims,de,!1)}`:"",Ee=de.length,ye=le.length,Ce=ce.length,me=`
    ${he}
    ${Se}
    float process(int indices[${Ee}]) {
        int a[${ye}];
        int b[${Ce}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${le[le.length-1]}; ++k) {
            a[${ye-1}] = k;
            b[${Ce-2}] = k;
            value += _A(a) * _B(b);
        }
        ${xe}
        ${be}
        return value;
    }`;return Object.assign(Object.assign({},J),{output:{dims:de,type:ne[0].type,textureType:Q.TextureType.unpacked},shaderSource:me})}(K,R,U)})}X.createMatmulProgramInfoLoader=Z;const Y=R=>{if(!R||R.length!==2)throw new Error("MatMul requires 2 inputs.");if(R[0].dims[R[0].dims.length-1]!==R[1].dims[R[1].dims.length-2])throw new Error("shared dimension does not match.");if(R[0].type!=="float32"&&R[0].type!=="float64"||R[1].type!=="float32"&&R[1].type!=="float64")throw new Error("inputs should be float type");if(R[0].type!==R[1].type)throw new Error("inputs types should match")};function W(R,U,K,J,ne){let se="";const le=K.length,ce=J.length,de=ce-le;se=ce<2&&le>0?"coords":K.map((he,be)=>`coords.${U[be+de]}`).join(", ");const pe=te.BroadcastUtil.getBroadcastDims(K,J).map(he=>`coords.${U[he+de]} = 0;`).join(`
`);let fe="vec4(outputValue.xx, outputValue.yy)";return te.ShapeUtil.size(K)===1&&(fe="vec4(outputValue.x)"),ne?`
vec4 getBiasForMatmul() {
  ${R} coords = getOutputCoords();
  ${pe}
  vec4 outputValue = getBias(${se});
  return ${fe};
}`:`
float getBiasForMatmul() {
  ${R} coords = getOutputCoords();
  ${pe}
  return getBias(coords.x);
}`}X.getBiasForMatmul=W},9:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createPackProgramInfoLoader=void 0;const te=oe(6757),Q=oe(5639),re=oe(432),ie=oe(5614),ee={name:"pack",inputNames:["A"],inputTypes:[Q.TextureType.unpackedReversed]};X.createPackProgramInfoLoader=(ae,Z)=>Object.assign(Object.assign({},ee),{get:()=>((Y,W)=>{const R=(0,te.getGlsl)(Y.session.backend.glContext.version),U=W.dims,K=U.length,J=W.dims.length,ne=(0,re.getCoordsDataType)(J),se=(0,ie.getChannels)("rc",J),le=(ce=J,de=se,pe=U[U.length-2],fe=U[U.length-1],ce===0||ce===1?"":`
    int r = ${de[ce-2]};
    int c = ${de[ce-1]};
    int rp1 = ${de[ce-2]} + 1;
    int cp1 = ${de[ce-1]} + 1;
    bool rEdge = rp1 >= ${fe};
    bool cEdge = cp1 >= ${pe};
    `);var ce,de,pe,fe;let he;he=K===0?[1,1]:K===1?[U[0],1]:[U[J-1],U[J-2]];const be=function(Se,Ee,ye){if(Se===0)return"false";if(Se===1)return`rc > ${Ee[0]}`;let Ce="";for(let me=Se-2;me<Se;me++)Ce+=`${ye[me]} >= ${Ee[me-Se+2]}`,me<Se-1&&(Ce+="||");return Ce}(J,he,se),Te=function(Se,Ee){const ye=Se.length;if(ye===0)return"getA(), 0, 0, 0";if(ye===1)return`getA(rc),
            rc + 1 >= ${Se[0]} ? 0. : getA(rc + 1),
            0, 0`;let Ce="";if(ye>2)for(let me=0;me<ye-2;++me)Ce+=`${Ee[me]},`;return`getA(${Ce}r, c),
          rEdge ? 0. : getA(${Ce}rp1, c),
          cEdge ? 0. : getA(${Ce}r, cp1),
          rEdge || cEdge ? 0. : getA(${Ce}rp1, cp1)`}(U,se),xe=`
        void main() {
          ${ne} rc = getOutputCoords();

          if(${be}) {
            ${R.output} = vec4(0);
          } else {
            ${le}

            ${R.output} = vec4(${Te});
          }
        }
      `;return Object.assign(Object.assign({},ee),{hasMain:!0,output:{dims:W.dims,type:W.type,textureType:Q.TextureType.packed},shaderSource:xe})})(ae,Z)})},5614:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.unpackFromChannel=X.getChannels=X.getVecChannels=void 0;const te=oe(432);function Q(re,ie){return(0,te.getGlChannels)(ie).map(ee=>`${re}.${ee}`)}X.getVecChannels=Q,X.getChannels=function(re,ie){return ie===1?[re]:Q(re,ie)},X.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},5565:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parsePadAttributesV11=X.padV11=X.parsePadAttributesV2=X.padV2=void 0;const te=oe(4910),Q=oe(7273),re=oe(6757),ie=oe(5639),ee={name:"Pad",inputNames:["A"],inputTypes:[ie.TextureType.unpacked]};X.padV2=(ne,se,le)=>(Y(se),[ne.run(Object.assign(Object.assign({},ee),{cacheHint:le.cacheKey,get:()=>Z(ne,se[0],le)}),se)]),X.parsePadAttributesV2=ne=>{const se=ne.attributes.getString("mode","constant"),le=ne.attributes.getFloat("value",0),ce=ne.attributes.getInts("pads");return(0,te.createAttributeWithCacheKey)({mode:se,value:le,pads:ce})},X.padV11=(ne,se,le)=>{W(se);const ce=ae(ne,se,le);return(0,X.padV2)(ne,[se[0]],ce)},X.parsePadAttributesV11=ne=>ne.attributes.getString("mode","constant");const ae=(ne,se,le)=>{if(!ne.session.isInitializer(se[1].dataId)||se.length>=3&&!ne.session.isInitializer(se[2].dataId))throw new Error("dynamic pad attributes are not allowed");const ce=Array.from(se[1].integerData),de=se.length>=3?se[2].floatData[0]:0;return(0,te.createAttributeWithCacheKey)({mode:le,pads:ce,value:de})},Z=(ne,se,le)=>{const ce=Q.ShapeUtil.padShape(se.dims.slice(),le.pads),de=ce.length,pe=`
      ${R(ne,se,le)}
      float process(int[${de}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[ie.TextureType.unpacked],output:{dims:ce,type:se.type,textureType:ie.TextureType.unpacked},shaderSource:pe}},Y=ne=>{if(!ne||ne.length!==1)throw new Error("Pad requires 1 input");if(ne[0].type!=="float32"&&ne[0].type!=="float64")throw new Error("Invalid input type.")},W=ne=>{if(!ne||ne.length!==2&&ne.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(ne[1].type!=="int32")throw new Error("Invalid input type.");if(ne.length>=3&&ne[2].type==="string")throw new Error("Invalid input type.")},R=(ne,se,le)=>{const ce=(0,re.getGlsl)(ne.session.backend.glContext.version),[de,pe]=ne.calculateTextureWidthAndHeight(se.dims,ie.TextureType.unpacked),fe=Q.ShapeUtil.computeStrides(se.dims);switch(le.mode){case"constant":return U(ce,se.dims,fe,de,pe,le.pads,le.value);case"reflect":return K(ce,se.dims,fe,de,pe,le.pads);case"edge":return J(ce,se.dims,fe,de,pe,le.pads);default:throw new Error("Invalid mode")}},U=(ne,se,le,ce,de,pe,fe)=>{const he=se.length;let be="";for(let Te=he-1;Te>=0;--Te)be+=`
        k = m[${Te}] - ${pe[Te]};
        if (k < 0)  return constant;
        if (k >= ${se[Te]}) return constant;
        offset += k * ${le[Te]};
        `;return`
      float padA(int m[${he}]) {
        const float constant = float(${fe});
        int offset = 0;
        int k = 0;
        ${be}
        vec2 coords = offsetToCoords(offset, ${ce}, ${de});
        float value = getColorAsFloat(${ne.texture2D}(A, coords));
        return value;
      }
      `},K=(ne,se,le,ce,de,pe)=>{const fe=se.length;let he="";for(let be=fe-1;be>=0;--be)he+=`
        k = m[${be}] - ${pe[be]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(se[be]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${se[be]}) { k = _2n_1 - k; }
        }
        offset += k * ${le[be]};
        `;return`
      float padA(int m[${fe}]) {
        int offset = 0;
        int k = 0;
        ${he}
        vec2 coords = offsetToCoords(offset, ${ce}, ${de});
        float value = getColorAsFloat(${ne.texture2D}(A, coords));
        return value;
      }
      `},J=(ne,se,le,ce,de,pe)=>{const fe=se.length;let he="";for(let be=fe-1;be>=0;--be)he+=`
        k = m[${be}] - ${pe[be]};
        if (k < 0)  k = 0;
        if (k >= ${se[be]}) k = ${se[be]-1};
        offset += k * ${le[be]};
      `;return`
      float padA(int m[${fe}]) {
        int offset = 0;
        int k = 0;
        ${he}
        vec2 coords = offsetToCoords(offset, ${ce}, ${de});
        float value = getColorAsFloat(${ne.texture2D}(A, coords));
        return value;
      }
      `}},2834:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.globalMaxPool=X.parseMaxPoolAttributes=X.maxPool=X.parseGlobalAveragePoolAttributes=X.globalAveragePool=X.parseAveragePoolAttributes=X.averagePool=void 0;const te=oe(4910),Q=oe(7273),re=oe(5639);X.averagePool=(J,ne,se)=>{W(ne);const le={name:"AveragePool",inputNames:["X"],inputTypes:[re.TextureType.unpacked],cacheHint:se.cacheKey};return[J.run(Object.assign(Object.assign({},le),{get:()=>ie(ne,le,!1,se)}),ne)]},X.parseAveragePoolAttributes=J=>{const ne=J.attributes.getString("auto_pad","NOTSET"),se=J.attributes.getInt("ceil_mode",0),le=J.attributes.getInt("count_include_pad",0)!==0,ce=J.attributes.getInts("kernel_shape"),de=J.attributes.getInts("strides",[]),pe=J.attributes.getInts("pads",[]);if(se!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,te.createAttributeWithCacheKey)({autoPad:ne,ceilMode:se,countIncludePad:le,kernelShape:ce,strides:de,pads:pe})};const ie=(J,ne,se,le)=>{const[ce,de]=ae(J,le,se),pe=Q.ShapeUtil.size(ce.kernelShape);let fe="";ce.countIncludePad?fe+=`value /= float(${pe});`:fe+=`value /= float(${pe} - pad);`;const he=`
        ${R(J[0].dims,ce,"value += _X(x);",fe,"0.0")}
      `;return Object.assign(Object.assign({},ne),{output:{dims:de,type:J[0].type,textureType:re.TextureType.unpacked},shaderSource:he})};X.globalAveragePool=(J,ne,se)=>{W(ne);const le={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[re.TextureType.unpacked],cacheHint:`${se.countIncludePad}`};return[J.run(Object.assign(Object.assign({},le),{get:()=>ie(ne,le,!0,se)}),ne)]},X.parseGlobalAveragePoolAttributes=J=>{const ne=J.attributes.getInt("count_include_pad",0)!==0;return(0,te.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:ne,kernelShape:[],strides:[],pads:[]})},X.maxPool=(J,ne,se)=>{W(ne);const le={name:"MaxPool",inputNames:["X"],inputTypes:[re.TextureType.unpacked],cacheHint:se.cacheKey};return[J.run(Object.assign(Object.assign({},le),{get:()=>ee(ne,le,!1,se)}),ne)]},X.parseMaxPoolAttributes=J=>{const ne=J.attributes.getString("auto_pad","NOTSET"),se=J.attributes.getInt("ceil_mode",0),le=J.attributes.getInts("kernel_shape"),ce=J.attributes.getInts("strides",[]),de=J.attributes.getInts("pads",[]),pe=J.attributes.getInt("storage_order",0),fe=J.attributes.getInts("dilations",[]);if(pe!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(se!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,te.createAttributeWithCacheKey)({autoPad:ne,ceilMode:se,countIncludePad:!1,kernelShape:le,strides:ce,pads:de,storageOrder:pe,dilations:fe})};const ee=(J,ne,se,le)=>{const[ce,de]=ae(J,le,se),pe=`
      ${R(J[0].dims,ce,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},ne),{output:{dims:de,type:J[0].type,textureType:re.TextureType.unpacked},shaderSource:pe})},ae=(J,ne,se)=>{const le=J[0].dims.slice(),ce=Object.hasOwnProperty.call(ne,"dilations"),de=ne.kernelShape.slice(),pe=ne.strides.slice(),fe=ce?ne.dilations.slice():[],he=ne.pads.slice();Q.PoolConvUtil.adjustPoolAttributes(se,le,de,pe,fe,he);const be=Q.PoolConvUtil.computePoolOutputShape(se,le,pe,fe,de,he,ne.autoPad),Te=Object.assign({},ne);return ce?Object.assign(Te,{kernelShape:de,strides:pe,pads:he,dilations:fe,cacheKey:ne.cacheKey}):Object.assign(Te,{kernelShape:de,strides:pe,pads:he,cacheKey:ne.cacheKey}),[Te,be]},Z={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},Y={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[re.TextureType.unpacked]};X.globalMaxPool=(J,ne)=>(W(ne),[J.run(Object.assign(Object.assign({},Y),{get:()=>ee(ne,Y,!0,Z)}),ne)]);const W=J=>{if(!J||J.length!==1)throw new Error("Pool ops requires 1 input.");if(J[0].type!=="float32"&&J[0].type!=="float64")throw new Error("Invalid input type.")},R=(J,ne,se,le,ce)=>{const de=J.length;if(ne.kernelShape.length<=2){const pe=ne.kernelShape[ne.kernelShape.length-1],fe=ne.strides[ne.strides.length-1],he=ne.pads[ne.pads.length/2-1],be=ne.pads[ne.pads.length-1],Te=J[de-1];let xe="",Se="",Ee="";if(xe=he+be!==0?`
          for (int i = 0; i < ${pe}; i++) {
            x[${de} - 1] = indices[${de} - 1] * ${fe} - ${he} + i;
            if (x[${de} - 1] < 0 || x[${de} - 1] >= ${Te}) {
              pad++;
              continue;
            }
            ${se}
          }`:`
          for (int i = 0; i < ${pe}; i++) {
            x[${de} - 1] = indices[${de} - 1] * ${fe} - ${he} + i;
            ${se}
          }`,ne.kernelShape.length===2){const ye=ne.kernelShape[ne.kernelShape.length-2],Ce=ne.strides[ne.strides.length-2],me=ne.pads[ne.pads.length/2-2],we=ne.pads[ne.pads.length-2],Ae=J[de-2];Se=me+we!==0?`
            for (int j = 0; j < ${ye}; j++) {
              x[${de} - 2] = indices[${de} - 2] * ${Ce} - ${me} + j;
              if (x[${de} - 2] < 0 || x[${de} - 2] >= ${Ae}) {
                pad+= ${pe};
                continue;
              }
          `:`
            for (int j = 0; j < ${ye}; j++) {
              x[${de} - 2] = indices[${de} - 2] * ${Ce} - ${me} + j;
            `,Ee=`
          }
        `}return`
        float process(int indices[${de}]) {
          int x[${de}];
          copyVec(indices, x);

          float value = ${ce};
          int pad = 0;
          ${Se}
          ${xe}
          ${Ee}
          ${le}
          return value;
        }
      `}{const pe=Q.ShapeUtil.size(ne.kernelShape),fe=Q.ShapeUtil.computeStrides(ne.kernelShape),he=fe.length,be=ne.pads.length,Te=K(he),xe=U(J,"inputDims"),Se=U(ne.pads,"pads"),Ee=U(fe,"kernelStrides"),ye=U(ne.strides,"strides");let Ce="";return Ce=ne.pads.reduce((me,we)=>me+we)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${se}
          }`:`
          }
          ${se}
        `,`
        ${Te}
        float process(int indices[${de}]) {
          int x[${de}];
          copyVec(indices, x);
          int offset[${he}];
          int pads[${be}];
          int inputDims[${de}];
          int kernelStrides[${he}];
          int strides[${he}];
          ${Se}
          ${xe}
          ${ye}
          ${Ee}

          float value = ${ce};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${pe}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${de} - ${he}; j < ${de}; j++) {
              x[j] = indices[j] * strides[j - ${de} + ${he}]
                + offset[j - ${de} + ${he}] - pads[j - 2];
              ${Ce}
          }
          ${le}

          return value;
        }
      `}},U=(J,ne)=>{let se="";for(let le=0;le<J.length;le++)se+=`
      ${ne}[${le}] = ${J[le]};
    `;return se},K=J=>`
  void offsetToIndices(int offset, int[${J}] strides, out int[${J}] indices) {
    if (${J} == 0) {
      return;
    }
    for (int i = 0; i < ${J} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${J} - 1] = offset;
  }`},1010:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.reduceLogSumSquare=X.reduceLogSum=X.reduceProd=X.reduceMin=X.reduceMax=X.reduceMean=X.reduceSum=X.parseReduceAttributes=void 0;const te=oe(4910),Q=oe(6145),re=oe(7273),ie=oe(5639),ee=(Y,W,R,U,K)=>{Z(W);const J={name:U,inputNames:["A"],inputTypes:[ie.TextureType.unpacked]};return[Y.run(Object.assign(Object.assign({},J),{cacheHint:R.cacheKey,get:()=>ae(Y,W,R,U,K,J)}),W)]};X.parseReduceAttributes=Y=>{const W=Y.attributes.getInts("axes",[]),R=Y.attributes.getInt("keepdims",1)===1;return(0,te.createAttributeWithCacheKey)({axes:W,keepDims:R})};const ae=(Y,W,R,U,K,J)=>{const ne=[],se=W[0].dims.length||1,le=[],ce=re.ShapeUtil.normalizeAxes(R.axes,W[0].dims.length),de=K(W,ce);let pe=de[1];for(let he=0;he<W[0].dims.length;he++)ce.indexOf(he)>=0||ce.length===0?(R.keepDims&&ne.push(1),pe=`
          for(int j${he} = 0; j${he} < ${W[0].dims[he]}; j${he}++) {
            inputIdx[${he}] = j${he};
            ${pe}
          }`):(le.push(`inputIdx[${he}] = outputIdx[${ne.length}];`),ne.push(W[0].dims[he]));const fe=`
      float process(int outputIdx[${ne.length||1}]) {
        float value;                 // final result
        int inputIdx[${se}];      // addressing input data
        ${le.join(`
`)}
        ${de[0]}       // init ops for reduce max/min
        ${pe}
        ${de[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},J),{output:{dims:ne,type:W[0].type,textureType:ie.TextureType.unpacked},shaderSource:fe})},Z=Y=>{if(!Y||Y.length!==1)throw new Error("Reduce op requires 1 input.");if(Q.NUMBER_TYPES.indexOf(Y[0].type)===-1)throw new Error("Invalid input type.")};X.reduceSum=(Y,W,R)=>ee(Y,W,R,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),X.reduceMean=(Y,W,R)=>ee(Y,W,R,"ReduceMean",(U,K)=>{let J=1;for(let ne=0;ne<U[0].dims.length;ne++)(K.indexOf(ne)>=0||K.length===0)&&(J*=U[0].dims[ne]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${J}.;`]}),X.reduceMax=(Y,W,R)=>ee(Y,W,R,"ReduceMax",(U,K)=>{const J=[];for(let ne=0;ne<U[0].dims.length;ne++)(K.indexOf(ne)>=0||K.length===0)&&J.push(`inputIdx[${ne}] = 0;`);return[`${J.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),X.reduceMin=(Y,W,R)=>ee(Y,W,R,"ReduceMin",(U,K)=>{const J=[];for(let ne=0;ne<U[0].dims.length;ne++)(K.indexOf(ne)>=0||K.length===0)&&J.push(`inputIdx[${ne}] = 0;`);return[`${J.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),X.reduceProd=(Y,W,R)=>ee(Y,W,R,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),X.reduceLogSum=(Y,W,R)=>ee(Y,W,R,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),X.reduceLogSumSquare=(Y,W,R)=>ee(Y,W,R,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.isReshapeCheap=X.processDims3D=X.createPackedReshape3DProgramInfoLoader=void 0;const te=oe(7273),Q=oe(6757),re=oe(5639),ie=oe(5614);X.createPackedReshape3DProgramInfoLoader=(ee,ae,Z)=>{const Y=(W=>({name:"Reshape (packed)",inputTypes:[re.TextureType.packed],inputNames:["A"],cacheHint:`${W}`}))(Z);return Object.assign(Object.assign({},Y),{get:()=>((W,R,U,K)=>{const J=R.dims,ne=K;let se="";for(let de=0;de<4;de++){let pe="";switch(de){case 0:pe="outputCoords = rc;";break;case 1:pe="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:pe="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:pe="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}se+=`
        ${pe}
        ${de>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${de}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${de>0?"}":""}
      `}const le=(0,Q.getGlsl)(W.session.backend.glContext.version),ce=`
      ${function(de){const pe=te.ShapeUtil.computeStrides(de),fe=["b","r","c"],he="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${pe.map((be,Te)=>`int ${fe[Te]} = ${he} / ${be}; ${Te===pe.length-1?`int ${fe[Te+1]} = ${he} - ${fe[Te]} * ${be}`:`index -= ${fe[Te]} * ${be}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(J)}
      ${function(de){const pe=te.ShapeUtil.computeStrides(de);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${pe[0]} + coords.z * ${pe[1]} + coords.y;
  }
`}(ne)}
      ${(0,ie.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${ne[2]};
        int cols = ${ne[1]};

        ${se}
        ${le.output} = result;
      }
    `;return Object.assign(Object.assign({},U),{output:{dims:ne,type:R.type,textureType:re.TextureType.packed},shaderSource:ce,hasMain:!0})})(ee,ae,Y,Z)})},X.processDims3D=function(ee){if(ee.length===0)return[1,1,1];let ae=1;for(let Z=0;Z<ee.length-2;++Z)ae*=ee[Z];return[ae,ee.length>1?ee[ee.length-2]:1,ee[ee.length-1]]},X.isReshapeCheap=function(ee,ae){let Z=!1;return Z=ee.length===0||ae.length===0||(ee.length<2||ae.length<2?ee[ee.length-1]===ae[ae.length-1]:ee[ee.length-1]===ae[ae.length-1]&&ee[ee.length-2]===ae[ae.length-2]),Z}},8126:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.reshape=void 0;const te=oe(7273);X.reshape=(Q,re)=>{const ie=te.ShapeUtil.calculateReshapedDims(re[0].dims,re[1].integerData);return Q.session.pack?[Q.reshapePacked(re[0],ie)]:[Q.reshapeUnpacked(re[0],ie)]}},2801:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseResizeAttributesV11=X.parseResizeAttributesV10=X.resize=void 0;const te=oe(6757),Q=oe(5639),re=oe(432),ie=oe(5614),ee=oe(3980),ae={name:"Resize",inputNames:["A"],inputTypes:[Q.TextureType.packed]};X.resize=(U,K,J)=>((0,ee.validateInputs)(K,J),[U.run(Object.assign(Object.assign({},ae),{cacheHint:J.cacheKey,get:()=>Z(U,K,J)}),K)]),X.parseResizeAttributesV10=U=>(0,ee.parseUpsampleAttributes)(U,10),X.parseResizeAttributesV11=U=>(0,ee.parseUpsampleAttributes)(U,11);const Z=(U,K,J)=>{const ne=(0,te.getGlsl)(U.session.backend.glContext.version),[se,le]=Y(K,J);if(se.every(Ce=>Ce===1)&&J.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},ae),{output:{dims:le,type:K[0].type,textureType:Q.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${ne.texture2D}(X, TexCoords);
                    ${ne.output} = v;
                }`});const ce=le.length;if(ce<2)throw new Error(`output dimension should be at least 2, but got ${ce}`);const de=le[ce-2],pe=le[ce-1],fe=K[0].dims;if(ce!==fe.length)throw new Error(`output dimension should match input ${fe.length}, but got ${ce}`);const he=fe[ce-2],be=fe[ce-1],Te=se[ce-2],xe=se[ce-1];let Se="";if(J.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${J.mode}'`);switch(J.coordinateTransformMode){case"asymmetric":Se=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":Se=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":Se=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${pe}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${de}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${pe}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${de}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":Se=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${pe}.0 - 1.0, ${de}.0 - 1.0, ${pe}.0 - 1.0,
                            ${de}.0 - 1.0);
                        vec4 original = vec4(${be}.0 - 1.0, ${he}.0 - 1.0, ${be}.0 - 1.0,
                            ${he}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${J.coordinateTransformMode}'`)}const Ee=(0,re.getCoordsDataType)(ce),ye=`
            const vec2 inputWH = vec2(${he}.0, ${be}.0);
            const vec4 scaleWHWH = vec4(float(${Te}), float(${xe}), float(${Te}), float(${xe}));
            ${(0,ie.unpackFromChannel)()}
            ${Se}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${Ee} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${de-1};
                bool hasNextCol = rc.z < ${pe-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${ne.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},ae),{output:{dims:le,type:K[0].type,textureType:Q.TextureType.packed},hasMain:!0,shaderSource:ye})},Y=(U,K)=>{const J=U[0].dims;let ne,se=K.scales;if(se.length===0){const ce=U[K.scalesInputIdx];if(ce&&ce.size!==0){if(U[K.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");se=W(ce,K.mode,K.isResize)}else{const de=U[K.sizesInputIdx];if(!de||de.size===0)throw new Error("Either scales or sizes MUST be provided as input.");ne=Array.from(de.integerData),se=R(ne,J,K.mode,K.isResize)}}else if(U[K.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const le=ne||J.map((ce,de)=>Math.floor(ce*se[de]));return[se,le]},W=(U,K,J)=>{const ne=Array.from(U.floatData);return(0,ee.scalesValidation)(ne,K,J),ne},R=(U,K,J,ne)=>{const se=K.length,le=new Array(se);for(let ce=0,de=se;ce<de;ce++)if(K[ce]===0){if(U[ce]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");le[ce]=1}else le[ce]=U[ce]/K[ce];return(0,ee.scalesValidation)(le,J,ne),le}},565:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.shape=void 0;const te=oe(9240);X.shape=(re,ie)=>(Q(ie),[new te.Tensor([ie[0].dims.length],"int32",void 0,void 0,new Int32Array(ie[0].dims))]);const Q=re=>{if(!re||re.length!==1)throw new Error("Shape requires 1 input.")}},2444:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.sliceV10=X.parseSliceAttributes=X.slice=void 0;const te=oe(4910),Q=oe(6145),re=oe(7273),ie=oe(5639),ee={name:"Slice",inputNames:["A"],inputTypes:[ie.TextureType.unpacked]};X.slice=(R,U,K)=>(Z(U),[R.run(Object.assign(Object.assign({},ee),{cacheHint:K.cacheKey,get:()=>ae(R,U[0],K)}),U)]),X.parseSliceAttributes=R=>{const U=R.attributes.getInts("starts"),K=R.attributes.getInts("ends"),J=R.attributes.getInts("axes",[]);return(0,te.createAttributeWithCacheKey)({starts:U,ends:K,axes:J})};const ae=(R,U,K)=>{const J=K.axes.length===0?U.dims.slice(0).map((fe,he)=>he):K.axes,ne=re.ShapeUtil.normalizeAxes(J,U.dims.length),se=K.starts.map((fe,he)=>fe>U.dims[ne[he]]-1?U.dims[ne[he]]:re.ShapeUtil.normalizeAxis(fe,U.dims[ne[he]])),le=K.ends.map((fe,he)=>fe>U.dims[ne[he]]-1?U.dims[ne[he]]:re.ShapeUtil.normalizeAxis(fe,U.dims[ne[he]])),ce=U.dims.slice(),de=[];for(let fe=0;fe<ne.length;fe++)ce[ne[fe]]=le[fe]-se[fe],se[fe]>0&&de.push(`outputIdx[${ne[fe]}] += ${se[fe]};`);const pe=`
      float process(int outputIdx[${ce.length}]) {
        ${de.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},ee),{output:{dims:ce,type:U.type,textureType:ie.TextureType.unpacked},shaderSource:pe})},Z=R=>{if(!R||R.length!==1)throw new Error("Slice requires 1 input.");if(Q.NUMBER_TYPES.indexOf(R[0].type)===-1)throw new Error("Invalid input type.")};X.sliceV10=(R,U)=>{W(U);const K=Y(R,U);return[R.run(Object.assign(Object.assign({},ee),{cacheHint:K.cacheKey,get:()=>ae(R,U[0],K)}),[U[0]])]};const Y=(R,U)=>{if(!R.session.isInitializer(U[1].dataId)||!R.session.isInitializer(U[2].dataId)||U.length>=4&&!R.session.isInitializer(U[3].dataId)||U.length>=5&&!R.session.isInitializer(U[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(U.length>=5&&U[4].integerData.some(se=>se!==1))throw new Error("currently non-1 steps is not supported for Slice");const K=Array.from(U[1].integerData),J=Array.from(U[2].integerData),ne=U.length>=4?Array.from(U[3].integerData):[];return{starts:K,ends:J,axes:ne,cacheKey:`${ne};${K};${J}`}},W=R=>{if(!R||R.length<3||R.length>5)throw new Error("Invalid input number.");if(R[1].type!=="int32"||R[1].dims.length!==1)throw new Error("Invalid input type.");if(R[2].type!=="int32"||R[2].dims.length!==1)throw new Error("Invalid input type.");if(R.length>=4&&(R[3].type!=="int32"||R[3].dims.length!==1))throw new Error("Invalid input type.");if(R.length>=5&&(R[4].type!=="int32"||R[4].dims.length!==1))throw new Error("Invalid input type.")}},815:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.softmaxV13=X.parseSoftmaxAttributesV13=X.parseSoftmaxAttributes=X.softmax=void 0;const te=oe(4910),Q=oe(7273),re=oe(6757),ie=oe(5639),ee=oe(5707),ae={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[ie.TextureType.unpacked]},Z={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[ie.TextureType.unpacked,ie.TextureType.unpacked]},Y={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[ie.TextureType.unpacked,ie.TextureType.unpacked,ie.TextureType.unpacked]};X.softmax=(ne,se,le)=>{J(se);const ce=se[0].dims.slice(),de=Q.ShapeUtil.normalizeAxis(le.axis,ce.length),pe=Q.ShapeUtil.sizeToDimension(ce,de),fe=Q.ShapeUtil.sizeFromDimension(ce,de);return W(ne,se,le,pe,fe)},X.parseSoftmaxAttributes=ne=>(0,te.createAttributeWithCacheKey)({axis:ne.attributes.getInt("axis",1)}),X.parseSoftmaxAttributesV13=ne=>(0,te.createAttributeWithCacheKey)({axis:ne.attributes.getInt("axis",-1)}),X.softmaxV13=(ne,se,le)=>{J(se);const ce=se[0].dims.slice(),de=Q.ShapeUtil.normalizeAxis(le.axis,ce.length),pe=ce.length,fe=de!==pe-1,he=[];let be,Te=[],xe=[];fe&&(Te=Array.from({length:pe}).map((Ce,me)=>me),Te[de]=pe-1,Te[pe-1]=de,Te.map(Ce=>he.push(ce[Ce])),be=(0,te.createAttributeWithCacheKey)({perm:Te}),xe=(0,ee.transpose)(ne,se,be));const Se=fe?Q.ShapeUtil.sizeToDimension(he,pe-1):Q.ShapeUtil.sizeToDimension(ce,pe-1),Ee=fe?Q.ShapeUtil.sizeFromDimension(he,pe-1):Q.ShapeUtil.sizeFromDimension(ce,pe-1),ye=W(ne,fe?xe:se,le,Se,Ee);return fe?(0,ee.transpose)(ne,ye,be):ye};const W=(ne,se,le,ce,de)=>{const pe=R(ne,se[0],ce,de,[ce]),fe=ne.run(Object.assign(Object.assign({},ae),{cacheHint:le.cacheKey,get:()=>pe}),se),he=U(ne,se[0],ce,de,pe.output.dims,[ce]),be=ne.run(Object.assign(Object.assign({},Z),{cacheHint:le.cacheKey,get:()=>he}),[se[0],fe]),Te=K(ne,se[0],ce,de,pe.output.dims,he.output.dims);return[ne.run(Object.assign(Object.assign({},Y),{cacheHint:le.cacheKey,get:()=>Te}),[se[0],fe,be])]},R=(ne,se,le,ce,de)=>{const[pe,fe]=ne.calculateTextureWidthAndHeight(se.dims,ie.TextureType.unpacked),he=de.length;if(le<1||ce<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(de.length!==1)throw new Error("Dimensionality of the output should be 1");if(de[0]!==le)throw new Error("Shape of the output should be equal to logical row count");const be=(0,re.getGlsl)(ne.session.backend.glContext.version),Te=`
      float process(int[${he}] indices) {
        int logical_row_start_offset = indices[0] * ${ce};

        float max = getColorAsFloat(${be.texture2D}(A, offsetToCoords(logical_row_start_offset, ${pe},
        ${fe} )));
        for(int i=1; i<${ce}; ++i)
        {
          float current = getColorAsFloat(${be.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${pe}, ${fe})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},ae),{output:{dims:de,type:se.type,textureType:ie.TextureType.unpacked},shaderSource:Te})},U=(ne,se,le,ce,de,pe)=>{const[fe,he]=ne.calculateTextureWidthAndHeight(se.dims,ie.TextureType.unpacked),be=pe.length;if(le<1||ce<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(pe.length!==1)throw new Error("Dimensionality of the output should be 1");if(pe[0]!==le)throw new Error("Shape of the output should be equal to logical row count");if(de.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(de[0]!==le)throw new Error("Shape of the intermediate results should be equal to logical row count");const Te=`
      float process(int[${be}] indices) {
        int logical_row_start_offset = indices[0] * ${ce};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${ce}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,re.getGlsl)(ne.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${fe}, ${he}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},Z),{output:{dims:pe,type:se.type,textureType:ie.TextureType.unpacked},shaderSource:Te})},K=(ne,se,le,ce,de,pe)=>{const[fe,he]=ne.calculateTextureWidthAndHeight(se.dims,ie.TextureType.unpacked),be=se.dims.length;if(le<1||ce<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(de.length!==1||pe.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(de[0]!==le||pe[0]!==le)throw new Error("Shape of the intermediate results should be equal to logical row count");const Te=`
      float process(int[${be}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${fe}, ${he});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${ce};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},Y),{output:{dims:se.dims,type:se.type,textureType:ie.TextureType.unpacked},shaderSource:Te})},J=ne=>{if(!ne||ne.length!==1)throw new Error("Softmax requires 1 input.");if(ne[0].type!=="float32"&&ne[0].type!=="float64")throw new Error("Invalid input type")}},564:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseSplitAttributes=X.split=void 0;const te=oe(4910),Q=oe(7273),re=oe(5639),ie={name:"Split",inputNames:["A"],inputTypes:[re.TextureType.unpacked]};X.split=(Y,W,R)=>{Z(W);const U=Q.ShapeUtil.normalizeAxis(R.axis,W[0].dims.length),K=ee(Y,W,U,R),J=[];for(let ne=0;ne<K;++ne)J.push(Y.run(Object.assign(Object.assign({},ie),{cacheHint:`${R.cacheKey};${ne}`,get:()=>ae(Y,W[0],R,U,ne)}),W));return J},X.parseSplitAttributes=Y=>{const W=Y.attributes.getInt("axis",0),R=Y.attributes.getInts("split",[]),U=Y.outputs.length;return(0,te.createAttributeWithCacheKey)({axis:W,split:R,numOutputs:U})};const ee=(Y,W,R,U)=>{const[,K]=Q.SplitUtil.splitShape(W[0].dims,R,U.split,U.numOutputs);return K.length},ae=(Y,W,R,U,K)=>{const[J,ne]=Q.SplitUtil.splitShape(W.dims,U,R.split,R.numOutputs),se=ne[K],le=J[K],ce=`
      float process(int indices[${le.length}]) {
        indices[${U}] += ${se};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},ie),{cacheHint:`${R.cacheKey}:${K}`,output:{dims:le,type:W.type,textureType:re.TextureType.unpacked},shaderSource:ce})},Z=Y=>{if(!Y||Y.length!==1)throw new Error("Split requires one input.");if(Y[0].type!=="int8"&&Y[0].type!=="uint8"&&Y[0].type!=="int16"&&Y[0].type!=="uint16"&&Y[0].type!=="int32"&&Y[0].type!=="uint32"&&Y[0].type!=="float32"&&Y[0].type!=="float64"&&Y[0].type!=="bool")throw new Error("Invalid input type.")}},5416:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseSqueezeAttributes=X.squeezeV13=X.squeeze=void 0;const te=oe(7273);X.squeeze=(ie,ee,ae)=>{Q(ee);const Z=te.ShapeUtil.squeezeShape(ee[0].dims,ae);return[ie.reshapeUnpacked(ee[0],Z)]},X.squeezeV13=(ie,ee)=>(re(ee),(0,X.squeeze)(ie,[ee[0]],Array.from(ee[1].integerData))),X.parseSqueezeAttributes=ie=>ie.attributes.getInts("axes");const Q=ie=>{if(!ie||ie.length!==1)throw new Error("Squeeze requires 1 input.");if(ie[0].type==="string")throw new Error("invalid input tensor types.")},re=ie=>{if(!ie||ie.length!==2)throw new Error("Squeeze requires 2 inputs.");if(ie[1].type!=="int32")throw new Error("Invalid input type.")}},1240:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.sum=void 0;const te=oe(6757),Q=oe(5639);X.sum=(ee,ae)=>{ie(ae);const Z={name:"Sum",inputNames:ae.map((Y,W)=>`X${W}`),inputTypes:new Array(ae.length).fill(Q.TextureType.unpacked)};return[ee.run(Object.assign(Object.assign({},Z),{get:()=>re(ee,ae,Z)}),ae)]};const re=(ee,ae,Z)=>{const Y=(0,te.getGlsl)(ee.session.backend.glContext.version),W=ae[0].dims.slice(),R=`
      void main() {
        vec4 result = ${ae.map((U,K)=>`${Y.texture2D}(X${K},TexCoords)`).join(" + ")};
        ${Y.output} = result;
      }
    `;return Object.assign(Object.assign({},Z),{output:{dims:W,type:ae[0].type,textureType:Q.TextureType.unpacked},hasMain:!0,shaderSource:R})},ie=ee=>{if(!ee||ee.length===0)throw new Error("Sum requires inputs.");const ae=ee[0].dims.length;for(let Z=1;Z<ee.length;Z++){if(ae!==ee[Z].dims.length)throw new Error("Input shapes are mismatched.");for(let Y=0;Y<ae;Y++)if(ee[0].dims[Y]!==ee[Z].dims[Y])throw new Error("Input shapes are not matched.")}if(ee[0].type!=="float32"&&ee[0].type!=="float64")throw new Error("Invalid input type.");for(let Z=1;Z<ee.length;Z++)if(ee[0].type!==ee[Z].type)throw new Error("Input types are not matched.")}},5944:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.tile=void 0;const te=oe(6145),Q=oe(5639);X.tile=(ee,ae)=>{ie(ae);const Z={name:"Tile",inputNames:["A"],inputTypes:[Q.TextureType.unpacked]};return[ee.run(Object.assign(Object.assign({},Z),{get:()=>re(ee,ae,Z)}),ae)]};const re=(ee,ae,Z)=>{const Y=ae[0].dims.slice(),W=new Array(Y.length),R=[];for(let J=0;J<Y.length;J++)W[J]=Y[J]*ae[1].numberData[J],R.push(`inputIdx[${J}] = int(mod(float(outputIdx[${J}]), ${Y[J]}.));`);const U=W.length,K=`
      float process(int outputIdx[${U}]) {
        int inputIdx[${U}];
        ${R.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},Z),{output:{dims:W,type:ae[0].type,textureType:Q.TextureType.unpacked},shaderSource:K})},ie=ee=>{if(!ee||ee.length!==2)throw new Error("Tile requires 2 input.");if(ee[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(ee[1].dims[0]!==ee[0].dims.length)throw new Error("Invalid input shape.");if(te.NUMBER_TYPES.indexOf(ee[0].type)===-1)throw new Error("Invalid input type.");if(ee[1].type!=="int32"&&ee[1].type!=="int16")throw new Error("Invalid repeat type.")}},5707:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseTransposeAttributes=X.transpose=void 0;const te=oe(4910),Q=oe(7273),re=oe(5639),ie={name:"Transpose",inputNames:["A"],inputTypes:[re.TextureType.unpacked]};X.transpose=(R,U,K)=>(W(U),[R.run(Object.assign(Object.assign({},ie),{cacheHint:K.cacheKey,get:()=>ee(R,U[0],K.perm)}),U)]),X.parseTransposeAttributes=R=>(0,te.createAttributeWithCacheKey)({perm:R.attributes.getInts("perm",[])});const ee=(R,U,K)=>{const J=U.dims;K=ae(J,K);const ne=Z(J,K),se=J.length,le=`
      ${Y("perm",K,se)}
      float process(int indices[${se}]) {
        int a[${se}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},ie),{output:{dims:ne,type:U.type,textureType:re.TextureType.unpacked},shaderSource:le})},ae=(R,U)=>(U&&U.length!==R.length&&(U=[...R.keys()].reverse()),U),Z=(R,U)=>(U=ae(R,U),Q.ShapeUtil.sortBasedOnPerm(R,U)),Y=(R,U,K)=>{const J=[];J.push(`void ${R}(out int a[${K}], int src[${K}]) {`);for(let ne=0;ne<K;++ne)J.push(`	a[${U[ne]}]=src[${ne}];`);return J.push("	}"),J.join(`
`)},W=R=>{if(!R||R.length!==1)throw new Error("Transpose requires 1 input.");if(R[0].type!=="float32"&&R[0].type!=="float64")throw new Error("input should be float tensor")}},2488:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.encodeAsUint8=void 0;const te=oe(6757),Q=oe(5639);X.encodeAsUint8=(re,ie)=>{const ee=ie.shape,ae=(0,te.getGlsl)(re.session.backend.glContext.version),Z=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${ae.texture2D}(X,TexCoords).r;
      ${ae.output} = encodeAsUint8(value);
    }`,Y={name:"Uint8Encode",inputTypes:[Q.TextureType.unpacked],inputNames:["X"],output:{dims:ee,type:ie.tensor.type,textureType:Q.TextureType.downloadUint8AsFloat},shaderSource:Z,hasMain:!0};return re.executeProgram(Y,[ie.tensor])}},9087:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.tanh=X.tan=X.sqrt=X.sin=X.sigmoid=X.relu=X.not=X.neg=X.log=X.parseLeakyReluAttributes=X.leakyRelu=X.identity=X.floor=X.exp=X.parseEluAttributes=X.elu=X.cos=X.ceil=X.clipV11=X.parseClipAttributes=X.clip=X.atan=X.asin=X.acos=X.abs=X.glslTanh=X.glslTan=X.glslSqrt=X.glslSigmoid=X.glslRelu=X.glslSin=X.glslNot=X.glslNeg=X.glslLog=X.glslLeakyRelu=X.glslIdentity=X.glslClip=X.glslFloor=X.glslExp=X.glslElu=X.glslCos=X.glslCeil=X.glslAtan=X.glslAsin=X.glslAcos=X.glslAbs=void 0;const te=oe(4910),Q=oe(7273),re=oe(1997),ie=oe(6757),ee=oe(5639);function ae(){return ye("abs")}function Z(){return ye("acos")}function Y(){return ye("asin")}function W(){return ye("atan")}function R(){return ye("ceil")}function U(){return ye("cos")}function K(we){const Ae="elu";return{body:`
  const float alpha = float(${we});

  float ${Ae}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${Ae}_(vec4 v) {
    return vec4(${Ae}_(v.x), ${Ae}_(v.y), ${Ae}_(v.z), ${Ae}_(v.w));
  }
  `,name:Ae,type:re.FunctionType.ValueBased}}function J(){return ye("exp")}function ne(){return ye("floor")}function se(we,Ae){const Fe="clip";return{body:`
  const float min = float(${we});
  const float max = float(${Ae});

  float ${Fe}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${Fe}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:Fe,type:re.FunctionType.ValueBased}}function le(){const we="indentity";return{body:`
  float ${we}_(float a) {
    return a;
  }
  vec4 ${we}_(vec4 v) {
    return v;
  }
  `,name:we,type:re.FunctionType.ValueBased}}function ce(we){const Ae="leakyRelu";return{body:`
  const float alpha = float(${we});

  float ${Ae}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${Ae}_(vec4 v) {
    return vec4(${Ae}_(v.x), ${Ae}_(v.y), ${Ae}_(v.z), ${Ae}_(v.w));
  }
  `,name:Ae,type:re.FunctionType.ValueBased}}function de(){return ye("log")}function pe(){const we="neg";return{body:`
  float ${we}_(float a) {
    return -a;
  }
  vec4 ${we}_(vec4 v) {
    return -v;
  }
  `,name:we,type:re.FunctionType.ValueBased}}function fe(){const we="not";return{body:`
  float ${we}_(float a) {
    return float( ! bool(a) );
  }
  bool ${we}_(bool a) {
    return !a;
  }
  vec4 ${we}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${we}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:we,type:re.FunctionType.ValueBased}}function he(){return ye("sin")}function be(){const we="relu";return{body:`
  float ${we}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${we}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:we,type:re.FunctionType.ValueBased}}function Te(){const we="sigmoid";return{body:`
  float ${we}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${we}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:we,type:re.FunctionType.ValueBased}}function xe(){return ye("sqrt")}function Se(){return ye("tan")}function Ee(){const we="tanh";return{body:`
  float ${we}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${we}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:we,type:re.FunctionType.ValueBased}}function ye(we){return{body:`
  float ${we}_(float a) {
    return ${we}(a);
  }
  vec4 ${we}_(vec4 v) {
    return ${we}(v);
  }
  `,name:we,type:re.FunctionType.ValueBased}}X.glslAbs=ae,X.glslAcos=Z,X.glslAsin=Y,X.glslAtan=W,X.glslCeil=R,X.glslCos=U,X.glslElu=K,X.glslExp=J,X.glslFloor=ne,X.glslClip=se,X.glslIdentity=le,X.glslLeakyRelu=ce,X.glslLog=de,X.glslNeg=pe,X.glslNot=fe,X.glslSin=he,X.glslRelu=be,X.glslSigmoid=Te,X.glslSqrt=xe,X.glslTan=Se,X.glslTanh=Ee;const Ce=(we,Ae,Fe,Le)=>{const Be=we.session.pack?ee.TextureType.packed:ee.TextureType.unpacked,je={name:Fe.name,inputTypes:[Be],inputNames:["A"],cacheHint:Le};return Object.assign(Object.assign({},je),{get:()=>((Ve,Ge,He,Ke)=>{const Ye=Ve.session.pack?ee.TextureType.packed:ee.TextureType.unpacked,Ze=(0,ie.getGlsl)(Ve.session.backend.glContext.version);return Object.assign(Object.assign({},Ge),{output:{dims:He.dims,type:He.type,textureType:Ye},shaderSource:`
     ${Ke.body}
     void main() {
       vec4 v = ${Ze.texture2D}(A, TexCoords);
       v = ${Ke.name}_(v);
       ${Ze.output} = v;
     }
     `,hasMain:!0})})(we,je,Ae,Fe)})};X.abs=(we,Ae)=>[we.run(Ce(we,Ae[0],ae()),Ae)],X.acos=(we,Ae)=>[we.run(Ce(we,Ae[0],Z()),Ae)],X.asin=(we,Ae)=>[we.run(Ce(we,Ae[0],Y()),Ae)],X.atan=(we,Ae)=>[we.run(Ce(we,Ae[0],W()),Ae)],X.clip=(we,Ae,Fe)=>[we.run(Ce(we,Ae[0],se(Fe.min,Fe.max),Fe.cacheKey),Ae)],X.parseClipAttributes=we=>(0,te.createAttributeWithCacheKey)({min:we.attributes.getFloat("min",Q.MIN_CLIP),max:we.attributes.getFloat("max",Q.MAX_CLIP)}),X.clipV11=(we,Ae)=>{const Fe=me(we,Ae);return(0,X.clip)(we,[Ae[0]],Fe)};const me=(we,Ae)=>{if(Ae.length>=3&&(!we.session.isInitializer(Ae[1].dataId)||!we.session.isInitializer(Ae[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const Fe=Ae.length>=3?Ae[1].numberData[0]:Q.MIN_CLIP,Le=Ae.length>=3?Ae[2].numberData[0]:Q.MAX_CLIP;return(0,te.createAttributeWithCacheKey)({min:Fe,max:Le})};X.ceil=(we,Ae)=>[we.run(Ce(we,Ae[0],R()),Ae)],X.cos=(we,Ae)=>[we.run(Ce(we,Ae[0],U()),Ae)],X.elu=(we,Ae,Fe)=>[we.run(Ce(we,Ae[0],K(Fe.alpha),Fe.cacheKey),Ae)],X.parseEluAttributes=we=>(0,te.createAttributeWithCacheKey)({alpha:we.attributes.getFloat("alpha",1)}),X.exp=(we,Ae)=>[we.run(Ce(we,Ae[0],J()),Ae)],X.floor=(we,Ae)=>[we.run(Ce(we,Ae[0],ne()),Ae)],X.identity=(we,Ae)=>[we.run(Ce(we,Ae[0],le()),Ae)],X.leakyRelu=(we,Ae,Fe)=>[we.run(Ce(we,Ae[0],ce(Fe.alpha),Fe.cacheKey),Ae)],X.parseLeakyReluAttributes=we=>(0,te.createAttributeWithCacheKey)({alpha:we.attributes.getFloat("alpha",.01)}),X.log=(we,Ae)=>[we.run(Ce(we,Ae[0],de()),Ae)],X.neg=(we,Ae)=>[we.run(Ce(we,Ae[0],pe()),Ae)],X.not=(we,Ae)=>[we.run(Ce(we,Ae[0],fe()),Ae)],X.relu=(we,Ae)=>[we.run(Ce(we,Ae[0],be()),Ae)],X.sigmoid=(we,Ae)=>[we.run(Ce(we,Ae[0],Te()),Ae)],X.sin=(we,Ae)=>[we.run(Ce(we,Ae[0],he()),Ae)],X.sqrt=(we,Ae)=>[we.run(Ce(we,Ae[0],xe()),Ae)],X.tan=(we,Ae)=>[we.run(Ce(we,Ae[0],Se()),Ae)],X.tanh=(we,Ae)=>[we.run(Ce(we,Ae[0],Ee()),Ae)]},540:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createUnpackProgramInfoLoader=X.createUnpackProgramInfo=void 0;const te=oe(6757),Q=oe(5639),re=oe(432),ie=oe(5614),ee={name:"unpack",inputNames:["A"],inputTypes:[Q.TextureType.packed]};X.createUnpackProgramInfo=(ae,Z)=>{const Y=Z.dims.length,W=(0,ie.getChannels)("rc",Y),R=W.slice(-2),U=(0,re.getCoordsDataType)(Y),K=(0,ie.unpackFromChannel)(),J=Z.dims.length===0?"":function(le,ce){if(le===1)return"rc";let de="";for(let pe=0;pe<le;pe++)de+=ce[pe],pe<le-1&&(de+=",");return de}(Y,W),ne=Y<=1?"rc":`vec2(${R.join(",")})`,se=`
    ${K}
    void main() {
      ${U} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${J});

       ${(0,te.getGlsl)(ae.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${ne}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},ee),{hasMain:!0,output:{dims:Z.dims,type:Z.type,textureType:Q.TextureType.unpacked},shaderSource:se})},X.createUnpackProgramInfoLoader=(ae,Z)=>Object.assign(Object.assign({},ee),{get:()=>(0,X.createUnpackProgramInfo)(ae,Z)})},7862:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseUnsqueezeAttributes=X.unsqueezeV13=X.unsqueeze=void 0;const te=oe(7273);X.unsqueeze=(ie,ee,ae)=>{Q(ee);const Z=te.ShapeUtil.unsqueezeShape(ee[0].dims,ae);return[ie.reshapeUnpacked(ee[0],Z)]},X.unsqueezeV13=(ie,ee)=>(re(ee),(0,X.unsqueeze)(ie,[ee[0]],Array.from(ee[1].integerData))),X.parseUnsqueezeAttributes=ie=>ie.attributes.getInts("axes");const Q=ie=>{if(!ie||ie.length!==1)throw new Error("Unsqueeze requires 1 input.");if(ie[0].type==="string")throw new Error("invalid input tensor types.")},re=ie=>{if(!ie||ie.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(ie[1].type!=="int32")throw new Error("Invalid input type.")}},3980:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.scalesValidation=X.validateInputs=X.parseUpsampleAttributes=X.parseUpsampleAttributesV9=X.parseUpsampleAttributesV7=X.upsample=void 0;const te=oe(4910),Q=oe(6757),re=oe(5639),ie={name:"Upsample",inputNames:["X"],inputTypes:[re.TextureType.unpacked]};X.upsample=(ae,Z,Y)=>((0,X.validateInputs)(Z,Y),[ae.run(Object.assign(Object.assign({},ie),{cacheHint:Y.cacheKey,get:()=>ee(ae,Z,Y)}),Z)]),X.parseUpsampleAttributesV7=ae=>(0,X.parseUpsampleAttributes)(ae,7),X.parseUpsampleAttributesV9=ae=>(0,X.parseUpsampleAttributes)(ae,9),X.parseUpsampleAttributes=(ae,Z)=>{const Y=Z>=10,W=ae.attributes.getString("mode","nearest");if(W!=="nearest"&&W!=="linear"&&(Z<11||W!=="cubic"))throw new Error(`unrecognized mode: ${W}`);let R=[];Z<9&&(R=ae.attributes.getFloats("scales"),(0,X.scalesValidation)(R,W,Y));const U=ae.attributes.getFloat("extrapolation_value",0),K=Z>10?ae.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(K)===-1)throw new Error(`coordinate_transform_mode '${K}' is not supported`);const J=K==="tf_crop_and_resize",ne=J,se=W==="nearest"&&Z>=11?ae.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(se)===-1)throw new Error(`nearest_mode '${se}' is not supported`);const le=ae.attributes.getFloat("cubic_coeff_a",-.75),ce=ae.attributes.getInt("exclude_outside",0)!==0;if(ce&&W!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const de=Z<11||W==="nearest"&&K==="asymmetric"&&se==="floor";let pe=0,fe=0,he=0;return Z>10?ae.inputs.length>2?(pe=1,fe=2,he=3):(fe=1,he=2):Z===9&&(fe=1),(0,te.createAttributeWithCacheKey)({opset:Z,isResize:Y,mode:W,scales:R,extrapolationValue:U,coordinateTransformMode:K,useExtrapolation:ne,needRoiInput:J,nearestMode:se,cubicCoefficientA:le,excludeOutside:ce,useNearest2xOptimization:de,roiInputIdx:pe,scalesInputIdx:fe,sizesInputIdx:he})};const ee=(ae,Z,Y)=>{const W=(0,Q.getGlsl)(ae.session.backend.glContext.version),[R,U]=ae.calculateTextureWidthAndHeight(Z[0].dims,re.TextureType.unpacked),K=Z[0].dims.map((he,be)=>Math.floor(he*Y.scales[be])),[J,ne]=ae.calculateTextureWidthAndHeight(K,re.TextureType.unpacked),se=K.length,le=new Array(se),ce=new Array(se);let de=`
      int output_pitches[${se}];
      int input_pitches[${se}];
      `;for(let he=se-1;he>=0;he--)le[he]=he===se-1?1:le[he+1]*K[he+1],ce[he]=he===se-1?1:ce[he+1]*Z[0].dims[he+1],de+=`
        output_pitches[${he}] = ${le[he]};
        input_pitches[${he}] = ${ce[he]};
        `;const pe=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${R}, ${U});
        float value = getColorAsFloat(${W.texture2D}(X, coords));
        return value;
      }
      `,fe=Y.mode==="nearest"?`
    ${pe}
    float process(int indices[${se}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${J}, ${ne});

      ${de}

      int d, m;
      for (int dim = 0; dim < ${se}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:se===4?`
    ${pe}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${J}, ${ne});

      ${de}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${Z[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${pe}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${J}, ${ne});

      ${de}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${Z[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},ie),{output:{dims:K,type:Z[0].type,textureType:re.TextureType.unpacked},shaderSource:fe,variables:[{name:"scales",type:"int",arrayLength:Y.scales.length,data:Y.scales.map(he=>Math.ceil(he))}]})};X.validateInputs=(ae,Z)=>{if(!ae||Z.opset<9&&ae.length!==1||Z.opset>=9&&Z.opset<11&&ae.length!==2||Z.opset>=11&&ae.length<2)throw new Error("invalid inputs.");if(Z.scales.length>0&&ae[0].dims.length!==Z.scales.length)throw new Error("Invalid input shape.");if(ae[0].type==="string")throw new Error("Invalid input tensor types.")},X.scalesValidation=(ae,Z,Y)=>{if(Y){for(const W of ae)if(W<=0)throw new Error("Scale value should be greater than 0.")}else for(const W of ae)if(W<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(Z!=="linear"&&Z!=="cubic"||ae.length===2||ae.length===4&&ae[0]===1&&ae[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${Y?"Resize":"Upsample"} opeartor.`)}},2757:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.ProgramManager=void 0;const te=oe(2235),Q=oe(1315),re=oe(8897),ie=oe(6757);X.ProgramManager=class{constructor(ee,ae,Z){this.profiler=ee,this.glContext=ae,this.textureLayoutStrategy=Z,this.repo=new Map,this.attributesBound=!1}getArtifact(ee){return this.repo.get(ee)}setArtifact(ee,ae){this.repo.set(ee,ae)}run(ee,ae,Z){var Y;this.profiler.event("op",`ProgramManager.run ${(Y=ee.programInfo.name)!==null&&Y!==void 0?Y:"unknown kernel"}`,()=>{var W;const R=this.glContext.gl,U=ee.program;R.useProgram(U);try{this.bindOutput(Z),this.attributesBound||this.bindAttributes(ee.attribLocations),this.bindUniforms(ee.uniformLocations,(W=ee.programInfo.variables)!==null&&W!==void 0?W:[],ae)}catch(K){throw Q.Logger.error("ProgramManager",ee.programInfo.shaderSource),K}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(ee=>this.glContext.deleteProgram(ee.program))}build(ee,ae,Z){return this.profiler.event("backend","ProgramManager.build",()=>{const Y=new re.GlslPreprocessor(this.glContext,ee,ae,Z),W=Y.preprocess(),R=this.compile(W);return{programInfo:ee,program:R,uniformLocations:this.getUniformLocations(R,Y.context.programInfo.inputNames,Y.context.programInfo.variables),attribLocations:this.getAttribLocations(R)}})}compile(ee){if(!this.vertexShader){Q.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const Y=(0,ie.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(Y,this.glContext.gl.VERTEX_SHADER)}te.env.debug&&Q.Logger.verbose("ProrgramManager",`FragShader:
${ee}
`);const ae=this.glContext.compileShader(ee,this.glContext.gl.FRAGMENT_SHADER),Z=this.glContext.createProgram(this.vertexShader,ae);return this.glContext.deleteShader(ae),Z}bindOutput(ee){const ae=ee.width,Z=ee.height;Q.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${ae}/${Z}, shape=${ee.shape}, type=${ee.tensor.type}`),this.glContext.attachFramebuffer(ee.texture,ae,Z)}bindAttributes(ee){const ae=ee.position,Z=ee.textureCoord;this.glContext.setVertexAttributes(ae,Z),this.attributesBound=!0}bindUniforms(ee,ae,Z){var Y;const W=this.glContext.gl;let R=0;for(const{name:U,type:K,location:J,arrayLength:ne}of ee){const se=(Y=ae.find(le=>le.name===U))===null||Y===void 0?void 0:Y.data;if(K!=="sampler2D"&&!se)throw new Error(`variable '${U}' does not have data defined in program info`);switch(K){case"sampler2D":this.bindTexture(Z[R],J,R),R++;break;case"float":ne?W.uniform1fv(J,se):W.uniform1f(J,se);break;case"int":ne?W.uniform1iv(J,se):W.uniform1i(J,se);break;default:throw new Error(`Uniform not implemented: ${K}`)}}}bindTexture(ee,ae,Z){this.glContext.bindTextureToUniform(ee.texture,Z,ae)}getAttribLocations(ee){return{position:this.getAttribLocation(ee,"position"),textureCoord:this.getAttribLocation(ee,"textureCoord")}}getUniformLocations(ee,ae,Z){const Y=[];if(ae)for(const W of ae)Y.push({name:W,type:"sampler2D",location:this.getUniformLocation(ee,W)});if(Z)for(const W of Z)Y.push(Object.assign(Object.assign({},W),{location:this.getUniformLocation(ee,W.name)}));return Y}getUniformLocation(ee,ae){const Z=this.glContext.gl.getUniformLocation(ee,ae);if(Z===null)throw new Error(`Uniform ${ae} not found.`);return Z}getAttribLocation(ee,ae){return this.glContext.gl.getAttribLocation(ee,ae)}}},2171:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.WebGLSessionHandler=void 0;const te=oe(1315),Q=oe(5881),re=oe(7860),ie=oe(4110),ee=oe(2757),ae=oe(7618),Z=oe(5243);X.WebGLSessionHandler=class{constructor(Y,W){this.backend=Y,this.context=W,this.layoutStrategy=new ae.PreferLogicalStrategy(Y.glContext.maxTextureSize),this.programManager=new ee.ProgramManager(this.context.profiler,Y.glContext,this.layoutStrategy),this.textureManager=new Z.TextureManager(Y.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:Y.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=Y.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new re.WebGLInferenceHandler(this)}onGraphInitialized(Y){const W=Y.getValues().filter(R=>R.from===-1&&R.tensor).map(R=>R.tensor.dataId);this.initializers=new Set(W)}isInitializer(Y){return!!this.initializers&&this.initializers.has(Y)}addInitializer(Y){this.initializers.add(Y)}getTextureData(Y,W){return W?this.packedTextureDataCache.get(Y):this.unpackedTextureDataCache.get(Y)}setTextureData(Y,W,R=!1){te.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),R?this.packedTextureDataCache.set(Y,W):this.unpackedTextureDataCache.set(Y,W)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(Y=>this.textureManager.releaseTexture(Y,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(Y=>this.textureManager.releaseTexture(Y,!0)),this.unpackedTextureDataCache=new Map}resolve(Y,W,R){const U=(0,Q.resolveOperator)(Y,W,ie.WEBGL_OP_RESOLVE_RULES);return{impl:U.opImpl,context:U.opInit?U.opInit(Y,R):Y}}}},9622:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Uint8DataEncoder=X.RGBAFloatDataEncoder=X.RedFloat32DataEncoder=void 0;const te=oe(1315);X.RedFloat32DataEncoder=class{constructor(Q,re=1){if(re===1)this.internalFormat=Q.R32F,this.format=Q.RED,this.textureType=Q.FLOAT,this.channelSize=re;else{if(re!==4)throw new Error(`Invalid number of channels: ${re}`);this.internalFormat=Q.RGBA32F,this.format=Q.RGBA,this.textureType=Q.FLOAT,this.channelSize=re}}encode(Q,re){let ie,ee;return Q.constructor!==Float32Array&&(te.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),ee=new Float32Array(Q)),re*this.channelSize>Q.length?(te.Logger.warning("Encoder","Source data too small. Allocating larger array"),ee=Q,ie=this.allocate(re*this.channelSize),ee.forEach((ae,Z)=>ie[Z]=ae)):(ee=Q,ie=ee),ie}allocate(Q){return new Float32Array(4*Q)}decode(Q,re){return this.channelSize===1?Q.filter((ie,ee)=>ee%4==0).subarray(0,re):Q.subarray(0,re)}},X.RGBAFloatDataEncoder=class{constructor(Q,re=1,ie){if(re!==1&&re!==4)throw new Error(`Invalid number of channels: ${re}`);this.internalFormat=Q.RGBA,this.format=Q.RGBA,this.channelSize=re,this.textureType=ie||Q.FLOAT}encode(Q,re){let ie=Q;return this.channelSize===1&&(te.Logger.verbose("Encoder","Exploding into a larger array"),ie=this.allocate(re),Q.forEach((ee,ae)=>ie[4*ae]=ee)),ie}allocate(Q){return new Float32Array(4*Q)}decode(Q,re){return this.channelSize===1?Q.filter((ie,ee)=>ee%4==0).subarray(0,re):Q.subarray(0,re)}},X.Uint8DataEncoder=class{constructor(Q,re=1){if(this.channelSize=4,re===1)this.internalFormat=Q.ALPHA,this.format=Q.ALPHA,this.textureType=Q.UNSIGNED_BYTE,this.channelSize=re;else{if(re!==4)throw new Error(`Invalid number of channels: ${re}`);this.internalFormat=Q.RGBA,this.format=Q.RGBA,this.textureType=Q.UNSIGNED_BYTE,this.channelSize=re}}encode(Q,re){return new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength)}allocate(Q){return new Uint8Array(Q*this.channelSize)}decode(Q,re){if(Q instanceof Uint8Array)return Q.subarray(0,re);throw new Error(`Invalid array type: ${Q.constructor}`)}}},7618:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.getBatchDim=X.sizeToSquarishShape=X.getRowsCols=X.sizeFromShape=X.isInt=X.parseAxisParam=X.squeezeShape=X.PreferLogicalStrategy=X.AlwaysKeepOriginalSizeStrategy=void 0;const te=oe(1315),Q=oe(7273);function re(Y,W){const R=[],U=[],K=W!=null&&Array.isArray(W)&&W.length===0,J=W==null||K?null:ie(W,Y).sort();let ne=0;for(let se=0;se<Y.length;++se){if(J!=null){if(J[ne]===se&&Y[se]!==1)throw new Error(`Can't squeeze axis ${se} since its dim '${Y[se]}' is not 1`);(J[ne]==null||J[ne]>se)&&Y[se]===1&&(R.push(Y[se]),U.push(se)),J[ne]<=se&&ne++}Y[se]!==1&&(R.push(Y[se]),U.push(se))}return{newShape:R,keptDims:U}}function ie(Y,W){const R=W.length;return Y=Y==null?W.map((U,K)=>K):[].concat(Y),(0,Q.assert)(Y.every(U=>U>=-R&&U<R),()=>`All values in axis param must be in range [-${R}, ${R}) but got axis ${Y}`),(0,Q.assert)(Y.every(ee),()=>`All values in axis param must be integers but got axis ${Y}`),Y.map(U=>U<0?R+U:U)}function ee(Y){return Y%1==0}function ae(Y){if(Y.length===0)return 1;let W=Y[0];for(let R=1;R<Y.length;R++)W*=Y[R];return W}function Z(Y){const W=Math.ceil(Math.sqrt(Y));return[W,Math.ceil(Y/W)]}X.AlwaysKeepOriginalSizeStrategy=class{constructor(Y){this.maxTextureSize=Y}computeTextureWH(Y,W){if(Y.length===0)return[1,1];const R=this.maxTextureSize;if(W&&W.breakAxis!==void 0){const J=W.breakAxis>=Y.length?1:Y.slice(W.breakAxis).reduce((se,le)=>se*le),ne=W.breakAxis<=0?1:Y.slice(0,W.breakAxis).reduce((se,le)=>se*le);if(!(J>R||ne>R))return[J,ne];te.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${Y}, breakAxis:${W.breakAxis}`)}const U=Y.reduce((J,ne)=>J*ne);let K=Math.floor(Math.sqrt(U));for(;K<R&&K<U&&U%K!=0;K++);if(K>=R||U%K!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${Y}`);return[K,U/K]}},X.PreferLogicalStrategy=class{constructor(Y){this.maxTextureSize=Y}computeTextureWH(Y,W){const R=this.computeTexture(Y,W);return W&&W.isPacked&&(R[0]/=2,R[1]/=2),W&&W.reverseWH?[R[1],R[0]]:R}computeTexture(Y,W){const R=W&&W.isPacked;if(Y.length===0)return R?[2,2]:[1,1];let U=this.maxTextureSize;if(W&&W.breakAxis!==void 0){const ne=W.breakAxis>=Y.length?1:Y.slice(W.breakAxis).reduce((le,ce)=>le*ce),se=W.breakAxis<=0?1:Y.slice(0,W.breakAxis).reduce((le,ce)=>le*ce);if(!(ne>U||se>U))return[ne,se];te.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${Y}, breakAxis:${W.breakAxis}`)}let K=Y.slice(0);R&&(U*=2,K=K.map((ne,se)=>se>=K.length-2?K[se]%2==0?K[se]:K[se]+1:K[se]),K.length===1&&(K=[2,K[0]])),K.length!==2&&(K=re(K).newShape);const J=ae(K);return K.length<=1&&J<=U?[1,J]:K.length===2&&K[0]<=U&&K[1]<=U?K:K.length===3&&K[0]*K[1]<=U&&K[2]<=U?[K[0]*K[1],K[2]]:K.length===3&&K[0]<=U&&K[1]*K[2]<=U?[K[0],K[1]*K[2]]:K.length===4&&K[0]*K[1]*K[2]<=U&&K[3]<=U?[K[0]*K[1]*K[2],K[3]]:K.length===4&&K[0]<=U&&K[1]*K[2]*K[3]<=U?[K[0],K[1]*K[2]*K[3]]:R?Z(J/4).map(ne=>2*ne):Z(J)}},X.squeezeShape=re,X.parseAxisParam=ie,X.isInt=ee,X.sizeFromShape=ae,X.getRowsCols=function(Y){if(Y.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[Y.length>1?Y[Y.length-2]:1,Y[Y.length-1]]},X.sizeToSquarishShape=Z,X.getBatchDim=function(Y,W=2){return ae(Y.slice(0,Y.length-W))}},3314:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createTextureLayoutFromShape=X.calculateTextureWidthAndHeight=X.createTextureLayoutFromTextureType=void 0;const te=oe(7273),Q=oe(5639);X.createTextureLayoutFromTextureType=(re,ie,ee)=>{const ae=ee===Q.TextureType.unpacked||ee===Q.TextureType.unpackedReversed?1:4,Z=ee===Q.TextureType.packed,Y=ee===Q.TextureType.unpackedReversed||ee===Q.TextureType.packed,W=ee===Q.TextureType.packedLastDimension?ie.length-1:void 0,R=ee===Q.TextureType.packedLastDimension?ie.map((U,K)=>K===ie.length-1?4*U:U):void 0;return(0,X.createTextureLayoutFromShape)(re,ie,ae,R,{isPacked:Z,reverseWH:Y,breakAxis:W})},X.calculateTextureWidthAndHeight=(re,ie,ee)=>{const ae=(0,X.createTextureLayoutFromTextureType)(re,ie,ee);return[ae.width,ae.height]},X.createTextureLayoutFromShape=(re,ie,ee=1,ae,Z)=>{const Y=!(!Z||!Z.isPacked),[W,R]=re.computeTextureWH(Y&&ae||ie,Z),U=ie.length;let K=ie.slice(0);if(U===0&&(K=[1]),ee===1)ae=ie;else if(Y){if(ee!==4)throw new Error("a packed texture must be 4-channel");ae=ie,U>0&&(K[U-1]=Math.ceil(K[U-1]/2)),U>1&&(K[U-2]=Math.ceil(K[U-2]/2))}else if(!ae)throw new Error("Unpacked shape is needed when using channels > 1");return{width:W,height:R,channels:ee,isPacked:Y,shape:K,strides:te.ShapeUtil.computeStrides(K),unpackedShape:ae,reversedWH:Z&&Z.reverseWH}}},5243:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.TextureManager=void 0;const te=oe(1315);X.TextureManager=class{constructor(Q,re,ie,ee){this.glContext=Q,this.layoutStrategy=re,this.profiler=ie,this.config=ee,this.pendingRead=new Map,ee.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(Q,re,ie,ee){const ae=this.toEncoderType(Q),Z=this.glContext.getEncoder(ae,re.channels||1,ee);if(re.isPacked&&ee===1)throw new Error("not implemented");const Y=re.width,W=re.height;let R,U;if(this.config.reuseTextures){R=`${Y}x${W}_${Z.format}_${Z.internalFormat}_${Z.textureType}`,U=this.inUseTextures.get(R),U||(U=[],this.inUseTextures.set(R,U));const J=this.idleTextures.get(R);if(J&&J.length>0){const ne=J.pop();return U.push(ne),ee===1&&this.glContext.updateTexture(ne,Y,W,Z,this.toTextureData(Q,ie)),ne}}te.Logger.verbose("TextureManager",`Creating new texture of size ${re.width}x${re.height}`);const K=this.glContext.allocateTexture(Y,W,Z,this.toTextureData(Q,ie));return this.config.reuseTextures&&(U.push(K),this.textureLookup.set(K,R)),K}readTexture(Q,re,ie){return ie||(ie=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const ee=Q.shape.reduce((Z,Y)=>Z*Y)*ie,ae=this.glContext.readTexture(Q.texture,Q.width,Q.height,ee,this.toEncoderType(re),ie);return this.toTensorData(re,ae)})}async readTextureAsync(Q,re,ie){const ee=Q.tensor.dataId;if(ie||(ie=1),this.pendingRead.has(ee)){const ae=this.pendingRead.get(ee);return new Promise(Z=>ae==null?void 0:ae.push(Z))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(ee,[]);const ae=Q.shape.reduce((R,U)=>R*U)*ie;await this.glContext.createAndWaitForFence();const Z=this.glContext.readTexture(Q.texture,Q.width,Q.height,ae,this.toEncoderType(re),ie),Y=this.toTensorData(re,Z),W=this.pendingRead.get(ee);return this.pendingRead.delete(ee),W==null||W.forEach(R=>R(Y)),Y})}readUint8TextureAsFloat(Q){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const re=Q.shape.reduce((ee,ae)=>ee*ae),ie=this.glContext.readTexture(Q.texture,Q.width,Q.height,4*re,"byte",4);return new Float32Array(ie.buffer,ie.byteOffset,re)})}releaseTexture(Q,re){let ie;if(this.config.reuseTextures&&(ie=this.textureLookup.get(Q.texture),ie)){re&&this.textureLookup.delete(ie);const ee=this.inUseTextures.get(ie);if(ee){const ae=ee.indexOf(Q.texture);if(ae!==-1){ee.splice(ae,1);let Z=this.idleTextures.get(ie);Z||(Z=[],this.idleTextures.set(ie,Z)),Z.push(Q.texture)}}}ie&&!re||(te.Logger.verbose("TextureManager",`Deleting texture of size ${Q.width}x${Q.height}`),this.glContext.deleteTexture(Q.texture))}toTensorData(Q,re){switch(Q){case"int16":return re instanceof Int16Array?re:Int16Array.from(re);case"int32":return re instanceof Int32Array?re:Int32Array.from(re);case"int8":return re instanceof Int8Array?re:Int8Array.from(re);case"uint16":return re instanceof Uint16Array?re:Uint16Array.from(re);case"uint32":return re instanceof Uint32Array?re:Uint32Array.from(re);case"uint8":case"bool":return re instanceof Uint8Array?re:Uint8Array.from(re);case"float32":return re instanceof Float32Array?re:Float32Array.from(re);case"float64":return re instanceof Float64Array?re:Float64Array.from(re);default:throw new Error(`TensorData type ${Q} is not supported`)}}toTextureData(Q,re){if(re)return re instanceof Float32Array?re:new Float32Array(re)}toEncoderType(Q){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(ue,X)=>{var oe;Object.defineProperty(X,"__esModule",{value:!0}),X.TextureType=void 0,(oe=X.TextureType||(X.TextureType={}))[oe.unpacked=0]="unpacked",oe[oe.unpackedReversed=1]="unpackedReversed",oe[oe.packed=2]="packed",oe[oe.downloadUint8AsFloat=3]="downloadUint8AsFloat",oe[oe.packedLastDimension=4]="packedLastDimension"},432:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.getGlChannels=X.getCoordsDataType=X.getSqueezedParams=X.squeezeInputShape=X.generateShaderFuncNameFromInputSamplerNameAtOutCoords=X.generateShaderFuncNameFromInputSamplerName=X.repeatedTry=X.getPackedShape=void 0;const te=oe(7273);X.getPackedShape=function(Q){const re=Q.length;return Q.slice(0,re-1).concat(Q[re-1]/4)},X.repeatedTry=async function(Q,re=ee=>0,ie){return new Promise((ee,ae)=>{let Z=0;const Y=()=>{if(Q())return void ee();Z++;const W=re(Z);ie!=null&&Z>=ie?ae():setTimeout(Y,W)};Y()})},X.generateShaderFuncNameFromInputSamplerName=function(Q){return(0,te.assert)(Q!==void 0&&Q.length!==0,()=>"empty string found for sampler name"),"get"+Q.charAt(0).toUpperCase()+Q.slice(1)},X.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(Q){return(0,te.assert)(Q!==void 0&&Q.length!==0,()=>"empty string found for sampler name"),"get"+Q.charAt(0).toUpperCase()+Q.slice(1)+"AtOutCoords"},X.squeezeInputShape=function(Q,re){let ie=JSON.parse(JSON.stringify(Q));return ie=re,ie},X.getSqueezedParams=function(Q,re){return re.map(ie=>Q[ie]).join(", ")},X.getCoordsDataType=function(Q){if(Q<=1)return"int";if(Q===2)return"ivec2";if(Q===3)return"ivec3";if(Q===4)return"ivec4";if(Q===5)return"ivec5";if(Q===6)return"ivec6";throw Error(`GPU for rank ${Q} is not yet supported`)},X.getGlChannels=function(Q=6){return["x","y","z","w","u","v"].slice(0,Q)}},3389:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createNewWebGLContext=X.createWebGLContext=void 0;const te=oe(1315),Q=oe(3524),re={};function ie(ee,ae){let Z;const Y={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!ae||ae==="webgl2")&&(Z=ee.getContext("webgl2",Y),Z))try{return new Q.WebGLContext(Z,2)}catch(W){te.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${W}`)}if((!ae||ae==="webgl")&&(Z=ee.getContext("webgl",Y)||ee.getContext("experimental-webgl",Y),Z))try{return new Q.WebGLContext(Z,1)}catch(W){te.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${W}`)}throw new Error("WebGL is not supported")}X.createWebGLContext=function ee(ae){let Z;if(ae&&ae!=="webgl2"||!("webgl2"in re)?ae&&ae!=="webgl"||!("webgl"in re)||(Z=re.webgl):Z=re.webgl2,!Z)try{Z=ie(function(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}(),ae)}catch{Z=ie(function(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");const R=document.createElement("canvas");return R.width=1,R.height=1,R}(),ae)}ae=ae||Z.version===1?"webgl":"webgl2";const Y=Z.gl;return re[ae]=Z,Y.isContextLost()?(delete re[ae],ee(ae)):(Y.disable(Y.DEPTH_TEST),Y.disable(Y.STENCIL_TEST),Y.disable(Y.BLEND),Y.disable(Y.DITHER),Y.disable(Y.POLYGON_OFFSET_FILL),Y.disable(Y.SAMPLE_COVERAGE),Y.enable(Y.SCISSOR_TEST),Y.enable(Y.CULL_FACE),Y.cullFace(Y.BACK),Z)},X.createNewWebGLContext=ie},3524:function(ue,X,oe){var te=this&&this.__createBinding||(Object.create?function(Y,W,R,U){U===void 0&&(U=R);var K=Object.getOwnPropertyDescriptor(W,R);K&&!("get"in K?!W.__esModule:K.writable||K.configurable)||(K={enumerable:!0,get:function(){return W[R]}}),Object.defineProperty(Y,U,K)}:function(Y,W,R,U){U===void 0&&(U=R),Y[U]=W[R]}),Q=this&&this.__setModuleDefault||(Object.create?function(Y,W){Object.defineProperty(Y,"default",{enumerable:!0,value:W})}:function(Y,W){Y.default=W}),re=this&&this.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var W={};if(Y!=null)for(var R in Y)R!=="default"&&Object.prototype.hasOwnProperty.call(Y,R)&&te(W,Y,R);return Q(W,Y),W};Object.defineProperty(X,"__esModule",{value:!0}),X.WebGLContext=X.linearSearchLastTrue=void 0;const ie=oe(2235),ee=re(oe(9622)),ae=oe(432);function Z(Y){let W=0;for(;W<Y.length&&Y[W]();++W);return W-1}X.linearSearchLastTrue=Z,X.WebGLContext=class{constructor(Y,W){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=Y,this.version=W,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(Y,W,R,U){const K=this.gl,J=K.createTexture();K.bindTexture(K.TEXTURE_2D,J),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,K.NEAREST),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,K.NEAREST),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_S,K.CLAMP_TO_EDGE),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_T,K.CLAMP_TO_EDGE);const ne=U?R.encode(U,Y*W):null;return K.texImage2D(K.TEXTURE_2D,0,R.internalFormat,Y,W,0,R.format,R.textureType,ne),this.checkError(),J}updateTexture(Y,W,R,U,K){const J=this.gl;J.bindTexture(J.TEXTURE_2D,Y);const ne=U.encode(K,W*R);J.texSubImage2D(J.TEXTURE_2D,0,0,0,W,R,U.format,U.textureType,ne),this.checkError()}attachFramebuffer(Y,W,R){const U=this.gl;U.bindTexture(U.TEXTURE_2D,Y),U.bindFramebuffer(U.FRAMEBUFFER,this.framebuffer),U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,Y,0),this.checkError(),U.viewport(0,0,W,R),U.scissor(0,0,W,R)}readTexture(Y,W,R,U,K,J){const ne=this.gl;J||(J=1),this.frameBufferBound||this.attachFramebuffer(Y,W,R);const se=this.getEncoder(K,J),le=se.allocate(W*R);return ne.bindTexture(ne.TEXTURE_2D,Y),ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Y,0),ne.readPixels(0,0,W,R,ne.RGBA,se.textureType,le),this.checkError(),se.decode(le,U)}isFramebufferReady(){return!0}getActiveTexture(){const Y=this.gl;return"TEXTURE"+(Y.getParameter(this.gl.ACTIVE_TEXTURE)-Y.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(Y,W){const R=this.gl;R.vertexAttribPointer(Y,3,R.FLOAT,!1,20,0),R.enableVertexAttribArray(Y),W!==-1&&(R.vertexAttribPointer(W,2,R.FLOAT,!1,20,12),R.enableVertexAttribArray(W)),this.checkError()}createProgram(Y,W){const R=this.gl,U=R.createProgram();return R.attachShader(U,Y),R.attachShader(U,W),R.linkProgram(U),U}compileShader(Y,W){const R=this.gl,U=R.createShader(W);if(!U)throw new Error(`createShader() returned null with type ${W}`);if(R.shaderSource(U,Y),R.compileShader(U),R.getShaderParameter(U,R.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${R.getShaderInfoLog(U)}
Shader source:
${Y}`);return U}deleteShader(Y){this.gl.deleteShader(Y)}bindTextureToUniform(Y,W,R){const U=this.gl;U.activeTexture(U.TEXTURE0+W),this.checkError(),U.bindTexture(U.TEXTURE_2D,Y),this.checkError(),U.uniform1i(R,W),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(ie.env.debug){const Y=this.gl,W=Y.getError();let R="";switch(W){case Y.NO_ERROR:return;case Y.INVALID_ENUM:R="INVALID_ENUM";break;case Y.INVALID_VALUE:R="INVALID_VALUE";break;case Y.INVALID_OPERATION:R="INVALID_OPERATION";break;case Y.INVALID_FRAMEBUFFER_OPERATION:R="INVALID_FRAMEBUFFER_OPERATION";break;case Y.OUT_OF_MEMORY:R="OUT_OF_MEMORY";break;case Y.CONTEXT_LOST_WEBGL:R="CONTEXT_LOST_WEBGL";break;default:R=`Unknown WebGL Error: ${W.toString(16)}`}throw new Error(R)}}deleteTexture(Y){this.gl.deleteTexture(Y)}deleteProgram(Y){this.gl.deleteProgram(Y)}getEncoder(Y,W,R=0){if(this.version===2)return new ee.RedFloat32DataEncoder(this.gl,W);switch(Y){case"float":return R===1||this.isRenderFloat32Supported?new ee.RGBAFloatDataEncoder(this.gl,W):new ee.RGBAFloatDataEncoder(this.gl,W,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new ee.Uint8DataEncoder(this.gl,W);default:throw new Error(`Invalid dataType: ${Y}`)}}clearActiveTextures(){const Y=this.gl;for(let W=0;W<this.maxTextureImageUnits;++W)Y.activeTexture(Y.TEXTURE0+W),Y.bindTexture(Y.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.deleteFramebuffer(this.framebuffer),Y.bindBuffer(Y.ARRAY_BUFFER,null),Y.deleteBuffer(this.vertexbuffer),Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER,null),Y.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const Y=this.gl,W=Y.createBuffer();if(!W)throw new Error("createBuffer() returned null");const R=this.createDefaultGeometry();return Y.bindBuffer(Y.ARRAY_BUFFER,W),Y.bufferData(Y.ARRAY_BUFFER,R,Y.STATIC_DRAW),this.checkError(),W}createFramebuffer(){const Y=this.gl.createFramebuffer();if(!Y)throw new Error("createFramebuffer returned null");return Y}queryVitalParameters(){const Y=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=Y.getParameter(Y.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=Y.getParameter(Y.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const Y=this.gl,W=Y.createTexture();Y.bindTexture(Y.TEXTURE_2D,W);const R=this.version===2?Y.RGBA32F:Y.RGBA;Y.texImage2D(Y.TEXTURE_2D,0,R,1,1,0,Y.RGBA,Y.FLOAT,null);const U=Y.createFramebuffer();Y.bindFramebuffer(Y.FRAMEBUFFER,U),Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,W,0);const K=Y.checkFramebufferStatus(Y.FRAMEBUFFER)===Y.FRAMEBUFFER_COMPLETE;return Y.bindTexture(Y.TEXTURE_2D,null),Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.deleteTexture(W),Y.deleteFramebuffer(U),K}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const Y=this.gl;let W,R,U,K,J;try{W=Y.createTexture(),R=Y.createFramebuffer(),Y.bindTexture(Y.TEXTURE_2D,W);const ne=this.version===2?Y.RGBA32F:Y.RGBA;return Y.texImage2D(Y.TEXTURE_2D,0,ne,1,1,0,Y.RGBA,Y.FLOAT,null),Y.bindFramebuffer(Y.FRAMEBUFFER,R),Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,W,0),Y.enable(Y.BLEND),U=Y.createShader(Y.VERTEX_SHADER),!!U&&(Y.shaderSource(U,"void main(){}"),Y.compileShader(U),K=Y.createShader(Y.FRAGMENT_SHADER),!!K&&(Y.shaderSource(K,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),Y.compileShader(K),J=Y.createProgram(),!!J&&(Y.attachShader(J,U),Y.attachShader(J,K),Y.linkProgram(J),Y.useProgram(J),Y.drawArrays(Y.POINTS,0,1),Y.getError()===Y.NO_ERROR)))}finally{Y.disable(Y.BLEND),J&&Y.deleteProgram(J),U&&Y.deleteShader(U),K&&Y.deleteShader(K),R&&(Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.deleteFramebuffer(R)),W&&(Y.bindTexture(Y.TEXTURE_2D,null),Y.deleteTexture(W))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const Y=this.gl,W=this.disjointTimerQueryWebgl2Extension,R=Y.createQuery();return Y.beginQuery(W.TIME_ELAPSED_EXT,R),R}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const Y=this.gl,W=this.disjointTimerQueryWebgl2Extension;Y.endQuery(W.TIME_ELAPSED_EXT)}}isTimerResultAvailable(Y){let W=!1,R=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const U=this.gl,K=this.disjointTimerQueryWebgl2Extension;W=U.getQueryParameter(Y,U.QUERY_RESULT_AVAILABLE),R=U.getParameter(K.GPU_DISJOINT_EXT)}return W&&!R}getTimerResult(Y){let W=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const R=this.gl;W=R.getQueryParameter(Y,R.QUERY_RESULT),R.deleteQuery(Y)}return W/1e6}async waitForQueryAndGetTime(Y){return await(0,ae.repeatedTry)(()=>this.isTimerResultAvailable(Y)),this.getTimerResult(Y)}async createAndWaitForFence(){const Y=this.createFence(this.gl);return this.pollFence(Y)}createFence(Y){let W;const R=Y,U=R.fenceSync(R.SYNC_GPU_COMMANDS_COMPLETE,0);return Y.flush(),W=U===null?()=>!0:()=>{const K=R.clientWaitSync(U,0,0);return K===R.ALREADY_SIGNALED||K===R.CONDITION_SATISFIED},{query:U,isFencePassed:W}}async pollFence(Y){return new Promise(W=>{this.addItemToPoll(()=>Y.isFencePassed(),()=>W())})}pollItems(){const Y=Z(this.itemsToPoll.map(W=>W.isDoneFn));for(let W=0;W<=Y;++W){const{resolveFn:R}=this.itemsToPoll[W];R()}this.itemsToPoll=this.itemsToPoll.slice(Y+1)}async addItemToPoll(Y,W){this.itemsToPoll.push({isDoneFn:Y,resolveFn:W}),this.itemsToPoll.length>1||await(0,ae.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},6496:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.ExecutionPlan=void 0;const te=oe(1315);class Q{constructor(ie,ee){this.op=ie,this.node=ee}}X.ExecutionPlan=class{constructor(re,ie,ee){this.graph=re,this.profiler=ee,this.initialize(ie)}initialize(re){this.profiler.event("session","ExecutionPlan.initialize",()=>{const ie=this.graph.getNodes();if(ie.length!==re.length)throw new Error("The size of nodes and OPs do not match.");this._ops=re.map((ee,ae)=>new Q(ee,ie[ae])),this.reset(),this._starter=[],this._ops.forEach((ee,ae)=>{let Z=!0;for(const Y of ee.node.inputs)if(!this._values[Y]&&this.graph.getInputIndices().indexOf(Y)===-1){Z=!1;break}Z&&this._starter.push(ae)})})}reset(){this._values=this.graph.getValues().map(re=>re.tensor)}async execute(re,ie){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const ee=re.createInferenceHandler(),ae=this.graph.getInputIndices();if(ie.length!==ae.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${ie.length} expected: ${ae.length}`);ie.forEach((K,J)=>{const ne=ae[J];this._values[ne]=K});const Z=this._starter.slice(0),Y=this.graph.getValues(),W=this.graph.getNodes();let R=0;for(;R<Z.length;){const K=Z[R++],J=this._ops[K],ne=J.node.inputs.map(de=>this._values[de]);if(ne.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${J.node}`);const se=ne;te.Logger.verbose("ExecPlan",`Runing op:${J.node.name} (${se.map((de,pe)=>`'${J.node.inputs[pe]}': ${de.type}[${de.dims.join(",")}]`).join(", ")})`);const le=await this.profiler.event("node",J.node.name,async()=>J.op.impl(ee,se,J.op.context));if(le.length!==J.node.outputs.length)throw new Error("the size of output does not match model definition.");le.forEach((de,pe)=>{const fe=J.node.outputs[pe];if(this._values[fe])throw new Error(`output [${fe}] already has value: op:${J.node.name}`);this._values[fe]=de});const ce=new Set;le.forEach((de,pe)=>{const fe=J.node.outputs[pe];for(const he of Y[fe].to){const be=W[he];let Te=!0;for(const xe of be.inputs)if(!this._values[xe]){Te=!1;break}Te&&ce.add(he)}}),Z.push(...ce)}const U=[];for(let K=0;K<this.graph.getOutputIndices().length;K++){const J=this.graph.getOutputIndices()[K],ne=this._values[J];if(ne===void 0)throw new Error(`required output [${J}] does not have value`);J===0?await ne.getData():ne.data,U.push(ne)}return te.Logger.verbose("ExecPlan","disposing of inferenceHandler"),ee.dispose(),U})}}},4662:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Graph=void 0;const te=oe(6874),Q=oe(5127),re=oe(2446),ie=oe(9240),ee=oe(7273);var ae=Q.onnxruntime.experimental.fbs;X.Graph={from:(R,U)=>new W(R,U)};class Z{constructor(U){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,U&&(this.type=ee.ProtoUtil.tensorValueTypeFromProto(U.type.tensorType))}get from(){return this._from}get to(){return this._to}}class Y{constructor(U,K){U instanceof re.onnx.NodeProto?(this.name=U.name,this.opType=U.opType,this.attributes=new te.Attribute(U.attribute)):U instanceof ae.Node&&(this.name=K??U.name(),this.opType=U.opType(),this.attributes=new te.Attribute(ee.ProtoUtil.tensorAttributesFromORTFormat(U))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class W{constructor(U,K){if(!U)throw new TypeError("graph is empty");this.buildGraph(U),this.transformGraph(K),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(U){if(U instanceof re.onnx.GraphProto)this.buildGraphFromOnnxFormat(U);else{if(!(U instanceof ae.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(U)}}buildGraphFromOnnxFormat(U){const K=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const J=new Map;if(!U.input)throw new Error("missing information in graph: input");const ne=[];for(const se of U.input){if(K.has(se.name))throw new Error(`duplicated input name: ${se.name}`);const le=this._allData.push(new Z(se))-1;K.set(se.name,le),ne.push(se.name)}if(!U.initializer)throw new Error("missing information in graph: initializer");for(const se of U.initializer){let le=K.get(se.name);if(le===void 0){const ce=new Z;ce.type={shape:{dims:ee.ProtoUtil.tensorDimsFromProto(se.dims)},tensorType:ee.ProtoUtil.tensorDataTypeFromProto(se.dataType)},le=this._allData.push(ce)-1,K.set(se.name,le)}this._allData[le]._from=-1,this._allData[le].tensor=ie.Tensor.fromProto(se)}for(let se=0;se<this._allData.length;se++)this._allData[se].tensor||(this._allInputIndices.push(se),this._allInputNames.push(ne[se]));if(!U.output)throw new Error("missing information in graph: output");for(const se of U.output){if(K.has(se.name))throw new Error(`duplicated output name: ${se.name}`);const le=this._allData.push(new Z(se))-1;K.set(se.name,le),this._allOutputIndices.push(le),this._allOutputNames.push(se.name)}if(!U.node)throw new Error("missing information in graph: node");for(const se of U.node){if(!se.name)for(let ce=0;;ce++){const de=`unnamed_${se.opType}_${ce}`;if(!J.has(de)){se.name=de;break}}if(J.has(se.name))throw new Error(`duplicated node name: ${se.name}`);const le=this._nodes.push(new Y(se))-1;J.set(se.name,le)}for(let se=0;se<this._nodes.length;se++){const le=this._nodes[se],ce=U.node[se];if(!ce.output)throw new Error(`missing output for node: ${ce.name}`);for(const de of ce.output){let pe=K.get(de);if(pe===void 0&&(pe=this._allData.push(new Z)-1,K.set(de,pe)),le.outputs.push(pe),this._allData[pe]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${pe}`);if(this._allData[pe]._from=se,ce.opType==="Constant"){if(!ce.attribute||ce.attribute.length!==1||!ce.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!ce.output||ce.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");le.outputs.pop(),le.executeNode=!1,this._allData[pe]._from=-1,this._allData[pe].tensor=ie.Tensor.fromProto(ce.attribute[0].t)}}}for(let se=0;se<this._nodes.length;se++){const le=this._nodes[se],ce=U.node[se];if(!ce.input)throw new Error(`missing input for node: ${ce.name}`);for(const de of ce.input){const pe=K.get(de);if(pe===void 0){if(de===""&&(ce.input.length===3||ce.input.length===4)&&ce.opType==="Resize")continue;throw new Error(`unrecognized input '${de}' for node: ${ce.name}`)}le.inputs.push(pe),this._allData[pe]._to.push(se)}}return!0}buildGraphFromOrtFormat(U){var K,J,ne;const se=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const le=new Map,ce=[];for(let de=0;de<U.inputsLength();de++){const pe=U.inputs(de);if(se.has(pe))throw new Error(`duplicated input name: ${pe}`);for(let fe=0;fe<U.nodeArgsLength();fe++)if(((K=U.nodeArgs(fe))===null||K===void 0?void 0:K.name())===pe){const he=new Z;if(((ne=(J=U.nodeArgs(fe))===null||J===void 0?void 0:J.type())===null||ne===void 0?void 0:ne.valueType())!==ae.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const be=U.nodeArgs(fe).type().value(new ae.TensorTypeAndShape),Te=ee.ProtoUtil.tensorDataTypeFromProto(be.elemType()),xe=be.shape(),Se=[];for(let ye=0;ye<xe.dimLength();ye++)Se.push(ee.LongUtil.longToNumber(xe.dim(ye).value().dimValue()));he.type={shape:{dims:Se},tensorType:Te};const Ee=this._allData.push(he)-1;se.set(pe,Ee),ce.push(pe)}}for(let de=0;de<U.initializersLength();de++){const pe=U.initializers(de);let fe=se.get(pe.name());if(fe===void 0){const he=new Z,be=ee.ProtoUtil.tensorDimsFromORTFormat(pe),Te=ee.ProtoUtil.tensorDataTypeFromProto(pe.dataType());he.type={shape:{dims:be},tensorType:Te},fe=this._allData.push(he)-1,se.set(pe.name(),fe)}this._allData[fe]._from=-1,this._allData[fe].tensor=ie.Tensor.fromOrtTensor(pe)}for(let de=0;de<this._allData.length;de++)this._allData[de].tensor||(this._allInputIndices.push(de),this._allInputNames.push(ce[de]));for(let de=0;de<U.outputsLength();de++){const pe=U.outputs(de);if(se.has(pe))throw new Error(`duplicated output name: ${pe}`);const fe=this._allData.push(new Z)-1;se.set(pe,fe),this._allOutputIndices.push(fe),this._allOutputNames.push(pe)}if(!U.nodes)throw new Error("missing information in graph: node");for(let de=0;de<U.nodesLength();de++){const pe=U.nodes(de);let fe=pe.name();if(!fe)for(let be=0;fe=`unnamed_${pe.opType()}_${be}`,le.has(fe);be++);if(le.has(fe))throw new Error(`duplicated node name: ${fe}`);const he=this._nodes.push(new Y(pe,fe))-1;le.set(fe,he)}for(let de=0;de<this._nodes.length;de++){const pe=this._nodes[de],fe=U.nodes(de);if(fe==null)throw new Error(`No node exists at index ${de}`);if((fe==null?void 0:fe.outputsLength())===0)throw new Error(`missing output for node: ${fe.name}`);for(let he=0;he<(fe==null?void 0:fe.outputsLength());he++){const be=fe==null?void 0:fe.outputs(he);let Te=se.get(be);if(Te===void 0&&(Te=this._allData.push(new Z)-1,se.set(be,Te)),pe.outputs.push(Te),this._allData[Te]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${Te}`);if(this._allData[Te]._from=de,fe.opType()==="Constant"){if(fe.attributesLength()!==1||!fe.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(fe.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");pe.outputs.pop(),pe.executeNode=!1,this._allData[Te]._from=-1,this._allData[Te].tensor=ie.Tensor.fromOrtTensor(fe.attributes(0).t())}}}for(let de=0;de<this._nodes.length;de++){const pe=this._nodes[de],fe=U.nodes(de);if(fe.inputsLength()===0)throw new Error(`missing input for node: ${fe.name}`);for(let he=0;he<fe.inputsLength();he++){const be=fe.inputs(he),Te=se.get(be);if(Te===void 0)throw new Error(`unrecognized input '${be}' for node: ${fe.name()}`);pe.inputs.push(Te),this._allData[Te]._to.push(de)}}}checkIsAcyclic(){const U=new Set;this._allInputIndices.forEach(ne=>{this._allData[ne]._to.forEach(se=>{U.add(se)})});const K=Array.from(U),J=new Array(this._nodes.length).fill("white");for(;K.length>0;){const ne=K.pop();J[ne]==="gray"?J[ne]="black":(K.push(ne),J[ne]="gray",this._nodes[ne].outputs.forEach(se=>{const le=this._allData[se];if(le.tensor!==void 0)throw new Error("node outputs should not be initialized");if(le._from!==ne)throw new Error("from property of the Value object doesn't match index of Node being processed");le._to.forEach(ce=>{if(J[ce]==="gray")throw new Error("model graph is cyclic");J[ce]==="white"&&K.push(ce)})}))}}transformGraph(U){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),U&&U.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let U=0;const K=new Array(this._nodes.length,0);let J=0;for(let ne=0;ne<this._nodes.length;ne++)K[ne]=J,this._nodes[ne].executeNode?(J!==ne&&(this._nodes[J]=this._nodes[ne]),J++):this._nodes[ne].outputs.forEach(se=>{this._allData[se]._from=-2});this._nodes.splice(J,this._nodes.length-J);for(let ne=0;ne<this._allData.length;ne++){const se=this._allData[ne];se._from!==void 0&&se._from!==-1&&se._from!==-2&&(se._from=K[se._from]);for(let le=0;le<se._to.length;le++){if(!(se._to[le]>=0))throw new Error("Trying to update a removed node");se._to[le]=K[se._to[le]]}}U=0;for(let ne=0;ne<this._allData.length;ne++)if(this._allData[ne].from!==-2||this._allOutputIndices.indexOf(ne+U)!==-1){if(U>0){let se=-1;this._allData[ne].from!==void 0&&this._allData[ne].from!==-1?(se=this._nodes[this._allData[ne].from].outputs.indexOf(ne+U),se!==-1&&(this._nodes[this._allData[ne].from].outputs[se]=ne)):(se=this._allInputIndices.indexOf(ne+U),se!==-1&&(this._allInputIndices[se]=ne)),this._allData[ne].to.forEach(le=>{se=this._nodes[le].inputs.indexOf(ne+U),se!==-1&&(this._nodes[le].inputs[se]=ne)}),this._allData[ne].to.length===0&&(se=this._allOutputIndices.indexOf(ne+U),se!==-1&&(this._allOutputIndices[se]=ne))}}else U++,this._allData.splice(ne,1),ne--}deleteNode(U){const K=this._nodes[U];if(K.outputs.length>1){for(let ce=1;ce<K.outputs.length;ce++)if(this._allData[K.outputs[ce]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}K.executeNode=!1;const J=K.inputs[0],ne=K.outputs[0],se=this._allData[ne].to;for(let ce=0;ce<K.inputs.length;ce++){const de=this._allData[K.inputs[ce]].to.indexOf(U);if(de===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[K.inputs[ce]].to.splice(de,1)}this._allData[ne]._to=[];const le=this._allOutputIndices.indexOf(ne);if(le!==-1&&(this._allOutputIndices[le]=J),se&&se.length>0)for(const ce of se){const de=this._nodes[ce].inputs.indexOf(ne);if(de===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[ce].inputs[de]=J,this._allData[J].to.push(ce)}}removeAllDropoutNodes(){let U=0;for(const K of this._nodes){if(K.opType==="Dropout"){if(K.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(K.outputs.length!==1&&K.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(K.outputs.length===2&&this._allData[K.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(U)}U++}}removeAllIdentityNodes(){let U=0;for(const K of this._nodes)K.opType==="Identity"&&this.deleteNode(U),U++}isActivation(U){switch(U.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const U of this._nodes)if(U.opType==="Conv"){const K=this._allData[U.outputs[0]]._to;if(K.length===1&&this.isActivation(this._nodes[K[0]])){const J=this._nodes[K[0]];if(J.opType==="Clip")if(J.inputs.length===1)try{U.attributes.set("activation_params","floats",[J.attributes.getFloat("min"),J.attributes.getFloat("max")])}catch{U.attributes.set("activation_params","floats",[ee.MIN_CLIP,ee.MAX_CLIP])}else{if(!(J.inputs.length>=3&&this._allData[J.inputs[1]].tensor!==void 0&&this._allData[J.inputs[2]].tensor!==void 0))continue;U.attributes.set("activation_params","floats",[this._allData[J.inputs[1]].tensor.floatData[0],this._allData[J.inputs[2]].tensor.floatData[0]])}U.attributes.set("activation","string",J.opType),this.deleteNode(K[0])}}}}},1315:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.now=X.Profiler=X.Logger=void 0;const oe={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},te={none:new class{log(Y,W,R){}},console:new class{log(Y,W,R){console.log(`${this.color(Y)} ${R?"\x1B[35m"+R+"\x1B[0m ":""}${W}`)}color(Y){switch(Y){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${Y}`)}}}},Q={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let re={"":Q};function ie(Y,W,R,U){if(W===void 0)return K=Y,{verbose:ie.verbose.bind(null,K),info:ie.info.bind(null,K),warning:ie.warning.bind(null,K),error:ie.error.bind(null,K),fatal:ie.fatal.bind(null,K)};if(R===void 0)ee(Y,W);else if(typeof R=="number"&&U===void 0)ee(Y,W);else if(typeof R=="string"&&U===void 0)ee(Y,R,0,W);else{if(typeof R!="string"||typeof U!="number")throw new TypeError("input is valid");ee(Y,R,0,W)}var K}function ee(Y,W,R,U){const K=re[U||""]||re[""];oe[Y]<oe[K.minimalSeverity]||(K.logDateTime&&(W=`${new Date().toISOString()}|${W}`),K.logSourceLocation,te[K.provider].log(Y,W,U))}(function(Y){function W(U){re={},R("",U||{})}function R(U,K){if(U==="*")W(K);else{const J=re[U]||Q;re[U]={provider:K.provider||J.provider,minimalSeverity:K.minimalSeverity||J.minimalSeverity,logDateTime:K.logDateTime===void 0?J.logDateTime:K.logDateTime,logSourceLocation:K.logSourceLocation===void 0?J.logSourceLocation:K.logSourceLocation}}}Y.verbose=function(U,K){Y("verbose",U,K)},Y.info=function(U,K){Y("info",U,K)},Y.warning=function(U,K){Y("warning",U,K)},Y.error=function(U,K){Y("error",U,K)},Y.fatal=function(U,K){Y("fatal",U,K)},Y.reset=W,Y.set=R,Y.setWithEnv=function(U){const K={};U.logLevel&&(K.minimalSeverity=U.logLevel),R("",K)}})(ie||(ie={})),X.Logger=ie;class ae{constructor(W,R,U,K,J,ne){this.category=W,this.name=R,this.startTime=U,this.endCallback=K,this.timer=J,this.ctx=ne}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class Z{constructor(W,R,U,K){this.category=W,this.name=R,this.startTime=U,this.endTime=K}}X.Profiler=class{static create(Y){return Y===void 0?new this:new this(Y.maxNumberEvents,Y.flushBatchSize,Y.flushIntervalInMilliseconds)}constructor(Y,W,R){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=Y===void 0?1e4:Y,this._flushBatchSize=W===void 0?10:W,this._flushIntervalInMilliseconds=R===void 0?5e3:R}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,X.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(Y,W,R,U){const K=this._started?this.begin(Y,W,U):void 0;let J=!1;const ne=R();if(ne&&typeof ne.then=="function")return J=!0,new Promise((se,le)=>{ne.then(async ce=>{K&&await K.end(),se(ce)},async ce=>{K&&await K.end(),le(ce)})});if(!J&&K){const se=K.end();if(se&&typeof se.then=="function")return new Promise((le,ce)=>{se.then(()=>{le(ne)},de=>{ce(de)})})}return ne}begin(Y,W,R){if(!this._started)throw new Error("profiler is not started yet");if(R===void 0){const U=(0,X.now)();return this.flush(U),new ae(Y,W,U,K=>this.endSync(K))}{const U=R.beginTimer();return new ae(Y,W,0,async K=>this.end(K),U,R)}}async end(Y){const W=await Y.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Z(Y.category,Y.name,Y.startTime,W)),this.flush(W))}endSync(Y){const W=(0,X.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Z(Y.category,Y.name,Y.startTime,W)),this.flush(W))}logOneEvent(Y){X.Logger.verbose(`Profiler.${Y.category}`,`${(Y.endTime-Y.startTime).toFixed(2)}ms on event '${Y.name}' at ${Y.endTime.toFixed(2)}`)}flush(Y){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||Y-this._flushTime>=this._flushIntervalInMilliseconds){for(const W=this._flushPointer;this._flushPointer<W+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,X.now)()}}get started(){return this._started}},X.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Model=void 0;const te=oe(5686),Q=oe(4662),re=oe(5127),ie=oe(2446),ee=oe(7273);var ae=re.onnxruntime.experimental.fbs;X.Model=class{constructor(){}load(Z,Y,W){if(!W)try{return void this.loadFromOnnxFormat(Z,Y)}catch(R){if(W!==void 0)throw R}this.loadFromOrtFormat(Z,Y)}loadFromOnnxFormat(Z,Y){const W=ie.onnx.ModelProto.decode(Z);if(ee.LongUtil.longToNumber(W.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=W.opsetImport.map(R=>({domain:R.domain,version:ee.LongUtil.longToNumber(R.version)})),this._graph=Q.Graph.from(W.graph,Y)}loadFromOrtFormat(Z,Y){const W=new te.flatbuffers.ByteBuffer(Z),R=ae.InferenceSession.getRootAsInferenceSession(W).model();if(ee.LongUtil.longToNumber(R.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let U=0;U<R.opsetImportLength();U++){const K=R.opsetImport(U);this._opsets.push({domain:K==null?void 0:K.domain(),version:ee.LongUtil.longToNumber(K.version())})}this._graph=Q.Graph.from(R.graph(),Y)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.FLOAT_TYPES=X.INT_TYPES=X.NUMBER_TYPES=void 0,X.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],X.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],X.FLOAT_TYPES=["float32","float64"]},5881:(ue,X)=>{function oe(te,Q){if(Q.endsWith("+")){const re=Number.parseInt(Q.substring(0,Q.length-1),10);return!isNaN(re)&&re<=te}if(Q.split("-").length===2){const re=Q.split("-"),ie=Number.parseInt(re[0],10),ee=Number.parseInt(re[1],10);return!isNaN(ie)&&!isNaN(ee)&&ie<=te&&te<=ee}return Number.parseInt(Q,10)===te}Object.defineProperty(X,"__esModule",{value:!0}),X.resolveOperator=void 0,X.resolveOperator=function(te,Q,re){for(const ie of re){const ee=ie[0],ae=ie[1],Z=ie[2],Y=ie[3],W=ie[4];if(te.opType===ee){for(const R of Q)if((R.domain===ae||R.domain==="ai.onnx"&&ae==="")&&oe(R.version,Z))return{opImpl:Y,opInit:W}}}throw new TypeError(`cannot resolve operator '${te.opType}' with opsets: ${Q.map(ie=>`${ie.domain||"ai.onnx"} v${ie.version}`).join(", ")}`)}},5127:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.onnxruntime=void 0;const te=oe(5686);var Q,re;Q=X.onnxruntime||(X.onnxruntime={}),function(ie){(function(ee){ee[ee.UNDEFINED=0]="UNDEFINED",ee[ee.FLOAT=1]="FLOAT",ee[ee.INT=2]="INT",ee[ee.STRING=3]="STRING",ee[ee.TENSOR=4]="TENSOR",ee[ee.GRAPH=5]="GRAPH",ee[ee.FLOATS=6]="FLOATS",ee[ee.INTS=7]="INTS",ee[ee.STRINGS=8]="STRINGS",ee[ee.TENSORS=9]="TENSORS",ee[ee.GRAPHS=10]="GRAPHS",ee[ee.SPARSE_TENSOR=11]="SPARSE_TENSOR",ee[ee.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(ie.AttributeType||(ie.AttributeType={}))}((re=Q.experimental||(Q.experimental={})).fbs||(re.fbs={})),function(ie){(function(ee){(function(ae){(function(Z){Z[Z.UNKNOWN=0]="UNKNOWN",Z[Z.VALUE=1]="VALUE",Z[Z.PARAM=2]="PARAM"})(ae.DimensionValueType||(ae.DimensionValueType={}))})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){(function(Z){Z[Z.UNDEFINED=0]="UNDEFINED",Z[Z.FLOAT=1]="FLOAT",Z[Z.UINT8=2]="UINT8",Z[Z.INT8=3]="INT8",Z[Z.UINT16=4]="UINT16",Z[Z.INT16=5]="INT16",Z[Z.INT32=6]="INT32",Z[Z.INT64=7]="INT64",Z[Z.STRING=8]="STRING",Z[Z.BOOL=9]="BOOL",Z[Z.FLOAT16=10]="FLOAT16",Z[Z.DOUBLE=11]="DOUBLE",Z[Z.UINT32=12]="UINT32",Z[Z.UINT64=13]="UINT64",Z[Z.COMPLEX64=14]="COMPLEX64",Z[Z.COMPLEX128=15]="COMPLEX128",Z[Z.BFLOAT16=16]="BFLOAT16",Z[Z.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",Z[Z.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",Z[Z.FLOAT8E5M2=19]="FLOAT8E5M2",Z[Z.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"})(ae.TensorDataType||(ae.TensorDataType={}))})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){(function(Z){Z[Z.Primitive=0]="Primitive",Z[Z.Fused=1]="Fused"})(ae.NodeType||(ae.NodeType={}))})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){(function(Z){Z[Z.NONE=0]="NONE",Z[Z.tensor_type=1]="tensor_type",Z[Z.sequence_type=2]="sequence_type",Z[Z.map_type=3]="map_type"})(ae.TypeInfoValue||(ae.TypeInfoValue={}))})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsShape(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsShape(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}dim(W,R){let U=this.bb.__offset(this.bb_pos,4);return U?(R||new ie.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}dimLength(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.__vector_len(this.bb_pos+W):0}static startShape(W){W.startObject(1)}static addDim(W,R){W.addFieldOffset(0,R,0)}static createDimVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startDimVector(W,R){W.startVector(4,R,4)}static endShape(W){return W.endObject()}static createShape(W,R){return Z.startShape(W),Z.addDim(W,R),Z.endShape(W)}}ae.Shape=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsDimension(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsDimension(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}value(W){let R=this.bb.__offset(this.bb_pos,4);return R?(W||new ie.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}denotation(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__string(this.bb_pos+R,W):null}static startDimension(W){W.startObject(2)}static addValue(W,R){W.addFieldOffset(0,R,0)}static addDenotation(W,R){W.addFieldOffset(1,R,0)}static endDimension(W){return W.endObject()}static createDimension(W,R,U){return Z.startDimension(W),Z.addValue(W,R),Z.addDenotation(W,U),Z.endDimension(W)}}ae.Dimension=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsDimensionValue(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsDimensionValue(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}dimType(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.readInt8(this.bb_pos+W):ie.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.readInt64(this.bb_pos+W):this.bb.createLong(0,0)}dimParam(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__string(this.bb_pos+R,W):null}static startDimensionValue(W){W.startObject(3)}static addDimType(W,R){W.addFieldInt8(0,R,ie.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(W,R){W.addFieldInt64(1,R,W.createLong(0,0))}static addDimParam(W,R){W.addFieldOffset(2,R,0)}static endDimensionValue(W){return W.endObject()}static createDimensionValue(W,R,U,K){return Z.startDimensionValue(W),Z.addDimType(W,R),Z.addDimValue(W,U),Z.addDimParam(W,K),Z.endDimensionValue(W)}}ae.DimensionValue=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsTensorTypeAndShape(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsTensorTypeAndShape(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}elemType(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.readInt32(this.bb_pos+W):ie.experimental.fbs.TensorDataType.UNDEFINED}shape(W){let R=this.bb.__offset(this.bb_pos,6);return R?(W||new ie.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startTensorTypeAndShape(W){W.startObject(2)}static addElemType(W,R){W.addFieldInt32(0,R,ie.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(W,R){W.addFieldOffset(1,R,0)}static endTensorTypeAndShape(W){return W.endObject()}static createTensorTypeAndShape(W,R,U){return Z.startTensorTypeAndShape(W),Z.addElemType(W,R),Z.addShape(W,U),Z.endTensorTypeAndShape(W)}}ae.TensorTypeAndShape=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsMapType(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsMapType(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}keyType(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.readInt32(this.bb_pos+W):ie.experimental.fbs.TensorDataType.UNDEFINED}valueType(W){let R=this.bb.__offset(this.bb_pos,6);return R?(W||new ie.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startMapType(W){W.startObject(2)}static addKeyType(W,R){W.addFieldInt32(0,R,ie.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(W,R){W.addFieldOffset(1,R,0)}static endMapType(W){return W.endObject()}static createMapType(W,R,U){return Z.startMapType(W),Z.addKeyType(W,R),Z.addValueType(W,U),Z.endMapType(W)}}ae.MapType=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsSequenceType(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsSequenceType(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}elemType(W){let R=this.bb.__offset(this.bb_pos,4);return R?(W||new ie.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startSequenceType(W){W.startObject(1)}static addElemType(W,R){W.addFieldOffset(0,R,0)}static endSequenceType(W){return W.endObject()}static createSequenceType(W,R){return Z.startSequenceType(W),Z.addElemType(W,R),Z.endSequenceType(W)}}ae.SequenceType=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(ee.fbs||(ee.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(ae,Z){return this.bb_pos=ae,this.bb=Z,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(ae,Z,Y,W){return ae.prep(4,12),ae.writeInt32(W),ae.writeInt32(Y),ae.writeInt32(Z),ae.offset()}}})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsNodeEdge(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsNodeEdge(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}nodeIndex(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.readUint32(this.bb_pos+W):0}inputEdges(W,R){let U=this.bb.__offset(this.bb_pos,6);return U?(R||new ie.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+U)+12*W,this.bb):null}inputEdgesLength(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.__vector_len(this.bb_pos+W):0}outputEdges(W,R){let U=this.bb.__offset(this.bb_pos,8);return U?(R||new ie.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+U)+12*W,this.bb):null}outputEdgesLength(){let W=this.bb.__offset(this.bb_pos,8);return W?this.bb.__vector_len(this.bb_pos+W):0}static startNodeEdge(W){W.startObject(3)}static addNodeIndex(W,R){W.addFieldInt32(0,R,0)}static addInputEdges(W,R){W.addFieldOffset(1,R,0)}static startInputEdgesVector(W,R){W.startVector(12,R,4)}static addOutputEdges(W,R){W.addFieldOffset(2,R,0)}static startOutputEdgesVector(W,R){W.startVector(12,R,4)}static endNodeEdge(W){return W.endObject()}static createNodeEdge(W,R,U,K){return Z.startNodeEdge(W),Z.addNodeIndex(W,R),Z.addInputEdges(W,U),Z.addOutputEdges(W,K),Z.endNodeEdge(W)}}ae.NodeEdge=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsNode(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsNode(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}name(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}docString(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__string(this.bb_pos+R,W):null}domain(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__string(this.bb_pos+R,W):null}sinceVersion(){let W=this.bb.__offset(this.bb_pos,10);return W?this.bb.readInt32(this.bb_pos+W):0}index(){let W=this.bb.__offset(this.bb_pos,12);return W?this.bb.readUint32(this.bb_pos+W):0}opType(W){let R=this.bb.__offset(this.bb_pos,14);return R?this.bb.__string(this.bb_pos+R,W):null}type(){let W=this.bb.__offset(this.bb_pos,16);return W?this.bb.readInt32(this.bb_pos+W):ie.experimental.fbs.NodeType.Primitive}executionProviderType(W){let R=this.bb.__offset(this.bb_pos,18);return R?this.bb.__string(this.bb_pos+R,W):null}inputs(W,R){let U=this.bb.__offset(this.bb_pos,20);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}inputsLength(){let W=this.bb.__offset(this.bb_pos,20);return W?this.bb.__vector_len(this.bb_pos+W):0}outputs(W,R){let U=this.bb.__offset(this.bb_pos,22);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}outputsLength(){let W=this.bb.__offset(this.bb_pos,22);return W?this.bb.__vector_len(this.bb_pos+W):0}attributes(W,R){let U=this.bb.__offset(this.bb_pos,24);return U?(R||new ie.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}attributesLength(){let W=this.bb.__offset(this.bb_pos,24);return W?this.bb.__vector_len(this.bb_pos+W):0}inputArgCounts(W){let R=this.bb.__offset(this.bb_pos,26);return R?this.bb.readInt32(this.bb.__vector(this.bb_pos+R)+4*W):0}inputArgCountsLength(){let W=this.bb.__offset(this.bb_pos,26);return W?this.bb.__vector_len(this.bb_pos+W):0}inputArgCountsArray(){let W=this.bb.__offset(this.bb_pos,26);return W?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+W),this.bb.__vector_len(this.bb_pos+W)):null}implicitInputs(W,R){let U=this.bb.__offset(this.bb_pos,28);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}implicitInputsLength(){let W=this.bb.__offset(this.bb_pos,28);return W?this.bb.__vector_len(this.bb_pos+W):0}static startNode(W){W.startObject(13)}static addName(W,R){W.addFieldOffset(0,R,0)}static addDocString(W,R){W.addFieldOffset(1,R,0)}static addDomain(W,R){W.addFieldOffset(2,R,0)}static addSinceVersion(W,R){W.addFieldInt32(3,R,0)}static addIndex(W,R){W.addFieldInt32(4,R,0)}static addOpType(W,R){W.addFieldOffset(5,R,0)}static addType(W,R){W.addFieldInt32(6,R,ie.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(W,R){W.addFieldOffset(7,R,0)}static addInputs(W,R){W.addFieldOffset(8,R,0)}static createInputsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startInputsVector(W,R){W.startVector(4,R,4)}static addOutputs(W,R){W.addFieldOffset(9,R,0)}static createOutputsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startOutputsVector(W,R){W.startVector(4,R,4)}static addAttributes(W,R){W.addFieldOffset(10,R,0)}static createAttributesVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startAttributesVector(W,R){W.startVector(4,R,4)}static addInputArgCounts(W,R){W.addFieldOffset(11,R,0)}static createInputArgCountsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addInt32(R[U]);return W.endVector()}static startInputArgCountsVector(W,R){W.startVector(4,R,4)}static addImplicitInputs(W,R){W.addFieldOffset(12,R,0)}static createImplicitInputsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startImplicitInputsVector(W,R){W.startVector(4,R,4)}static endNode(W){return W.endObject()}static createNode(W,R,U,K,J,ne,se,le,ce,de,pe,fe,he,be){return Z.startNode(W),Z.addName(W,R),Z.addDocString(W,U),Z.addDomain(W,K),Z.addSinceVersion(W,J),Z.addIndex(W,ne),Z.addOpType(W,se),Z.addType(W,le),Z.addExecutionProviderType(W,ce),Z.addInputs(W,de),Z.addOutputs(W,pe),Z.addAttributes(W,fe),Z.addInputArgCounts(W,he),Z.addImplicitInputs(W,be),Z.endNode(W)}}ae.Node=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsValueInfo(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsValueInfo(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}name(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}docString(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__string(this.bb_pos+R,W):null}type(W){let R=this.bb.__offset(this.bb_pos,8);return R?(W||new ie.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startValueInfo(W){W.startObject(3)}static addName(W,R){W.addFieldOffset(0,R,0)}static addDocString(W,R){W.addFieldOffset(1,R,0)}static addType(W,R){W.addFieldOffset(2,R,0)}static endValueInfo(W){return W.endObject()}static createValueInfo(W,R,U,K){return Z.startValueInfo(W),Z.addName(W,R),Z.addDocString(W,U),Z.addType(W,K),Z.endValueInfo(W)}}ae.ValueInfo=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsTypeInfo(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsTypeInfo(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}denotation(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}valueType(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.readUint8(this.bb_pos+W):ie.experimental.fbs.TypeInfoValue.NONE}value(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__union(W,this.bb_pos+R):null}static startTypeInfo(W){W.startObject(3)}static addDenotation(W,R){W.addFieldOffset(0,R,0)}static addValueType(W,R){W.addFieldInt8(1,R,ie.experimental.fbs.TypeInfoValue.NONE)}static addValue(W,R){W.addFieldOffset(2,R,0)}static endTypeInfo(W){return W.endObject()}static createTypeInfo(W,R,U,K){return Z.startTypeInfo(W),Z.addDenotation(W,R),Z.addValueType(W,U),Z.addValue(W,K),Z.endTypeInfo(W)}}ae.TypeInfo=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsOperatorSetId(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsOperatorSetId(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}domain(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}version(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.readInt64(this.bb_pos+W):this.bb.createLong(0,0)}static startOperatorSetId(W){W.startObject(2)}static addDomain(W,R){W.addFieldOffset(0,R,0)}static addVersion(W,R){W.addFieldInt64(1,R,W.createLong(0,0))}static endOperatorSetId(W){return W.endObject()}static createOperatorSetId(W,R,U){return Z.startOperatorSetId(W),Z.addDomain(W,R),Z.addVersion(W,U),Z.endOperatorSetId(W)}}ae.OperatorSetId=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsTensor(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsTensor(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}name(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}docString(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__string(this.bb_pos+R,W):null}dims(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.readInt64(this.bb.__vector(this.bb_pos+R)+8*W):this.bb.createLong(0,0)}dimsLength(){let W=this.bb.__offset(this.bb_pos,8);return W?this.bb.__vector_len(this.bb_pos+W):0}dataType(){let W=this.bb.__offset(this.bb_pos,10);return W?this.bb.readInt32(this.bb_pos+W):ie.experimental.fbs.TensorDataType.UNDEFINED}rawData(W){let R=this.bb.__offset(this.bb_pos,12);return R?this.bb.readUint8(this.bb.__vector(this.bb_pos+R)+W):0}rawDataLength(){let W=this.bb.__offset(this.bb_pos,12);return W?this.bb.__vector_len(this.bb_pos+W):0}rawDataArray(){let W=this.bb.__offset(this.bb_pos,12);return W?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+W),this.bb.__vector_len(this.bb_pos+W)):null}stringData(W,R){let U=this.bb.__offset(this.bb_pos,14);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}stringDataLength(){let W=this.bb.__offset(this.bb_pos,14);return W?this.bb.__vector_len(this.bb_pos+W):0}static startTensor(W){W.startObject(6)}static addName(W,R){W.addFieldOffset(0,R,0)}static addDocString(W,R){W.addFieldOffset(1,R,0)}static addDims(W,R){W.addFieldOffset(2,R,0)}static createDimsVector(W,R){W.startVector(8,R.length,8);for(let U=R.length-1;U>=0;U--)W.addInt64(R[U]);return W.endVector()}static startDimsVector(W,R){W.startVector(8,R,8)}static addDataType(W,R){W.addFieldInt32(3,R,ie.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(W,R){W.addFieldOffset(4,R,0)}static createRawDataVector(W,R){W.startVector(1,R.length,1);for(let U=R.length-1;U>=0;U--)W.addInt8(R[U]);return W.endVector()}static startRawDataVector(W,R){W.startVector(1,R,1)}static addStringData(W,R){W.addFieldOffset(5,R,0)}static createStringDataVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startStringDataVector(W,R){W.startVector(4,R,4)}static endTensor(W){return W.endObject()}static createTensor(W,R,U,K,J,ne,se){return Z.startTensor(W),Z.addName(W,R),Z.addDocString(W,U),Z.addDims(W,K),Z.addDataType(W,J),Z.addRawData(W,ne),Z.addStringData(W,se),Z.endTensor(W)}}ae.Tensor=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsSparseTensor(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsSparseTensor(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}values(W){let R=this.bb.__offset(this.bb_pos,4);return R?(W||new ie.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}indices(W){let R=this.bb.__offset(this.bb_pos,6);return R?(W||new ie.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}dims(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.readInt64(this.bb.__vector(this.bb_pos+R)+8*W):this.bb.createLong(0,0)}dimsLength(){let W=this.bb.__offset(this.bb_pos,8);return W?this.bb.__vector_len(this.bb_pos+W):0}static startSparseTensor(W){W.startObject(3)}static addValues(W,R){W.addFieldOffset(0,R,0)}static addIndices(W,R){W.addFieldOffset(1,R,0)}static addDims(W,R){W.addFieldOffset(2,R,0)}static createDimsVector(W,R){W.startVector(8,R.length,8);for(let U=R.length-1;U>=0;U--)W.addInt64(R[U]);return W.endVector()}static startDimsVector(W,R){W.startVector(8,R,8)}static endSparseTensor(W){return W.endObject()}static createSparseTensor(W,R,U,K){return Z.startSparseTensor(W),Z.addValues(W,R),Z.addIndices(W,U),Z.addDims(W,K),Z.endSparseTensor(W)}}ae.SparseTensor=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsAttribute(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsAttribute(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}name(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}docString(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__string(this.bb_pos+R,W):null}type(){let W=this.bb.__offset(this.bb_pos,8);return W?this.bb.readInt32(this.bb_pos+W):ie.experimental.fbs.AttributeType.UNDEFINED}f(){let W=this.bb.__offset(this.bb_pos,10);return W?this.bb.readFloat32(this.bb_pos+W):0}i(){let W=this.bb.__offset(this.bb_pos,12);return W?this.bb.readInt64(this.bb_pos+W):this.bb.createLong(0,0)}s(W){let R=this.bb.__offset(this.bb_pos,14);return R?this.bb.__string(this.bb_pos+R,W):null}t(W){let R=this.bb.__offset(this.bb_pos,16);return R?(W||new ie.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}g(W){let R=this.bb.__offset(this.bb_pos,18);return R?(W||new ie.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}floats(W){let R=this.bb.__offset(this.bb_pos,20);return R?this.bb.readFloat32(this.bb.__vector(this.bb_pos+R)+4*W):0}floatsLength(){let W=this.bb.__offset(this.bb_pos,20);return W?this.bb.__vector_len(this.bb_pos+W):0}floatsArray(){let W=this.bb.__offset(this.bb_pos,20);return W?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+W),this.bb.__vector_len(this.bb_pos+W)):null}ints(W){let R=this.bb.__offset(this.bb_pos,22);return R?this.bb.readInt64(this.bb.__vector(this.bb_pos+R)+8*W):this.bb.createLong(0,0)}intsLength(){let W=this.bb.__offset(this.bb_pos,22);return W?this.bb.__vector_len(this.bb_pos+W):0}strings(W,R){let U=this.bb.__offset(this.bb_pos,24);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}stringsLength(){let W=this.bb.__offset(this.bb_pos,24);return W?this.bb.__vector_len(this.bb_pos+W):0}tensors(W,R){let U=this.bb.__offset(this.bb_pos,26);return U?(R||new ie.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}tensorsLength(){let W=this.bb.__offset(this.bb_pos,26);return W?this.bb.__vector_len(this.bb_pos+W):0}graphs(W,R){let U=this.bb.__offset(this.bb_pos,28);return U?(R||new ie.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}graphsLength(){let W=this.bb.__offset(this.bb_pos,28);return W?this.bb.__vector_len(this.bb_pos+W):0}static startAttribute(W){W.startObject(13)}static addName(W,R){W.addFieldOffset(0,R,0)}static addDocString(W,R){W.addFieldOffset(1,R,0)}static addType(W,R){W.addFieldInt32(2,R,ie.experimental.fbs.AttributeType.UNDEFINED)}static addF(W,R){W.addFieldFloat32(3,R,0)}static addI(W,R){W.addFieldInt64(4,R,W.createLong(0,0))}static addS(W,R){W.addFieldOffset(5,R,0)}static addT(W,R){W.addFieldOffset(6,R,0)}static addG(W,R){W.addFieldOffset(7,R,0)}static addFloats(W,R){W.addFieldOffset(8,R,0)}static createFloatsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addFloat32(R[U]);return W.endVector()}static startFloatsVector(W,R){W.startVector(4,R,4)}static addInts(W,R){W.addFieldOffset(9,R,0)}static createIntsVector(W,R){W.startVector(8,R.length,8);for(let U=R.length-1;U>=0;U--)W.addInt64(R[U]);return W.endVector()}static startIntsVector(W,R){W.startVector(8,R,8)}static addStrings(W,R){W.addFieldOffset(10,R,0)}static createStringsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startStringsVector(W,R){W.startVector(4,R,4)}static addTensors(W,R){W.addFieldOffset(11,R,0)}static createTensorsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startTensorsVector(W,R){W.startVector(4,R,4)}static addGraphs(W,R){W.addFieldOffset(12,R,0)}static createGraphsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startGraphsVector(W,R){W.startVector(4,R,4)}static endAttribute(W){return W.endObject()}static createAttribute(W,R,U,K,J,ne,se,le,ce,de,pe,fe,he,be){return Z.startAttribute(W),Z.addName(W,R),Z.addDocString(W,U),Z.addType(W,K),Z.addF(W,J),Z.addI(W,ne),Z.addS(W,se),Z.addT(W,le),Z.addG(W,ce),Z.addFloats(W,de),Z.addInts(W,pe),Z.addStrings(W,fe),Z.addTensors(W,he),Z.addGraphs(W,be),Z.endAttribute(W)}}ae.Attribute=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsGraph(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsGraph(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}initializers(W,R){let U=this.bb.__offset(this.bb_pos,4);return U?(R||new ie.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}initializersLength(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.__vector_len(this.bb_pos+W):0}nodeArgs(W,R){let U=this.bb.__offset(this.bb_pos,6);return U?(R||new ie.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}nodeArgsLength(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.__vector_len(this.bb_pos+W):0}nodes(W,R){let U=this.bb.__offset(this.bb_pos,8);return U?(R||new ie.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}nodesLength(){let W=this.bb.__offset(this.bb_pos,8);return W?this.bb.__vector_len(this.bb_pos+W):0}maxNodeIndex(){let W=this.bb.__offset(this.bb_pos,10);return W?this.bb.readUint32(this.bb_pos+W):0}nodeEdges(W,R){let U=this.bb.__offset(this.bb_pos,12);return U?(R||new ie.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}nodeEdgesLength(){let W=this.bb.__offset(this.bb_pos,12);return W?this.bb.__vector_len(this.bb_pos+W):0}inputs(W,R){let U=this.bb.__offset(this.bb_pos,14);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}inputsLength(){let W=this.bb.__offset(this.bb_pos,14);return W?this.bb.__vector_len(this.bb_pos+W):0}outputs(W,R){let U=this.bb.__offset(this.bb_pos,16);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}outputsLength(){let W=this.bb.__offset(this.bb_pos,16);return W?this.bb.__vector_len(this.bb_pos+W):0}sparseInitializers(W,R){let U=this.bb.__offset(this.bb_pos,18);return U?(R||new ie.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}sparseInitializersLength(){let W=this.bb.__offset(this.bb_pos,18);return W?this.bb.__vector_len(this.bb_pos+W):0}static startGraph(W){W.startObject(8)}static addInitializers(W,R){W.addFieldOffset(0,R,0)}static createInitializersVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startInitializersVector(W,R){W.startVector(4,R,4)}static addNodeArgs(W,R){W.addFieldOffset(1,R,0)}static createNodeArgsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startNodeArgsVector(W,R){W.startVector(4,R,4)}static addNodes(W,R){W.addFieldOffset(2,R,0)}static createNodesVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startNodesVector(W,R){W.startVector(4,R,4)}static addMaxNodeIndex(W,R){W.addFieldInt32(3,R,0)}static addNodeEdges(W,R){W.addFieldOffset(4,R,0)}static createNodeEdgesVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startNodeEdgesVector(W,R){W.startVector(4,R,4)}static addInputs(W,R){W.addFieldOffset(5,R,0)}static createInputsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startInputsVector(W,R){W.startVector(4,R,4)}static addOutputs(W,R){W.addFieldOffset(6,R,0)}static createOutputsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startOutputsVector(W,R){W.startVector(4,R,4)}static addSparseInitializers(W,R){W.addFieldOffset(7,R,0)}static createSparseInitializersVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startSparseInitializersVector(W,R){W.startVector(4,R,4)}static endGraph(W){return W.endObject()}static createGraph(W,R,U,K,J,ne,se,le,ce){return Z.startGraph(W),Z.addInitializers(W,R),Z.addNodeArgs(W,U),Z.addNodes(W,K),Z.addMaxNodeIndex(W,J),Z.addNodeEdges(W,ne),Z.addInputs(W,se),Z.addOutputs(W,le),Z.addSparseInitializers(W,ce),Z.endGraph(W)}}ae.Graph=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsModel(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsModel(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}irVersion(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.readInt64(this.bb_pos+W):this.bb.createLong(0,0)}opsetImport(W,R){let U=this.bb.__offset(this.bb_pos,6);return U?(R||new ie.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}opsetImportLength(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.__vector_len(this.bb_pos+W):0}producerName(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__string(this.bb_pos+R,W):null}producerVersion(W){let R=this.bb.__offset(this.bb_pos,10);return R?this.bb.__string(this.bb_pos+R,W):null}domain(W){let R=this.bb.__offset(this.bb_pos,12);return R?this.bb.__string(this.bb_pos+R,W):null}modelVersion(){let W=this.bb.__offset(this.bb_pos,14);return W?this.bb.readInt64(this.bb_pos+W):this.bb.createLong(0,0)}docString(W){let R=this.bb.__offset(this.bb_pos,16);return R?this.bb.__string(this.bb_pos+R,W):null}graph(W){let R=this.bb.__offset(this.bb_pos,18);return R?(W||new ie.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}graphDocString(W){let R=this.bb.__offset(this.bb_pos,20);return R?this.bb.__string(this.bb_pos+R,W):null}static startModel(W){W.startObject(9)}static addIrVersion(W,R){W.addFieldInt64(0,R,W.createLong(0,0))}static addOpsetImport(W,R){W.addFieldOffset(1,R,0)}static createOpsetImportVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startOpsetImportVector(W,R){W.startVector(4,R,4)}static addProducerName(W,R){W.addFieldOffset(2,R,0)}static addProducerVersion(W,R){W.addFieldOffset(3,R,0)}static addDomain(W,R){W.addFieldOffset(4,R,0)}static addModelVersion(W,R){W.addFieldInt64(5,R,W.createLong(0,0))}static addDocString(W,R){W.addFieldOffset(6,R,0)}static addGraph(W,R){W.addFieldOffset(7,R,0)}static addGraphDocString(W,R){W.addFieldOffset(8,R,0)}static endModel(W){return W.endObject()}static createModel(W,R,U,K,J,ne,se,le,ce,de){return Z.startModel(W),Z.addIrVersion(W,R),Z.addOpsetImport(W,U),Z.addProducerName(W,K),Z.addProducerVersion(W,J),Z.addDomain(W,ne),Z.addModelVersion(W,se),Z.addDocString(W,le),Z.addGraph(W,ce),Z.addGraphDocString(W,de),Z.endModel(W)}}ae.Model=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsKernelCreateInfos(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsKernelCreateInfos(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}nodeIndices(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readUint32(this.bb.__vector(this.bb_pos+R)+4*W):0}nodeIndicesLength(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.__vector_len(this.bb_pos+W):0}nodeIndicesArray(){let W=this.bb.__offset(this.bb_pos,4);return W?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+W),this.bb.__vector_len(this.bb_pos+W)):null}kernelDefHashes(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.readUint64(this.bb.__vector(this.bb_pos+R)+8*W):this.bb.createLong(0,0)}kernelDefHashesLength(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.__vector_len(this.bb_pos+W):0}static startKernelCreateInfos(W){W.startObject(2)}static addNodeIndices(W,R){W.addFieldOffset(0,R,0)}static createNodeIndicesVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addInt32(R[U]);return W.endVector()}static startNodeIndicesVector(W,R){W.startVector(4,R,4)}static addKernelDefHashes(W,R){W.addFieldOffset(1,R,0)}static createKernelDefHashesVector(W,R){W.startVector(8,R.length,8);for(let U=R.length-1;U>=0;U--)W.addInt64(R[U]);return W.endVector()}static startKernelDefHashesVector(W,R){W.startVector(8,R,8)}static endKernelCreateInfos(W){return W.endObject()}static createKernelCreateInfos(W,R,U){return Z.startKernelCreateInfos(W),Z.addNodeIndices(W,R),Z.addKernelDefHashes(W,U),Z.endKernelCreateInfos(W)}}ae.KernelCreateInfos=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsSubGraphSessionState(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsSubGraphSessionState(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}graphId(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}sessionState(W){let R=this.bb.__offset(this.bb_pos,6);return R?(W||new ie.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startSubGraphSessionState(W){W.startObject(2)}static addGraphId(W,R){W.addFieldOffset(0,R,0)}static addSessionState(W,R){W.addFieldOffset(1,R,0)}static endSubGraphSessionState(W){let R=W.endObject();return W.requiredField(R,4),R}static createSubGraphSessionState(W,R,U){return Z.startSubGraphSessionState(W),Z.addGraphId(W,R),Z.addSessionState(W,U),Z.endSubGraphSessionState(W)}}ae.SubGraphSessionState=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsSessionState(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsSessionState(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}kernels(W){let R=this.bb.__offset(this.bb_pos,4);return R?(W||new ie.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}subGraphSessionStates(W,R){let U=this.bb.__offset(this.bb_pos,6);return U?(R||new ie.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}subGraphSessionStatesLength(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.__vector_len(this.bb_pos+W):0}static startSessionState(W){W.startObject(2)}static addKernels(W,R){W.addFieldOffset(0,R,0)}static addSubGraphSessionStates(W,R){W.addFieldOffset(1,R,0)}static createSubGraphSessionStatesVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startSubGraphSessionStatesVector(W,R){W.startVector(4,R,4)}static endSessionState(W){return W.endObject()}static createSessionState(W,R,U){return Z.startSessionState(W),Z.addKernels(W,R),Z.addSubGraphSessionStates(W,U),Z.endSessionState(W)}}ae.SessionState=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(ie){(function(ee){(function(ae){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsInferenceSession(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsInferenceSession(W,R){return W.setPosition(W.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static bufferHasIdentifier(W){return W.__has_identifier("ORTM")}ortVersion(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}model(W){let R=this.bb.__offset(this.bb_pos,6);return R?(W||new ie.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}sessionState(W){let R=this.bb.__offset(this.bb_pos,8);return R?(W||new ie.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startInferenceSession(W){W.startObject(3)}static addOrtVersion(W,R){W.addFieldOffset(0,R,0)}static addModel(W,R){W.addFieldOffset(1,R,0)}static addSessionState(W,R){W.addFieldOffset(2,R,0)}static endInferenceSession(W){return W.endObject()}static finishInferenceSessionBuffer(W,R){W.finish(R,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(W,R){W.finish(R,"ORTM",!0)}static createInferenceSession(W,R,U,K){return Z.startInferenceSession(W),Z.addOrtVersion(W,R),Z.addModel(W,U),Z.addSessionState(W,K),Z.endInferenceSession(W)}}ae.InferenceSession=Z})(ee.fbs||(ee.fbs={}))})(ie.experimental||(ie.experimental={}))}(X.onnxruntime||(X.onnxruntime={}))},1723:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.OnnxjsSessionHandler=void 0;const te=oe(2235),Q=oe(9240);X.OnnxjsSessionHandler=class{constructor(re){this.session=re,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(re,ie,ee){const ae=new Map;for(const W in re)if(Object.hasOwnProperty.call(re,W)){const R=re[W];ae.set(W,new Q.Tensor(R.dims,R.type,void 0,void 0,R.data))}const Z=await this.session.run(ae),Y={};return Z.forEach((W,R)=>{Y[R]=new te.Tensor(W.type,W.data,W.dims)}),Y}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Session=void 0;const te=oe(7067),Q=oe(1296),re=oe(1975),ie=oe(6496),ee=oe(1315),ae=oe(1745);X.Session=class{constructor(Z={}){this._initialized=!1,this.backendHint=Z.backendHint,this.profiler=ee.Profiler.create(Z.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(Z,Y,W){await this.profiler.event("session","Session.loadModel",async()=>{const R=await(0,re.resolveBackend)(this.backendHint);if(this.sessionHandler=R.createSessionHandler(this.context),this._model=new ae.Model,typeof Z=="string"){const U=Z.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){const K=await(0,Q.promisify)(te.readFile)(Z);this.initialize(K,U)}else{const K=await fetch(Z),J=await K.arrayBuffer();this.initialize(new Uint8Array(J),U)}}else if(ArrayBuffer.isView(Z))this.initialize(Z);else{const U=new Uint8Array(Z,Y||0,W||Z.byteLength);this.initialize(U)}})}initialize(Z,Y){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const W=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(Z,W,Y),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new ie.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(Z){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const Y=this.normalizeAndValidateInputs(Z),W=await this._executionPlan.execute(this.sessionHandler,Y);return this.createOutput(W)})}normalizeAndValidateInputs(Z){const Y=this._model.graph.getInputNames();if(Array.isArray(Z)){if(Z.length!==Y.length)throw new Error(`incorrect input array length: expected ${Y.length} but got ${Z.length}`)}else{if(Z.size!==Y.length)throw new Error(`incorrect input map size: expected ${Y.length} but got ${Z.size}`);const W=new Array(Z.size);let R=0;for(let U=0;U<Y.length;++U){const K=Z.get(Y[U]);if(!K)throw new Error(`missing input tensor for: '${name}'`);W[R++]=K}Z=W}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,Z,!1);else{const W=this._model.graph.getInputIndices(),R=this._model.graph.getValues(),U=new Array(W.length);for(let K=0;K<W.length;++K){const J=R[W[K]];U[K]=J.type.shape.dims,this.context.graphInputTypes.push(J.type.tensorType),this.context.graphInputDims.push(Z[K].dims)}this.validateInputTensorDims(U,Z,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,Z),Z}validateInputTensorTypes(Z,Y){for(let W=0;W<Y.length;W++){const R=Z[W],U=Y[W].type;if(R!==U)throw new Error(`input tensor[${W}] check failed: expected type '${R}' but got ${U}`)}}validateInputTensorDims(Z,Y,W){for(let R=0;R<Y.length;R++){const U=Z[R],K=Y[R].dims;if(!this.compareTensorDims(U,K,W))throw new Error(`input tensor[${R}] check failed: expected shape '[${U.join(",")}]' but got [${K.join(",")}]`)}}compareTensorDims(Z,Y,W){if(Z.length!==Y.length)return!1;for(let R=0;R<Z.length;++R)if(Z[R]!==Y[R]&&(!W||Z[R]!==0))return!1;return!0}createOutput(Z){const Y=this._model.graph.getOutputNames();if(Z.length!==Y.length)throw new Error("expected number of outputs do not match number of generated outputs");const W=new Map;for(let R=0;R<Y.length;++R)W.set(Y[R],Z[R]);return W}initializeOps(Z){const Y=Z.getNodes();this._ops=new Array(Y.length);for(let W=0;W<Y.length;W++)this._ops[W]=this.sessionHandler.resolve(Y[W],this._model.opsets,Z)}}},9240:function(ue,X,oe){var te=this&&this.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(X,"__esModule",{value:!0}),X.Tensor=void 0;const Q=oe(3442),re=te(oe(1583)),ie=oe(5127),ee=oe(2446),ae=oe(7273);var Z=ie.onnxruntime.experimental.fbs;class Y{get data(){if(this.cache===void 0){const ne=this.dataProvider(this.dataId);if(ne.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=ne}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(ne){return this.data[ae.ShapeUtil.indicesToOffset(ne,this.strides)]}set(ne,se){this.data[ae.ShapeUtil.indicesToOffset(ne,this.strides)]=se}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=ae.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(ne,se,le,ce,de,pe=Q.Guid.create()){this.dims=ne,this.type=se,this.dataProvider=le,this.asyncDataProvider=ce,this.cache=de,this.dataId=pe,this.size=ae.ShapeUtil.validateDimsAndCalcSize(ne);const fe=this.size,he=le===void 0&&ce===void 0&&de===void 0;if(de!==void 0&&de.length!==fe)throw new RangeError("Input dims doesn't match data length.");if(se==="string"){if(!(de===void 0||Array.isArray(de)&&de.every(be=>typeof be=="string")))throw new TypeError("cache should be a string array");he&&(this.cache=new Array(fe))}else{if(de!==void 0){const be=R(se);if(!(de instanceof be))throw new TypeError(`cache should be type ${be.name}`)}if(he){const be=new ArrayBuffer(fe*function(Te){switch(Te){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${Te}`)}}(se));this.cache=function(Te,xe){return new(R(xe))(Te)}(be,se)}}}static fromProto(ne){if(!ne)throw new Error("cannot construct Value from an empty tensor");const se=ae.ProtoUtil.tensorDataTypeFromProto(ne.dataType),le=ae.ProtoUtil.tensorDimsFromProto(ne.dims),ce=new Y(le,se);if(se==="string")ne.stringData.forEach((de,pe)=>{ce.data[pe]=(0,ae.decodeUtf8String)(de)});else if(ne.rawData&&typeof ne.rawData.byteLength=="number"&&ne.rawData.byteLength>0){const de=ce.data,pe=new DataView(ne.rawData.buffer,ne.rawData.byteOffset,ne.rawData.byteLength),fe=W(ne.dataType),he=ne.rawData.byteLength/fe;if(ne.rawData.byteLength%fe!=0)throw new Error("invalid buffer length");if(de.length!==he)throw new Error("buffer length mismatch");for(let be=0;be<he;be++){const Te=K(pe,ne.dataType,be*fe);de[be]=Te}}else{let de;switch(ne.dataType){case ee.onnx.TensorProto.DataType.FLOAT:de=ne.floatData;break;case ee.onnx.TensorProto.DataType.INT32:case ee.onnx.TensorProto.DataType.INT16:case ee.onnx.TensorProto.DataType.UINT16:case ee.onnx.TensorProto.DataType.INT8:case ee.onnx.TensorProto.DataType.UINT8:case ee.onnx.TensorProto.DataType.BOOL:de=ne.int32Data;break;case ee.onnx.TensorProto.DataType.INT64:de=ne.int64Data;break;case ee.onnx.TensorProto.DataType.DOUBLE:de=ne.doubleData;break;case ee.onnx.TensorProto.DataType.UINT32:case ee.onnx.TensorProto.DataType.UINT64:de=ne.uint64Data;break;default:throw new Error("unspecific error")}if(de==null)throw new Error("failed to populate data from a tensorproto value");const pe=ce.data;if(pe.length!==de.length)throw new Error("array length mismatch");for(let fe=0;fe<de.length;fe++){const he=de[fe];re.default.isLong(he)?pe[fe]=U(he,ne.dataType):pe[fe]=he}}return ce}static fromData(ne,se,le){return new Y(se,le,void 0,void 0,ne)}static fromOrtTensor(ne){if(!ne)throw new Error("cannot construct Value from an empty tensor");const se=ae.ProtoUtil.tensorDimsFromORTFormat(ne),le=ae.ProtoUtil.tensorDataTypeFromProto(ne.dataType()),ce=new Y(se,le);if(le==="string")for(let de=0;de<ne.stringDataLength();de++)ce.data[de]=ne.stringData(de);else if(ne.rawDataArray()&&typeof ne.rawDataLength()=="number"&&ne.rawDataLength()>0){const de=ce.data,pe=new DataView(ne.rawDataArray().buffer,ne.rawDataArray().byteOffset,ne.rawDataLength()),fe=W(ne.dataType()),he=ne.rawDataLength()/fe;if(ne.rawDataLength()%fe!=0)throw new Error("invalid buffer length");if(de.length!==he)throw new Error("buffer length mismatch");for(let be=0;be<he;be++){const Te=K(pe,ne.dataType(),be*fe);de[be]=Te}}return ce}}function W(J){switch(J){case ee.onnx.TensorProto.DataType.UINT8:case ee.onnx.TensorProto.DataType.INT8:case ee.onnx.TensorProto.DataType.BOOL:return 1;case ee.onnx.TensorProto.DataType.UINT16:case ee.onnx.TensorProto.DataType.INT16:return 2;case ee.onnx.TensorProto.DataType.FLOAT:case ee.onnx.TensorProto.DataType.INT32:case ee.onnx.TensorProto.DataType.UINT32:return 4;case ee.onnx.TensorProto.DataType.INT64:case ee.onnx.TensorProto.DataType.DOUBLE:case ee.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${ee.onnx.TensorProto.DataType[J]}`)}}function R(J){switch(J){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function U(J,ne){if(ne===ee.onnx.TensorProto.DataType.INT64||ne===Z.TensorDataType.INT64){if(J.greaterThanOrEqual(2147483648)||J.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(ne!==ee.onnx.TensorProto.DataType.UINT32&&ne!==Z.TensorDataType.UINT32&&ne!==ee.onnx.TensorProto.DataType.UINT64&&ne!==Z.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${ee.onnx.TensorProto.DataType[ne]}`);if(J.greaterThanOrEqual(4294967296)||J.lessThan(0))throw new TypeError("uint64 is not supported")}return J.toNumber()}function K(J,ne,se){switch(ne){case ee.onnx.TensorProto.DataType.BOOL:case ee.onnx.TensorProto.DataType.UINT8:return J.getUint8(se);case ee.onnx.TensorProto.DataType.INT8:return J.getInt8(se);case ee.onnx.TensorProto.DataType.UINT16:return J.getUint16(se,!0);case ee.onnx.TensorProto.DataType.INT16:return J.getInt16(se,!0);case ee.onnx.TensorProto.DataType.FLOAT:return J.getFloat32(se,!0);case ee.onnx.TensorProto.DataType.INT32:return J.getInt32(se,!0);case ee.onnx.TensorProto.DataType.UINT32:return J.getUint32(se,!0);case ee.onnx.TensorProto.DataType.INT64:return U(re.default.fromBits(J.getUint32(se,!0),J.getUint32(se+4,!0),!1),ne);case ee.onnx.TensorProto.DataType.DOUBLE:return J.getFloat64(se,!0);case ee.onnx.TensorProto.DataType.UINT64:return U(re.default.fromBits(J.getUint32(se,!0),J.getUint32(se+4,!0),!0),ne);default:throw new Error(`cannot read from DataView for type ${ee.onnx.TensorProto.DataType[ne]}`)}}X.Tensor=Y},7273:function(ue,X,oe){var te=this&&this.__importDefault||function(ne){return ne&&ne.__esModule?ne:{default:ne}};Object.defineProperty(X,"__esModule",{value:!0}),X.decodeUtf8String=X.MAX_CLIP=X.MIN_CLIP=X.PoolConvUtil=X.ReduceUtil=X.SplitUtil=X.MathUtil=X.ShapeUtil=X.LongUtil=X.ProtoUtil=X.GemmUtil=X.arrayCopyHelper=X.BroadcastUtil=X.MatMulUtil=X.ArrayUtil=X.assert=X.checkInputsShape=void 0;const Q=oe(5686),re=te(oe(1583)),ie=oe(2446),ee=oe(9240);X.checkInputsShape=function(ne,...se){if(!ne||ne.length!==se.length)return!1;for(let le=0;le<ne.length;le++)if(!ne[le].dims||ne[le].dims.length!==se[le])return!1;return!0},X.assert=function(ne,se){if(!ne)throw new Error(typeof se=="string"?se:se())},X.ArrayUtil=class{static arraysEqual(ne,se){if(ne.length!==se.length)return!1;for(let le=0;le<ne.length;le++)if(ne[le]!==se[le])return!1;return!0}};class ae{static preprocessInputShapes(se,le){return[se.length===1?[1,se[0]]:se,le.length===1?[le[0],1]:le]}static postprocessOutputShape(se,le,ce){le===1&&se.splice(se.length-2,1),ce===1&&se.pop()}static calcMatMulShape(se,le){return se[1]!==le[0]?void 0:[se[0],le[1]]}}X.MatMulUtil=ae;class Z{static calcShape(se,le,ce=!1){const de=se.length,pe=le.length;if(de===0)return le;if(pe===0)return se;const fe=Math.max(se.length,le.length),he=new Array(fe);if(ce){if(de<2||pe<2)return;const be=ae.calcMatMulShape([se[de-2],se[de-1]],[le[pe-2],le[pe-1]]);if(be===void 0)return;[he[fe-2],he[fe-1]]=be}for(let be=ce?3:1;be<=fe;be++){const Te=de-be<0?1:se[de-be],xe=pe-be<0?1:le[pe-be];if(Te!==xe&&Te>1&&xe>1)return;he[fe-be]=Math.max(Te,xe)}return he}static index(se,le){const ce=new Array(le.length);return Z.fillIndex(se,le,ce),ce}static fillIndex(se,le,ce){const de=se.length-le.length;for(let pe=0;pe<le.length;pe++)ce[pe]=se[de+pe]%le[pe]}static calc(se,le,ce,de,pe){const fe=Z.calcShape(se.dims,le.dims);if(fe){if(de&&!R.areEqual(fe,se.dims))return;const he=R.size(fe),be=de?se:new ee.Tensor(fe,pe||se.type);if(fe.length===0)be.set([],ce(se.get([]),le.get([])));else{const Te=new Array(fe.length),xe=new Array(se.dims.length),Se=new Array(le.dims.length);let Ee,ye=0,Ce=0,me=!1,we=!1;se.dims.length===0&&(ye=se.get([]),me=!0),le.dims.length===0&&(Ce=le.get([]),we=!0);for(let Ae=0;Ae<he;Ae++){Ee=Ae;for(let Fe=fe.length-1;Fe>=0;Fe--)Te[Fe]=Ee%fe[Fe],Ee=Math.floor(Ee/fe[Fe]);me||(Z.fillIndex(Te,se.dims,xe),ye=se.get(xe)),we||(Z.fillIndex(Te,le.dims,Se),Ce=le.get(Se)),be.set(Te,ce(ye,Ce))}}return be}}static isValidBroadcast(se,le){const ce=se.length,de=le.length;if(ce>de)return!1;for(let pe=1;pe<=ce;pe++)if(se[ce-pe]!==1&&se[ce-pe]!==le[de-pe])return!1;return!0}static getBroadcastDims(se,le){const ce=se.length,de=[];for(let pe=0;pe<ce;pe++){const fe=ce-1-pe,he=se[fe]||1;(le[le.length-1-pe]||1)>1&&he===1&&de.unshift(fe)}return de}}X.BroadcastUtil=Z,X.arrayCopyHelper=function(ne,se,le,ce,de){if(ce<0||ce>=se.length)throw new Error("sourceIndex out of bounds");if(le<0||le>=ne.length)throw new Error("targetIndex out of bounds");if(ce+de>se.length)throw new Error("source indices to be copied are outside bounds");if(le+de>ne.length)throw new Error("target array is too small to hold result");for(let pe=0;pe<de;pe++)ne[le+pe]=se[ce+pe]},X.GemmUtil=class{static getShapeOfGemmResult(ne,se,le,ce,de){if(ne.length!==2||le.length!==2)throw new Error("shape need to be of size 2");let pe,fe,he;se?(pe=ne[1],fe=ne[0]):(pe=ne[0],fe=ne[1]);let be=-1;if(ce?(he=le[0],be=1):(he=le[1],be=0),le[be]!==fe)throw new Error("dimension mismatch");if(pe<=0||he<=0||fe<=0)throw new Error("invalid shape specified");if(de&&!Z.isValidBroadcast(de,[pe,he]))throw new Error("gemm: invalid bias shape for broadcast");return[pe,he,fe]}};class Y{static tensorDataTypeFromProto(se){switch(se){case ie.onnx.TensorProto.DataType.INT8:return"int8";case ie.onnx.TensorProto.DataType.UINT8:return"uint8";case ie.onnx.TensorProto.DataType.BOOL:return"bool";case ie.onnx.TensorProto.DataType.INT16:return"int16";case ie.onnx.TensorProto.DataType.UINT16:return"uint16";case ie.onnx.TensorProto.DataType.INT32:return"int32";case ie.onnx.TensorProto.DataType.UINT32:return"uint32";case ie.onnx.TensorProto.DataType.FLOAT:return"float32";case ie.onnx.TensorProto.DataType.DOUBLE:return"float64";case ie.onnx.TensorProto.DataType.STRING:return"string";case ie.onnx.TensorProto.DataType.INT64:return"int32";case ie.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${ie.onnx.TensorProto.DataType[se]}`)}}static tensorDataTypeStringToEnum(se){switch(se){case"int8":return ie.onnx.TensorProto.DataType.INT8;case"uint8":return ie.onnx.TensorProto.DataType.UINT8;case"bool":return ie.onnx.TensorProto.DataType.BOOL;case"int16":return ie.onnx.TensorProto.DataType.INT16;case"uint16":return ie.onnx.TensorProto.DataType.UINT16;case"int32":return ie.onnx.TensorProto.DataType.INT32;case"uint32":return ie.onnx.TensorProto.DataType.UINT32;case"float32":return ie.onnx.TensorProto.DataType.FLOAT;case"float64":return ie.onnx.TensorProto.DataType.DOUBLE;case"string":return ie.onnx.TensorProto.DataType.STRING;case"int64":return ie.onnx.TensorProto.DataType.INT64;case"uint64":return ie.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${se}`)}}static tensorDimsFromProto(se){return se.map(le=>re.default.isLong(le)?le.toNumber():le)}static tensorValueTypeFromProto(se){return{tensorType:Y.tensorDataTypeFromProto(se.elemType),shape:{dims:Y.tensorDimsFromProto(se.shape.dim.map(le=>le.dimValue))}}}static tensorDimsFromORTFormat(se){const le=[];for(let ce=0;ce<se.dimsLength();ce++)le.push(W.longToNumber(se.dims(ce)));return le}static tensorAttributesFromORTFormat(se){const le=[];for(let ce=0;ce<se.attributesLength();ce++)le.push(se.attributes(ce));return le}}X.ProtoUtil=Y;class W{static longToNumber(se,le){return re.default.isLong(se)?se.toNumber():se instanceof Q.flatbuffers.Long?re.default.fromValue({low:se.low,high:se.high,unsigned:le!=null&&le}).toNumber():se}static isLong(se){return re.default.isLong(se)||se instanceof Q.flatbuffers.Long}}X.LongUtil=W;class R{static size(se){return R.getSizeFromDimensionRange(se,0,se.length)}static sizeFromDimension(se,le){if(le<0||le>se.length)throw new Error(`invalid dimension of ${le} for sizeFromDimension as Tensor has ${se.length} dimensions.`);return R.getSizeFromDimensionRange(se,le,se.length)}static sizeToDimension(se,le){if(le<0||le>se.length)throw new Error(`invalid dimension of ${le} for sizeToDimension as Tensor has ${se.length} dimensions.`);return R.getSizeFromDimensionRange(se,0,le)}static getSizeFromDimensionRange(se,le,ce){let de=1;for(let pe=le;pe<ce;pe++){if(se[pe]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");de*=se[pe]}return de}static computeStrides(se){const le=se.length;if(le===0)return[];if(le===1)return[1];const ce=new Array(le);ce[le-1]=1,ce[le-2]=se[le-1];for(let de=le-3;de>=0;--de)ce[de]=ce[de+1]*se[de+1];return ce}static transpose(se){return se.slice().reverse()}static indicesToOffset(se,le,ce){ce===void 0&&(ce=se.length);let de=0;for(let pe=0;pe<ce;++pe)de+=le[pe]*se[pe];return de}static offsetToIndices(se,le){const ce=le.length;if(ce===0)return[];if(ce===1)return[se*le[0]];const de=new Array(le.length);for(let pe=0;pe<de.length-1;++pe)de[pe]=Math.floor(se/le[pe]),se-=de[pe]*le[pe];return de[de.length-1]=se,de}static normalizeAxis(se,le){if(se<-le&&se>=le)throw new Error("unsupported axis for this operation.");return se<0?se+le:se}static normalizeAxes(se,le){return se.map(ce=>this.normalizeAxis(ce,le))}static incrementIndex(se,le,ce){if(le.length===0||se.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(ce===void 0)ce=le.length;else if(ce<=0||ce>le.length)throw new Error("Incorrect axis to increment on");for(let de=ce-1;de>=0&&(se[de]++,!(se[de]<le[de]));--de)se[de]=0}static calculateReshapedDims(se,le){if(le.length===0){if(se.length===0||R.size(se)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const ce=le.length,de=new Array(ce);let pe=-1,fe=1;for(let be=0;be<ce;be++){if(le[be]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(le[be]===-1){if(pe!==-1)throw new Error("at most one dimension in shape hints can be -1");pe=be}else{if(le[be]===0){if(be>=se.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");de[be]=se[be]}else de[be]=le[be];fe*=de[be]}}const he=R.size(se);if(pe!==-1){if(he%fe!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${se}] Output shape: [${le}]`);de[pe]=he/fe}else if(fe!==he)throw new Error("reshapedDims and originalDims don't have matching sizes");return de}static sortBasedOnPerm(se,le){return le?le.map(ce=>se[ce]):se.slice().reverse()}static padShape(se,le){const ce=se.length;return se.map((de,pe)=>de+le[pe]+le[pe+ce])}static areEqual(se,le){return se.length===le.length&&se.every((ce,de)=>ce===le[de])}static validateDimsAndCalcSize(se){if(se.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let le=1;for(const ce of se){if(!Number.isInteger(ce))throw new TypeError(`Invalid shape: ${ce} is not an integer`);if(ce<0||ce>2147483647)throw new TypeError(`Invalid shape: length ${ce} is not allowed`);le*=ce}return le}static flattenShape(se,le){le<0&&(le+=se.length);const ce=se.reduce((pe,fe)=>pe*fe,1),de=se.slice(le).reduce((pe,fe)=>pe*fe,1);return[ce/de,de]}static squeezeShape(se,le){const ce=new Array;le=R.normalizeAxes(le,se.length);for(let de=0;de<se.length;de++){const pe=le.indexOf(de)>=0;if(pe&&se[de]!==1)throw new Error("squeeze an axis of size different than 1");(le.length===0&&se[de]>1||le.length>0&&!pe)&&ce.push(se[de])}return ce}static unsqueezeShape(se,le){const ce=new Array(se.length+le.length);ce.fill(0);for(let pe=0;pe<le.length;pe++){const fe=R.normalizeAxis(le[pe],ce.length);if(fe>=ce.length)throw new Error("'axes' has an out of range axis");if(ce[fe]!==0)throw new Error("'axes' has a duplicate axis");ce[fe]=1}let de=0;for(let pe=0;pe<ce.length;pe++)ce[pe]===0&&(ce[pe]=se[de++]);if(de!==se.length)throw new Error("the unsqueezed dimension could not be established");return ce}}X.ShapeUtil=R,X.MathUtil=class{static sqr(ne,se,le,ce,de){if(ce<0||ce>=se.length)throw new Error("sourceIndex out of bounds");if(le<0||le>=ne.length)throw new Error("targetIndex out of bounds");if(ce+de>se.length)throw new Error("source indices to be copied are outside bounds");if(le+de>ne.length)throw new Error("target array is too small to hold result");for(let pe=0;pe<de;pe++)ne[le+pe]+=Math.pow(se[ce+pe],2)}static axpy(ne,se,le,ce,de,pe){if(ce<0||ce>=se.length)throw new Error("sourceIndex out of bounds");if(le<0||le>=ne.length)throw new Error("targetIndex out of bounds");if(ce+de>se.length)throw new Error("source indices to be copied are outside bounds");if(le+de>ne.length)throw new Error("target array is too small to hold result");for(let fe=0;fe<de;fe++)ne[le+fe]+=pe*se[ce+fe]}static powx(ne,se,le,ce,de,pe){if(ce<0||ce>=se.length)throw new Error("sourceIndex out of bounds");if(le<0||le>=ne.length)throw new Error("targetIndex out of bounds");if(ce+de>se.length)throw new Error("source indices to be copied are outside bounds");if(le+de>ne.length)throw new Error("target array is too small to hold result");for(let fe=0;fe<de;fe++)ne[le+fe]=Math.pow(se[ce+fe],pe)}static mul(ne,se,le,ce,de){if(ce<0||ce>=se.length)throw new Error("sourceIndex out of bounds");if(le<0||le>=ne.length)throw new Error("targetIndex out of bounds");if(ce+de>se.length)throw new Error("source indices to be copied are outside bounds");if(le+de>ne.length)throw new Error("target array is too small to hold result");for(let pe=0;pe<de;pe++)ne[le+pe]=se[ce+pe]*ne[le+pe]}};class U{static splitShape(se,le,ce,de){if(ce.length===0){if(!de)throw new Error("need to know number of outputs when the 'split' attribute is not specified");U.determineSplit(se[le],de,ce)}const pe=[],fe=[0];for(let he=0;he<ce.length;++he){he!==0&&fe.push(fe[he-1]+ce[he-1]);const be=se.slice();be[le]=ce[he],pe.push(be)}return[pe,fe]}static determineSplit(se,le,ce){if(se%le!=0)throw new Error("cannot split tensor to equal sized parts");for(let de=0;de<le;++de)ce.push(se/le)}}X.SplitUtil=U;class K{static calcReduce(se,le,ce,de,pe){const fe=se.dims.slice(0);le.length===0&&fe.forEach((ye,Ce)=>le.push(Ce));const he=K.calcReduceShape(fe,le,!0),be=R.size(he),Te=new ee.Tensor(he,se.type),xe=R.computeStrides(he),Se=R.computeStrides(fe),Ee=new Array(fe.length);for(let ye=0;ye<be;ye++){const Ce=R.offsetToIndices(ye,xe);Z.fillIndex(Ce,fe,Ee),Te.set(Ce,K.calcReduceByAxis(se.numberData,le,fe,0,R.indicesToOffset(Ee,Se),de,pe))}return ce?Te:new ee.Tensor(K.calcReduceShape(fe,le,ce),Te.type,void 0,void 0,Te.data,Te.dataId)}static calcReduceByAxis(se,le,ce,de,pe,fe,he){let be=0;if(de>=le.length)return fe(se[pe]);const Te=le[de],xe=Te>=ce.length?1:R.size(ce.slice(Te+1));for(let Se=0;Se<ce[Te];Se++)be=Se===0?K.calcReduceByAxis(se,le,ce,de+1,pe,fe,he):he(be,K.calcReduceByAxis(se,le,ce,de+1,pe,fe,he)),pe+=xe;return be}static calcReduceShape(se,le,ce){const de=se.slice();for(let pe=0;pe<le.length;pe++)de[le[pe]]=ce?1:0;return de.filter(pe=>pe!==0)}}X.ReduceUtil=K;class J{static adjustPoolAttributes(se,le,ce,de,pe,fe){if(!se&&ce.length!==le.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(se)for(let he=0;he<le.length-2;he++)he>=ce.length?ce.push(le[he+2]):ce[he]=le[he+2];for(let he=0;he<ce.length;he++)if(he<de.length){if(de[he]<0)throw new Error("strides should be greater than or equal to 1")}else de.push(1);for(let he=0;he<ce.length;he++)if(he<pe.length){if(pe[he]<0)throw new Error("dilations should be greater than or equal to 1")}else pe.push(1);for(let he=0;he<2*ce.length;he++)if(he<fe.length){if(fe[he]<0)throw new Error("pad should be greater than or equal to 1")}else fe.push(0);for(let he=0;he<ce.length;he++){if(ce[he]<=0)throw new Error("kernel shapes need to be greater than 0");if(fe[he]>=ce[he]||fe[he+ce.length]>=ce[he])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(se,le,ce,de,pe,fe){if(fe){if(pe.length!==2*(se.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(le.length!==se.length-2)throw new Error("length of strides should be the length of data dimensions");if(de.length!==se.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let he=0;he<se.length-2;he++)J.adjustPadAndReturnShape(se[he+2],le[he],ce[he],de[he],pe,he,he+se.length-2,fe)}}static computePoolOutputShape(se,le,ce,de,pe,fe,he){if(le.length<=0)throw new Error("input shape must be of size greater than 0");const be=[le[0],le[1]];return J.computeShapeHelper(se,le,be,ce,de,pe,fe,he),be}static computeConvOutputShape(se,le,ce,de,pe,fe,he){if(se.length<=0||le.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const be=[se[0],le[0]];return J.computeShapeHelper(!1,se,be,ce,de,pe,fe,he),be}static computeShapeHelper(se,le,ce,de,pe,fe,he,be){if(se)for(let Te=0;Te<le.length-2;Te++)ce.push(1);else for(let Te=0;Te<le.length-2;Te++)ce.push(J.adjustPadAndReturnShape(le[Te+2],de[Te],pe[Te],fe[Te],he,Te,Te+le.length-2,be))}static adjustPadAndReturnShape(se,le,ce,de,pe,fe,he,be){const Te=ce*(de-1)+1;if(!be||be==="NOTSET")return Math.floor((se+pe[fe]+pe[he]-Te)/le+1);switch(be){case"VALID":return pe[fe]=0,pe[he]=0,Math.floor((se-Te)/le+1);case"SAME_LOWER":case"SAME_UPPER":if(ce!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const xe=((se+le-1)/le-1)*le+de-se;return pe[fe]=Math.floor(be==="SAME_LOWER"?(xe+1)/2:xe/2),pe[he]=xe-pe[fe],Math.floor((se+xe-de)/le+1)}default:throw new Error("Unsupported AutoPad type")}}}X.PoolConvUtil=J,X.MIN_CLIP=-34028234663852886e22,X.MAX_CLIP=34028234663852886e22,X.decodeUtf8String=function(ne){return new TextDecoder().decode(ne)}},8408:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.version=void 0,X.version="1.16.3"},9544:function(ue,X,oe){var te,Q=this&&this.__createBinding||(Object.create?function(xe,Se,Ee,ye){ye===void 0&&(ye=Ee);var Ce=Object.getOwnPropertyDescriptor(Se,Ee);Ce&&!("get"in Ce?!Se.__esModule:Ce.writable||Ce.configurable)||(Ce={enumerable:!0,get:function(){return Se[Ee]}}),Object.defineProperty(xe,ye,Ce)}:function(xe,Se,Ee,ye){ye===void 0&&(ye=Ee),xe[ye]=Se[Ee]}),re=this&&this.__setModuleDefault||(Object.create?function(xe,Se){Object.defineProperty(xe,"default",{enumerable:!0,value:Se})}:function(xe,Se){xe.default=Se}),ie=this&&this.__importStar||function(xe){if(xe&&xe.__esModule)return xe;var Se={};if(xe!=null)for(var Ee in xe)Ee!=="default"&&Object.prototype.hasOwnProperty.call(xe,Ee)&&Q(Se,xe,Ee);return re(Se,xe),Se};Object.defineProperty(X,"__esModule",{value:!0}),X.endProfiling=X.run=X.releaseSession=X.createSession=X.createSessionFinalize=X.createSessionAllocate=X.initializeRuntime=X.initializeWebAssemblyInstance=void 0;const ee=oe(2235),ae=ie(oe(1259)),Z=oe(263),Y=()=>!!ee.env.wasm.proxy&&typeof document<"u";let W,R,U,K=!1,J=!1,ne=!1;const se=[],le=[],ce=[],de=[],pe=[],fe=[],he=()=>{if(K||!J||ne||!W)throw new Error("worker not ready")},be=xe=>{switch(xe.data.type){case"init-wasm":K=!1,xe.data.err?(ne=!0,R[1](xe.data.err)):(J=!0,R[0]());break;case"init-ort":xe.data.err?U[1](xe.data.err):U[0]();break;case"create_allocate":xe.data.err?se.shift()[1](xe.data.err):se.shift()[0](xe.data.out);break;case"create_finalize":xe.data.err?le.shift()[1](xe.data.err):le.shift()[0](xe.data.out);break;case"create":xe.data.err?ce.shift()[1](xe.data.err):ce.shift()[0](xe.data.out);break;case"release":xe.data.err?de.shift()[1](xe.data.err):de.shift()[0]();break;case"run":xe.data.err?pe.shift()[1](xe.data.err):pe.shift()[0](xe.data.out);break;case"end-profiling":xe.data.err?fe.shift()[1](xe.data.err):fe.shift()[0]()}},Te=typeof document<"u"?(te=document==null?void 0:document.currentScript)===null||te===void 0?void 0:te.src:void 0;X.initializeWebAssemblyInstance=async()=>{if(Y()){if(J)return;if(K)throw new Error("multiple calls to 'initWasm()' detected.");if(ne)throw new Error("previous call to 'initWasm()' failed.");return K=!0,ee.env.wasm.wasmPaths===void 0&&Te&&Te.indexOf("blob:")!==0&&(ee.env.wasm.wasmPaths=Te.substr(0,+Te.lastIndexOf("/")+1)),new Promise((xe,Se)=>{W==null||W.terminate(),W=oe(8050).Z(),W.onmessage=be,R=[xe,Se];const Ee={type:"init-wasm",in:ee.env.wasm};W.postMessage(Ee)})}return(0,Z.initializeWebAssembly)(ee.env.wasm)},X.initializeRuntime=async xe=>{if(Y())return he(),new Promise((Se,Ee)=>{U=[Se,Ee];const ye={type:"init-ort",in:xe};W.postMessage(ye)});await ae.initRuntime(xe)},X.createSessionAllocate=async xe=>Y()?(he(),new Promise((Se,Ee)=>{se.push([Se,Ee]);const ye={type:"create_allocate",in:{model:xe}};W.postMessage(ye,[xe.buffer])})):ae.createSessionAllocate(xe),X.createSessionFinalize=async(xe,Se)=>Y()?(he(),new Promise((Ee,ye)=>{le.push([Ee,ye]);const Ce={type:"create_finalize",in:{modeldata:xe,options:Se}};W.postMessage(Ce)})):ae.createSessionFinalize(xe,Se),X.createSession=async(xe,Se)=>Y()?(he(),new Promise((Ee,ye)=>{ce.push([Ee,ye]);const Ce={type:"create",in:{model:xe,options:Se}};W.postMessage(Ce,[xe.buffer])})):ae.createSession(xe,Se),X.releaseSession=async xe=>{if(Y())return he(),new Promise((Se,Ee)=>{de.push([Se,Ee]);const ye={type:"release",in:xe};W.postMessage(ye)});ae.releaseSession(xe)},X.run=async(xe,Se,Ee,ye,Ce)=>Y()?(he(),new Promise((me,we)=>{pe.push([me,we]);const Ae={type:"run",in:{sessionId:xe,inputIndices:Se,inputs:Ee,outputIndices:ye,options:Ce}};W.postMessage(Ae,ae.extractTransferableBuffers(Ee))})):ae.run(xe,Se,Ee,ye,Ce),X.endProfiling=async xe=>{if(Y())return he(),new Promise((Se,Ee)=>{fe.push([Se,Ee]);const ye={type:"end-profiling",in:xe};W.postMessage(ye)});ae.endProfiling(xe)}},7918:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.setRunOptions=void 0;const te=oe(263),Q=oe(1497);X.setRunOptions=re=>{const ie=(0,te.getInstance)();let ee=0;const ae=[],Z=re||{};try{if((re==null?void 0:re.logSeverityLevel)===void 0)Z.logSeverityLevel=2;else if(typeof re.logSeverityLevel!="number"||!Number.isInteger(re.logSeverityLevel)||re.logSeverityLevel<0||re.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${re.logSeverityLevel}`);if((re==null?void 0:re.logVerbosityLevel)===void 0)Z.logVerbosityLevel=0;else if(typeof re.logVerbosityLevel!="number"||!Number.isInteger(re.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${re.logVerbosityLevel}`);(re==null?void 0:re.terminate)===void 0&&(Z.terminate=!1);let Y=0;return(re==null?void 0:re.tag)!==void 0&&(Y=(0,Q.allocWasmString)(re.tag,ae)),ee=ie._OrtCreateRunOptions(Z.logSeverityLevel,Z.logVerbosityLevel,!!Z.terminate,Y),ee===0&&(0,Q.checkLastError)("Can't create run options."),(re==null?void 0:re.extra)!==void 0&&(0,Q.iterateExtraOptions)(re.extra,"",new WeakSet,(W,R)=>{const U=(0,Q.allocWasmString)(W,ae),K=(0,Q.allocWasmString)(R,ae);ie._OrtAddRunConfigEntry(ee,U,K)!==0&&(0,Q.checkLastError)(`Can't set a run config entry: ${W} - ${R}.`)}),[ee,ae]}catch(Y){throw ee!==0&&ie._OrtReleaseRunOptions(ee),ae.forEach(W=>ie._free(W)),Y}}},6640:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.OnnxruntimeWebAssemblySessionHandler=void 0;const te=oe(2806),Q=oe(2235),re=oe(2850),ie=oe(9544);let ee;X.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(ae){const Z=await fetch(ae);if(Z.status!==200)throw new Error(`failed to load model: ${ae}`);const Y=await Z.arrayBuffer();return(0,ie.createSessionAllocate)(new Uint8Array(Y))}async loadModel(ae,Z){if(ee||(await(0,ie.initializeRuntime)(Q.env),ee=!0),typeof ae=="string")if(typeof process<"u"&&process.versions&&process.versions.node){const Y=await(0,re.promisify)(te.readFile)(ae);[this.sessionId,this.inputNames,this.outputNames]=await(0,ie.createSession)(Y,Z)}else{const Y=await this.createSessionAllocate(ae);[this.sessionId,this.inputNames,this.outputNames]=await(0,ie.createSessionFinalize)(Y,Z)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,ie.createSession)(ae,Z)}async dispose(){return(0,ie.releaseSession)(this.sessionId)}async run(ae,Z,Y){const W=[],R=[];Object.entries(ae).forEach(ne=>{const se=ne[0],le=ne[1],ce=this.inputNames.indexOf(se);if(ce===-1)throw new Error(`invalid input '${se}'`);W.push(le),R.push(ce)});const U=[];Object.entries(Z).forEach(ne=>{const se=ne[0],le=this.outputNames.indexOf(se);if(le===-1)throw new Error(`invalid output '${se}'`);U.push(le)});const K=await(0,ie.run)(this.sessionId,R,W.map(ne=>[ne.type,ne.dims,ne.data]),U,Y),J={};for(let ne=0;ne<K.length;ne++)J[this.outputNames[U[ne]]]=new Q.Tensor(K[ne][0],K[ne][2],K[ne][1]);return J}startProfiling(){}endProfiling(){(0,ie.endProfiling)(this.sessionId)}}},7622:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.setSessionOptions=void 0;const te=oe(263),Q=oe(1497);X.setSessionOptions=re=>{var ie,ee,ae,Z;const Y=(0,te.getInstance)();let W=0;const R=[],U=re||{};(K=>{K.extra||(K.extra={}),K.extra.session||(K.extra.session={});const J=K.extra.session;J.use_ort_model_bytes_directly||(J.use_ort_model_bytes_directly="1"),K.executionProviders&&K.executionProviders.some(ne=>(typeof ne=="string"?ne:ne.name)==="webgpu")&&(K.enableMemPattern=!1)})(U);try{const K=(de=>{switch(de){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${de}`)}})((ie=U.graphOptimizationLevel)!==null&&ie!==void 0?ie:"all"),J=(de=>{switch(de){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${de}`)}})((ee=U.executionMode)!==null&&ee!==void 0?ee:"sequential"),ne=typeof U.logId=="string"?(0,Q.allocWasmString)(U.logId,R):0,se=(ae=U.logSeverityLevel)!==null&&ae!==void 0?ae:2;if(!Number.isInteger(se)||se<0||se>4)throw new Error(`log serverity level is not valid: ${se}`);const le=(Z=U.logVerbosityLevel)!==null&&Z!==void 0?Z:0;if(!Number.isInteger(le)||le<0||le>4)throw new Error(`log verbosity level is not valid: ${le}`);const ce=typeof U.optimizedModelFilePath=="string"?(0,Q.allocWasmString)(U.optimizedModelFilePath,R):0;return W=Y._OrtCreateSessionOptions(K,!!U.enableCpuMemArena,!!U.enableMemPattern,J,!!U.enableProfiling,0,ne,se,le,ce),W===0&&(0,Q.checkLastError)("Can't create session options."),U.executionProviders&&((de,pe,fe)=>{for(const he of pe){let be=typeof he=="string"?he:he.name;switch(be){case"xnnpack":be="XNNPACK";break;case"webnn":if(be="WEBNN",typeof he!="string"){const xe=he;if(xe!=null&&xe.deviceType){const Se=(0,Q.allocWasmString)("deviceType",fe),Ee=(0,Q.allocWasmString)(xe.deviceType,fe);(0,te.getInstance)()._OrtAddSessionConfigEntry(de,Se,Ee)!==0&&(0,Q.checkLastError)(`Can't set a session config entry: 'deviceType' - ${xe.deviceType}.`)}if(xe!=null&&xe.powerPreference){const Se=(0,Q.allocWasmString)("powerPreference",fe),Ee=(0,Q.allocWasmString)(xe.powerPreference,fe);(0,te.getInstance)()._OrtAddSessionConfigEntry(de,Se,Ee)!==0&&(0,Q.checkLastError)(`Can't set a session config entry: 'powerPreference' - ${xe.powerPreference}.`)}}break;case"webgpu":be="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${be}`)}const Te=(0,Q.allocWasmString)(be,fe);(0,te.getInstance)()._OrtAppendExecutionProvider(de,Te)!==0&&(0,Q.checkLastError)(`Can't append execution provider: ${be}.`)}})(W,U.executionProviders,R),U.extra!==void 0&&(0,Q.iterateExtraOptions)(U.extra,"",new WeakSet,(de,pe)=>{const fe=(0,Q.allocWasmString)(de,R),he=(0,Q.allocWasmString)(pe,R);Y._OrtAddSessionConfigEntry(W,fe,he)!==0&&(0,Q.checkLastError)(`Can't set a session config entry: ${de} - ${pe}.`)}),[W,R]}catch(K){throw W!==0&&Y._OrtReleaseSessionOptions(W),R.forEach(J=>Y._free(J)),K}}},7917:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.logLevelStringToEnum=X.tensorTypeToTypedArrayConstructor=X.getTensorElementSize=X.tensorDataTypeEnumToString=X.tensorDataTypeStringToEnum=void 0,X.tensorDataTypeStringToEnum=oe=>{switch(oe){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${oe}`)}},X.tensorDataTypeEnumToString=oe=>{switch(oe){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${oe}`)}},X.getTensorElementSize=oe=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][oe],X.tensorTypeToTypedArrayConstructor=oe=>{switch(oe){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${oe}`)}},X.logLevelStringToEnum=oe=>{switch(oe){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${oe}`)}}},1259:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.extractTransferableBuffers=X.endProfiling=X.run=X.releaseSession=X.createSession=X.createSessionFinalize=X.createSessionAllocate=X.initRuntime=void 0;const te=oe(7918),Q=oe(7622),re=oe(7917),ie=oe(263),ee=oe(1497);X.initRuntime=async Z=>{var Y,W;Y=Z.wasm.numThreads,W=(0,re.logLevelStringToEnum)(Z.logLevel),(0,ie.getInstance)()._OrtInit(Y,W)!==0&&(0,ee.checkLastError)("Can't initialize onnxruntime.")};const ae=new Map;X.createSessionAllocate=Z=>{const Y=(0,ie.getInstance)(),W=Y._malloc(Z.byteLength);if(W===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${Z.byteLength}.`);return Y.HEAPU8.set(Z,W),[W,Z.byteLength]},X.createSessionFinalize=(Z,Y)=>{const W=(0,ie.getInstance)();let R=0,U=0,K=[];const J=[],ne=[];try{[U,K]=(0,Q.setSessionOptions)(Y),R=W._OrtCreateSession(Z[0],Z[1],U),R===0&&(0,ee.checkLastError)("Can't create a session.");const[se,le]=(pe=>{const fe=(0,ie.getInstance)(),he=fe.stackSave();try{const be=fe.stackAlloc(8);return fe._OrtGetInputOutputCount(pe,be,be+4)!==0&&(0,ee.checkLastError)("Can't get session input/output count."),[fe.HEAP32[be/4],fe.HEAP32[be/4+1]]}finally{fe.stackRestore(he)}})(R),ce=[],de=[];for(let pe=0;pe<se;pe++){const fe=W._OrtGetInputName(R,pe);fe===0&&(0,ee.checkLastError)("Can't get an input name."),J.push(fe),ce.push(W.UTF8ToString(fe))}for(let pe=0;pe<le;pe++){const fe=W._OrtGetOutputName(R,pe);fe===0&&(0,ee.checkLastError)("Can't get an output name."),ne.push(fe),de.push(W.UTF8ToString(fe))}return ae.set(R,[R,J,ne]),[R,ce,de]}catch(se){throw J.forEach(le=>W._OrtFree(le)),ne.forEach(le=>W._OrtFree(le)),R!==0&&W._OrtReleaseSession(R),se}finally{W._free(Z[0]),U!==0&&W._OrtReleaseSessionOptions(U),K.forEach(se=>W._free(se))}},X.createSession=(Z,Y)=>{const W=(0,X.createSessionAllocate)(Z);return(0,X.createSessionFinalize)(W,Y)},X.releaseSession=Z=>{const Y=(0,ie.getInstance)(),W=ae.get(Z);if(!W)throw new Error(`cannot release session. invalid session id: ${Z}`);const[R,U,K]=W;U.forEach(J=>Y._OrtFree(J)),K.forEach(J=>Y._OrtFree(J)),Y._OrtReleaseSession(R),ae.delete(Z)},X.run=async(Z,Y,W,R,U)=>{const K=(0,ie.getInstance)(),J=ae.get(Z);if(!J)throw new Error(`cannot run inference. invalid session id: ${Z}`);const[ne,se,le]=J,ce=Y.length,de=R.length;let pe=0,fe=[];const he=[],be=[];try{[pe,fe]=(0,te.setRunOptions)(U);for(let Ce=0;Ce<ce;Ce++){const me=W[Ce][0],we=W[Ce][1],Ae=W[Ce][2];let Fe,Le;if(Array.isArray(Ae)){Le=4*Ae.length,Fe=K._malloc(Le),be.push(Fe);let Ve=Fe/4;for(let Ge=0;Ge<Ae.length;Ge++){if(typeof Ae[Ge]!="string")throw new TypeError(`tensor data at index ${Ge} is not a string`);K.HEAPU32[Ve++]=(0,ee.allocWasmString)(Ae[Ge],be)}}else Le=Ae.byteLength,Fe=K._malloc(Le),be.push(Fe),K.HEAPU8.set(new Uint8Array(Ae.buffer,Ae.byteOffset,Le),Fe);const Be=K.stackSave(),je=K.stackAlloc(4*we.length);try{let Ve=je/4;we.forEach(He=>K.HEAP32[Ve++]=He);const Ge=K._OrtCreateTensor((0,re.tensorDataTypeStringToEnum)(me),Fe,Le,je,we.length);Ge===0&&(0,ee.checkLastError)(`Can't create tensor for input[${Ce}].`),he.push(Ge)}finally{K.stackRestore(Be)}}const Te=K.stackSave(),xe=K.stackAlloc(4*ce),Se=K.stackAlloc(4*ce),Ee=K.stackAlloc(4*de),ye=K.stackAlloc(4*de);try{let Ce=xe/4,me=Se/4,we=Ee/4,Ae=ye/4;for(let je=0;je<ce;je++)K.HEAPU32[Ce++]=he[je],K.HEAPU32[me++]=se[Y[je]];for(let je=0;je<de;je++)K.HEAPU32[we++]=0,K.HEAPU32[Ae++]=le[R[je]];let Fe=K._OrtRun(ne,Se,xe,ce,ye,de,Ee,pe);const Le=K.jsepRunPromise;Le&&Le.then!==void 0&&(Fe=await Le);const Be=[];Fe!==0&&(0,ee.checkLastError)("failed to call OrtRun().");for(let je=0;je<de;je++){const Ve=K.HEAPU32[Ee/4+je],Ge=K.stackSave(),He=K.stackAlloc(16);let Ke,Ye=0;try{Fe=K._OrtGetTensorData(Ve,He,He+4,He+8,He+12),Fe!==0&&(0,ee.checkLastError)(`Can't access output tensor data on index ${je}.`);let Ze=He/4;const et=K.HEAPU32[Ze++];Ye=K.HEAPU32[Ze++];const ot=K.HEAPU32[Ze++],ut=K.HEAPU32[Ze++],lt=[];for(let tt=0;tt<ut;tt++)lt.push(K.HEAPU32[ot/4+tt]);K._OrtFree(ot);const xt=lt.length===0?1:lt.reduce((tt,ct)=>tt*ct);if(Ke=(0,re.tensorDataTypeEnumToString)(et),Ke==="string"){const tt=[];let ct=Ye/4;for(let bt=0;bt<xt;bt++){const gt=K.HEAPU32[ct++],yt=bt===xt-1?void 0:K.HEAPU32[ct]-gt;tt.push(K.UTF8ToString(gt,yt))}Be.push([Ke,lt,tt])}else{const tt=new((0,re.tensorTypeToTypedArrayConstructor)(Ke))(xt);new Uint8Array(tt.buffer,tt.byteOffset,tt.byteLength).set(K.HEAPU8.subarray(Ye,Ye+tt.byteLength)),Be.push([Ke,lt,tt])}}finally{K.stackRestore(Ge),Ke==="string"&&Ye&&K._free(Ye),K._OrtReleaseTensor(Ve)}}return Be}finally{K.stackRestore(Te)}}finally{he.forEach(Te=>K._OrtReleaseTensor(Te)),be.forEach(Te=>K._free(Te)),pe!==0&&K._OrtReleaseRunOptions(pe),fe.forEach(Te=>K._free(Te))}},X.endProfiling=Z=>{const Y=(0,ie.getInstance)(),W=ae.get(Z);if(!W)throw new Error("invalid session id");const R=W[0],U=Y._OrtEndProfiling(R);U===0&&(0,ee.checkLastError)("Can't get an profile file name."),Y._OrtFree(U)},X.extractTransferableBuffers=Z=>{const Y=[];for(const W of Z){const R=W[2];!Array.isArray(R)&&R.buffer&&Y.push(R.buffer)}return Y}},263:function(ue,X,oe){var te=this&&this.__createBinding||(Object.create?function(U,K,J,ne){ne===void 0&&(ne=J);var se=Object.getOwnPropertyDescriptor(K,J);se&&!("get"in se?!K.__esModule:se.writable||se.configurable)||(se={enumerable:!0,get:function(){return K[J]}}),Object.defineProperty(U,ne,se)}:function(U,K,J,ne){ne===void 0&&(ne=J),U[ne]=K[J]}),Q=this&&this.__setModuleDefault||(Object.create?function(U,K){Object.defineProperty(U,"default",{enumerable:!0,value:K})}:function(U,K){U.default=K}),re=this&&this.__importStar||function(U){if(U&&U.__esModule)return U;var K={};if(U!=null)for(var J in U)J!=="default"&&Object.prototype.hasOwnProperty.call(U,J)&&te(K,U,J);return Q(K,U),K};Object.defineProperty(X,"__esModule",{value:!0}),X.dispose=X.getInstance=X.initializeWebAssembly=void 0;const ie=re(oe(6449)),ee=oe(932),ae=oe(3474);let Z,Y=!1,W=!1,R=!1;X.initializeWebAssembly=async U=>{if(Y)return Promise.resolve();if(W)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(R)throw new Error("previous call to 'initializeWebAssembly()' failed.");W=!0;const K=U.initTimeout,J=U.numThreads,ne=U.simd,se=J>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),le=ne&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),ce=U.wasmPaths,de=typeof ce=="string"?ce:void 0,pe=((Te,xe)=>xe?Te?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":Te?"ort-wasm-simd.wasm":"ort-wasm.wasm")(le,se),fe=typeof ce=="object"?ce[pe]:void 0;let he=!1;const be=[];if(K>0&&be.push(new Promise(Te=>{setTimeout(()=>{he=!0,Te()},K)})),be.push(new Promise((Te,xe)=>{const Se=se?ae:ee,Ee={locateFile:(ye,Ce)=>se&&ye.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([oe(4154)],{type:"text/javascript"})):ye.endsWith(".wasm")?fe||(de??Ce)+pe:Ce+ye};if(se)if(typeof Blob>"u")Ee.mainScriptUrlOrBlob=ie.join(__dirname,"ort-wasm-threaded.js");else{const ye=`var ortWasmThreaded=(function(){var _scriptDir;return ${Se.toString()}})();`;Ee.mainScriptUrlOrBlob=new Blob([ye],{type:"text/javascript"})}Se(Ee).then(ye=>{W=!1,Y=!0,Z=ye,Te()},ye=>{W=!1,R=!0,xe(ye)})})),await Promise.race(be),he)throw new Error(`WebAssembly backend initializing failed due to timeout: ${K}ms`)},X.getInstance=()=>{if(Y&&Z)return Z;throw new Error("WebAssembly is not initialized yet.")},X.dispose=()=>{var U;!Y||W||R||(W=!0,(U=Z.PThread)===null||U===void 0||U.terminateAllThreads(),Z=void 0,W=!1,Y=!1,R=!0)}},1497:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.checkLastError=X.iterateExtraOptions=X.allocWasmString=void 0;const te=oe(263);X.allocWasmString=(Q,re)=>{const ie=(0,te.getInstance)(),ee=ie.lengthBytesUTF8(Q)+1,ae=ie._malloc(ee);return ie.stringToUTF8(Q,ae,ee),re.push(ae),ae},X.iterateExtraOptions=(Q,re,ie,ee)=>{if(typeof Q=="object"&&Q!==null){if(ie.has(Q))throw new Error("Circular reference in options");ie.add(Q)}Object.entries(Q).forEach(([ae,Z])=>{const Y=re?re+ae:ae;if(typeof Z=="object")(0,X.iterateExtraOptions)(Z,Y+".",ie,ee);else if(typeof Z=="string"||typeof Z=="number")ee(Y,Z.toString());else{if(typeof Z!="boolean")throw new Error("Can't handle extra config type: "+typeof Z);ee(Y,Z?"1":"0")}})},X.checkLastError=Q=>{const re=(0,te.getInstance)(),ie=re.stackSave();try{const ee=re.stackAlloc(8);re._OrtGetLastError(ee,ee+4);const ae=re.HEAP32[ee/4],Z=re.HEAPU32[ee/4+1],Y=Z?re.UTF8ToString(Z):"";throw new Error(`${Q} ERROR_CODE: ${ae}, ERROR_MESSAGE: ${Y}`)}finally{re.stackRestore(ie)}}},8050:(ue,X,oe)=>{oe.d(X,{Z:()=>re});var te=oe(6614),Q=oe.n(te);function re(){return Q()('/*!\n* ONNX Runtime Web v1.16.3\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const n=r(263),a=r(497);t.setRunOptions=e=>{const t=(0,n.getInstance)();let r=0;const o=[],i=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))i.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))i.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(i.terminate=!1);let n=0;return void 0!==(null==e?void 0:e.tag)&&(n=(0,a.allocWasmString)(e.tag,o)),r=t._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,n),0===r&&(0,a.checkLastError)("Can\'t create run options."),void 0!==(null==e?void 0:e.extra)&&(0,a.iterateExtraOptions)(e.extra,"",new WeakSet,((e,n)=>{const i=(0,a.allocWasmString)(e,o),s=(0,a.allocWasmString)(n,o);0!==t._OrtAddRunConfigEntry(r,i,s)&&(0,a.checkLastError)(`Can\'t set a run config entry: ${e} - ${n}.`)})),[r,o]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),o.forEach((e=>t._free(e))),e}}},622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const n=r(263),a=r(497);t.setSessionOptions=e=>{var t,r,o,i;const s=(0,n.getInstance)();let u=0;const c=[],l=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(l);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=l.graphOptimizationLevel)&&void 0!==t?t:"all"),f=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(r=l.executionMode)&&void 0!==r?r:"sequential"),d="string"==typeof l.logId?(0,a.allocWasmString)(l.logId,c):0,p=null!==(o=l.logSeverityLevel)&&void 0!==o?o:2;if(!Number.isInteger(p)||p<0||p>4)throw new Error(`log serverity level is not valid: ${p}`);const g=null!==(i=l.logVerbosityLevel)&&void 0!==i?i:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof l.optimizedModelFilePath?(0,a.allocWasmString)(l.optimizedModelFilePath,c):0;return u=s._OrtCreateSessionOptions(e,!!l.enableCpuMemArena,!!l.enableMemPattern,f,!!l.enableProfiling,0,d,p,g,h),0===u&&(0,a.checkLastError)("Can\'t create session options."),l.executionProviders&&((e,t,r)=>{for(const o of t){let t="string"==typeof o?o:o.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof o){const t=o;if(null==t?void 0:t.deviceType){const o=(0,a.allocWasmString)("deviceType",r),i=(0,a.allocWasmString)(t.deviceType,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'deviceType\' - ${t.deviceType}.`)}if(null==t?void 0:t.powerPreference){const o=(0,a.allocWasmString)("powerPreference",r),i=(0,a.allocWasmString)(t.powerPreference,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'powerPreference\' - ${t.powerPreference}.`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`)}const i=(0,a.allocWasmString)(t,r);0!==(0,n.getInstance)()._OrtAppendExecutionProvider(e,i)&&(0,a.checkLastError)(`Can\'t append execution provider: ${t}.`)}})(u,l.executionProviders,c),void 0!==l.extra&&(0,a.iterateExtraOptions)(l.extra,"",new WeakSet,((e,t)=>{const r=(0,a.allocWasmString)(e,c),n=(0,a.allocWasmString)(t,c);0!==s._OrtAddSessionConfigEntry(u,r,n)&&(0,a.checkLastError)(`Can\'t set a session config entry: ${e} - ${t}.`)})),[u,c]}catch(e){throw 0!==u&&s._OrtReleaseSessionOptions(u),c.forEach((e=>s._free(e))),e}}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const n=r(918),a=r(622),o=r(917),i=r(263),s=r(497);t.initRuntime=async e=>{var t,r;t=e.wasm.numThreads,r=(0,o.logLevelStringToEnum)(e.logLevel),0!==(0,i.getInstance)()._OrtInit(t,r)&&(0,s.checkLastError)("Can\'t initialize onnxruntime.")};const u=new Map;t.createSessionAllocate=e=>{const t=(0,i.getInstance)(),r=t._malloc(e.byteLength);if(0===r)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},t.createSessionFinalize=(e,t)=>{const r=(0,i.getInstance)();let n=0,o=0,c=[];const l=[],f=[];try{[o,c]=(0,a.setSessionOptions)(t),n=r._OrtCreateSession(e[0],e[1],o),0===n&&(0,s.checkLastError)("Can\'t create a session.");const[d,p]=(e=>{const t=(0,i.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,r,r+4)&&(0,s.checkLastError)("Can\'t get session input/output count."),[t.HEAP32[r/4],t.HEAP32[r/4+1]]}finally{t.stackRestore(r)}})(n),g=[],h=[];for(let e=0;e<d;e++){const t=r._OrtGetInputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an input name."),l.push(t),g.push(r.UTF8ToString(t))}for(let e=0;e<p;e++){const t=r._OrtGetOutputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an output name."),f.push(t),h.push(r.UTF8ToString(t))}return u.set(n,[n,l,f]),[n,g,h]}catch(e){throw l.forEach((e=>r._OrtFree(e))),f.forEach((e=>r._OrtFree(e))),0!==n&&r._OrtReleaseSession(n),e}finally{r._free(e[0]),0!==o&&r._OrtReleaseSessionOptions(o),c.forEach((e=>r._free(e)))}},t.createSession=(e,r)=>{const n=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(n,r)},t.releaseSession=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);const[n,a,o]=r;a.forEach((e=>t._OrtFree(e))),o.forEach((e=>t._OrtFree(e))),t._OrtReleaseSession(n),u.delete(e)},t.run=async(e,t,r,a,c)=>{const l=(0,i.getInstance)(),f=u.get(e);if(!f)throw new Error(`cannot run inference. invalid session id: ${e}`);const[d,p,g]=f,h=t.length,m=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,n.setRunOptions)(c);for(let e=0;e<h;e++){const t=r[e][0],n=r[e][1],a=r[e][2];let i,u;if(Array.isArray(a)){u=4*a.length,i=l._malloc(u),w.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,s.allocWasmString)(a[t],w)}}else u=a.byteLength,i=l._malloc(u),w.push(i),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),i);const c=l.stackSave(),f=l.stackAlloc(4*n.length);try{let r=f/4;n.forEach((e=>l.HEAP32[r++]=e));const a=l._OrtCreateTensor((0,o.tensorDataTypeStringToEnum)(t),i,u,f,n.length);0===a&&(0,s.checkLastError)(`Can\'t create tensor for input[${e}].`),b.push(a)}finally{l.stackRestore(c)}}const e=l.stackSave(),i=l.stackAlloc(4*h),u=l.stackAlloc(4*h),f=l.stackAlloc(4*m),_=l.stackAlloc(4*m);try{let e=i/4,r=u/4,n=f/4,c=_/4;for(let n=0;n<h;n++)l.HEAPU32[e++]=b[n],l.HEAPU32[r++]=p[t[n]];for(let e=0;e<m;e++)l.HEAPU32[n++]=0,l.HEAPU32[c++]=g[a[e]];let v=l._OrtRun(d,u,i,h,_,m,f,y);const w=l.jsepRunPromise;w&&void 0!==w.then&&(v=await w);const O=[];0!==v&&(0,s.checkLastError)("failed to call OrtRun().");for(let e=0;e<m;e++){const t=l.HEAPU32[f/4+e],r=l.stackSave(),n=l.stackAlloc(16);let a,i=0;try{v=l._OrtGetTensorData(t,n,n+4,n+8,n+12),0!==v&&(0,s.checkLastError)(`Can\'t access output tensor data on index ${e}.`);let r=n/4;const u=l.HEAPU32[r++];i=l.HEAPU32[r++];const c=l.HEAPU32[r++],f=l.HEAPU32[r++],d=[];for(let e=0;e<f;e++)d.push(l.HEAPU32[c/4+e]);l._OrtFree(c);const p=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=(0,o.tensorDataTypeEnumToString)(u),"string"===a){const e=[];let t=i/4;for(let r=0;r<p;r++){const n=l.HEAPU32[t++],a=r===p-1?void 0:l.HEAPU32[t]-n;e.push(l.UTF8ToString(n,a))}O.push([a,d,e])}else{const e=new((0,o.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(i,i+e.byteLength)),O.push([a,d,e])}}finally{l.stackRestore(r),"string"===a&&i&&l._free(i),l._OrtReleaseTensor(t)}}return O}finally{l.stackRestore(e)}}finally{b.forEach((e=>l._OrtReleaseTensor(e))),w.forEach((e=>l._free(e))),0!==y&&l._OrtReleaseRunOptions(y),v.forEach((e=>l._free(e)))}},t.endProfiling=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error("invalid session id");const n=r[0],a=t._OrtEndProfiling(n);0===a&&(0,s.checkLastError)("Can\'t get an profile file name."),t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const r of e){const e=r[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(r(449)),s=r(932),u=r(474);let c,l=!1,f=!1,d=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,n=e.numThreads,a=e.simd,o=n>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),p=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g=e.wasmPaths,h="string"==typeof g?g:void 0,m=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(p,o),y="object"==typeof g?g[m]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const n=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([r(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=h?h:t)+m:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join(__dirname,"ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${n.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,d=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||d||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,d=!0)}},497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkLastError=t.iterateExtraOptions=t.allocWasmString=void 0;const n=r(263);t.allocWasmString=(e,t)=>{const r=(0,n.getInstance)(),a=r.lengthBytesUTF8(e)+1,o=r._malloc(a);return r.stringToUTF8(e,o,a),t.push(o),o},t.iterateExtraOptions=(e,r,n,a)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((([e,o])=>{const i=r?r+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",n,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))},t.checkLastError=e=>{const t=(0,n.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);t._OrtGetLastError(r,r+4);const n=t.HEAP32[r/4],a=t.HEAPU32[r/4+1],o=a?t.UTF8ToString(a):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${o}`)}finally{t.stackRestore(r)}}},474:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){function t(){return k.buffer!=x.buffer&&Y(),x}function n(){return k.buffer!=x.buffer&&Y(),I}function a(){return k.buffer!=x.buffer&&Y(),U}function o(){return k.buffer!=x.buffer&&Y(),L}function i(){return k.buffer!=x.buffer&&Y(),W}var s,u,c=e;c.ready=new Promise(((e,t)=>{s=e,u=t}));var l,f,d,p=Object.assign({},c),g="./this.program",h=(e,t)=>{throw t},m="object"==typeof window,y="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b=c.ENVIRONMENT_IS_PTHREAD||!1,w="";function _(e){return c.locateFile?c.locateFile(e,w):w+e}if(v){var O=r(384),S=r(908);let t;w=y?S.dirname(w)+"/":__dirname+"/",l=(e,t)=>(e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFileSync(e,t?void 0:"utf8")),d=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!c.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),h=(e,t)=>{throw process.exitCode=e,t},c.inspect=()=>"[Emscripten Module object]";try{t=r(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}global.Worker=t.Worker}else(m||y)&&(y?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),_scriptDir&&(w=_scriptDir),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}));v&&"undefined"==typeof performance&&(global.performance=r(953).performance);var E=console.log.bind(console),A=console.error.bind(console);v&&(E=(...e)=>O.writeSync(1,e.join(" ")+"\\n"),A=(...e)=>O.writeSync(2,e.join(" ")+"\\n"));var T,M=c.print||E,R=c.printErr||A;Object.assign(c,p),p=null,c.thisProgram&&(g=c.thisProgram),c.quit&&(h=c.quit),c.wasmBinary&&(T=c.wasmBinary);var F=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&te("no native wasm support detected");var k,C,P,D,x,I,U,L,W,H=!1;function Y(){var e=k.buffer;c.HEAP8=x=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=U=new Int32Array(e),c.HEAPU8=I=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=L=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=W=new Float64Array(e)}var j=c.INITIAL_MEMORY||16777216;if(5242880<=j||te("INITIAL_MEMORY should be larger than STACK_SIZE, was "+j+"! (STACK_SIZE=5242880)"),b)k=c.wasmMemory;else if(c.wasmMemory)k=c.wasmMemory;else if(!((k=new WebAssembly.Memory({initial:j/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw R("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),v&&R("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Y(),j=k.buffer.byteLength;var z,G=[],N=[],B=[],$=0;function q(){return F||0<$}var V,J,X=0,K=null,Z=null;function Q(){X++,c.monitorRunDependencies&&c.monitorRunDependencies(X)}function ee(){if(X--,c.monitorRunDependencies&&c.monitorRunDependencies(X),0==X&&(null!==K&&(clearInterval(K),K=null),Z)){var e=Z;Z=null,e()}}function te(e){throw c.onAbort&&c.onAbort(e),R(e="Aborted("+e+")"),H=!0,D=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}function re(e){return e.startsWith("data:application/octet-stream;base64,")}function ne(e){if(e==V&&T)return new Uint8Array(T);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}function ae(e,t,r){return function(e){if(!T&&(m||y)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>ne(e)));if(f)return new Promise(((t,r)=>{f(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>ne(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{R("failed to asynchronously prepare wasm: "+e),te(e)}))}function oe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function ie(e){e.terminate(),e.onmessage=()=>{}}function se(e){(e=ge.Fa[e])||te(),ge.fb(e)}function ue(e){var t=ge.Za();if(!t)return 6;ge.Ia.push(t),ge.Fa[e.Ha]=t,t.Ha=e.Ha;var r={cmd:"run",start_routine:e.gb,arg:e.Ya,pthread_ptr:e.Ha};return v&&t.unref(),t.postMessage(r,e.mb),0}re(V="ort-wasm-threaded.wasm")||(V=_(V));var ce="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,le=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&ce)return ce.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},fe=(e,t)=>(e>>>=0)?le(n(),e,t):"";function de(e){if(b)return qe(1,1,e);D=e,q()||(ge.hb(),c.onExit&&c.onExit(e),H=!0),h(e,new oe(e))}var pe=e=>{if(D=e,b)throw me(e),"unwind";de(e)},ge={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){b?ge.ab():ge.$a()},$a:function(){G.unshift((()=>{Q(),ge.bb((()=>ee()))}))},ab:function(){ge.receiveObjectTransfer=ge.eb,ge.threadInitTLS=ge.Sa,ge.setExitStatus=ge.Ra,F=!1},Ra:function(e){D=e},rb:["$terminateWorker"],hb:function(){for(var e of ge.Ia)ie(e);for(e of ge.La)ie(e);ge.La=[],ge.Ia=[],ge.Fa=[]},fb:function(e){var t=e.Ha;delete ge.Fa[t],ge.La.push(e),ge.Ia.splice(ge.Ia.indexOf(e),1),e.Ha=0,yt(t)},eb:function(){},Sa:function(){ge.Ta.forEach((e=>e()))},cb:e=>new Promise((t=>{e.onmessage=r=>{var n=(r=r.data).cmd;if(r.targetThread&&r.targetThread!=dt()){var a=ge.Fa[r.qb];a?a.postMessage(r,r.transferList):R(\'Internal error! Worker sent a message "\'+n+\'" to target pthread \'+r.targetThread+", but that thread no longer exists!")}else"checkMailbox"===n?He():"spawnThread"===n?ue(r):"cleanupThread"===n?se(r.thread):"killThread"===n?(r=r.thread,n=ge.Fa[r],delete ge.Fa[r],ie(n),yt(r),ge.Ia.splice(ge.Ia.indexOf(n),1),n.Ha=0):"cancelThread"===n?ge.Fa[r.thread].postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,t(e)):"alert"===n?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?e.postMessage(r):"callHandler"===n?c[r.handler](...r.args):n&&R("worker sent an unknown command "+n)},e.onerror=e=>{throw R("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},v&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})));var r,n=[];for(r of["onExit","onAbort","print","printErr"])c.hasOwnProperty(r)&&n.push(r);e.postMessage({cmd:"load",handlers:n,urlOrBlob:c.mainScriptUrlOrBlob||_scriptDir,wasmMemory:k,wasmModule:P})})),bb:function(e){e()},Xa:function(){var e=_("ort-wasm-threaded.worker.js");e=new Worker(e),ge.La.push(e)},Za:function(){return 0==ge.La.length&&(ge.Xa(),ge.cb(ge.La[0])),ge.La.pop()}};c.PThread=ge;var he=e=>{for(;0<e.length;)e.shift()(c)};function me(e){if(b)return qe(2,0,e);pe(e)}c.establishStackSpace=function(){var e=dt(),t=a()[e+52>>2>>>0];e=a()[e+56>>2>>>0],_t(t,t-e),St(t)};var ye=[];function ve(e){this.Oa=e-24,this.Wa=function(e){o()[this.Oa+4>>2>>>0]=e},this.Va=function(e){o()[this.Oa+8>>2>>>0]=e},this.Pa=function(e,t){this.Ua(),this.Wa(e),this.Va(t)},this.Ua=function(){o()[this.Oa+16>>2>>>0]=0}}function be(e,t,r,n){return b?qe(3,1,e,t,r,n):we(e,t,r,n)}function we(e,t,r,n){if(e>>>=0,t>>>=0,r>>>=0,n>>>=0,"undefined"==typeof SharedArrayBuffer)return R("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return b&&0===a.length?be(e,t,r,n):(e={gb:r,Ha:e,Ya:n,mb:a},b?(e.ob="spawnThread",postMessage(e,a),0):ue(e))}function _e(e,t,r){return b?qe(4,1,e,t,r):0}function Oe(e,t){if(b)return qe(5,1,e,t)}c.invokeEntryPoint=function(e,t){var r=ye[e];r||(e>=ye.length&&(ye.length=e+1),ye[e]=r=z.get(e)),e=r(t),q()?ge.Ra(e):vt(e)};var Se=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},Ee=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Ae=(e,t,r)=>Ee(e,n(),t,r);function Te(e,t){if(b)return qe(6,1,e,t)}function Me(e,t,r){if(b)return qe(7,1,e,t,r)}function Re(e,t,r){return b?qe(8,1,e,t,r):0}function Fe(e,t){if(b)return qe(9,1,e,t)}function ke(e,t,r){if(b)return qe(10,1,e,t,r)}function Ce(e,t,r,n){if(b)return qe(11,1,e,t,r,n)}function Pe(e,t,r,n){if(b)return qe(12,1,e,t,r,n)}function De(e,t,r,n){if(b)return qe(13,1,e,t,r,n)}function xe(e){if(b)return qe(14,1,e)}function Ie(e,t){if(b)return qe(15,1,e,t)}function Ue(e,t,r){if(b)return qe(16,1,e,t,r)}var Le=e=>{if(!H)try{if(e(),!q())try{b?vt(D):pe(D)}catch(e){e instanceof oe||"unwind"==e||h(1,e)}}catch(e){e instanceof oe||"unwind"==e||h(1,e)}};function We(e){e>>>=0,"function"==typeof Atomics.nb&&(Atomics.nb(a(),e>>2,e).value.then(He),e+=128,Atomics.store(a(),e>>2,1))}function He(){var e=dt();e&&(We(e),Le((()=>bt())))}c.__emscripten_thread_mailbox_await=We,c.checkMailbox=He;var Ye=e=>0==e%4&&(0!=e%100||0==e%400),je=[0,31,60,91,121,152,182,213,244,274,305,335],ze=[0,31,59,90,120,151,181,212,243,273,304,334];function Ge(e,t,r,n,a,o,i,s){return b?qe(17,1,e,t,r,n,a,o,i,s):-52}function Ne(e,t,r,n,a,o,i){if(b)return qe(18,1,e,t,r,n,a,o,i)}var Be=e=>{var t=Se(e)+1,r=pt(t);return r&&Ae(e,r,t),r},$e=e=>{var t=Ot();return e=e(),St(t),e};function qe(e,t){var r=arguments.length-2,n=arguments;return $e((()=>{for(var a=Et(8*r),o=a>>3,s=0;s<r;s++){var u=n[2+s];i()[o+s>>>0]=u}return mt(e,r,a,t)}))}var Ve,Je=[],Xe={},Ke=()=>{if(!Ve){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ve=r}return Ve};function Ze(e,r){if(b)return qe(19,1,e,r);e>>>=0,r>>>=0;var n=0;return Ke().forEach((function(a,i){var s=r+n;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,n+=a.length+1})),0}function Qe(e,t){if(b)return qe(20,1,e,t);e>>>=0,t>>>=0;var r=Ke();o()[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),o()[t>>2>>>0]=n,0}function et(e){return b?qe(21,1,e):52}function tt(e,t,r,n){return b?qe(22,1,e,t,r,n):52}function rt(e,t,r,n,a){return b?qe(23,1,e,t,r,n,a):70}var nt=[null,[],[]];function at(e,t,r,a){if(b)return qe(24,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var i=0,s=0;s<r;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=n()[u+l>>>0],d=nt[e];0===f||10===f?((1===e?M:R)(le(d,0)),d.length=0):d.push(f)}i+=c}return o()[a>>2>>>0]=i,0}var ot=e=>(ot=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(v)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}te("initRandomDevice")})())(e),it=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31],ut=(e,r)=>{t().set(e,r>>>0)};function ct(e,t,r,n){function o(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function i(e,t){return o(e,t,"0")}function s(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Ja;for(e=new Date(new Date(e.Ka+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Ye(e.getFullYear())?it:st)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),r=u(r),0>=s(t,e)?0>=s(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,n>>>=0;var l=a()[n+40>>2>>>0];for(var f in n={kb:a()[n>>2>>>0],jb:a()[n+4>>2>>>0],Ma:a()[n+8>>2>>>0],Qa:a()[n+12>>2>>>0],Na:a()[n+16>>2>>>0],Ka:a()[n+20>>2>>>0],Ga:a()[n+24>>2>>>0],Ja:a()[n+28>>2>>>0],sb:a()[n+32>>2>>>0],ib:a()[n+36>>2>>>0],lb:l?fe(l):""},r=fe(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),l[f]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(f in l={"%a":e=>d[e.Ga].substring(0,3),"%A":e=>d[e.Ga],"%b":e=>p[e.Na].substring(0,3),"%B":e=>p[e.Na],"%C":e=>i((e.Ka+1900)/100|0,2),"%d":e=>i(e.Qa,2),"%e":e=>o(e.Qa,2," "),"%g":e=>c(e).toString().substring(2),"%G":e=>c(e),"%H":e=>i(e.Ma,2),"%I":e=>(0==(e=e.Ma)?e=12:12<e&&(e-=12),i(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Na-1;t+=(Ye(e.Ka+1900)?it:st)[r++]);return i(e.Qa+t,3)},"%m":e=>i(e.Na+1,2),"%M":e=>i(e.jb,2),"%n":()=>"\\n","%p":e=>0<=e.Ma&&12>e.Ma?"AM":"PM","%S":e=>i(e.kb,2),"%t":()=>"\\t","%u":e=>e.Ga||7,"%U":e=>i(Math.floor((e.Ja+7-e.Ga)/7),2),"%V":e=>{var t=Math.floor((e.Ja+7-(e.Ga+6)%7)/7);if(2>=(e.Ga+371-e.Ja-2)%7&&t++,t)53==t&&(4==(r=(e.Ga+371-e.Ja)%7)||3==r&&Ye(e.Ka)||(t=1));else{t=52;var r=(e.Ga+7-e.Ja-1)%7;(4==r||5==r&&Ye(e.Ka%400-1))&&t++}return i(t,2)},"%w":e=>e.Ga,"%W":e=>i(Math.floor((e.Ja+7-(e.Ga+6)%7)/7),2),"%y":e=>(e.Ka+1900).toString().substring(2),"%Y":e=>e.Ka+1900,"%z":e=>{var t=0<=(e=e.ib);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.lb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),l)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),l[f](n)));return f=function(e){var t=Array(Se(e)+1);return Ee(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),f.length>t?0:(ut(f,e),f.length-1)}ge.Pa();var lt=[null,de,me,be,_e,Oe,Te,Me,Re,Fe,ke,Ce,Pe,De,xe,Ie,Ue,Ge,Ne,Ze,Qe,et,tt,rt,at],ft={b:function(e,t,r){throw new ve(e>>>=0).Pa(t>>>0,r>>>0),e},N:function(e){gt(e>>>0,!y,1,!m,131072,!1),ge.Sa()},k:function(e){e>>>=0,b?postMessage({cmd:"cleanupThread",thread:e}):se(e)},I:we,h:_e,T:Oe,E:Te,G:Me,U:Re,R:Fe,J:ke,Q:Ce,o:Pe,F:De,C:xe,S:Ie,D:Ue,q:()=>!0,A:function(e,t){(e>>>=0)==t>>>0?setTimeout((()=>He())):b?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=ge.Fa[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:We,p:function(e){v&&ge.Fa[e>>>0].ref()},t:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getUTCSeconds(),a()[r+4>>2>>>0]=e.getUTCMinutes(),a()[r+8>>2>>>0]=e.getUTCHours(),a()[r+12>>2>>>0]=e.getUTCDate(),a()[r+16>>2>>>0]=e.getUTCMonth(),a()[r+20>>2>>>0]=e.getUTCFullYear()-1900,a()[r+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[r+28>>2>>>0]=e},u:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getSeconds(),a()[r+4>>2>>>0]=e.getMinutes(),a()[r+8>>2>>>0]=e.getHours(),a()[r+12>>2>>>0]=e.getDate(),a()[r+16>>2>>>0]=e.getMonth(),a()[r+20>>2>>>0]=e.getFullYear()-1900,a()[r+24>>2>>>0]=e.getDay(),t=(Ye(e.getFullYear())?je:ze)[e.getMonth()]+e.getDate()-1|0,a()[r+28>>2>>>0]=t,a()[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t)),a()[r+32>>2>>>0]=e},v:function(e){e>>>=0;var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),r=a()[e+32>>2>>>0],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(i,o);return 0>r?a()[e+32>>2>>>0]=Number(o!=i&&s==n):0<r!=(s==n)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<r?s:o)-n))),a()[e+24>>2>>>0]=t.getDay(),r=(Ye(t.getFullYear())?je:ze)[t.getMonth()]+t.getDate()-1|0,a()[e+28>>2>>>0]=r,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,wt((J=e,1<=+Math.abs(J)?0<J?+Math.floor(J/4294967296)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)),e>>>0},r:Ge,s:Ne,z:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}e>>>=0,t>>>=0,r>>>=0;var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);o()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=n(s),t=n(u),e=Be(e),t=Be(t),c<i?(o()[r>>2>>>0]=e,o()[r+4>>2>>>0]=t):(o()[r>>2>>>0]=t,o()[r+4>>2>>>0]=e)},c:()=>{te("")},l:function(){},i:function(){return Date.now()},V:()=>{throw $+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return v?r(993).cpus().length:navigator.hardwareConcurrency},K:function(e,t,r,n){for(ge.pb=t>>>0,Je.length=r,t=n>>>0>>3,n=0;n<r;n++)Je[n]=i()[t+n>>>0];return lt[e].apply(null,Je)},y:function(e){e>>>=0;var t=n().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a);e:{o=o.min.call(o,4294901760,a+(65536-a%65536)%65536)-k.buffer.byteLength+65535>>>16;try{k.grow(o),Y();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},O:Ze,P:Qe,j:pe,g:et,n:tt,w:rt,m:at,x:function(e,t){return e>>>=0,t>>>=0,ot(n().subarray(e>>>0,e+t>>>0)),0},a:k||c.wasmMemory,H:ct,d:function(e,t,r,n){return ct(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e,t){return e=e.exports,C=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.pthread_self=t(e.pthread_self),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),ge.Ta.push(C.sa),z=C.ta,N.unshift(C.W),P=t,ee(),e}var t={a:ft};if(Q(),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(e){R("Module.instantiateWasm callback failed with error: "+e),u(e)}(function(e,t){var r=V;return T||"function"!=typeof WebAssembly.instantiateStreaming||re(r)||r.startsWith("file://")||v||"function"!=typeof fetch?ae(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return R("wasm streaming compile failed: "+n),R("falling back to ArrayBuffer instantiation"),ae(r,e,t)}))))})(t,(function(t){e(t.instance,t.module)})).catch(u)}(),c._OrtInit=(e,t)=>(c._OrtInit=C.X)(e,t),c._OrtGetLastError=(e,t)=>(c._OrtGetLastError=C.Y)(e,t),c._OrtCreateSessionOptions=(e,t,r,n,a,o,i,s,u,l)=>(c._OrtCreateSessionOptions=C.Z)(e,t,r,n,a,o,i,s,u,l),c._OrtAppendExecutionProvider=(e,t)=>(c._OrtAppendExecutionProvider=C._)(e,t),c._OrtAddSessionConfigEntry=(e,t,r)=>(c._OrtAddSessionConfigEntry=C.$)(e,t,r),c._OrtReleaseSessionOptions=e=>(c._OrtReleaseSessionOptions=C.aa)(e),c._OrtCreateSession=(e,t,r)=>(c._OrtCreateSession=C.ba)(e,t,r),c._OrtReleaseSession=e=>(c._OrtReleaseSession=C.ca)(e),c._OrtGetInputOutputCount=(e,t,r)=>(c._OrtGetInputOutputCount=C.da)(e,t,r),c._OrtGetInputName=(e,t)=>(c._OrtGetInputName=C.ea)(e,t),c._OrtGetOutputName=(e,t)=>(c._OrtGetOutputName=C.fa)(e,t),c._OrtFree=e=>(c._OrtFree=C.ga)(e),c._OrtCreateTensor=(e,t,r,n,a)=>(c._OrtCreateTensor=C.ha)(e,t,r,n,a),c._OrtGetTensorData=(e,t,r,n,a)=>(c._OrtGetTensorData=C.ia)(e,t,r,n,a),c._OrtReleaseTensor=e=>(c._OrtReleaseTensor=C.ja)(e),c._OrtCreateRunOptions=(e,t,r,n)=>(c._OrtCreateRunOptions=C.ka)(e,t,r,n),c._OrtAddRunConfigEntry=(e,t,r)=>(c._OrtAddRunConfigEntry=C.la)(e,t,r),c._OrtReleaseRunOptions=e=>(c._OrtReleaseRunOptions=C.ma)(e),c._OrtRun=(e,t,r,n,a,o,i,s)=>(c._OrtRun=C.na)(e,t,r,n,a,o,i,s),c._OrtEndProfiling=e=>(c._OrtEndProfiling=C.oa)(e);var dt=c._pthread_self=()=>(dt=c._pthread_self=C.pa)(),pt=c._malloc=e=>(pt=c._malloc=C.qa)(e);c._free=e=>(c._free=C.ra)(e),c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=C.sa)();var gt=c.__emscripten_thread_init=(e,t,r,n,a,o)=>(gt=c.__emscripten_thread_init=C.ua)(e,t,r,n,a,o);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=C.va)();var ht,mt=(e,t,r,n)=>(mt=C.wa)(e,t,r,n),yt=e=>(yt=C.xa)(e),vt=c.__emscripten_thread_exit=e=>(vt=c.__emscripten_thread_exit=C.ya)(e),bt=c.__emscripten_check_mailbox=()=>(bt=c.__emscripten_check_mailbox=C.za)(),wt=e=>(wt=C.Aa)(e),_t=(e,t)=>(_t=C.Ba)(e,t),Ot=()=>(Ot=C.Ca)(),St=e=>(St=C.Da)(e),Et=e=>(Et=C.Ea)(e);function At(){function e(){if(!ht&&(ht=!0,c.calledRun=!0,!H)&&(b||he(N),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!b)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();B.unshift(e)}he(B)}}if(!(0<X))if(b)s(c),b||he(N),startWorker(c);else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)G.unshift(c.preRun.shift());he(G),0<X||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}if(c.keepRuntimeAlive=q,c.wasmMemory=k,c.stackAlloc=Et,c.stackSave=Ot,c.stackRestore=St,c.UTF8ToString=fe,c.stringToUTF8=Ae,c.lengthBytesUTF8=Se,c.ExitStatus=oe,c.PThread=ge,Z=function e(){ht||At(),ht||(Z=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return At(),e.ready});e.exports=n},932:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){var t,n,a=e;a.ready=new Promise(((e,r)=>{t=e,n=r}));var o,i,s,u=Object.assign({},a),c="./this.program",l=(e,t)=>{throw t},f="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,g="";if(p){var h=r(384),m=r(908);g=d?m.dirname(g)+"/":__dirname+"/",o=(e,t)=>(e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!a.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),l=(e,t)=>{throw process.exitCode=e,t},a.inspect=()=>"[Emscripten Module object]"}else(f||d)&&(d?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),_scriptDir&&(g=_scriptDir),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var y,v=a.print||console.log.bind(console),b=a.printErr||console.error.bind(console);Object.assign(a,u),u=null,a.thisProgram&&(c=a.thisProgram),a.quit&&(l=a.quit),a.wasmBinary&&(y=a.wasmBinary);var w=a.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var _,O,S,E,A,T,M=!1;function R(){var e=_.buffer;a.HEAP8=S=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU8=E=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=T=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var F=[],k=[],C=[];function P(){var e=a.preRun.shift();F.unshift(e)}var D,x,I=0,U=null,L=null;function W(e){throw a.onAbort&&a.onAbort(e),b(e="Aborted("+e+")"),M=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}function H(e){return e.startsWith("data:application/octet-stream;base64,")}if(!H(D="ort-wasm.wasm")){var Y=D;D=a.locateFile?a.locateFile(Y,g):g+Y}function j(e){if(e==D&&y)return new Uint8Array(y);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}function z(e,t,r){return function(e){if(!y&&(f||d)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>j(e)));if(i)return new Promise(((t,r)=>{i(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>j(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{b("failed to asynchronously prepare wasm: "+e),W(e)}))}function G(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var N=e=>{for(;0<e.length;)e.shift()(a)};function B(e){this.qa=e-24,this.va=function(e){T[this.qa+4>>2>>>0]=e},this.ua=function(e){T[this.qa+8>>2>>>0]=e},this.sa=function(e,t){this.ta(),this.va(e),this.ua(t)},this.ta=function(){T[this.qa+16>>2>>>0]=0}}var $,q="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,V=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&q)return q.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},J=(e,t)=>(e>>>=0)?V(E,e,t):"",X=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},K=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Z=e=>0==e%4&&(0!=e%100||0==e%400),Q=[0,31,60,91,121,152,182,213,244,274,305,335],ee=[0,31,59,90,120,151,181,212,243,273,304,334],te=e=>{var t=X(e)+1,r=le(t);return r&&K(e,E,r,t),r},re={},ne=()=>{if(!$){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(e in re)void 0===re[e]?delete t[e]:t[e]=re[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);$=r}return $},ae=[null,[],[]],oe=e=>(oe=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);if(p)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}W("initRandomDevice")})())(e),ie=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ue(e,t,r,n){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.ma;for(e=new Date(new Date(e.na+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Z(e.getFullYear())?ie:se)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0;var c=A[40+(n>>>=0)>>2>>>0];for(var l in n={ya:A[n>>2>>>0],xa:A[n+4>>2>>>0],oa:A[n+8>>2>>>0],ra:A[n+12>>2>>>0],pa:A[n+16>>2>>>0],na:A[n+20>>2>>>0],ha:A[n+24>>2>>>0],ma:A[n+28>>2>>>0],Aa:A[n+32>>2>>>0],wa:A[n+36>>2>>>0],za:c?J(c):""},r=J(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in c={"%a":e=>f[e.ha].substring(0,3),"%A":e=>f[e.ha],"%b":e=>d[e.pa].substring(0,3),"%B":e=>d[e.pa],"%C":e=>o((e.na+1900)/100|0,2),"%d":e=>o(e.ra,2),"%e":e=>a(e.ra,2," "),"%g":e=>u(e).toString().substring(2),"%G":e=>u(e),"%H":e=>o(e.oa,2),"%I":e=>(0==(e=e.oa)?e=12:12<e&&(e-=12),o(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.pa-1;t+=(Z(e.na+1900)?ie:se)[r++]);return o(e.ra+t,3)},"%m":e=>o(e.pa+1,2),"%M":e=>o(e.xa,2),"%n":()=>"\\n","%p":e=>0<=e.oa&&12>e.oa?"AM":"PM","%S":e=>o(e.ya,2),"%t":()=>"\\t","%u":e=>e.ha||7,"%U":e=>o(Math.floor((e.ma+7-e.ha)/7),2),"%V":e=>{var t=Math.floor((e.ma+7-(e.ha+6)%7)/7);if(2>=(e.ha+371-e.ma-2)%7&&t++,t)53==t&&(4==(r=(e.ha+371-e.ma)%7)||3==r&&Z(e.na)||(t=1));else{t=52;var r=(e.ha+7-e.ma-1)%7;(4==r||5==r&&Z(e.na%400-1))&&t++}return o(t,2)},"%w":e=>e.ha,"%W":e=>o(Math.floor((e.ma+7-(e.ha+6)%7)/7),2),"%y":e=>(e.na+1900).toString().substring(2),"%Y":e=>e.na+1900,"%z":e=>{var t=0<=(e=e.wa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.za,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),c)r.includes(l)&&(r=r.replace(new RegExp(l,"g"),c[l](n)));return l=function(e){var t=Array(X(e)+1);return K(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),l.length>t?0:(S.set(l,e>>>0),l.length-1)}var ce={a:function(e,t,r){throw new B(e>>>=0).sa(t>>>0,r>>>0),e},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getUTCSeconds(),A[r+4>>2>>>0]=e.getUTCMinutes(),A[r+8>>2>>>0]=e.getUTCHours(),A[r+12>>2>>>0]=e.getUTCDate(),A[r+16>>2>>>0]=e.getUTCMonth(),A[r+20>>2>>>0]=e.getUTCFullYear()-1900,A[r+24>>2>>>0]=e.getUTCDay(),A[r+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getSeconds(),A[r+4>>2>>>0]=e.getMinutes(),A[r+8>>2>>>0]=e.getHours(),A[r+12>>2>>>0]=e.getDate(),A[r+16>>2>>>0]=e.getMonth(),A[r+20>>2>>>0]=e.getFullYear()-1900,A[r+24>>2>>>0]=e.getDay(),A[r+28>>2>>>0]=(Z(e.getFullYear())?Q:ee)[e.getMonth()]+e.getDate()-1|0,A[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();A[r+32>>2>>>0]=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t))},p:function(e){e>>>=0;var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),r=A[e+32>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>r?A[e+32>>2>>>0]=Number(a!=o&&i==n):0<r!=(i==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?i:a)-n))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(Z(t.getFullYear())?Q:ee)[t.getMonth()]+t.getDate()-1|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),A[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,de((x=e,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)),e>>>0},l:function(){return-52},m:function(){},u:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}r>>>=0;var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();T[e>>>0>>2>>>0]=60*Math.max(a,s),A[t>>>0>>2>>>0]=Number(a!=s),e=n(o),t=n(i),e=te(e),t=te(t),s<a?(T[r>>2>>>0]=e,T[r+4>>2>>>0]=t):(T[r>>2>>>0]=t,T[r+4>>2>>>0]=e)},d:()=>{W("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(e,t,r){return t>>>=0,E.copyWithin(e>>>0>>>0,t>>>0,t+(r>>>0)>>>0)},t:function(e){e>>>=0;var t=E.length;if(4294901760<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math;n=Math.max(e,n);e:{a=a.min.call(a,4294901760,n+(65536-n%65536)%65536)-_.buffer.byteLength+65535>>>16;try{_.grow(a),R();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){e>>>=0,t>>>=0;var r=0;return ne().forEach((function(n,a){var o=t+r;for(a=T[e+4*a>>2>>>0]=o,o=0;o<n.length;++o)S[a++>>0>>>0]=n.charCodeAt(o);S[a>>0>>>0]=0,r+=n.length+1})),0},E:function(e,t){e>>>=0,t>>>=0;var r=ne();T[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),T[t>>2>>>0]=n,0},s:e=>{w||(a.onExit&&a.onExit(e),M=!0),l(e,new G(e))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;for(var a=0,o=0;o<r;o++){var i=T[t>>2>>>0],s=T[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=E[i+u>>>0],l=ae[e];0===c||10===c?((1===e?v:b)(V(l,0)),l.length=0):l.push(c)}a+=s}return T[n>>2>>>0]=a,0},r:function(e,t){return e>>>=0,oe(E.subarray(e>>>0,e+(t>>>0)>>>0)),0},C:ue,c:function(e,t,r,n){return ue(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e){if(e=e.exports,O=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),_=O.L,R(),k.unshift(O.M),I--,a.monitorRunDependencies&&a.monitorRunDependencies(I),0==I&&(null!==U&&(clearInterval(U),U=null),L)){var t=L;L=null,t()}return e}var t={a:ce};if(I++,a.monitorRunDependencies&&a.monitorRunDependencies(I),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(e){b("Module.instantiateWasm callback failed with error: "+e),n(e)}(function(e,t){var r=D;return y||"function"!=typeof WebAssembly.instantiateStreaming||H(r)||r.startsWith("file://")||p||"function"!=typeof fetch?z(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return b("wasm streaming compile failed: "+n),b("falling back to ArrayBuffer instantiation"),z(r,e,t)}))))})(t,(function(t){e(t.instance)})).catch(n)}(),a._OrtInit=(e,t)=>(a._OrtInit=O.N)(e,t),a._OrtGetLastError=(e,t)=>(a._OrtGetLastError=O.O)(e,t),a._OrtCreateSessionOptions=(e,t,r,n,o,i,s,u,c,l)=>(a._OrtCreateSessionOptions=O.P)(e,t,r,n,o,i,s,u,c,l),a._OrtAppendExecutionProvider=(e,t)=>(a._OrtAppendExecutionProvider=O.Q)(e,t),a._OrtAddSessionConfigEntry=(e,t,r)=>(a._OrtAddSessionConfigEntry=O.R)(e,t,r),a._OrtReleaseSessionOptions=e=>(a._OrtReleaseSessionOptions=O.S)(e),a._OrtCreateSession=(e,t,r)=>(a._OrtCreateSession=O.T)(e,t,r),a._OrtReleaseSession=e=>(a._OrtReleaseSession=O.U)(e),a._OrtGetInputOutputCount=(e,t,r)=>(a._OrtGetInputOutputCount=O.V)(e,t,r),a._OrtGetInputName=(e,t)=>(a._OrtGetInputName=O.W)(e,t),a._OrtGetOutputName=(e,t)=>(a._OrtGetOutputName=O.X)(e,t),a._OrtFree=e=>(a._OrtFree=O.Y)(e),a._OrtCreateTensor=(e,t,r,n,o)=>(a._OrtCreateTensor=O.Z)(e,t,r,n,o),a._OrtGetTensorData=(e,t,r,n,o)=>(a._OrtGetTensorData=O._)(e,t,r,n,o),a._OrtReleaseTensor=e=>(a._OrtReleaseTensor=O.$)(e),a._OrtCreateRunOptions=(e,t,r,n)=>(a._OrtCreateRunOptions=O.aa)(e,t,r,n),a._OrtAddRunConfigEntry=(e,t,r)=>(a._OrtAddRunConfigEntry=O.ba)(e,t,r),a._OrtReleaseRunOptions=e=>(a._OrtReleaseRunOptions=O.ca)(e),a._OrtRun=(e,t,r,n,o,i,s,u)=>(a._OrtRun=O.da)(e,t,r,n,o,i,s,u),a._OrtEndProfiling=e=>(a._OrtEndProfiling=O.ea)(e);var le=a._malloc=e=>(le=a._malloc=O.fa)(e);a._free=e=>(a._free=O.ga)(e);var fe,de=e=>(de=O.ia)(e),pe=()=>(pe=O.ja)(),ge=e=>(ge=O.ka)(e),he=e=>(he=O.la)(e);function me(){function e(){if(!fe&&(fe=!0,a.calledRun=!0,!M)){if(N(k),t(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var e=a.postRun.shift();C.unshift(e)}N(C)}}if(!(0<I)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)P();N(F),0<I||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),e()}),1)):e())}}if(a.stackAlloc=he,a.stackSave=pe,a.stackRestore=ge,a.UTF8ToString=J,a.stringToUTF8=(e,t,r)=>K(e,E,t,r),a.lengthBytesUTF8=X,L=function e(){fe||me(),fe||(L=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return me(),e.ready});e.exports=n},154:e=>{"use strict";e.exports=\'"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(()=>{"use strict";const e=r(259),t=r(263);self.onmessage=r=>{switch(r.data.type){case"init-wasm":try{(0,t.initializeWebAssembly)(r.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})))}catch(e){postMessage({type:"init-wasm",err:e})}break;case"init-ort":try{(0,e.initRuntime)(r.data.in).then((()=>postMessage({type:"init-ort"})),(e=>postMessage({type:"init-ort",err:e}))),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=r.data.in,n=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:n})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:n}=r.data.in,a=(0,e.createSessionFinalize)(t,n);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:n}=r.data.in,a=(0,e.createSession)(t,n);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=r.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:n,inputs:a,outputIndices:o,options:i}=r.data.in;(0,e.run)(t,n,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=r.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:ue=>{ue.exports=function(X,oe,te,Q){var re=self||window;try{try{var ie;try{ie=new re.Blob([X])}catch{(ie=new(re.BlobBuilder||re.WebKitBlobBuilder||re.MozBlobBuilder||re.MSBlobBuilder)).append(X),ie=ie.getBlob()}var ee=re.URL||re.webkitURL,ae=ee.createObjectURL(ie),Z=new re[oe](ae,te);return ee.revokeObjectURL(ae),Z}catch{return new re[oe]("data:application/javascript,".concat(encodeURIComponent(X)),te)}}catch{if(!Q)throw Error("Inline worker is not supported");return new re[oe](Q,te)}}},2446:(ue,X,oe)=>{var te,Q,re,ie=oe(2100),ee=ie.Reader,ae=ie.Writer,Z=ie.util,Y=ie.roots.default||(ie.roots.default={});Y.onnx=((re={}).Version=(te={},(Q=Object.create(te))[te[0]="_START_VERSION"]=0,Q[te[1]="IR_VERSION_2017_10_10"]=1,Q[te[2]="IR_VERSION_2017_10_30"]=2,Q[te[3]="IR_VERSION_2017_11_3"]=3,Q[te[4]="IR_VERSION_2019_1_22"]=4,Q[te[5]="IR_VERSION_2019_3_18"]=5,Q[te[6]="IR_VERSION_2019_9_19"]=6,Q[te[7]="IR_VERSION_2020_5_8"]=7,Q[te[8]="IR_VERSION_2021_7_30"]=8,Q[te[9]="IR_VERSION"]=9,Q),re.AttributeProto=function(){function W(R){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.name="",W.prototype.refAttrName="",W.prototype.docString="",W.prototype.type=0,W.prototype.f=0,W.prototype.i=Z.Long?Z.Long.fromBits(0,0,!1):0,W.prototype.s=Z.newBuffer([]),W.prototype.t=null,W.prototype.g=null,W.prototype.sparseTensor=null,W.prototype.tp=null,W.prototype.floats=Z.emptyArray,W.prototype.ints=Z.emptyArray,W.prototype.strings=Z.emptyArray,W.prototype.tensors=Z.emptyArray,W.prototype.graphs=Z.emptyArray,W.prototype.sparseTensors=Z.emptyArray,W.prototype.typeProtos=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ae.create()),R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(10).string(R.name),R.f!=null&&Object.hasOwnProperty.call(R,"f")&&U.uint32(21).float(R.f),R.i!=null&&Object.hasOwnProperty.call(R,"i")&&U.uint32(24).int64(R.i),R.s!=null&&Object.hasOwnProperty.call(R,"s")&&U.uint32(34).bytes(R.s),R.t!=null&&Object.hasOwnProperty.call(R,"t")&&Y.onnx.TensorProto.encode(R.t,U.uint32(42).fork()).ldelim(),R.g!=null&&Object.hasOwnProperty.call(R,"g")&&Y.onnx.GraphProto.encode(R.g,U.uint32(50).fork()).ldelim(),R.floats!=null&&R.floats.length){U.uint32(58).fork();for(var K=0;K<R.floats.length;++K)U.float(R.floats[K]);U.ldelim()}if(R.ints!=null&&R.ints.length){for(U.uint32(66).fork(),K=0;K<R.ints.length;++K)U.int64(R.ints[K]);U.ldelim()}if(R.strings!=null&&R.strings.length)for(K=0;K<R.strings.length;++K)U.uint32(74).bytes(R.strings[K]);if(R.tensors!=null&&R.tensors.length)for(K=0;K<R.tensors.length;++K)Y.onnx.TensorProto.encode(R.tensors[K],U.uint32(82).fork()).ldelim();if(R.graphs!=null&&R.graphs.length)for(K=0;K<R.graphs.length;++K)Y.onnx.GraphProto.encode(R.graphs[K],U.uint32(90).fork()).ldelim();if(R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(106).string(R.docString),R.tp!=null&&Object.hasOwnProperty.call(R,"tp")&&Y.onnx.TypeProto.encode(R.tp,U.uint32(114).fork()).ldelim(),R.typeProtos!=null&&R.typeProtos.length)for(K=0;K<R.typeProtos.length;++K)Y.onnx.TypeProto.encode(R.typeProtos[K],U.uint32(122).fork()).ldelim();if(R.type!=null&&Object.hasOwnProperty.call(R,"type")&&U.uint32(160).int32(R.type),R.refAttrName!=null&&Object.hasOwnProperty.call(R,"refAttrName")&&U.uint32(170).string(R.refAttrName),R.sparseTensor!=null&&Object.hasOwnProperty.call(R,"sparseTensor")&&Y.onnx.SparseTensorProto.encode(R.sparseTensor,U.uint32(178).fork()).ldelim(),R.sparseTensors!=null&&R.sparseTensors.length)for(K=0;K<R.sparseTensors.length;++K)Y.onnx.SparseTensorProto.encode(R.sparseTensors[K],U.uint32(186).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.AttributeProto;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:J.name=R.string();break;case 21:J.refAttrName=R.string();break;case 13:J.docString=R.string();break;case 20:J.type=R.int32();break;case 2:J.f=R.float();break;case 3:J.i=R.int64();break;case 4:J.s=R.bytes();break;case 5:J.t=Y.onnx.TensorProto.decode(R,R.uint32());break;case 6:J.g=Y.onnx.GraphProto.decode(R,R.uint32());break;case 22:J.sparseTensor=Y.onnx.SparseTensorProto.decode(R,R.uint32());break;case 14:J.tp=Y.onnx.TypeProto.decode(R,R.uint32());break;case 7:if(J.floats&&J.floats.length||(J.floats=[]),(7&ne)==2)for(var se=R.uint32()+R.pos;R.pos<se;)J.floats.push(R.float());else J.floats.push(R.float());break;case 8:if(J.ints&&J.ints.length||(J.ints=[]),(7&ne)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.ints.push(R.int64());else J.ints.push(R.int64());break;case 9:J.strings&&J.strings.length||(J.strings=[]),J.strings.push(R.bytes());break;case 10:J.tensors&&J.tensors.length||(J.tensors=[]),J.tensors.push(Y.onnx.TensorProto.decode(R,R.uint32()));break;case 11:J.graphs&&J.graphs.length||(J.graphs=[]),J.graphs.push(Y.onnx.GraphProto.decode(R,R.uint32()));break;case 23:J.sparseTensors&&J.sparseTensors.length||(J.sparseTensors=[]),J.sparseTensors.push(Y.onnx.SparseTensorProto.decode(R,R.uint32()));break;case 15:J.typeProtos&&J.typeProtos.length||(J.typeProtos=[]),J.typeProtos.push(Y.onnx.TypeProto.decode(R,R.uint32()));break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.refAttrName!=null&&R.hasOwnProperty("refAttrName")&&!Z.isString(R.refAttrName))return"refAttrName: string expected";if(R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString))return"docString: string expected";if(R.type!=null&&R.hasOwnProperty("type"))switch(R.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:}if(R.f!=null&&R.hasOwnProperty("f")&&typeof R.f!="number")return"f: number expected";if(R.i!=null&&R.hasOwnProperty("i")&&!(Z.isInteger(R.i)||R.i&&Z.isInteger(R.i.low)&&Z.isInteger(R.i.high)))return"i: integer|Long expected";if(R.s!=null&&R.hasOwnProperty("s")&&!(R.s&&typeof R.s.length=="number"||Z.isString(R.s)))return"s: buffer expected";if(R.t!=null&&R.hasOwnProperty("t")&&(K=Y.onnx.TensorProto.verify(R.t)))return"t."+K;if(R.g!=null&&R.hasOwnProperty("g")&&(K=Y.onnx.GraphProto.verify(R.g)))return"g."+K;if(R.sparseTensor!=null&&R.hasOwnProperty("sparseTensor")&&(K=Y.onnx.SparseTensorProto.verify(R.sparseTensor)))return"sparseTensor."+K;if(R.tp!=null&&R.hasOwnProperty("tp")&&(K=Y.onnx.TypeProto.verify(R.tp)))return"tp."+K;if(R.floats!=null&&R.hasOwnProperty("floats")){if(!Array.isArray(R.floats))return"floats: array expected";for(var U=0;U<R.floats.length;++U)if(typeof R.floats[U]!="number")return"floats: number[] expected"}if(R.ints!=null&&R.hasOwnProperty("ints")){if(!Array.isArray(R.ints))return"ints: array expected";for(U=0;U<R.ints.length;++U)if(!(Z.isInteger(R.ints[U])||R.ints[U]&&Z.isInteger(R.ints[U].low)&&Z.isInteger(R.ints[U].high)))return"ints: integer|Long[] expected"}if(R.strings!=null&&R.hasOwnProperty("strings")){if(!Array.isArray(R.strings))return"strings: array expected";for(U=0;U<R.strings.length;++U)if(!(R.strings[U]&&typeof R.strings[U].length=="number"||Z.isString(R.strings[U])))return"strings: buffer[] expected"}if(R.tensors!=null&&R.hasOwnProperty("tensors")){if(!Array.isArray(R.tensors))return"tensors: array expected";for(U=0;U<R.tensors.length;++U)if(K=Y.onnx.TensorProto.verify(R.tensors[U]))return"tensors."+K}if(R.graphs!=null&&R.hasOwnProperty("graphs")){if(!Array.isArray(R.graphs))return"graphs: array expected";for(U=0;U<R.graphs.length;++U)if(K=Y.onnx.GraphProto.verify(R.graphs[U]))return"graphs."+K}if(R.sparseTensors!=null&&R.hasOwnProperty("sparseTensors")){if(!Array.isArray(R.sparseTensors))return"sparseTensors: array expected";for(U=0;U<R.sparseTensors.length;++U)if(K=Y.onnx.SparseTensorProto.verify(R.sparseTensors[U]))return"sparseTensors."+K}if(R.typeProtos!=null&&R.hasOwnProperty("typeProtos")){if(!Array.isArray(R.typeProtos))return"typeProtos: array expected";for(U=0;U<R.typeProtos.length;++U){var K;if(K=Y.onnx.TypeProto.verify(R.typeProtos[U]))return"typeProtos."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.AttributeProto)return R;var U=new Y.onnx.AttributeProto;switch(R.name!=null&&(U.name=String(R.name)),R.refAttrName!=null&&(U.refAttrName=String(R.refAttrName)),R.docString!=null&&(U.docString=String(R.docString)),R.type){default:if(typeof R.type=="number"){U.type=R.type;break}break;case"UNDEFINED":case 0:U.type=0;break;case"FLOAT":case 1:U.type=1;break;case"INT":case 2:U.type=2;break;case"STRING":case 3:U.type=3;break;case"TENSOR":case 4:U.type=4;break;case"GRAPH":case 5:U.type=5;break;case"SPARSE_TENSOR":case 11:U.type=11;break;case"TYPE_PROTO":case 13:U.type=13;break;case"FLOATS":case 6:U.type=6;break;case"INTS":case 7:U.type=7;break;case"STRINGS":case 8:U.type=8;break;case"TENSORS":case 9:U.type=9;break;case"GRAPHS":case 10:U.type=10;break;case"SPARSE_TENSORS":case 12:U.type=12;break;case"TYPE_PROTOS":case 14:U.type=14}if(R.f!=null&&(U.f=Number(R.f)),R.i!=null&&(Z.Long?(U.i=Z.Long.fromValue(R.i)).unsigned=!1:typeof R.i=="string"?U.i=parseInt(R.i,10):typeof R.i=="number"?U.i=R.i:typeof R.i=="object"&&(U.i=new Z.LongBits(R.i.low>>>0,R.i.high>>>0).toNumber())),R.s!=null&&(typeof R.s=="string"?Z.base64.decode(R.s,U.s=Z.newBuffer(Z.base64.length(R.s)),0):R.s.length>=0&&(U.s=R.s)),R.t!=null){if(typeof R.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");U.t=Y.onnx.TensorProto.fromObject(R.t)}if(R.g!=null){if(typeof R.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");U.g=Y.onnx.GraphProto.fromObject(R.g)}if(R.sparseTensor!=null){if(typeof R.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");U.sparseTensor=Y.onnx.SparseTensorProto.fromObject(R.sparseTensor)}if(R.tp!=null){if(typeof R.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");U.tp=Y.onnx.TypeProto.fromObject(R.tp)}if(R.floats){if(!Array.isArray(R.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");U.floats=[];for(var K=0;K<R.floats.length;++K)U.floats[K]=Number(R.floats[K])}if(R.ints){if(!Array.isArray(R.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(U.ints=[],K=0;K<R.ints.length;++K)Z.Long?(U.ints[K]=Z.Long.fromValue(R.ints[K])).unsigned=!1:typeof R.ints[K]=="string"?U.ints[K]=parseInt(R.ints[K],10):typeof R.ints[K]=="number"?U.ints[K]=R.ints[K]:typeof R.ints[K]=="object"&&(U.ints[K]=new Z.LongBits(R.ints[K].low>>>0,R.ints[K].high>>>0).toNumber())}if(R.strings){if(!Array.isArray(R.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(U.strings=[],K=0;K<R.strings.length;++K)typeof R.strings[K]=="string"?Z.base64.decode(R.strings[K],U.strings[K]=Z.newBuffer(Z.base64.length(R.strings[K])),0):R.strings[K].length>=0&&(U.strings[K]=R.strings[K])}if(R.tensors){if(!Array.isArray(R.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(U.tensors=[],K=0;K<R.tensors.length;++K){if(typeof R.tensors[K]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");U.tensors[K]=Y.onnx.TensorProto.fromObject(R.tensors[K])}}if(R.graphs){if(!Array.isArray(R.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(U.graphs=[],K=0;K<R.graphs.length;++K){if(typeof R.graphs[K]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");U.graphs[K]=Y.onnx.GraphProto.fromObject(R.graphs[K])}}if(R.sparseTensors){if(!Array.isArray(R.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");for(U.sparseTensors=[],K=0;K<R.sparseTensors.length;++K){if(typeof R.sparseTensors[K]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");U.sparseTensors[K]=Y.onnx.SparseTensorProto.fromObject(R.sparseTensors[K])}}if(R.typeProtos){if(!Array.isArray(R.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");for(U.typeProtos=[],K=0;K<R.typeProtos.length;++K){if(typeof R.typeProtos[K]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");U.typeProtos[K]=Y.onnx.TypeProto.fromObject(R.typeProtos[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.floats=[],K.ints=[],K.strings=[],K.tensors=[],K.graphs=[],K.typeProtos=[],K.sparseTensors=[]),U.defaults){if(K.name="",K.f=0,Z.Long){var J=new Z.Long(0,0,!1);K.i=U.longs===String?J.toString():U.longs===Number?J.toNumber():J}else K.i=U.longs===String?"0":0;U.bytes===String?K.s="":(K.s=[],U.bytes!==Array&&(K.s=Z.newBuffer(K.s))),K.t=null,K.g=null,K.docString="",K.tp=null,K.type=U.enums===String?"UNDEFINED":0,K.refAttrName="",K.sparseTensor=null}if(R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.f!=null&&R.hasOwnProperty("f")&&(K.f=U.json&&!isFinite(R.f)?String(R.f):R.f),R.i!=null&&R.hasOwnProperty("i")&&(typeof R.i=="number"?K.i=U.longs===String?String(R.i):R.i:K.i=U.longs===String?Z.Long.prototype.toString.call(R.i):U.longs===Number?new Z.LongBits(R.i.low>>>0,R.i.high>>>0).toNumber():R.i),R.s!=null&&R.hasOwnProperty("s")&&(K.s=U.bytes===String?Z.base64.encode(R.s,0,R.s.length):U.bytes===Array?Array.prototype.slice.call(R.s):R.s),R.t!=null&&R.hasOwnProperty("t")&&(K.t=Y.onnx.TensorProto.toObject(R.t,U)),R.g!=null&&R.hasOwnProperty("g")&&(K.g=Y.onnx.GraphProto.toObject(R.g,U)),R.floats&&R.floats.length){K.floats=[];for(var ne=0;ne<R.floats.length;++ne)K.floats[ne]=U.json&&!isFinite(R.floats[ne])?String(R.floats[ne]):R.floats[ne]}if(R.ints&&R.ints.length)for(K.ints=[],ne=0;ne<R.ints.length;++ne)typeof R.ints[ne]=="number"?K.ints[ne]=U.longs===String?String(R.ints[ne]):R.ints[ne]:K.ints[ne]=U.longs===String?Z.Long.prototype.toString.call(R.ints[ne]):U.longs===Number?new Z.LongBits(R.ints[ne].low>>>0,R.ints[ne].high>>>0).toNumber():R.ints[ne];if(R.strings&&R.strings.length)for(K.strings=[],ne=0;ne<R.strings.length;++ne)K.strings[ne]=U.bytes===String?Z.base64.encode(R.strings[ne],0,R.strings[ne].length):U.bytes===Array?Array.prototype.slice.call(R.strings[ne]):R.strings[ne];if(R.tensors&&R.tensors.length)for(K.tensors=[],ne=0;ne<R.tensors.length;++ne)K.tensors[ne]=Y.onnx.TensorProto.toObject(R.tensors[ne],U);if(R.graphs&&R.graphs.length)for(K.graphs=[],ne=0;ne<R.graphs.length;++ne)K.graphs[ne]=Y.onnx.GraphProto.toObject(R.graphs[ne],U);if(R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.tp!=null&&R.hasOwnProperty("tp")&&(K.tp=Y.onnx.TypeProto.toObject(R.tp,U)),R.typeProtos&&R.typeProtos.length)for(K.typeProtos=[],ne=0;ne<R.typeProtos.length;++ne)K.typeProtos[ne]=Y.onnx.TypeProto.toObject(R.typeProtos[ne],U);if(R.type!=null&&R.hasOwnProperty("type")&&(K.type=U.enums===String?Y.onnx.AttributeProto.AttributeType[R.type]===void 0?R.type:Y.onnx.AttributeProto.AttributeType[R.type]:R.type),R.refAttrName!=null&&R.hasOwnProperty("refAttrName")&&(K.refAttrName=R.refAttrName),R.sparseTensor!=null&&R.hasOwnProperty("sparseTensor")&&(K.sparseTensor=Y.onnx.SparseTensorProto.toObject(R.sparseTensor,U)),R.sparseTensors&&R.sparseTensors.length)for(K.sparseTensors=[],ne=0;ne<R.sparseTensors.length;++ne)K.sparseTensors[ne]=Y.onnx.SparseTensorProto.toObject(R.sparseTensors[ne],U);return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.AttributeProto"},W.AttributeType=function(){var R={},U=Object.create(R);return U[R[0]="UNDEFINED"]=0,U[R[1]="FLOAT"]=1,U[R[2]="INT"]=2,U[R[3]="STRING"]=3,U[R[4]="TENSOR"]=4,U[R[5]="GRAPH"]=5,U[R[11]="SPARSE_TENSOR"]=11,U[R[13]="TYPE_PROTO"]=13,U[R[6]="FLOATS"]=6,U[R[7]="INTS"]=7,U[R[8]="STRINGS"]=8,U[R[9]="TENSORS"]=9,U[R[10]="GRAPHS"]=10,U[R[12]="SPARSE_TENSORS"]=12,U[R[14]="TYPE_PROTOS"]=14,U}(),W}(),re.ValueInfoProto=function(){function W(R){if(R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.name="",W.prototype.type=null,W.prototype.docString="",W.create=function(R){return new W(R)},W.encode=function(R,U){return U||(U=ae.create()),R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(10).string(R.name),R.type!=null&&Object.hasOwnProperty.call(R,"type")&&Y.onnx.TypeProto.encode(R.type,U.uint32(18).fork()).ldelim(),R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(26).string(R.docString),U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.ValueInfoProto;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:J.name=R.string();break;case 2:J.type=Y.onnx.TypeProto.decode(R,R.uint32());break;case 3:J.docString=R.string();break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.type!=null&&R.hasOwnProperty("type")){var U=Y.onnx.TypeProto.verify(R.type);if(U)return"type."+U}return R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString)?"docString: string expected":null},W.fromObject=function(R){if(R instanceof Y.onnx.ValueInfoProto)return R;var U=new Y.onnx.ValueInfoProto;if(R.name!=null&&(U.name=String(R.name)),R.type!=null){if(typeof R.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");U.type=Y.onnx.TypeProto.fromObject(R.type)}return R.docString!=null&&(U.docString=String(R.docString)),U},W.toObject=function(R,U){U||(U={});var K={};return U.defaults&&(K.name="",K.type=null,K.docString=""),R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.type!=null&&R.hasOwnProperty("type")&&(K.type=Y.onnx.TypeProto.toObject(R.type,U)),R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.ValueInfoProto"},W}(),re.NodeProto=function(){function W(R){if(this.input=[],this.output=[],this.attribute=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.input=Z.emptyArray,W.prototype.output=Z.emptyArray,W.prototype.name="",W.prototype.opType="",W.prototype.domain="",W.prototype.attribute=Z.emptyArray,W.prototype.docString="",W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ae.create()),R.input!=null&&R.input.length)for(var K=0;K<R.input.length;++K)U.uint32(10).string(R.input[K]);if(R.output!=null&&R.output.length)for(K=0;K<R.output.length;++K)U.uint32(18).string(R.output[K]);if(R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(26).string(R.name),R.opType!=null&&Object.hasOwnProperty.call(R,"opType")&&U.uint32(34).string(R.opType),R.attribute!=null&&R.attribute.length)for(K=0;K<R.attribute.length;++K)Y.onnx.AttributeProto.encode(R.attribute[K],U.uint32(42).fork()).ldelim();return R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(50).string(R.docString),R.domain!=null&&Object.hasOwnProperty.call(R,"domain")&&U.uint32(58).string(R.domain),U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.NodeProto;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:J.input&&J.input.length||(J.input=[]),J.input.push(R.string());break;case 2:J.output&&J.output.length||(J.output=[]),J.output.push(R.string());break;case 3:J.name=R.string();break;case 4:J.opType=R.string();break;case 7:J.domain=R.string();break;case 5:J.attribute&&J.attribute.length||(J.attribute=[]),J.attribute.push(Y.onnx.AttributeProto.decode(R,R.uint32()));break;case 6:J.docString=R.string();break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.input!=null&&R.hasOwnProperty("input")){if(!Array.isArray(R.input))return"input: array expected";for(var U=0;U<R.input.length;++U)if(!Z.isString(R.input[U]))return"input: string[] expected"}if(R.output!=null&&R.hasOwnProperty("output")){if(!Array.isArray(R.output))return"output: array expected";for(U=0;U<R.output.length;++U)if(!Z.isString(R.output[U]))return"output: string[] expected"}if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.opType!=null&&R.hasOwnProperty("opType")&&!Z.isString(R.opType))return"opType: string expected";if(R.domain!=null&&R.hasOwnProperty("domain")&&!Z.isString(R.domain))return"domain: string expected";if(R.attribute!=null&&R.hasOwnProperty("attribute")){if(!Array.isArray(R.attribute))return"attribute: array expected";for(U=0;U<R.attribute.length;++U){var K=Y.onnx.AttributeProto.verify(R.attribute[U]);if(K)return"attribute."+K}}return R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString)?"docString: string expected":null},W.fromObject=function(R){if(R instanceof Y.onnx.NodeProto)return R;var U=new Y.onnx.NodeProto;if(R.input){if(!Array.isArray(R.input))throw TypeError(".onnx.NodeProto.input: array expected");U.input=[];for(var K=0;K<R.input.length;++K)U.input[K]=String(R.input[K])}if(R.output){if(!Array.isArray(R.output))throw TypeError(".onnx.NodeProto.output: array expected");for(U.output=[],K=0;K<R.output.length;++K)U.output[K]=String(R.output[K])}if(R.name!=null&&(U.name=String(R.name)),R.opType!=null&&(U.opType=String(R.opType)),R.domain!=null&&(U.domain=String(R.domain)),R.attribute){if(!Array.isArray(R.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(U.attribute=[],K=0;K<R.attribute.length;++K){if(typeof R.attribute[K]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");U.attribute[K]=Y.onnx.AttributeProto.fromObject(R.attribute[K])}}return R.docString!=null&&(U.docString=String(R.docString)),U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.input=[],K.output=[],K.attribute=[]),U.defaults&&(K.name="",K.opType="",K.docString="",K.domain=""),R.input&&R.input.length){K.input=[];for(var J=0;J<R.input.length;++J)K.input[J]=R.input[J]}if(R.output&&R.output.length)for(K.output=[],J=0;J<R.output.length;++J)K.output[J]=R.output[J];if(R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.opType!=null&&R.hasOwnProperty("opType")&&(K.opType=R.opType),R.attribute&&R.attribute.length)for(K.attribute=[],J=0;J<R.attribute.length;++J)K.attribute[J]=Y.onnx.AttributeProto.toObject(R.attribute[J],U);return R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.domain!=null&&R.hasOwnProperty("domain")&&(K.domain=R.domain),K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.NodeProto"},W}(),re.TrainingInfoProto=function(){function W(R){if(this.initializationBinding=[],this.updateBinding=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.initialization=null,W.prototype.algorithm=null,W.prototype.initializationBinding=Z.emptyArray,W.prototype.updateBinding=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ae.create()),R.initialization!=null&&Object.hasOwnProperty.call(R,"initialization")&&Y.onnx.GraphProto.encode(R.initialization,U.uint32(10).fork()).ldelim(),R.algorithm!=null&&Object.hasOwnProperty.call(R,"algorithm")&&Y.onnx.GraphProto.encode(R.algorithm,U.uint32(18).fork()).ldelim(),R.initializationBinding!=null&&R.initializationBinding.length)for(var K=0;K<R.initializationBinding.length;++K)Y.onnx.StringStringEntryProto.encode(R.initializationBinding[K],U.uint32(26).fork()).ldelim();if(R.updateBinding!=null&&R.updateBinding.length)for(K=0;K<R.updateBinding.length;++K)Y.onnx.StringStringEntryProto.encode(R.updateBinding[K],U.uint32(34).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.TrainingInfoProto;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:J.initialization=Y.onnx.GraphProto.decode(R,R.uint32());break;case 2:J.algorithm=Y.onnx.GraphProto.decode(R,R.uint32());break;case 3:J.initializationBinding&&J.initializationBinding.length||(J.initializationBinding=[]),J.initializationBinding.push(Y.onnx.StringStringEntryProto.decode(R,R.uint32()));break;case 4:J.updateBinding&&J.updateBinding.length||(J.updateBinding=[]),J.updateBinding.push(Y.onnx.StringStringEntryProto.decode(R,R.uint32()));break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.initialization!=null&&R.hasOwnProperty("initialization")&&(K=Y.onnx.GraphProto.verify(R.initialization)))return"initialization."+K;if(R.algorithm!=null&&R.hasOwnProperty("algorithm")&&(K=Y.onnx.GraphProto.verify(R.algorithm)))return"algorithm."+K;if(R.initializationBinding!=null&&R.hasOwnProperty("initializationBinding")){if(!Array.isArray(R.initializationBinding))return"initializationBinding: array expected";for(var U=0;U<R.initializationBinding.length;++U)if(K=Y.onnx.StringStringEntryProto.verify(R.initializationBinding[U]))return"initializationBinding."+K}if(R.updateBinding!=null&&R.hasOwnProperty("updateBinding")){if(!Array.isArray(R.updateBinding))return"updateBinding: array expected";for(U=0;U<R.updateBinding.length;++U){var K;if(K=Y.onnx.StringStringEntryProto.verify(R.updateBinding[U]))return"updateBinding."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.TrainingInfoProto)return R;var U=new Y.onnx.TrainingInfoProto;if(R.initialization!=null){if(typeof R.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");U.initialization=Y.onnx.GraphProto.fromObject(R.initialization)}if(R.algorithm!=null){if(typeof R.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");U.algorithm=Y.onnx.GraphProto.fromObject(R.algorithm)}if(R.initializationBinding){if(!Array.isArray(R.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");U.initializationBinding=[];for(var K=0;K<R.initializationBinding.length;++K){if(typeof R.initializationBinding[K]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");U.initializationBinding[K]=Y.onnx.StringStringEntryProto.fromObject(R.initializationBinding[K])}}if(R.updateBinding){if(!Array.isArray(R.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");for(U.updateBinding=[],K=0;K<R.updateBinding.length;++K){if(typeof R.updateBinding[K]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");U.updateBinding[K]=Y.onnx.StringStringEntryProto.fromObject(R.updateBinding[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.initializationBinding=[],K.updateBinding=[]),U.defaults&&(K.initialization=null,K.algorithm=null),R.initialization!=null&&R.hasOwnProperty("initialization")&&(K.initialization=Y.onnx.GraphProto.toObject(R.initialization,U)),R.algorithm!=null&&R.hasOwnProperty("algorithm")&&(K.algorithm=Y.onnx.GraphProto.toObject(R.algorithm,U)),R.initializationBinding&&R.initializationBinding.length){K.initializationBinding=[];for(var J=0;J<R.initializationBinding.length;++J)K.initializationBinding[J]=Y.onnx.StringStringEntryProto.toObject(R.initializationBinding[J],U)}if(R.updateBinding&&R.updateBinding.length)for(K.updateBinding=[],J=0;J<R.updateBinding.length;++J)K.updateBinding[J]=Y.onnx.StringStringEntryProto.toObject(R.updateBinding[J],U);return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.TrainingInfoProto"},W}(),re.ModelProto=function(){function W(R){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.irVersion=Z.Long?Z.Long.fromBits(0,0,!1):0,W.prototype.opsetImport=Z.emptyArray,W.prototype.producerName="",W.prototype.producerVersion="",W.prototype.domain="",W.prototype.modelVersion=Z.Long?Z.Long.fromBits(0,0,!1):0,W.prototype.docString="",W.prototype.graph=null,W.prototype.metadataProps=Z.emptyArray,W.prototype.trainingInfo=Z.emptyArray,W.prototype.functions=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ae.create()),R.irVersion!=null&&Object.hasOwnProperty.call(R,"irVersion")&&U.uint32(8).int64(R.irVersion),R.producerName!=null&&Object.hasOwnProperty.call(R,"producerName")&&U.uint32(18).string(R.producerName),R.producerVersion!=null&&Object.hasOwnProperty.call(R,"producerVersion")&&U.uint32(26).string(R.producerVersion),R.domain!=null&&Object.hasOwnProperty.call(R,"domain")&&U.uint32(34).string(R.domain),R.modelVersion!=null&&Object.hasOwnProperty.call(R,"modelVersion")&&U.uint32(40).int64(R.modelVersion),R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(50).string(R.docString),R.graph!=null&&Object.hasOwnProperty.call(R,"graph")&&Y.onnx.GraphProto.encode(R.graph,U.uint32(58).fork()).ldelim(),R.opsetImport!=null&&R.opsetImport.length)for(var K=0;K<R.opsetImport.length;++K)Y.onnx.OperatorSetIdProto.encode(R.opsetImport[K],U.uint32(66).fork()).ldelim();if(R.metadataProps!=null&&R.metadataProps.length)for(K=0;K<R.metadataProps.length;++K)Y.onnx.StringStringEntryProto.encode(R.metadataProps[K],U.uint32(114).fork()).ldelim();if(R.trainingInfo!=null&&R.trainingInfo.length)for(K=0;K<R.trainingInfo.length;++K)Y.onnx.TrainingInfoProto.encode(R.trainingInfo[K],U.uint32(162).fork()).ldelim();if(R.functions!=null&&R.functions.length)for(K=0;K<R.functions.length;++K)Y.onnx.FunctionProto.encode(R.functions[K],U.uint32(202).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.ModelProto;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:J.irVersion=R.int64();break;case 8:J.opsetImport&&J.opsetImport.length||(J.opsetImport=[]),J.opsetImport.push(Y.onnx.OperatorSetIdProto.decode(R,R.uint32()));break;case 2:J.producerName=R.string();break;case 3:J.producerVersion=R.string();break;case 4:J.domain=R.string();break;case 5:J.modelVersion=R.int64();break;case 6:J.docString=R.string();break;case 7:J.graph=Y.onnx.GraphProto.decode(R,R.uint32());break;case 14:J.metadataProps&&J.metadataProps.length||(J.metadataProps=[]),J.metadataProps.push(Y.onnx.StringStringEntryProto.decode(R,R.uint32()));break;case 20:J.trainingInfo&&J.trainingInfo.length||(J.trainingInfo=[]),J.trainingInfo.push(Y.onnx.TrainingInfoProto.decode(R,R.uint32()));break;case 25:J.functions&&J.functions.length||(J.functions=[]),J.functions.push(Y.onnx.FunctionProto.decode(R,R.uint32()));break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.irVersion!=null&&R.hasOwnProperty("irVersion")&&!(Z.isInteger(R.irVersion)||R.irVersion&&Z.isInteger(R.irVersion.low)&&Z.isInteger(R.irVersion.high)))return"irVersion: integer|Long expected";if(R.opsetImport!=null&&R.hasOwnProperty("opsetImport")){if(!Array.isArray(R.opsetImport))return"opsetImport: array expected";for(var U=0;U<R.opsetImport.length;++U)if(K=Y.onnx.OperatorSetIdProto.verify(R.opsetImport[U]))return"opsetImport."+K}if(R.producerName!=null&&R.hasOwnProperty("producerName")&&!Z.isString(R.producerName))return"producerName: string expected";if(R.producerVersion!=null&&R.hasOwnProperty("producerVersion")&&!Z.isString(R.producerVersion))return"producerVersion: string expected";if(R.domain!=null&&R.hasOwnProperty("domain")&&!Z.isString(R.domain))return"domain: string expected";if(R.modelVersion!=null&&R.hasOwnProperty("modelVersion")&&!(Z.isInteger(R.modelVersion)||R.modelVersion&&Z.isInteger(R.modelVersion.low)&&Z.isInteger(R.modelVersion.high)))return"modelVersion: integer|Long expected";if(R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString))return"docString: string expected";if(R.graph!=null&&R.hasOwnProperty("graph")&&(K=Y.onnx.GraphProto.verify(R.graph)))return"graph."+K;if(R.metadataProps!=null&&R.hasOwnProperty("metadataProps")){if(!Array.isArray(R.metadataProps))return"metadataProps: array expected";for(U=0;U<R.metadataProps.length;++U)if(K=Y.onnx.StringStringEntryProto.verify(R.metadataProps[U]))return"metadataProps."+K}if(R.trainingInfo!=null&&R.hasOwnProperty("trainingInfo")){if(!Array.isArray(R.trainingInfo))return"trainingInfo: array expected";for(U=0;U<R.trainingInfo.length;++U)if(K=Y.onnx.TrainingInfoProto.verify(R.trainingInfo[U]))return"trainingInfo."+K}if(R.functions!=null&&R.hasOwnProperty("functions")){if(!Array.isArray(R.functions))return"functions: array expected";for(U=0;U<R.functions.length;++U){var K;if(K=Y.onnx.FunctionProto.verify(R.functions[U]))return"functions."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.ModelProto)return R;var U=new Y.onnx.ModelProto;if(R.irVersion!=null&&(Z.Long?(U.irVersion=Z.Long.fromValue(R.irVersion)).unsigned=!1:typeof R.irVersion=="string"?U.irVersion=parseInt(R.irVersion,10):typeof R.irVersion=="number"?U.irVersion=R.irVersion:typeof R.irVersion=="object"&&(U.irVersion=new Z.LongBits(R.irVersion.low>>>0,R.irVersion.high>>>0).toNumber())),R.opsetImport){if(!Array.isArray(R.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");U.opsetImport=[];for(var K=0;K<R.opsetImport.length;++K){if(typeof R.opsetImport[K]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");U.opsetImport[K]=Y.onnx.OperatorSetIdProto.fromObject(R.opsetImport[K])}}if(R.producerName!=null&&(U.producerName=String(R.producerName)),R.producerVersion!=null&&(U.producerVersion=String(R.producerVersion)),R.domain!=null&&(U.domain=String(R.domain)),R.modelVersion!=null&&(Z.Long?(U.modelVersion=Z.Long.fromValue(R.modelVersion)).unsigned=!1:typeof R.modelVersion=="string"?U.modelVersion=parseInt(R.modelVersion,10):typeof R.modelVersion=="number"?U.modelVersion=R.modelVersion:typeof R.modelVersion=="object"&&(U.modelVersion=new Z.LongBits(R.modelVersion.low>>>0,R.modelVersion.high>>>0).toNumber())),R.docString!=null&&(U.docString=String(R.docString)),R.graph!=null){if(typeof R.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");U.graph=Y.onnx.GraphProto.fromObject(R.graph)}if(R.metadataProps){if(!Array.isArray(R.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(U.metadataProps=[],K=0;K<R.metadataProps.length;++K){if(typeof R.metadataProps[K]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");U.metadataProps[K]=Y.onnx.StringStringEntryProto.fromObject(R.metadataProps[K])}}if(R.trainingInfo){if(!Array.isArray(R.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");for(U.trainingInfo=[],K=0;K<R.trainingInfo.length;++K){if(typeof R.trainingInfo[K]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");U.trainingInfo[K]=Y.onnx.TrainingInfoProto.fromObject(R.trainingInfo[K])}}if(R.functions){if(!Array.isArray(R.functions))throw TypeError(".onnx.ModelProto.functions: array expected");for(U.functions=[],K=0;K<R.functions.length;++K){if(typeof R.functions[K]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");U.functions[K]=Y.onnx.FunctionProto.fromObject(R.functions[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.opsetImport=[],K.metadataProps=[],K.trainingInfo=[],K.functions=[]),U.defaults){if(Z.Long){var J=new Z.Long(0,0,!1);K.irVersion=U.longs===String?J.toString():U.longs===Number?J.toNumber():J}else K.irVersion=U.longs===String?"0":0;K.producerName="",K.producerVersion="",K.domain="",Z.Long?(J=new Z.Long(0,0,!1),K.modelVersion=U.longs===String?J.toString():U.longs===Number?J.toNumber():J):K.modelVersion=U.longs===String?"0":0,K.docString="",K.graph=null}if(R.irVersion!=null&&R.hasOwnProperty("irVersion")&&(typeof R.irVersion=="number"?K.irVersion=U.longs===String?String(R.irVersion):R.irVersion:K.irVersion=U.longs===String?Z.Long.prototype.toString.call(R.irVersion):U.longs===Number?new Z.LongBits(R.irVersion.low>>>0,R.irVersion.high>>>0).toNumber():R.irVersion),R.producerName!=null&&R.hasOwnProperty("producerName")&&(K.producerName=R.producerName),R.producerVersion!=null&&R.hasOwnProperty("producerVersion")&&(K.producerVersion=R.producerVersion),R.domain!=null&&R.hasOwnProperty("domain")&&(K.domain=R.domain),R.modelVersion!=null&&R.hasOwnProperty("modelVersion")&&(typeof R.modelVersion=="number"?K.modelVersion=U.longs===String?String(R.modelVersion):R.modelVersion:K.modelVersion=U.longs===String?Z.Long.prototype.toString.call(R.modelVersion):U.longs===Number?new Z.LongBits(R.modelVersion.low>>>0,R.modelVersion.high>>>0).toNumber():R.modelVersion),R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.graph!=null&&R.hasOwnProperty("graph")&&(K.graph=Y.onnx.GraphProto.toObject(R.graph,U)),R.opsetImport&&R.opsetImport.length){K.opsetImport=[];for(var ne=0;ne<R.opsetImport.length;++ne)K.opsetImport[ne]=Y.onnx.OperatorSetIdProto.toObject(R.opsetImport[ne],U)}if(R.metadataProps&&R.metadataProps.length)for(K.metadataProps=[],ne=0;ne<R.metadataProps.length;++ne)K.metadataProps[ne]=Y.onnx.StringStringEntryProto.toObject(R.metadataProps[ne],U);if(R.trainingInfo&&R.trainingInfo.length)for(K.trainingInfo=[],ne=0;ne<R.trainingInfo.length;++ne)K.trainingInfo[ne]=Y.onnx.TrainingInfoProto.toObject(R.trainingInfo[ne],U);if(R.functions&&R.functions.length)for(K.functions=[],ne=0;ne<R.functions.length;++ne)K.functions[ne]=Y.onnx.FunctionProto.toObject(R.functions[ne],U);return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.ModelProto"},W}(),re.StringStringEntryProto=function(){function W(R){if(R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.key="",W.prototype.value="",W.create=function(R){return new W(R)},W.encode=function(R,U){return U||(U=ae.create()),R.key!=null&&Object.hasOwnProperty.call(R,"key")&&U.uint32(10).string(R.key),R.value!=null&&Object.hasOwnProperty.call(R,"value")&&U.uint32(18).string(R.value),U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.StringStringEntryProto;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:J.key=R.string();break;case 2:J.value=R.string();break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){return typeof R!="object"||R===null?"object expected":R.key!=null&&R.hasOwnProperty("key")&&!Z.isString(R.key)?"key: string expected":R.value!=null&&R.hasOwnProperty("value")&&!Z.isString(R.value)?"value: string expected":null},W.fromObject=function(R){if(R instanceof Y.onnx.StringStringEntryProto)return R;var U=new Y.onnx.StringStringEntryProto;return R.key!=null&&(U.key=String(R.key)),R.value!=null&&(U.value=String(R.value)),U},W.toObject=function(R,U){U||(U={});var K={};return U.defaults&&(K.key="",K.value=""),R.key!=null&&R.hasOwnProperty("key")&&(K.key=R.key),R.value!=null&&R.hasOwnProperty("value")&&(K.value=R.value),K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.StringStringEntryProto"},W}(),re.TensorAnnotation=function(){function W(R){if(this.quantParameterTensorNames=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.tensorName="",W.prototype.quantParameterTensorNames=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ae.create()),R.tensorName!=null&&Object.hasOwnProperty.call(R,"tensorName")&&U.uint32(10).string(R.tensorName),R.quantParameterTensorNames!=null&&R.quantParameterTensorNames.length)for(var K=0;K<R.quantParameterTensorNames.length;++K)Y.onnx.StringStringEntryProto.encode(R.quantParameterTensorNames[K],U.uint32(18).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.TensorAnnotation;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:J.tensorName=R.string();break;case 2:J.quantParameterTensorNames&&J.quantParameterTensorNames.length||(J.quantParameterTensorNames=[]),J.quantParameterTensorNames.push(Y.onnx.StringStringEntryProto.decode(R,R.uint32()));break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.tensorName!=null&&R.hasOwnProperty("tensorName")&&!Z.isString(R.tensorName))return"tensorName: string expected";if(R.quantParameterTensorNames!=null&&R.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(R.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var U=0;U<R.quantParameterTensorNames.length;++U){var K=Y.onnx.StringStringEntryProto.verify(R.quantParameterTensorNames[U]);if(K)return"quantParameterTensorNames."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.TensorAnnotation)return R;var U=new Y.onnx.TensorAnnotation;if(R.tensorName!=null&&(U.tensorName=String(R.tensorName)),R.quantParameterTensorNames){if(!Array.isArray(R.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");U.quantParameterTensorNames=[];for(var K=0;K<R.quantParameterTensorNames.length;++K){if(typeof R.quantParameterTensorNames[K]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");U.quantParameterTensorNames[K]=Y.onnx.StringStringEntryProto.fromObject(R.quantParameterTensorNames[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.quantParameterTensorNames=[]),U.defaults&&(K.tensorName=""),R.tensorName!=null&&R.hasOwnProperty("tensorName")&&(K.tensorName=R.tensorName),R.quantParameterTensorNames&&R.quantParameterTensorNames.length){K.quantParameterTensorNames=[];for(var J=0;J<R.quantParameterTensorNames.length;++J)K.quantParameterTensorNames[J]=Y.onnx.StringStringEntryProto.toObject(R.quantParameterTensorNames[J],U)}return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.TensorAnnotation"},W}(),re.GraphProto=function(){function W(R){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.node=Z.emptyArray,W.prototype.name="",W.prototype.initializer=Z.emptyArray,W.prototype.sparseInitializer=Z.emptyArray,W.prototype.docString="",W.prototype.input=Z.emptyArray,W.prototype.output=Z.emptyArray,W.prototype.valueInfo=Z.emptyArray,W.prototype.quantizationAnnotation=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ae.create()),R.node!=null&&R.node.length)for(var K=0;K<R.node.length;++K)Y.onnx.NodeProto.encode(R.node[K],U.uint32(10).fork()).ldelim();if(R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(18).string(R.name),R.initializer!=null&&R.initializer.length)for(K=0;K<R.initializer.length;++K)Y.onnx.TensorProto.encode(R.initializer[K],U.uint32(42).fork()).ldelim();if(R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(82).string(R.docString),R.input!=null&&R.input.length)for(K=0;K<R.input.length;++K)Y.onnx.ValueInfoProto.encode(R.input[K],U.uint32(90).fork()).ldelim();if(R.output!=null&&R.output.length)for(K=0;K<R.output.length;++K)Y.onnx.ValueInfoProto.encode(R.output[K],U.uint32(98).fork()).ldelim();if(R.valueInfo!=null&&R.valueInfo.length)for(K=0;K<R.valueInfo.length;++K)Y.onnx.ValueInfoProto.encode(R.valueInfo[K],U.uint32(106).fork()).ldelim();if(R.quantizationAnnotation!=null&&R.quantizationAnnotation.length)for(K=0;K<R.quantizationAnnotation.length;++K)Y.onnx.TensorAnnotation.encode(R.quantizationAnnotation[K],U.uint32(114).fork()).ldelim();if(R.sparseInitializer!=null&&R.sparseInitializer.length)for(K=0;K<R.sparseInitializer.length;++K)Y.onnx.SparseTensorProto.encode(R.sparseInitializer[K],U.uint32(122).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.GraphProto;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:J.node&&J.node.length||(J.node=[]),J.node.push(Y.onnx.NodeProto.decode(R,R.uint32()));break;case 2:J.name=R.string();break;case 5:J.initializer&&J.initializer.length||(J.initializer=[]),J.initializer.push(Y.onnx.TensorProto.decode(R,R.uint32()));break;case 15:J.sparseInitializer&&J.sparseInitializer.length||(J.sparseInitializer=[]),J.sparseInitializer.push(Y.onnx.SparseTensorProto.decode(R,R.uint32()));break;case 10:J.docString=R.string();break;case 11:J.input&&J.input.length||(J.input=[]),J.input.push(Y.onnx.ValueInfoProto.decode(R,R.uint32()));break;case 12:J.output&&J.output.length||(J.output=[]),J.output.push(Y.onnx.ValueInfoProto.decode(R,R.uint32()));break;case 13:J.valueInfo&&J.valueInfo.length||(J.valueInfo=[]),J.valueInfo.push(Y.onnx.ValueInfoProto.decode(R,R.uint32()));break;case 14:J.quantizationAnnotation&&J.quantizationAnnotation.length||(J.quantizationAnnotation=[]),J.quantizationAnnotation.push(Y.onnx.TensorAnnotation.decode(R,R.uint32()));break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.node!=null&&R.hasOwnProperty("node")){if(!Array.isArray(R.node))return"node: array expected";for(var U=0;U<R.node.length;++U)if(K=Y.onnx.NodeProto.verify(R.node[U]))return"node."+K}if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.initializer!=null&&R.hasOwnProperty("initializer")){if(!Array.isArray(R.initializer))return"initializer: array expected";for(U=0;U<R.initializer.length;++U)if(K=Y.onnx.TensorProto.verify(R.initializer[U]))return"initializer."+K}if(R.sparseInitializer!=null&&R.hasOwnProperty("sparseInitializer")){if(!Array.isArray(R.sparseInitializer))return"sparseInitializer: array expected";for(U=0;U<R.sparseInitializer.length;++U)if(K=Y.onnx.SparseTensorProto.verify(R.sparseInitializer[U]))return"sparseInitializer."+K}if(R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString))return"docString: string expected";if(R.input!=null&&R.hasOwnProperty("input")){if(!Array.isArray(R.input))return"input: array expected";for(U=0;U<R.input.length;++U)if(K=Y.onnx.ValueInfoProto.verify(R.input[U]))return"input."+K}if(R.output!=null&&R.hasOwnProperty("output")){if(!Array.isArray(R.output))return"output: array expected";for(U=0;U<R.output.length;++U)if(K=Y.onnx.ValueInfoProto.verify(R.output[U]))return"output."+K}if(R.valueInfo!=null&&R.hasOwnProperty("valueInfo")){if(!Array.isArray(R.valueInfo))return"valueInfo: array expected";for(U=0;U<R.valueInfo.length;++U)if(K=Y.onnx.ValueInfoProto.verify(R.valueInfo[U]))return"valueInfo."+K}if(R.quantizationAnnotation!=null&&R.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(R.quantizationAnnotation))return"quantizationAnnotation: array expected";for(U=0;U<R.quantizationAnnotation.length;++U){var K;if(K=Y.onnx.TensorAnnotation.verify(R.quantizationAnnotation[U]))return"quantizationAnnotation."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.GraphProto)return R;var U=new Y.onnx.GraphProto;if(R.node){if(!Array.isArray(R.node))throw TypeError(".onnx.GraphProto.node: array expected");U.node=[];for(var K=0;K<R.node.length;++K){if(typeof R.node[K]!="object")throw TypeError(".onnx.GraphProto.node: object expected");U.node[K]=Y.onnx.NodeProto.fromObject(R.node[K])}}if(R.name!=null&&(U.name=String(R.name)),R.initializer){if(!Array.isArray(R.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(U.initializer=[],K=0;K<R.initializer.length;++K){if(typeof R.initializer[K]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");U.initializer[K]=Y.onnx.TensorProto.fromObject(R.initializer[K])}}if(R.sparseInitializer){if(!Array.isArray(R.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");for(U.sparseInitializer=[],K=0;K<R.sparseInitializer.length;++K){if(typeof R.sparseInitializer[K]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");U.sparseInitializer[K]=Y.onnx.SparseTensorProto.fromObject(R.sparseInitializer[K])}}if(R.docString!=null&&(U.docString=String(R.docString)),R.input){if(!Array.isArray(R.input))throw TypeError(".onnx.GraphProto.input: array expected");for(U.input=[],K=0;K<R.input.length;++K){if(typeof R.input[K]!="object")throw TypeError(".onnx.GraphProto.input: object expected");U.input[K]=Y.onnx.ValueInfoProto.fromObject(R.input[K])}}if(R.output){if(!Array.isArray(R.output))throw TypeError(".onnx.GraphProto.output: array expected");for(U.output=[],K=0;K<R.output.length;++K){if(typeof R.output[K]!="object")throw TypeError(".onnx.GraphProto.output: object expected");U.output[K]=Y.onnx.ValueInfoProto.fromObject(R.output[K])}}if(R.valueInfo){if(!Array.isArray(R.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(U.valueInfo=[],K=0;K<R.valueInfo.length;++K){if(typeof R.valueInfo[K]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");U.valueInfo[K]=Y.onnx.ValueInfoProto.fromObject(R.valueInfo[K])}}if(R.quantizationAnnotation){if(!Array.isArray(R.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(U.quantizationAnnotation=[],K=0;K<R.quantizationAnnotation.length;++K){if(typeof R.quantizationAnnotation[K]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");U.quantizationAnnotation[K]=Y.onnx.TensorAnnotation.fromObject(R.quantizationAnnotation[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.node=[],K.initializer=[],K.input=[],K.output=[],K.valueInfo=[],K.quantizationAnnotation=[],K.sparseInitializer=[]),U.defaults&&(K.name="",K.docString=""),R.node&&R.node.length){K.node=[];for(var J=0;J<R.node.length;++J)K.node[J]=Y.onnx.NodeProto.toObject(R.node[J],U)}if(R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.initializer&&R.initializer.length)for(K.initializer=[],J=0;J<R.initializer.length;++J)K.initializer[J]=Y.onnx.TensorProto.toObject(R.initializer[J],U);if(R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.input&&R.input.length)for(K.input=[],J=0;J<R.input.length;++J)K.input[J]=Y.onnx.ValueInfoProto.toObject(R.input[J],U);if(R.output&&R.output.length)for(K.output=[],J=0;J<R.output.length;++J)K.output[J]=Y.onnx.ValueInfoProto.toObject(R.output[J],U);if(R.valueInfo&&R.valueInfo.length)for(K.valueInfo=[],J=0;J<R.valueInfo.length;++J)K.valueInfo[J]=Y.onnx.ValueInfoProto.toObject(R.valueInfo[J],U);if(R.quantizationAnnotation&&R.quantizationAnnotation.length)for(K.quantizationAnnotation=[],J=0;J<R.quantizationAnnotation.length;++J)K.quantizationAnnotation[J]=Y.onnx.TensorAnnotation.toObject(R.quantizationAnnotation[J],U);if(R.sparseInitializer&&R.sparseInitializer.length)for(K.sparseInitializer=[],J=0;J<R.sparseInitializer.length;++J)K.sparseInitializer[J]=Y.onnx.SparseTensorProto.toObject(R.sparseInitializer[J],U);return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.GraphProto"},W}(),re.TensorProto=function(){function W(R){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.dims=Z.emptyArray,W.prototype.dataType=0,W.prototype.segment=null,W.prototype.floatData=Z.emptyArray,W.prototype.int32Data=Z.emptyArray,W.prototype.stringData=Z.emptyArray,W.prototype.int64Data=Z.emptyArray,W.prototype.name="",W.prototype.docString="",W.prototype.rawData=Z.newBuffer([]),W.prototype.externalData=Z.emptyArray,W.prototype.dataLocation=0,W.prototype.doubleData=Z.emptyArray,W.prototype.uint64Data=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ae.create()),R.dims!=null&&R.dims.length){U.uint32(10).fork();for(var K=0;K<R.dims.length;++K)U.int64(R.dims[K]);U.ldelim()}if(R.dataType!=null&&Object.hasOwnProperty.call(R,"dataType")&&U.uint32(16).int32(R.dataType),R.segment!=null&&Object.hasOwnProperty.call(R,"segment")&&Y.onnx.TensorProto.Segment.encode(R.segment,U.uint32(26).fork()).ldelim(),R.floatData!=null&&R.floatData.length){for(U.uint32(34).fork(),K=0;K<R.floatData.length;++K)U.float(R.floatData[K]);U.ldelim()}if(R.int32Data!=null&&R.int32Data.length){for(U.uint32(42).fork(),K=0;K<R.int32Data.length;++K)U.int32(R.int32Data[K]);U.ldelim()}if(R.stringData!=null&&R.stringData.length)for(K=0;K<R.stringData.length;++K)U.uint32(50).bytes(R.stringData[K]);if(R.int64Data!=null&&R.int64Data.length){for(U.uint32(58).fork(),K=0;K<R.int64Data.length;++K)U.int64(R.int64Data[K]);U.ldelim()}if(R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(66).string(R.name),R.rawData!=null&&Object.hasOwnProperty.call(R,"rawData")&&U.uint32(74).bytes(R.rawData),R.doubleData!=null&&R.doubleData.length){for(U.uint32(82).fork(),K=0;K<R.doubleData.length;++K)U.double(R.doubleData[K]);U.ldelim()}if(R.uint64Data!=null&&R.uint64Data.length){for(U.uint32(90).fork(),K=0;K<R.uint64Data.length;++K)U.uint64(R.uint64Data[K]);U.ldelim()}if(R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(98).string(R.docString),R.externalData!=null&&R.externalData.length)for(K=0;K<R.externalData.length;++K)Y.onnx.StringStringEntryProto.encode(R.externalData[K],U.uint32(106).fork()).ldelim();return R.dataLocation!=null&&Object.hasOwnProperty.call(R,"dataLocation")&&U.uint32(112).int32(R.dataLocation),U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.TensorProto;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:if(J.dims&&J.dims.length||(J.dims=[]),(7&ne)==2)for(var se=R.uint32()+R.pos;R.pos<se;)J.dims.push(R.int64());else J.dims.push(R.int64());break;case 2:J.dataType=R.int32();break;case 3:J.segment=Y.onnx.TensorProto.Segment.decode(R,R.uint32());break;case 4:if(J.floatData&&J.floatData.length||(J.floatData=[]),(7&ne)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.floatData.push(R.float());else J.floatData.push(R.float());break;case 5:if(J.int32Data&&J.int32Data.length||(J.int32Data=[]),(7&ne)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.int32Data.push(R.int32());else J.int32Data.push(R.int32());break;case 6:J.stringData&&J.stringData.length||(J.stringData=[]),J.stringData.push(R.bytes());break;case 7:if(J.int64Data&&J.int64Data.length||(J.int64Data=[]),(7&ne)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.int64Data.push(R.int64());else J.int64Data.push(R.int64());break;case 8:J.name=R.string();break;case 12:J.docString=R.string();break;case 9:J.rawData=R.bytes();break;case 13:J.externalData&&J.externalData.length||(J.externalData=[]),J.externalData.push(Y.onnx.StringStringEntryProto.decode(R,R.uint32()));break;case 14:J.dataLocation=R.int32();break;case 10:if(J.doubleData&&J.doubleData.length||(J.doubleData=[]),(7&ne)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.doubleData.push(R.double());else J.doubleData.push(R.double());break;case 11:if(J.uint64Data&&J.uint64Data.length||(J.uint64Data=[]),(7&ne)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.uint64Data.push(R.uint64());else J.uint64Data.push(R.uint64());break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.dims!=null&&R.hasOwnProperty("dims")){if(!Array.isArray(R.dims))return"dims: array expected";for(var U=0;U<R.dims.length;++U)if(!(Z.isInteger(R.dims[U])||R.dims[U]&&Z.isInteger(R.dims[U].low)&&Z.isInteger(R.dims[U].high)))return"dims: integer|Long[] expected"}if(R.dataType!=null&&R.hasOwnProperty("dataType")&&!Z.isInteger(R.dataType))return"dataType: integer expected";if(R.segment!=null&&R.hasOwnProperty("segment")&&(K=Y.onnx.TensorProto.Segment.verify(R.segment)))return"segment."+K;if(R.floatData!=null&&R.hasOwnProperty("floatData")){if(!Array.isArray(R.floatData))return"floatData: array expected";for(U=0;U<R.floatData.length;++U)if(typeof R.floatData[U]!="number")return"floatData: number[] expected"}if(R.int32Data!=null&&R.hasOwnProperty("int32Data")){if(!Array.isArray(R.int32Data))return"int32Data: array expected";for(U=0;U<R.int32Data.length;++U)if(!Z.isInteger(R.int32Data[U]))return"int32Data: integer[] expected"}if(R.stringData!=null&&R.hasOwnProperty("stringData")){if(!Array.isArray(R.stringData))return"stringData: array expected";for(U=0;U<R.stringData.length;++U)if(!(R.stringData[U]&&typeof R.stringData[U].length=="number"||Z.isString(R.stringData[U])))return"stringData: buffer[] expected"}if(R.int64Data!=null&&R.hasOwnProperty("int64Data")){if(!Array.isArray(R.int64Data))return"int64Data: array expected";for(U=0;U<R.int64Data.length;++U)if(!(Z.isInteger(R.int64Data[U])||R.int64Data[U]&&Z.isInteger(R.int64Data[U].low)&&Z.isInteger(R.int64Data[U].high)))return"int64Data: integer|Long[] expected"}if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString))return"docString: string expected";if(R.rawData!=null&&R.hasOwnProperty("rawData")&&!(R.rawData&&typeof R.rawData.length=="number"||Z.isString(R.rawData)))return"rawData: buffer expected";if(R.externalData!=null&&R.hasOwnProperty("externalData")){if(!Array.isArray(R.externalData))return"externalData: array expected";for(U=0;U<R.externalData.length;++U){var K;if(K=Y.onnx.StringStringEntryProto.verify(R.externalData[U]))return"externalData."+K}}if(R.dataLocation!=null&&R.hasOwnProperty("dataLocation"))switch(R.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(R.doubleData!=null&&R.hasOwnProperty("doubleData")){if(!Array.isArray(R.doubleData))return"doubleData: array expected";for(U=0;U<R.doubleData.length;++U)if(typeof R.doubleData[U]!="number")return"doubleData: number[] expected"}if(R.uint64Data!=null&&R.hasOwnProperty("uint64Data")){if(!Array.isArray(R.uint64Data))return"uint64Data: array expected";for(U=0;U<R.uint64Data.length;++U)if(!(Z.isInteger(R.uint64Data[U])||R.uint64Data[U]&&Z.isInteger(R.uint64Data[U].low)&&Z.isInteger(R.uint64Data[U].high)))return"uint64Data: integer|Long[] expected"}return null},W.fromObject=function(R){if(R instanceof Y.onnx.TensorProto)return R;var U=new Y.onnx.TensorProto;if(R.dims){if(!Array.isArray(R.dims))throw TypeError(".onnx.TensorProto.dims: array expected");U.dims=[];for(var K=0;K<R.dims.length;++K)Z.Long?(U.dims[K]=Z.Long.fromValue(R.dims[K])).unsigned=!1:typeof R.dims[K]=="string"?U.dims[K]=parseInt(R.dims[K],10):typeof R.dims[K]=="number"?U.dims[K]=R.dims[K]:typeof R.dims[K]=="object"&&(U.dims[K]=new Z.LongBits(R.dims[K].low>>>0,R.dims[K].high>>>0).toNumber())}if(R.dataType!=null&&(U.dataType=0|R.dataType),R.segment!=null){if(typeof R.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");U.segment=Y.onnx.TensorProto.Segment.fromObject(R.segment)}if(R.floatData){if(!Array.isArray(R.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(U.floatData=[],K=0;K<R.floatData.length;++K)U.floatData[K]=Number(R.floatData[K])}if(R.int32Data){if(!Array.isArray(R.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(U.int32Data=[],K=0;K<R.int32Data.length;++K)U.int32Data[K]=0|R.int32Data[K]}if(R.stringData){if(!Array.isArray(R.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(U.stringData=[],K=0;K<R.stringData.length;++K)typeof R.stringData[K]=="string"?Z.base64.decode(R.stringData[K],U.stringData[K]=Z.newBuffer(Z.base64.length(R.stringData[K])),0):R.stringData[K].length>=0&&(U.stringData[K]=R.stringData[K])}if(R.int64Data){if(!Array.isArray(R.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(U.int64Data=[],K=0;K<R.int64Data.length;++K)Z.Long?(U.int64Data[K]=Z.Long.fromValue(R.int64Data[K])).unsigned=!1:typeof R.int64Data[K]=="string"?U.int64Data[K]=parseInt(R.int64Data[K],10):typeof R.int64Data[K]=="number"?U.int64Data[K]=R.int64Data[K]:typeof R.int64Data[K]=="object"&&(U.int64Data[K]=new Z.LongBits(R.int64Data[K].low>>>0,R.int64Data[K].high>>>0).toNumber())}if(R.name!=null&&(U.name=String(R.name)),R.docString!=null&&(U.docString=String(R.docString)),R.rawData!=null&&(typeof R.rawData=="string"?Z.base64.decode(R.rawData,U.rawData=Z.newBuffer(Z.base64.length(R.rawData)),0):R.rawData.length>=0&&(U.rawData=R.rawData)),R.externalData){if(!Array.isArray(R.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(U.externalData=[],K=0;K<R.externalData.length;++K){if(typeof R.externalData[K]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");U.externalData[K]=Y.onnx.StringStringEntryProto.fromObject(R.externalData[K])}}switch(R.dataLocation){default:if(typeof R.dataLocation=="number"){U.dataLocation=R.dataLocation;break}break;case"DEFAULT":case 0:U.dataLocation=0;break;case"EXTERNAL":case 1:U.dataLocation=1}if(R.doubleData){if(!Array.isArray(R.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(U.doubleData=[],K=0;K<R.doubleData.length;++K)U.doubleData[K]=Number(R.doubleData[K])}if(R.uint64Data){if(!Array.isArray(R.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(U.uint64Data=[],K=0;K<R.uint64Data.length;++K)Z.Long?(U.uint64Data[K]=Z.Long.fromValue(R.uint64Data[K])).unsigned=!0:typeof R.uint64Data[K]=="string"?U.uint64Data[K]=parseInt(R.uint64Data[K],10):typeof R.uint64Data[K]=="number"?U.uint64Data[K]=R.uint64Data[K]:typeof R.uint64Data[K]=="object"&&(U.uint64Data[K]=new Z.LongBits(R.uint64Data[K].low>>>0,R.uint64Data[K].high>>>0).toNumber(!0))}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.dims=[],K.floatData=[],K.int32Data=[],K.stringData=[],K.int64Data=[],K.doubleData=[],K.uint64Data=[],K.externalData=[]),U.defaults&&(K.dataType=0,K.segment=null,K.name="",U.bytes===String?K.rawData="":(K.rawData=[],U.bytes!==Array&&(K.rawData=Z.newBuffer(K.rawData))),K.docString="",K.dataLocation=U.enums===String?"DEFAULT":0),R.dims&&R.dims.length){K.dims=[];for(var J=0;J<R.dims.length;++J)typeof R.dims[J]=="number"?K.dims[J]=U.longs===String?String(R.dims[J]):R.dims[J]:K.dims[J]=U.longs===String?Z.Long.prototype.toString.call(R.dims[J]):U.longs===Number?new Z.LongBits(R.dims[J].low>>>0,R.dims[J].high>>>0).toNumber():R.dims[J]}if(R.dataType!=null&&R.hasOwnProperty("dataType")&&(K.dataType=R.dataType),R.segment!=null&&R.hasOwnProperty("segment")&&(K.segment=Y.onnx.TensorProto.Segment.toObject(R.segment,U)),R.floatData&&R.floatData.length)for(K.floatData=[],J=0;J<R.floatData.length;++J)K.floatData[J]=U.json&&!isFinite(R.floatData[J])?String(R.floatData[J]):R.floatData[J];if(R.int32Data&&R.int32Data.length)for(K.int32Data=[],J=0;J<R.int32Data.length;++J)K.int32Data[J]=R.int32Data[J];if(R.stringData&&R.stringData.length)for(K.stringData=[],J=0;J<R.stringData.length;++J)K.stringData[J]=U.bytes===String?Z.base64.encode(R.stringData[J],0,R.stringData[J].length):U.bytes===Array?Array.prototype.slice.call(R.stringData[J]):R.stringData[J];if(R.int64Data&&R.int64Data.length)for(K.int64Data=[],J=0;J<R.int64Data.length;++J)typeof R.int64Data[J]=="number"?K.int64Data[J]=U.longs===String?String(R.int64Data[J]):R.int64Data[J]:K.int64Data[J]=U.longs===String?Z.Long.prototype.toString.call(R.int64Data[J]):U.longs===Number?new Z.LongBits(R.int64Data[J].low>>>0,R.int64Data[J].high>>>0).toNumber():R.int64Data[J];if(R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.rawData!=null&&R.hasOwnProperty("rawData")&&(K.rawData=U.bytes===String?Z.base64.encode(R.rawData,0,R.rawData.length):U.bytes===Array?Array.prototype.slice.call(R.rawData):R.rawData),R.doubleData&&R.doubleData.length)for(K.doubleData=[],J=0;J<R.doubleData.length;++J)K.doubleData[J]=U.json&&!isFinite(R.doubleData[J])?String(R.doubleData[J]):R.doubleData[J];if(R.uint64Data&&R.uint64Data.length)for(K.uint64Data=[],J=0;J<R.uint64Data.length;++J)typeof R.uint64Data[J]=="number"?K.uint64Data[J]=U.longs===String?String(R.uint64Data[J]):R.uint64Data[J]:K.uint64Data[J]=U.longs===String?Z.Long.prototype.toString.call(R.uint64Data[J]):U.longs===Number?new Z.LongBits(R.uint64Data[J].low>>>0,R.uint64Data[J].high>>>0).toNumber(!0):R.uint64Data[J];if(R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.externalData&&R.externalData.length)for(K.externalData=[],J=0;J<R.externalData.length;++J)K.externalData[J]=Y.onnx.StringStringEntryProto.toObject(R.externalData[J],U);return R.dataLocation!=null&&R.hasOwnProperty("dataLocation")&&(K.dataLocation=U.enums===String?Y.onnx.TensorProto.DataLocation[R.dataLocation]===void 0?R.dataLocation:Y.onnx.TensorProto.DataLocation[R.dataLocation]:R.dataLocation),K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.TensorProto"},W.DataType=function(){var R={},U=Object.create(R);return U[R[0]="UNDEFINED"]=0,U[R[1]="FLOAT"]=1,U[R[2]="UINT8"]=2,U[R[3]="INT8"]=3,U[R[4]="UINT16"]=4,U[R[5]="INT16"]=5,U[R[6]="INT32"]=6,U[R[7]="INT64"]=7,U[R[8]="STRING"]=8,U[R[9]="BOOL"]=9,U[R[10]="FLOAT16"]=10,U[R[11]="DOUBLE"]=11,U[R[12]="UINT32"]=12,U[R[13]="UINT64"]=13,U[R[14]="COMPLEX64"]=14,U[R[15]="COMPLEX128"]=15,U[R[16]="BFLOAT16"]=16,U[R[17]="FLOAT8E4M3FN"]=17,U[R[18]="FLOAT8E4M3FNUZ"]=18,U[R[19]="FLOAT8E5M2"]=19,U[R[20]="FLOAT8E5M2FNUZ"]=20,U}(),W.Segment=function(){function R(U){if(U)for(var K=Object.keys(U),J=0;J<K.length;++J)U[K[J]]!=null&&(this[K[J]]=U[K[J]])}return R.prototype.begin=Z.Long?Z.Long.fromBits(0,0,!1):0,R.prototype.end=Z.Long?Z.Long.fromBits(0,0,!1):0,R.create=function(U){return new R(U)},R.encode=function(U,K){return K||(K=ae.create()),U.begin!=null&&Object.hasOwnProperty.call(U,"begin")&&K.uint32(8).int64(U.begin),U.end!=null&&Object.hasOwnProperty.call(U,"end")&&K.uint32(16).int64(U.end),K},R.encodeDelimited=function(U,K){return this.encode(U,K).ldelim()},R.decode=function(U,K){U instanceof ee||(U=ee.create(U));for(var J=K===void 0?U.len:U.pos+K,ne=new Y.onnx.TensorProto.Segment;U.pos<J;){var se=U.uint32();switch(se>>>3){case 1:ne.begin=U.int64();break;case 2:ne.end=U.int64();break;default:U.skipType(7&se)}}return ne},R.decodeDelimited=function(U){return U instanceof ee||(U=new ee(U)),this.decode(U,U.uint32())},R.verify=function(U){return typeof U!="object"||U===null?"object expected":U.begin!=null&&U.hasOwnProperty("begin")&&!(Z.isInteger(U.begin)||U.begin&&Z.isInteger(U.begin.low)&&Z.isInteger(U.begin.high))?"begin: integer|Long expected":U.end!=null&&U.hasOwnProperty("end")&&!(Z.isInteger(U.end)||U.end&&Z.isInteger(U.end.low)&&Z.isInteger(U.end.high))?"end: integer|Long expected":null},R.fromObject=function(U){if(U instanceof Y.onnx.TensorProto.Segment)return U;var K=new Y.onnx.TensorProto.Segment;return U.begin!=null&&(Z.Long?(K.begin=Z.Long.fromValue(U.begin)).unsigned=!1:typeof U.begin=="string"?K.begin=parseInt(U.begin,10):typeof U.begin=="number"?K.begin=U.begin:typeof U.begin=="object"&&(K.begin=new Z.LongBits(U.begin.low>>>0,U.begin.high>>>0).toNumber())),U.end!=null&&(Z.Long?(K.end=Z.Long.fromValue(U.end)).unsigned=!1:typeof U.end=="string"?K.end=parseInt(U.end,10):typeof U.end=="number"?K.end=U.end:typeof U.end=="object"&&(K.end=new Z.LongBits(U.end.low>>>0,U.end.high>>>0).toNumber())),K},R.toObject=function(U,K){K||(K={});var J={};if(K.defaults){if(Z.Long){var ne=new Z.Long(0,0,!1);J.begin=K.longs===String?ne.toString():K.longs===Number?ne.toNumber():ne}else J.begin=K.longs===String?"0":0;Z.Long?(ne=new Z.Long(0,0,!1),J.end=K.longs===String?ne.toString():K.longs===Number?ne.toNumber():ne):J.end=K.longs===String?"0":0}return U.begin!=null&&U.hasOwnProperty("begin")&&(typeof U.begin=="number"?J.begin=K.longs===String?String(U.begin):U.begin:J.begin=K.longs===String?Z.Long.prototype.toString.call(U.begin):K.longs===Number?new Z.LongBits(U.begin.low>>>0,U.begin.high>>>0).toNumber():U.begin),U.end!=null&&U.hasOwnProperty("end")&&(typeof U.end=="number"?J.end=K.longs===String?String(U.end):U.end:J.end=K.longs===String?Z.Long.prototype.toString.call(U.end):K.longs===Number?new Z.LongBits(U.end.low>>>0,U.end.high>>>0).toNumber():U.end),J},R.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},R.getTypeUrl=function(U){return U===void 0&&(U="type.googleapis.com"),U+"/onnx.TensorProto.Segment"},R}(),W.DataLocation=function(){var R={},U=Object.create(R);return U[R[0]="DEFAULT"]=0,U[R[1]="EXTERNAL"]=1,U}(),W}(),re.SparseTensorProto=function(){function W(R){if(this.dims=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.values=null,W.prototype.indices=null,W.prototype.dims=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ae.create()),R.values!=null&&Object.hasOwnProperty.call(R,"values")&&Y.onnx.TensorProto.encode(R.values,U.uint32(10).fork()).ldelim(),R.indices!=null&&Object.hasOwnProperty.call(R,"indices")&&Y.onnx.TensorProto.encode(R.indices,U.uint32(18).fork()).ldelim(),R.dims!=null&&R.dims.length){U.uint32(26).fork();for(var K=0;K<R.dims.length;++K)U.int64(R.dims[K]);U.ldelim()}return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.SparseTensorProto;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:J.values=Y.onnx.TensorProto.decode(R,R.uint32());break;case 2:J.indices=Y.onnx.TensorProto.decode(R,R.uint32());break;case 3:if(J.dims&&J.dims.length||(J.dims=[]),(7&ne)==2)for(var se=R.uint32()+R.pos;R.pos<se;)J.dims.push(R.int64());else J.dims.push(R.int64());break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";var U;if(R.values!=null&&R.hasOwnProperty("values")&&(U=Y.onnx.TensorProto.verify(R.values)))return"values."+U;if(R.indices!=null&&R.hasOwnProperty("indices")&&(U=Y.onnx.TensorProto.verify(R.indices)))return"indices."+U;if(R.dims!=null&&R.hasOwnProperty("dims")){if(!Array.isArray(R.dims))return"dims: array expected";for(var K=0;K<R.dims.length;++K)if(!(Z.isInteger(R.dims[K])||R.dims[K]&&Z.isInteger(R.dims[K].low)&&Z.isInteger(R.dims[K].high)))return"dims: integer|Long[] expected"}return null},W.fromObject=function(R){if(R instanceof Y.onnx.SparseTensorProto)return R;var U=new Y.onnx.SparseTensorProto;if(R.values!=null){if(typeof R.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");U.values=Y.onnx.TensorProto.fromObject(R.values)}if(R.indices!=null){if(typeof R.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");U.indices=Y.onnx.TensorProto.fromObject(R.indices)}if(R.dims){if(!Array.isArray(R.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");U.dims=[];for(var K=0;K<R.dims.length;++K)Z.Long?(U.dims[K]=Z.Long.fromValue(R.dims[K])).unsigned=!1:typeof R.dims[K]=="string"?U.dims[K]=parseInt(R.dims[K],10):typeof R.dims[K]=="number"?U.dims[K]=R.dims[K]:typeof R.dims[K]=="object"&&(U.dims[K]=new Z.LongBits(R.dims[K].low>>>0,R.dims[K].high>>>0).toNumber())}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.dims=[]),U.defaults&&(K.values=null,K.indices=null),R.values!=null&&R.hasOwnProperty("values")&&(K.values=Y.onnx.TensorProto.toObject(R.values,U)),R.indices!=null&&R.hasOwnProperty("indices")&&(K.indices=Y.onnx.TensorProto.toObject(R.indices,U)),R.dims&&R.dims.length){K.dims=[];for(var J=0;J<R.dims.length;++J)typeof R.dims[J]=="number"?K.dims[J]=U.longs===String?String(R.dims[J]):R.dims[J]:K.dims[J]=U.longs===String?Z.Long.prototype.toString.call(R.dims[J]):U.longs===Number?new Z.LongBits(R.dims[J].low>>>0,R.dims[J].high>>>0).toNumber():R.dims[J]}return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.SparseTensorProto"},W}(),re.TensorShapeProto=function(){function W(R){if(this.dim=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.dim=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ae.create()),R.dim!=null&&R.dim.length)for(var K=0;K<R.dim.length;++K)Y.onnx.TensorShapeProto.Dimension.encode(R.dim[K],U.uint32(10).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.TensorShapeProto;R.pos<K;){var ne=R.uint32();ne>>>3==1?(J.dim&&J.dim.length||(J.dim=[]),J.dim.push(Y.onnx.TensorShapeProto.Dimension.decode(R,R.uint32()))):R.skipType(7&ne)}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.dim!=null&&R.hasOwnProperty("dim")){if(!Array.isArray(R.dim))return"dim: array expected";for(var U=0;U<R.dim.length;++U){var K=Y.onnx.TensorShapeProto.Dimension.verify(R.dim[U]);if(K)return"dim."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.TensorShapeProto)return R;var U=new Y.onnx.TensorShapeProto;if(R.dim){if(!Array.isArray(R.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");U.dim=[];for(var K=0;K<R.dim.length;++K){if(typeof R.dim[K]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");U.dim[K]=Y.onnx.TensorShapeProto.Dimension.fromObject(R.dim[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.dim=[]),R.dim&&R.dim.length){K.dim=[];for(var J=0;J<R.dim.length;++J)K.dim[J]=Y.onnx.TensorShapeProto.Dimension.toObject(R.dim[J],U)}return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.TensorShapeProto"},W.Dimension=function(){function R(K){if(K)for(var J=Object.keys(K),ne=0;ne<J.length;++ne)K[J[ne]]!=null&&(this[J[ne]]=K[J[ne]])}var U;return R.prototype.dimValue=null,R.prototype.dimParam=null,R.prototype.denotation="",Object.defineProperty(R.prototype,"value",{get:Z.oneOfGetter(U=["dimValue","dimParam"]),set:Z.oneOfSetter(U)}),R.create=function(K){return new R(K)},R.encode=function(K,J){return J||(J=ae.create()),K.dimValue!=null&&Object.hasOwnProperty.call(K,"dimValue")&&J.uint32(8).int64(K.dimValue),K.dimParam!=null&&Object.hasOwnProperty.call(K,"dimParam")&&J.uint32(18).string(K.dimParam),K.denotation!=null&&Object.hasOwnProperty.call(K,"denotation")&&J.uint32(26).string(K.denotation),J},R.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},R.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var ne=J===void 0?K.len:K.pos+J,se=new Y.onnx.TensorShapeProto.Dimension;K.pos<ne;){var le=K.uint32();switch(le>>>3){case 1:se.dimValue=K.int64();break;case 2:se.dimParam=K.string();break;case 3:se.denotation=K.string();break;default:K.skipType(7&le)}}return se},R.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},R.verify=function(K){if(typeof K!="object"||K===null)return"object expected";var J={};if(K.dimValue!=null&&K.hasOwnProperty("dimValue")&&(J.value=1,!(Z.isInteger(K.dimValue)||K.dimValue&&Z.isInteger(K.dimValue.low)&&Z.isInteger(K.dimValue.high))))return"dimValue: integer|Long expected";if(K.dimParam!=null&&K.hasOwnProperty("dimParam")){if(J.value===1)return"value: multiple values";if(J.value=1,!Z.isString(K.dimParam))return"dimParam: string expected"}return K.denotation!=null&&K.hasOwnProperty("denotation")&&!Z.isString(K.denotation)?"denotation: string expected":null},R.fromObject=function(K){if(K instanceof Y.onnx.TensorShapeProto.Dimension)return K;var J=new Y.onnx.TensorShapeProto.Dimension;return K.dimValue!=null&&(Z.Long?(J.dimValue=Z.Long.fromValue(K.dimValue)).unsigned=!1:typeof K.dimValue=="string"?J.dimValue=parseInt(K.dimValue,10):typeof K.dimValue=="number"?J.dimValue=K.dimValue:typeof K.dimValue=="object"&&(J.dimValue=new Z.LongBits(K.dimValue.low>>>0,K.dimValue.high>>>0).toNumber())),K.dimParam!=null&&(J.dimParam=String(K.dimParam)),K.denotation!=null&&(J.denotation=String(K.denotation)),J},R.toObject=function(K,J){J||(J={});var ne={};return J.defaults&&(ne.denotation=""),K.dimValue!=null&&K.hasOwnProperty("dimValue")&&(typeof K.dimValue=="number"?ne.dimValue=J.longs===String?String(K.dimValue):K.dimValue:ne.dimValue=J.longs===String?Z.Long.prototype.toString.call(K.dimValue):J.longs===Number?new Z.LongBits(K.dimValue.low>>>0,K.dimValue.high>>>0).toNumber():K.dimValue,J.oneofs&&(ne.value="dimValue")),K.dimParam!=null&&K.hasOwnProperty("dimParam")&&(ne.dimParam=K.dimParam,J.oneofs&&(ne.value="dimParam")),K.denotation!=null&&K.hasOwnProperty("denotation")&&(ne.denotation=K.denotation),ne},R.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},R.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TensorShapeProto.Dimension"},R}(),W}(),re.TypeProto=function(){function W(U){if(U)for(var K=Object.keys(U),J=0;J<K.length;++J)U[K[J]]!=null&&(this[K[J]]=U[K[J]])}var R;return W.prototype.tensorType=null,W.prototype.sequenceType=null,W.prototype.mapType=null,W.prototype.optionalType=null,W.prototype.sparseTensorType=null,W.prototype.denotation="",Object.defineProperty(W.prototype,"value",{get:Z.oneOfGetter(R=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:Z.oneOfSetter(R)}),W.create=function(U){return new W(U)},W.encode=function(U,K){return K||(K=ae.create()),U.tensorType!=null&&Object.hasOwnProperty.call(U,"tensorType")&&Y.onnx.TypeProto.Tensor.encode(U.tensorType,K.uint32(10).fork()).ldelim(),U.sequenceType!=null&&Object.hasOwnProperty.call(U,"sequenceType")&&Y.onnx.TypeProto.Sequence.encode(U.sequenceType,K.uint32(34).fork()).ldelim(),U.mapType!=null&&Object.hasOwnProperty.call(U,"mapType")&&Y.onnx.TypeProto.Map.encode(U.mapType,K.uint32(42).fork()).ldelim(),U.denotation!=null&&Object.hasOwnProperty.call(U,"denotation")&&K.uint32(50).string(U.denotation),U.sparseTensorType!=null&&Object.hasOwnProperty.call(U,"sparseTensorType")&&Y.onnx.TypeProto.SparseTensor.encode(U.sparseTensorType,K.uint32(66).fork()).ldelim(),U.optionalType!=null&&Object.hasOwnProperty.call(U,"optionalType")&&Y.onnx.TypeProto.Optional.encode(U.optionalType,K.uint32(74).fork()).ldelim(),K},W.encodeDelimited=function(U,K){return this.encode(U,K).ldelim()},W.decode=function(U,K){U instanceof ee||(U=ee.create(U));for(var J=K===void 0?U.len:U.pos+K,ne=new Y.onnx.TypeProto;U.pos<J;){var se=U.uint32();switch(se>>>3){case 1:ne.tensorType=Y.onnx.TypeProto.Tensor.decode(U,U.uint32());break;case 4:ne.sequenceType=Y.onnx.TypeProto.Sequence.decode(U,U.uint32());break;case 5:ne.mapType=Y.onnx.TypeProto.Map.decode(U,U.uint32());break;case 9:ne.optionalType=Y.onnx.TypeProto.Optional.decode(U,U.uint32());break;case 8:ne.sparseTensorType=Y.onnx.TypeProto.SparseTensor.decode(U,U.uint32());break;case 6:ne.denotation=U.string();break;default:U.skipType(7&se)}}return ne},W.decodeDelimited=function(U){return U instanceof ee||(U=new ee(U)),this.decode(U,U.uint32())},W.verify=function(U){if(typeof U!="object"||U===null)return"object expected";var K={};if(U.tensorType!=null&&U.hasOwnProperty("tensorType")&&(K.value=1,J=Y.onnx.TypeProto.Tensor.verify(U.tensorType)))return"tensorType."+J;if(U.sequenceType!=null&&U.hasOwnProperty("sequenceType")){if(K.value===1)return"value: multiple values";if(K.value=1,J=Y.onnx.TypeProto.Sequence.verify(U.sequenceType))return"sequenceType."+J}if(U.mapType!=null&&U.hasOwnProperty("mapType")){if(K.value===1)return"value: multiple values";if(K.value=1,J=Y.onnx.TypeProto.Map.verify(U.mapType))return"mapType."+J}if(U.optionalType!=null&&U.hasOwnProperty("optionalType")){if(K.value===1)return"value: multiple values";if(K.value=1,J=Y.onnx.TypeProto.Optional.verify(U.optionalType))return"optionalType."+J}if(U.sparseTensorType!=null&&U.hasOwnProperty("sparseTensorType")){if(K.value===1)return"value: multiple values";var J;if(K.value=1,J=Y.onnx.TypeProto.SparseTensor.verify(U.sparseTensorType))return"sparseTensorType."+J}return U.denotation!=null&&U.hasOwnProperty("denotation")&&!Z.isString(U.denotation)?"denotation: string expected":null},W.fromObject=function(U){if(U instanceof Y.onnx.TypeProto)return U;var K=new Y.onnx.TypeProto;if(U.tensorType!=null){if(typeof U.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");K.tensorType=Y.onnx.TypeProto.Tensor.fromObject(U.tensorType)}if(U.sequenceType!=null){if(typeof U.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");K.sequenceType=Y.onnx.TypeProto.Sequence.fromObject(U.sequenceType)}if(U.mapType!=null){if(typeof U.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");K.mapType=Y.onnx.TypeProto.Map.fromObject(U.mapType)}if(U.optionalType!=null){if(typeof U.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");K.optionalType=Y.onnx.TypeProto.Optional.fromObject(U.optionalType)}if(U.sparseTensorType!=null){if(typeof U.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");K.sparseTensorType=Y.onnx.TypeProto.SparseTensor.fromObject(U.sparseTensorType)}return U.denotation!=null&&(K.denotation=String(U.denotation)),K},W.toObject=function(U,K){K||(K={});var J={};return K.defaults&&(J.denotation=""),U.tensorType!=null&&U.hasOwnProperty("tensorType")&&(J.tensorType=Y.onnx.TypeProto.Tensor.toObject(U.tensorType,K),K.oneofs&&(J.value="tensorType")),U.sequenceType!=null&&U.hasOwnProperty("sequenceType")&&(J.sequenceType=Y.onnx.TypeProto.Sequence.toObject(U.sequenceType,K),K.oneofs&&(J.value="sequenceType")),U.mapType!=null&&U.hasOwnProperty("mapType")&&(J.mapType=Y.onnx.TypeProto.Map.toObject(U.mapType,K),K.oneofs&&(J.value="mapType")),U.denotation!=null&&U.hasOwnProperty("denotation")&&(J.denotation=U.denotation),U.sparseTensorType!=null&&U.hasOwnProperty("sparseTensorType")&&(J.sparseTensorType=Y.onnx.TypeProto.SparseTensor.toObject(U.sparseTensorType,K),K.oneofs&&(J.value="sparseTensorType")),U.optionalType!=null&&U.hasOwnProperty("optionalType")&&(J.optionalType=Y.onnx.TypeProto.Optional.toObject(U.optionalType,K),K.oneofs&&(J.value="optionalType")),J},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(U){return U===void 0&&(U="type.googleapis.com"),U+"/onnx.TypeProto"},W.Tensor=function(){function U(K){if(K)for(var J=Object.keys(K),ne=0;ne<J.length;++ne)K[J[ne]]!=null&&(this[J[ne]]=K[J[ne]])}return U.prototype.elemType=0,U.prototype.shape=null,U.create=function(K){return new U(K)},U.encode=function(K,J){return J||(J=ae.create()),K.elemType!=null&&Object.hasOwnProperty.call(K,"elemType")&&J.uint32(8).int32(K.elemType),K.shape!=null&&Object.hasOwnProperty.call(K,"shape")&&Y.onnx.TensorShapeProto.encode(K.shape,J.uint32(18).fork()).ldelim(),J},U.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},U.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var ne=J===void 0?K.len:K.pos+J,se=new Y.onnx.TypeProto.Tensor;K.pos<ne;){var le=K.uint32();switch(le>>>3){case 1:se.elemType=K.int32();break;case 2:se.shape=Y.onnx.TensorShapeProto.decode(K,K.uint32());break;default:K.skipType(7&le)}}return se},U.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},U.verify=function(K){if(typeof K!="object"||K===null)return"object expected";if(K.elemType!=null&&K.hasOwnProperty("elemType")&&!Z.isInteger(K.elemType))return"elemType: integer expected";if(K.shape!=null&&K.hasOwnProperty("shape")){var J=Y.onnx.TensorShapeProto.verify(K.shape);if(J)return"shape."+J}return null},U.fromObject=function(K){if(K instanceof Y.onnx.TypeProto.Tensor)return K;var J=new Y.onnx.TypeProto.Tensor;if(K.elemType!=null&&(J.elemType=0|K.elemType),K.shape!=null){if(typeof K.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");J.shape=Y.onnx.TensorShapeProto.fromObject(K.shape)}return J},U.toObject=function(K,J){J||(J={});var ne={};return J.defaults&&(ne.elemType=0,ne.shape=null),K.elemType!=null&&K.hasOwnProperty("elemType")&&(ne.elemType=K.elemType),K.shape!=null&&K.hasOwnProperty("shape")&&(ne.shape=Y.onnx.TensorShapeProto.toObject(K.shape,J)),ne},U.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},U.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TypeProto.Tensor"},U}(),W.Sequence=function(){function U(K){if(K)for(var J=Object.keys(K),ne=0;ne<J.length;++ne)K[J[ne]]!=null&&(this[J[ne]]=K[J[ne]])}return U.prototype.elemType=null,U.create=function(K){return new U(K)},U.encode=function(K,J){return J||(J=ae.create()),K.elemType!=null&&Object.hasOwnProperty.call(K,"elemType")&&Y.onnx.TypeProto.encode(K.elemType,J.uint32(10).fork()).ldelim(),J},U.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},U.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var ne=J===void 0?K.len:K.pos+J,se=new Y.onnx.TypeProto.Sequence;K.pos<ne;){var le=K.uint32();le>>>3==1?se.elemType=Y.onnx.TypeProto.decode(K,K.uint32()):K.skipType(7&le)}return se},U.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},U.verify=function(K){if(typeof K!="object"||K===null)return"object expected";if(K.elemType!=null&&K.hasOwnProperty("elemType")){var J=Y.onnx.TypeProto.verify(K.elemType);if(J)return"elemType."+J}return null},U.fromObject=function(K){if(K instanceof Y.onnx.TypeProto.Sequence)return K;var J=new Y.onnx.TypeProto.Sequence;if(K.elemType!=null){if(typeof K.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");J.elemType=Y.onnx.TypeProto.fromObject(K.elemType)}return J},U.toObject=function(K,J){J||(J={});var ne={};return J.defaults&&(ne.elemType=null),K.elemType!=null&&K.hasOwnProperty("elemType")&&(ne.elemType=Y.onnx.TypeProto.toObject(K.elemType,J)),ne},U.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},U.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TypeProto.Sequence"},U}(),W.Map=function(){function U(K){if(K)for(var J=Object.keys(K),ne=0;ne<J.length;++ne)K[J[ne]]!=null&&(this[J[ne]]=K[J[ne]])}return U.prototype.keyType=0,U.prototype.valueType=null,U.create=function(K){return new U(K)},U.encode=function(K,J){return J||(J=ae.create()),K.keyType!=null&&Object.hasOwnProperty.call(K,"keyType")&&J.uint32(8).int32(K.keyType),K.valueType!=null&&Object.hasOwnProperty.call(K,"valueType")&&Y.onnx.TypeProto.encode(K.valueType,J.uint32(18).fork()).ldelim(),J},U.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},U.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var ne=J===void 0?K.len:K.pos+J,se=new Y.onnx.TypeProto.Map;K.pos<ne;){var le=K.uint32();switch(le>>>3){case 1:se.keyType=K.int32();break;case 2:se.valueType=Y.onnx.TypeProto.decode(K,K.uint32());break;default:K.skipType(7&le)}}return se},U.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},U.verify=function(K){if(typeof K!="object"||K===null)return"object expected";if(K.keyType!=null&&K.hasOwnProperty("keyType")&&!Z.isInteger(K.keyType))return"keyType: integer expected";if(K.valueType!=null&&K.hasOwnProperty("valueType")){var J=Y.onnx.TypeProto.verify(K.valueType);if(J)return"valueType."+J}return null},U.fromObject=function(K){if(K instanceof Y.onnx.TypeProto.Map)return K;var J=new Y.onnx.TypeProto.Map;if(K.keyType!=null&&(J.keyType=0|K.keyType),K.valueType!=null){if(typeof K.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");J.valueType=Y.onnx.TypeProto.fromObject(K.valueType)}return J},U.toObject=function(K,J){J||(J={});var ne={};return J.defaults&&(ne.keyType=0,ne.valueType=null),K.keyType!=null&&K.hasOwnProperty("keyType")&&(ne.keyType=K.keyType),K.valueType!=null&&K.hasOwnProperty("valueType")&&(ne.valueType=Y.onnx.TypeProto.toObject(K.valueType,J)),ne},U.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},U.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TypeProto.Map"},U}(),W.Optional=function(){function U(K){if(K)for(var J=Object.keys(K),ne=0;ne<J.length;++ne)K[J[ne]]!=null&&(this[J[ne]]=K[J[ne]])}return U.prototype.elemType=null,U.create=function(K){return new U(K)},U.encode=function(K,J){return J||(J=ae.create()),K.elemType!=null&&Object.hasOwnProperty.call(K,"elemType")&&Y.onnx.TypeProto.encode(K.elemType,J.uint32(10).fork()).ldelim(),J},U.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},U.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var ne=J===void 0?K.len:K.pos+J,se=new Y.onnx.TypeProto.Optional;K.pos<ne;){var le=K.uint32();le>>>3==1?se.elemType=Y.onnx.TypeProto.decode(K,K.uint32()):K.skipType(7&le)}return se},U.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},U.verify=function(K){if(typeof K!="object"||K===null)return"object expected";if(K.elemType!=null&&K.hasOwnProperty("elemType")){var J=Y.onnx.TypeProto.verify(K.elemType);if(J)return"elemType."+J}return null},U.fromObject=function(K){if(K instanceof Y.onnx.TypeProto.Optional)return K;var J=new Y.onnx.TypeProto.Optional;if(K.elemType!=null){if(typeof K.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");J.elemType=Y.onnx.TypeProto.fromObject(K.elemType)}return J},U.toObject=function(K,J){J||(J={});var ne={};return J.defaults&&(ne.elemType=null),K.elemType!=null&&K.hasOwnProperty("elemType")&&(ne.elemType=Y.onnx.TypeProto.toObject(K.elemType,J)),ne},U.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},U.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TypeProto.Optional"},U}(),W.SparseTensor=function(){function U(K){if(K)for(var J=Object.keys(K),ne=0;ne<J.length;++ne)K[J[ne]]!=null&&(this[J[ne]]=K[J[ne]])}return U.prototype.elemType=0,U.prototype.shape=null,U.create=function(K){return new U(K)},U.encode=function(K,J){return J||(J=ae.create()),K.elemType!=null&&Object.hasOwnProperty.call(K,"elemType")&&J.uint32(8).int32(K.elemType),K.shape!=null&&Object.hasOwnProperty.call(K,"shape")&&Y.onnx.TensorShapeProto.encode(K.shape,J.uint32(18).fork()).ldelim(),J},U.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},U.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var ne=J===void 0?K.len:K.pos+J,se=new Y.onnx.TypeProto.SparseTensor;K.pos<ne;){var le=K.uint32();switch(le>>>3){case 1:se.elemType=K.int32();break;case 2:se.shape=Y.onnx.TensorShapeProto.decode(K,K.uint32());break;default:K.skipType(7&le)}}return se},U.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},U.verify=function(K){if(typeof K!="object"||K===null)return"object expected";if(K.elemType!=null&&K.hasOwnProperty("elemType")&&!Z.isInteger(K.elemType))return"elemType: integer expected";if(K.shape!=null&&K.hasOwnProperty("shape")){var J=Y.onnx.TensorShapeProto.verify(K.shape);if(J)return"shape."+J}return null},U.fromObject=function(K){if(K instanceof Y.onnx.TypeProto.SparseTensor)return K;var J=new Y.onnx.TypeProto.SparseTensor;if(K.elemType!=null&&(J.elemType=0|K.elemType),K.shape!=null){if(typeof K.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");J.shape=Y.onnx.TensorShapeProto.fromObject(K.shape)}return J},U.toObject=function(K,J){J||(J={});var ne={};return J.defaults&&(ne.elemType=0,ne.shape=null),K.elemType!=null&&K.hasOwnProperty("elemType")&&(ne.elemType=K.elemType),K.shape!=null&&K.hasOwnProperty("shape")&&(ne.shape=Y.onnx.TensorShapeProto.toObject(K.shape,J)),ne},U.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},U.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TypeProto.SparseTensor"},U}(),W}(),re.OperatorSetIdProto=function(){function W(R){if(R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.domain="",W.prototype.version=Z.Long?Z.Long.fromBits(0,0,!1):0,W.create=function(R){return new W(R)},W.encode=function(R,U){return U||(U=ae.create()),R.domain!=null&&Object.hasOwnProperty.call(R,"domain")&&U.uint32(10).string(R.domain),R.version!=null&&Object.hasOwnProperty.call(R,"version")&&U.uint32(16).int64(R.version),U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.OperatorSetIdProto;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:J.domain=R.string();break;case 2:J.version=R.int64();break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){return typeof R!="object"||R===null?"object expected":R.domain!=null&&R.hasOwnProperty("domain")&&!Z.isString(R.domain)?"domain: string expected":R.version!=null&&R.hasOwnProperty("version")&&!(Z.isInteger(R.version)||R.version&&Z.isInteger(R.version.low)&&Z.isInteger(R.version.high))?"version: integer|Long expected":null},W.fromObject=function(R){if(R instanceof Y.onnx.OperatorSetIdProto)return R;var U=new Y.onnx.OperatorSetIdProto;return R.domain!=null&&(U.domain=String(R.domain)),R.version!=null&&(Z.Long?(U.version=Z.Long.fromValue(R.version)).unsigned=!1:typeof R.version=="string"?U.version=parseInt(R.version,10):typeof R.version=="number"?U.version=R.version:typeof R.version=="object"&&(U.version=new Z.LongBits(R.version.low>>>0,R.version.high>>>0).toNumber())),U},W.toObject=function(R,U){U||(U={});var K={};if(U.defaults)if(K.domain="",Z.Long){var J=new Z.Long(0,0,!1);K.version=U.longs===String?J.toString():U.longs===Number?J.toNumber():J}else K.version=U.longs===String?"0":0;return R.domain!=null&&R.hasOwnProperty("domain")&&(K.domain=R.domain),R.version!=null&&R.hasOwnProperty("version")&&(typeof R.version=="number"?K.version=U.longs===String?String(R.version):R.version:K.version=U.longs===String?Z.Long.prototype.toString.call(R.version):U.longs===Number?new Z.LongBits(R.version.low>>>0,R.version.high>>>0).toNumber():R.version),K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.OperatorSetIdProto"},W}(),re.OperatorStatus=function(){var W={},R=Object.create(W);return R[W[0]="EXPERIMENTAL"]=0,R[W[1]="STABLE"]=1,R}(),re.FunctionProto=function(){function W(R){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.name="",W.prototype.input=Z.emptyArray,W.prototype.output=Z.emptyArray,W.prototype.attribute=Z.emptyArray,W.prototype.attributeProto=Z.emptyArray,W.prototype.node=Z.emptyArray,W.prototype.docString="",W.prototype.opsetImport=Z.emptyArray,W.prototype.domain="",W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ae.create()),R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(10).string(R.name),R.input!=null&&R.input.length)for(var K=0;K<R.input.length;++K)U.uint32(34).string(R.input[K]);if(R.output!=null&&R.output.length)for(K=0;K<R.output.length;++K)U.uint32(42).string(R.output[K]);if(R.attribute!=null&&R.attribute.length)for(K=0;K<R.attribute.length;++K)U.uint32(50).string(R.attribute[K]);if(R.node!=null&&R.node.length)for(K=0;K<R.node.length;++K)Y.onnx.NodeProto.encode(R.node[K],U.uint32(58).fork()).ldelim();if(R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(66).string(R.docString),R.opsetImport!=null&&R.opsetImport.length)for(K=0;K<R.opsetImport.length;++K)Y.onnx.OperatorSetIdProto.encode(R.opsetImport[K],U.uint32(74).fork()).ldelim();if(R.domain!=null&&Object.hasOwnProperty.call(R,"domain")&&U.uint32(82).string(R.domain),R.attributeProto!=null&&R.attributeProto.length)for(K=0;K<R.attributeProto.length;++K)Y.onnx.AttributeProto.encode(R.attributeProto[K],U.uint32(90).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.FunctionProto;R.pos<K;){var ne=R.uint32();switch(ne>>>3){case 1:J.name=R.string();break;case 4:J.input&&J.input.length||(J.input=[]),J.input.push(R.string());break;case 5:J.output&&J.output.length||(J.output=[]),J.output.push(R.string());break;case 6:J.attribute&&J.attribute.length||(J.attribute=[]),J.attribute.push(R.string());break;case 11:J.attributeProto&&J.attributeProto.length||(J.attributeProto=[]),J.attributeProto.push(Y.onnx.AttributeProto.decode(R,R.uint32()));break;case 7:J.node&&J.node.length||(J.node=[]),J.node.push(Y.onnx.NodeProto.decode(R,R.uint32()));break;case 8:J.docString=R.string();break;case 9:J.opsetImport&&J.opsetImport.length||(J.opsetImport=[]),J.opsetImport.push(Y.onnx.OperatorSetIdProto.decode(R,R.uint32()));break;case 10:J.domain=R.string();break;default:R.skipType(7&ne)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.input!=null&&R.hasOwnProperty("input")){if(!Array.isArray(R.input))return"input: array expected";for(var U=0;U<R.input.length;++U)if(!Z.isString(R.input[U]))return"input: string[] expected"}if(R.output!=null&&R.hasOwnProperty("output")){if(!Array.isArray(R.output))return"output: array expected";for(U=0;U<R.output.length;++U)if(!Z.isString(R.output[U]))return"output: string[] expected"}if(R.attribute!=null&&R.hasOwnProperty("attribute")){if(!Array.isArray(R.attribute))return"attribute: array expected";for(U=0;U<R.attribute.length;++U)if(!Z.isString(R.attribute[U]))return"attribute: string[] expected"}if(R.attributeProto!=null&&R.hasOwnProperty("attributeProto")){if(!Array.isArray(R.attributeProto))return"attributeProto: array expected";for(U=0;U<R.attributeProto.length;++U)if(K=Y.onnx.AttributeProto.verify(R.attributeProto[U]))return"attributeProto."+K}if(R.node!=null&&R.hasOwnProperty("node")){if(!Array.isArray(R.node))return"node: array expected";for(U=0;U<R.node.length;++U)if(K=Y.onnx.NodeProto.verify(R.node[U]))return"node."+K}if(R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString))return"docString: string expected";if(R.opsetImport!=null&&R.hasOwnProperty("opsetImport")){if(!Array.isArray(R.opsetImport))return"opsetImport: array expected";for(U=0;U<R.opsetImport.length;++U){var K;if(K=Y.onnx.OperatorSetIdProto.verify(R.opsetImport[U]))return"opsetImport."+K}}return R.domain!=null&&R.hasOwnProperty("domain")&&!Z.isString(R.domain)?"domain: string expected":null},W.fromObject=function(R){if(R instanceof Y.onnx.FunctionProto)return R;var U=new Y.onnx.FunctionProto;if(R.name!=null&&(U.name=String(R.name)),R.input){if(!Array.isArray(R.input))throw TypeError(".onnx.FunctionProto.input: array expected");U.input=[];for(var K=0;K<R.input.length;++K)U.input[K]=String(R.input[K])}if(R.output){if(!Array.isArray(R.output))throw TypeError(".onnx.FunctionProto.output: array expected");for(U.output=[],K=0;K<R.output.length;++K)U.output[K]=String(R.output[K])}if(R.attribute){if(!Array.isArray(R.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");for(U.attribute=[],K=0;K<R.attribute.length;++K)U.attribute[K]=String(R.attribute[K])}if(R.attributeProto){if(!Array.isArray(R.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");for(U.attributeProto=[],K=0;K<R.attributeProto.length;++K){if(typeof R.attributeProto[K]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");U.attributeProto[K]=Y.onnx.AttributeProto.fromObject(R.attributeProto[K])}}if(R.node){if(!Array.isArray(R.node))throw TypeError(".onnx.FunctionProto.node: array expected");for(U.node=[],K=0;K<R.node.length;++K){if(typeof R.node[K]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");U.node[K]=Y.onnx.NodeProto.fromObject(R.node[K])}}if(R.docString!=null&&(U.docString=String(R.docString)),R.opsetImport){if(!Array.isArray(R.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");for(U.opsetImport=[],K=0;K<R.opsetImport.length;++K){if(typeof R.opsetImport[K]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");U.opsetImport[K]=Y.onnx.OperatorSetIdProto.fromObject(R.opsetImport[K])}}return R.domain!=null&&(U.domain=String(R.domain)),U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.input=[],K.output=[],K.attribute=[],K.node=[],K.opsetImport=[],K.attributeProto=[]),U.defaults&&(K.name="",K.docString="",K.domain=""),R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.input&&R.input.length){K.input=[];for(var J=0;J<R.input.length;++J)K.input[J]=R.input[J]}if(R.output&&R.output.length)for(K.output=[],J=0;J<R.output.length;++J)K.output[J]=R.output[J];if(R.attribute&&R.attribute.length)for(K.attribute=[],J=0;J<R.attribute.length;++J)K.attribute[J]=R.attribute[J];if(R.node&&R.node.length)for(K.node=[],J=0;J<R.node.length;++J)K.node[J]=Y.onnx.NodeProto.toObject(R.node[J],U);if(R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.opsetImport&&R.opsetImport.length)for(K.opsetImport=[],J=0;J<R.opsetImport.length;++J)K.opsetImport[J]=Y.onnx.OperatorSetIdProto.toObject(R.opsetImport[J],U);if(R.domain!=null&&R.hasOwnProperty("domain")&&(K.domain=R.domain),R.attributeProto&&R.attributeProto.length)for(K.attributeProto=[],J=0;J<R.attributeProto.length;++J)K.attributeProto[J]=Y.onnx.AttributeProto.toObject(R.attributeProto[J],U);return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,ie.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.FunctionProto"},W}(),re),ue.exports=Y},3474:(ue,X,oe)=>{var te,Q=(te=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(te=te||__filename),function(re={}){function ie(){return Fe.buffer!=Ve.buffer&&et(),Ve}function ee(){return Fe.buffer!=Ve.buffer&&et(),Ge}function ae(){return Fe.buffer!=Ve.buffer&&et(),He}function Z(){return Fe.buffer!=Ve.buffer&&et(),Ke}function Y(){return Fe.buffer!=Ve.buffer&&et(),Ye}var W,R,U=re;U.ready=new Promise((ge,_e)=>{W=ge,R=_e});var K,J,ne,se=Object.assign({},U),le="./this.program",ce=(ge,_e)=>{throw _e},de=typeof window=="object",pe=typeof importScripts=="function",fe=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",he=U.ENVIRONMENT_IS_PTHREAD||!1,be="";function Te(ge){return U.locateFile?U.locateFile(ge,be):be+ge}if(fe){var xe=oe(1384),Se=oe(908);let ge;be=pe?Se.dirname(be)+"/":__dirname+"/",K=(_e,Oe)=>(_e=_e.startsWith("file://")?new URL(_e):Se.normalize(_e),xe.readFileSync(_e,Oe?void 0:"utf8")),ne=_e=>((_e=K(_e,!0)).buffer||(_e=new Uint8Array(_e)),_e),J=(_e,Oe,Ie,ke=!0)=>{_e=_e.startsWith("file://")?new URL(_e):Se.normalize(_e),xe.readFile(_e,ke?void 0:"utf8",(Ue,qe)=>{Ue?Ie(Ue):Oe(ke?qe.buffer:qe)})},!U.thisProgram&&1<process.argv.length&&(le=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),ce=(_e,Oe)=>{throw process.exitCode=_e,Oe},U.inspect=()=>"[Emscripten Module object]";try{ge=oe(9925)}catch(_e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),_e}commonjsGlobal.Worker=ge.Worker}else(de||pe)&&(pe?be=self.location.href:typeof document<"u"&&document.currentScript&&(be=document.currentScript.src),te&&(be=te),be=be.indexOf("blob:")!==0?be.substr(0,be.replace(/[?#].*/,"").lastIndexOf("/")+1):"",fe||(K=ge=>{var _e=new XMLHttpRequest;return _e.open("GET",ge,!1),_e.send(null),_e.responseText},pe&&(ne=ge=>{var _e=new XMLHttpRequest;return _e.open("GET",ge,!1),_e.responseType="arraybuffer",_e.send(null),new Uint8Array(_e.response)}),J=(ge,_e,Oe)=>{var Ie=new XMLHttpRequest;Ie.open("GET",ge,!0),Ie.responseType="arraybuffer",Ie.onload=()=>{Ie.status==200||Ie.status==0&&Ie.response?_e(Ie.response):Oe()},Ie.onerror=Oe,Ie.send(null)}));fe&&typeof performance>"u"&&(commonjsGlobal.performance=oe(6953).performance);var Ee=console.log.bind(console),ye=console.error.bind(console);fe&&(Ee=(...ge)=>xe.writeSync(1,ge.join(" ")+`
`),ye=(...ge)=>xe.writeSync(2,ge.join(" ")+`
`));var Ce,me=U.print||Ee,we=U.printErr||ye;Object.assign(U,se),se=null,U.thisProgram&&(le=U.thisProgram),U.quit&&(ce=U.quit),U.wasmBinary&&(Ce=U.wasmBinary);var Ae=U.noExitRuntime||!0;typeof WebAssembly!="object"&&mt("no native wasm support detected");var Fe,Le,Be,je,Ve,Ge,He,Ke,Ye,Ze=!1;function et(){var ge=Fe.buffer;U.HEAP8=Ve=new Int8Array(ge),U.HEAP16=new Int16Array(ge),U.HEAP32=He=new Int32Array(ge),U.HEAPU8=Ge=new Uint8Array(ge),U.HEAPU16=new Uint16Array(ge),U.HEAPU32=Ke=new Uint32Array(ge),U.HEAPF32=new Float32Array(ge),U.HEAPF64=Ye=new Float64Array(ge)}var ot=U.INITIAL_MEMORY||16777216;if(5242880<=ot||mt("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ot+"! (STACK_SIZE=5242880)"),he)Fe=U.wasmMemory;else if(U.wasmMemory)Fe=U.wasmMemory;else if(!((Fe=new WebAssembly.Memory({initial:ot/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw we("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),fe&&we("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");et(),ot=Fe.buffer.byteLength;var ut,lt=[],xt=[],tt=[],ct=0;function bt(){return Ae||0<ct}var gt,yt,Tt=0,_t=null;function It(){Tt++,U.monitorRunDependencies&&U.monitorRunDependencies(Tt)}function Et(){if(Tt--,U.monitorRunDependencies&&U.monitorRunDependencies(Tt),Tt==0&&_t){var ge=_t;_t=null,ge()}}function mt(ge){throw U.onAbort&&U.onAbort(ge),we(ge="Aborted("+ge+")"),Ze=!0,je=1,ge=new WebAssembly.RuntimeError(ge+". Build with -sASSERTIONS for more info."),R(ge),ge}function St(ge){return ge.startsWith("data:application/octet-stream;base64,")}function Lt(ge){if(ge==gt&&Ce)return new Uint8Array(Ce);if(ne)return ne(ge);throw"both async and sync fetching of the wasm failed"}function Gt(ge,_e,Oe){return function(Ie){if(!Ce&&(de||pe)){if(typeof fetch=="function"&&!Ie.startsWith("file://"))return fetch(Ie,{credentials:"same-origin"}).then(ke=>{if(!ke.ok)throw"failed to load wasm binary file at '"+Ie+"'";return ke.arrayBuffer()}).catch(()=>Lt(Ie));if(J)return new Promise((ke,Ue)=>{J(Ie,qe=>ke(new Uint8Array(qe)),Ue)})}return Promise.resolve().then(()=>Lt(Ie))}(ge).then(Ie=>WebAssembly.instantiate(Ie,_e)).then(Ie=>Ie).then(Oe,Ie=>{we("failed to asynchronously prepare wasm: "+Ie),mt(Ie)})}function Dt(ge){this.name="ExitStatus",this.message=`Program terminated with exit(${ge})`,this.status=ge}function $t(ge){ge.terminate(),ge.onmessage=()=>{}}function Ft(ge){(ge=We.Fa[ge])||mt(),We.fb(ge)}function Mt(ge){var _e=We.Za();if(!_e)return 6;We.Ia.push(_e),We.Fa[ge.Ha]=_e,_e.Ha=ge.Ha;var Oe={cmd:"run",start_routine:ge.gb,arg:ge.Ya,pthread_ptr:ge.Ha};return fe&&_e.unref(),_e.postMessage(Oe,ge.mb),0}St(gt="ort-wasm-threaded.wasm")||(gt=Te(gt));var Ht=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,jt=(ge,_e,Oe)=>{var Ie=(_e>>>=0)+Oe;for(Oe=_e;ge[Oe]&&!(Oe>=Ie);)++Oe;if(16<Oe-_e&&ge.buffer&&Ht)return Ht.decode(ge.buffer instanceof SharedArrayBuffer?ge.slice(_e,Oe):ge.subarray(_e,Oe));for(Ie="";_e<Oe;){var ke=ge[_e++];if(128&ke){var Ue=63&ge[_e++];if((224&ke)==192)Ie+=String.fromCharCode((31&ke)<<6|Ue);else{var qe=63&ge[_e++];65536>(ke=(240&ke)==224?(15&ke)<<12|Ue<<6|qe:(7&ke)<<18|Ue<<12|qe<<6|63&ge[_e++])?Ie+=String.fromCharCode(ke):(ke-=65536,Ie+=String.fromCharCode(55296|ke>>10,56320|1023&ke))}}else Ie+=String.fromCharCode(ke)}return Ie},Pt=(ge,_e)=>(ge>>>=0)?jt(ee(),ge,_e):"";function Ut(ge){if(he)return rt(1,1,ge);je=ge,bt()||(We.hb(),U.onExit&&U.onExit(ge),Ze=!0),ce(ge,new Dt(ge))}var Rt=ge=>{if(je=ge,he)throw Bt(ge),"unwind";Ut(ge)},We={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){he?We.ab():We.$a()},$a:function(){lt.unshift(()=>{It(),We.bb(()=>Et())})},ab:function(){We.receiveObjectTransfer=We.eb,We.threadInitTLS=We.Sa,We.setExitStatus=We.Ra,Ae=!1},Ra:function(ge){je=ge},rb:["$terminateWorker"],hb:function(){for(var ge of We.Ia)$t(ge);for(ge of We.La)$t(ge);We.La=[],We.Ia=[],We.Fa=[]},fb:function(ge){var _e=ge.Ha;delete We.Fa[_e],We.La.push(ge),We.Ia.splice(We.Ia.indexOf(ge),1),ge.Ha=0,tn(_e)},eb:function(){},Sa:function(){We.Ta.forEach(ge=>ge())},cb:ge=>new Promise(_e=>{ge.onmessage=ke=>{var Ue=(ke=ke.data).cmd;if(ke.targetThread&&ke.targetThread!=Kt()){var qe=We.Fa[ke.qb];qe?qe.postMessage(ke,ke.transferList):we('Internal error! Worker sent a message "'+Ue+'" to target pthread '+ke.targetThread+", but that thread no longer exists!")}else Ue==="checkMailbox"?Wt():Ue==="spawnThread"?Mt(ke):Ue==="cleanupThread"?Ft(ke.thread):Ue==="killThread"?(ke=ke.thread,Ue=We.Fa[ke],delete We.Fa[ke],$t(Ue),tn(ke),We.Ia.splice(We.Ia.indexOf(Ue),1),Ue.Ha=0):Ue==="cancelThread"?We.Fa[ke.thread].postMessage({cmd:"cancel"}):Ue==="loaded"?(ge.loaded=!0,_e(ge)):Ue==="alert"?alert("Thread "+ke.threadId+": "+ke.text):ke.target==="setimmediate"?ge.postMessage(ke):Ue==="callHandler"?U[ke.handler](...ke.args):Ue&&we("worker sent an unknown command "+Ue)},ge.onerror=ke=>{throw we("worker sent an error! "+ke.filename+":"+ke.lineno+": "+ke.message),ke},fe&&(ge.on("message",function(ke){ge.onmessage({data:ke})}),ge.on("error",function(ke){ge.onerror(ke)}));var Oe,Ie=[];for(Oe of["onExit","onAbort","print","printErr"])U.hasOwnProperty(Oe)&&Ie.push(Oe);ge.postMessage({cmd:"load",handlers:Ie,urlOrBlob:U.mainScriptUrlOrBlob||te,wasmMemory:Fe,wasmModule:Be})}),bb:function(ge){ge()},Xa:function(){var ge=Te("ort-wasm-threaded.worker.js");ge=new Worker(ge),We.La.push(ge)},Za:function(){return We.La.length==0&&(We.Xa(),We.cb(We.La[0])),We.La.pop()}};U.PThread=We;var Ct=ge=>{for(;0<ge.length;)ge.shift()(U)};function Bt(ge){if(he)return rt(2,0,ge);Rt(ge)}U.establishStackSpace=function(){var ge=Kt(),_e=ae()[ge+52>>2>>>0];ge=ae()[ge+56>>2>>>0],In(_e,_e-ge),Yt(_e)};var ve=[];function Pe(ge){this.Oa=ge-24,this.Wa=function(_e){Z()[this.Oa+4>>2>>>0]=_e},this.Va=function(_e){Z()[this.Oa+8>>2>>>0]=_e},this.Pa=function(_e,Oe){this.Ua(),this.Wa(_e),this.Va(Oe)},this.Ua=function(){Z()[this.Oa+16>>2>>>0]=0}}function De(ge,_e,Oe,Ie){return he?rt(3,1,ge,_e,Oe,Ie):Ne(ge,_e,Oe,Ie)}function Ne(ge,_e,Oe,Ie){if(ge>>>=0,_e>>>=0,Oe>>>=0,Ie>>>=0,typeof SharedArrayBuffer>"u")return we("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var ke=[];return he&&ke.length===0?De(ge,_e,Oe,Ie):(ge={gb:Oe,Ha:ge,Ya:Ie,mb:ke},he?(ge.ob="spawnThread",postMessage(ge,ke),0):Mt(ge))}function Me(ge,_e,Oe){return he?rt(4,1,ge,_e,Oe):0}function ze(ge,_e){if(he)return rt(5,1,ge,_e)}U.invokeEntryPoint=function(ge,_e){var Oe=ve[ge];Oe||(ge>=ve.length&&(ve.length=ge+1),ve[ge]=Oe=ut.get(ge)),ge=Oe(_e),bt()?We.Ra(ge):nn(ge)};var Xe=ge=>{for(var _e=0,Oe=0;Oe<ge.length;++Oe){var Ie=ge.charCodeAt(Oe);127>=Ie?_e++:2047>=Ie?_e+=2:55296<=Ie&&57343>=Ie?(_e+=4,++Oe):_e+=3}return _e},st=(ge,_e,Oe,Ie)=>{if(!(0<Ie))return 0;var ke=Oe>>>=0;Ie=Oe+Ie-1;for(var Ue=0;Ue<ge.length;++Ue){var qe=ge.charCodeAt(Ue);if(55296<=qe&&57343>=qe&&(qe=65536+((1023&qe)<<10)|1023&ge.charCodeAt(++Ue)),127>=qe){if(Oe>=Ie)break;_e[Oe++>>>0]=qe}else{if(2047>=qe){if(Oe+1>=Ie)break;_e[Oe++>>>0]=192|qe>>6}else{if(65535>=qe){if(Oe+2>=Ie)break;_e[Oe++>>>0]=224|qe>>12}else{if(Oe+3>=Ie)break;_e[Oe++>>>0]=240|qe>>18,_e[Oe++>>>0]=128|qe>>12&63}_e[Oe++>>>0]=128|qe>>6&63}_e[Oe++>>>0]=128|63&qe}}return _e[Oe>>>0]=0,Oe-ke},dt=(ge,_e,Oe)=>st(ge,ee(),_e,Oe);function ht(ge,_e){if(he)return rt(6,1,ge,_e)}function pt(ge,_e,Oe){if(he)return rt(7,1,ge,_e,Oe)}function Vt(ge,_e,Oe){return he?rt(8,1,ge,_e,Oe):0}function zt(ge,_e){if(he)return rt(9,1,ge,_e)}function $e(ge,_e,Oe){if(he)return rt(10,1,ge,_e,Oe)}function Je(ge,_e,Oe,Ie){if(he)return rt(11,1,ge,_e,Oe,Ie)}function nt(ge,_e,Oe,Ie){if(he)return rt(12,1,ge,_e,Oe,Ie)}function At(ge,_e,Oe,Ie){if(he)return rt(13,1,ge,_e,Oe,Ie)}function qt(ge){if(he)return rt(14,1,ge)}function an(ge,_e){if(he)return rt(15,1,ge,_e)}function sn(ge,_e,Oe){if(he)return rt(16,1,ge,_e,Oe)}var Rn=ge=>{if(!Ze)try{if(ge(),!bt())try{he?nn(je):Rt(je)}catch(_e){_e instanceof Dt||_e=="unwind"||ce(1,_e)}}catch(_e){_e instanceof Dt||_e=="unwind"||ce(1,_e)}};function Jt(ge){ge>>>=0,typeof Atomics.nb=="function"&&(Atomics.nb(ae(),ge>>2,ge).value.then(Wt),ge+=128,Atomics.store(ae(),ge>>2,1))}function Wt(){var ge=Kt();ge&&(Jt(ge),Rn(()=>En()))}U.__emscripten_thread_mailbox_await=Jt,U.checkMailbox=Wt;var Nt=ge=>ge%4==0&&(ge%100!=0||ge%400==0),un=[0,31,60,91,121,152,182,213,244,274,305,335],ln=[0,31,59,90,120,151,181,212,243,273,304,334];function cn(ge,_e,Oe,Ie,ke,Ue,qe,it){return he?rt(17,1,ge,_e,Oe,Ie,ke,Ue,qe,it):-52}function dn(ge,_e,Oe,Ie,ke,Ue,qe){if(he)return rt(18,1,ge,_e,Oe,Ie,ke,Ue,qe)}var pn=ge=>{var _e=Xe(ge)+1,Oe=On(_e);return Oe&&dt(ge,Oe,_e),Oe},Nn=ge=>{var _e=rn();return ge=ge(),Yt(_e),ge};function rt(ge,_e){var Oe=arguments.length-2,Ie=arguments;return Nn(()=>{for(var ke=on(8*Oe),Ue=ke>>3,qe=0;qe<Oe;qe++){var it=Ie[2+qe];Y()[Ue+qe>>>0]=it}return An(ge,Oe,ke,_e)})}var Zt,Qt=[],en={},fn=()=>{if(!Zt){var ge,_e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:le||"./this.program"};for(ge in en)en[ge]===void 0?delete _e[ge]:_e[ge]=en[ge];var Oe=[];for(ge in _e)Oe.push(`${ge}=${_e[ge]}`);Zt=Oe}return Zt};function hn(ge,_e){if(he)return rt(19,1,ge,_e);ge>>>=0,_e>>>=0;var Oe=0;return fn().forEach(function(Ie,ke){var Ue=_e+Oe;for(ke=Z()[ge+4*ke>>2>>>0]=Ue,Ue=0;Ue<Ie.length;++Ue)ie()[ke++>>0>>>0]=Ie.charCodeAt(Ue);ie()[ke>>0>>>0]=0,Oe+=Ie.length+1}),0}function gn(ge,_e){if(he)return rt(20,1,ge,_e);ge>>>=0,_e>>>=0;var Oe=fn();Z()[ge>>2>>>0]=Oe.length;var Ie=0;return Oe.forEach(function(ke){Ie+=ke.length+1}),Z()[_e>>2>>>0]=Ie,0}function mn(ge){return he?rt(21,1,ge):52}function bn(ge,_e,Oe,Ie){return he?rt(22,1,ge,_e,Oe,Ie):52}function yn(ge,_e,Oe,Ie,ke){return he?rt(23,1,ge,_e,Oe,Ie,ke):70}var Ln=[null,[],[]];function _n(ge,_e,Oe,Ie){if(he)return rt(24,1,ge,_e,Oe,Ie);_e>>>=0,Oe>>>=0,Ie>>>=0;for(var ke=0,Ue=0;Ue<Oe;Ue++){var qe=Z()[_e>>2>>>0],it=Z()[_e+4>>2>>>0];_e+=8;for(var Ot=0;Ot<it;Ot++){var ft=ee()[qe+Ot>>>0],vt=Ln[ge];ft===0||ft===10?((ge===1?me:we)(jt(vt,0)),vt.length=0):vt.push(ft)}ke+=it}return Z()[Ie>>2>>>0]=ke,0}var vn=ge=>(vn=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return Ie=>(Ie.set(crypto.getRandomValues(new Uint8Array(Ie.byteLength))),Ie);if(fe)try{var _e=oe(760);if(_e.randomFillSync)return Ie=>_e.randomFillSync(Ie);var Oe=_e.randomBytes;return Ie=>(Ie.set(Oe(Ie.byteLength)),Ie)}catch{}mt("initRandomDevice")})())(ge),wn=[31,29,31,30,31,30,31,31,30,31,30,31],Tn=[31,28,31,30,31,30,31,31,30,31,30,31],Fn=(ge,_e)=>{ie().set(ge,_e>>>0)};function xn(ge,_e,Oe,Ie){function ke(Re,Qe,at){for(Re=typeof Re=="number"?Re.toString():Re||"";Re.length<Qe;)Re=at[0]+Re;return Re}function Ue(Re,Qe){return ke(Re,Qe,"0")}function qe(Re,Qe){function at($n){return 0>$n?-1:0<$n?1:0}var kt;return(kt=at(Re.getFullYear()-Qe.getFullYear()))===0&&(kt=at(Re.getMonth()-Qe.getMonth()))===0&&(kt=at(Re.getDate()-Qe.getDate())),kt}function it(Re){switch(Re.getDay()){case 0:return new Date(Re.getFullYear()-1,11,29);case 1:return Re;case 2:return new Date(Re.getFullYear(),0,3);case 3:return new Date(Re.getFullYear(),0,2);case 4:return new Date(Re.getFullYear(),0,1);case 5:return new Date(Re.getFullYear()-1,11,31);case 6:return new Date(Re.getFullYear()-1,11,30)}}function Ot(Re){var Qe=Re.Ja;for(Re=new Date(new Date(Re.Ka+1900,0,1).getTime());0<Qe;){var at=Re.getMonth(),kt=(Nt(Re.getFullYear())?wn:Tn)[at];if(!(Qe>kt-Re.getDate())){Re.setDate(Re.getDate()+Qe);break}Qe-=kt-Re.getDate()+1,Re.setDate(1),11>at?Re.setMonth(at+1):(Re.setMonth(0),Re.setFullYear(Re.getFullYear()+1))}return at=new Date(Re.getFullYear()+1,0,4),Qe=it(new Date(Re.getFullYear(),0,4)),at=it(at),0>=qe(Qe,Re)?0>=qe(at,Re)?Re.getFullYear()+1:Re.getFullYear():Re.getFullYear()-1}ge>>>=0,_e>>>=0,Oe>>>=0,Ie>>>=0;var ft=ae()[Ie+40>>2>>>0];for(var vt in Ie={kb:ae()[Ie>>2>>>0],jb:ae()[Ie+4>>2>>>0],Ma:ae()[Ie+8>>2>>>0],Qa:ae()[Ie+12>>2>>>0],Na:ae()[Ie+16>>2>>>0],Ka:ae()[Ie+20>>2>>>0],Ga:ae()[Ie+24>>2>>>0],Ja:ae()[Ie+28>>2>>>0],sb:ae()[Ie+32>>2>>>0],ib:ae()[Ie+36>>2>>>0],lb:ft?Pt(ft):""},Oe=Pt(Oe),ft={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Oe=Oe.replace(new RegExp(vt,"g"),ft[vt]);var Cn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),kn="January February March April May June July August September October November December".split(" ");for(vt in ft={"%a":Re=>Cn[Re.Ga].substring(0,3),"%A":Re=>Cn[Re.Ga],"%b":Re=>kn[Re.Na].substring(0,3),"%B":Re=>kn[Re.Na],"%C":Re=>Ue((Re.Ka+1900)/100|0,2),"%d":Re=>Ue(Re.Qa,2),"%e":Re=>ke(Re.Qa,2," "),"%g":Re=>Ot(Re).toString().substring(2),"%G":Re=>Ot(Re),"%H":Re=>Ue(Re.Ma,2),"%I":Re=>((Re=Re.Ma)==0?Re=12:12<Re&&(Re-=12),Ue(Re,2)),"%j":Re=>{for(var Qe=0,at=0;at<=Re.Na-1;Qe+=(Nt(Re.Ka+1900)?wn:Tn)[at++]);return Ue(Re.Qa+Qe,3)},"%m":Re=>Ue(Re.Na+1,2),"%M":Re=>Ue(Re.jb,2),"%n":()=>`
`,"%p":Re=>0<=Re.Ma&&12>Re.Ma?"AM":"PM","%S":Re=>Ue(Re.kb,2),"%t":()=>"	","%u":Re=>Re.Ga||7,"%U":Re=>Ue(Math.floor((Re.Ja+7-Re.Ga)/7),2),"%V":Re=>{var Qe=Math.floor((Re.Ja+7-(Re.Ga+6)%7)/7);if(2>=(Re.Ga+371-Re.Ja-2)%7&&Qe++,Qe)Qe==53&&((at=(Re.Ga+371-Re.Ja)%7)==4||at==3&&Nt(Re.Ka)||(Qe=1));else{Qe=52;var at=(Re.Ga+7-Re.Ja-1)%7;(at==4||at==5&&Nt(Re.Ka%400-1))&&Qe++}return Ue(Qe,2)},"%w":Re=>Re.Ga,"%W":Re=>Ue(Math.floor((Re.Ja+7-(Re.Ga+6)%7)/7),2),"%y":Re=>(Re.Ka+1900).toString().substring(2),"%Y":Re=>Re.Ka+1900,"%z":Re=>{var Qe=0<=(Re=Re.ib);return Re=Math.abs(Re)/60,(Qe?"+":"-")+("0000"+(Re/60*100+Re%60)).slice(-4)},"%Z":Re=>Re.lb,"%%":()=>"%"},Oe=Oe.replace(/%%/g,"\0\0"),ft)Oe.includes(vt)&&(Oe=Oe.replace(new RegExp(vt,"g"),ft[vt](Ie)));return vt=function(Re){var Qe=Array(Xe(Re)+1);return st(Re,Qe,0,Qe.length),Qe}(Oe=Oe.replace(/\0\0/g,"%")),vt.length>_e?0:(Fn(vt,ge),vt.length-1)}We.Pa();var Mn=[null,Ut,Bt,De,Me,ze,ht,pt,Vt,zt,$e,Je,nt,At,qt,an,sn,cn,dn,hn,gn,mn,bn,yn,_n],jn={b:function(ge,_e,Oe){throw new Pe(ge>>>=0).Pa(_e>>>0,Oe>>>0),ge},N:function(ge){Sn(ge>>>0,!pe,1,!de,131072,!1),We.Sa()},k:function(ge){ge>>>=0,he?postMessage({cmd:"cleanupThread",thread:ge}):Ft(ge)},I:Ne,h:Me,T:ze,E:ht,G:pt,U:Vt,R:zt,J:$e,Q:Je,o:nt,F:At,C:qt,S:an,D:sn,q:()=>!0,A:function(ge,_e){(ge>>>=0)==_e>>>0?setTimeout(()=>Wt()):he?postMessage({targetThread:ge,cmd:"checkMailbox"}):(ge=We.Fa[ge])&&ge.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:Jt,p:function(ge){fe&&We.Fa[ge>>>0].ref()},t:function(ge,_e,Oe){ge=_e+2097152>>>0<4194305-!!ge?(ge>>>0)+4294967296*_e:NaN,Oe>>>=0,ge=new Date(1e3*ge),ae()[Oe>>2>>>0]=ge.getUTCSeconds(),ae()[Oe+4>>2>>>0]=ge.getUTCMinutes(),ae()[Oe+8>>2>>>0]=ge.getUTCHours(),ae()[Oe+12>>2>>>0]=ge.getUTCDate(),ae()[Oe+16>>2>>>0]=ge.getUTCMonth(),ae()[Oe+20>>2>>>0]=ge.getUTCFullYear()-1900,ae()[Oe+24>>2>>>0]=ge.getUTCDay(),ge=(ge.getTime()-Date.UTC(ge.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,ae()[Oe+28>>2>>>0]=ge},u:function(ge,_e,Oe){ge=_e+2097152>>>0<4194305-!!ge?(ge>>>0)+4294967296*_e:NaN,Oe>>>=0,ge=new Date(1e3*ge),ae()[Oe>>2>>>0]=ge.getSeconds(),ae()[Oe+4>>2>>>0]=ge.getMinutes(),ae()[Oe+8>>2>>>0]=ge.getHours(),ae()[Oe+12>>2>>>0]=ge.getDate(),ae()[Oe+16>>2>>>0]=ge.getMonth(),ae()[Oe+20>>2>>>0]=ge.getFullYear()-1900,ae()[Oe+24>>2>>>0]=ge.getDay(),_e=(Nt(ge.getFullYear())?un:ln)[ge.getMonth()]+ge.getDate()-1|0,ae()[Oe+28>>2>>>0]=_e,ae()[Oe+36>>2>>>0]=-60*ge.getTimezoneOffset(),_e=new Date(ge.getFullYear(),6,1).getTimezoneOffset();var Ie=new Date(ge.getFullYear(),0,1).getTimezoneOffset();ge=0|(_e!=Ie&&ge.getTimezoneOffset()==Math.min(Ie,_e)),ae()[Oe+32>>2>>>0]=ge},v:function(ge){ge>>>=0;var _e=new Date(ae()[ge+20>>2>>>0]+1900,ae()[ge+16>>2>>>0],ae()[ge+12>>2>>>0],ae()[ge+8>>2>>>0],ae()[ge+4>>2>>>0],ae()[ge>>2>>>0],0),Oe=ae()[ge+32>>2>>>0],Ie=_e.getTimezoneOffset(),ke=new Date(_e.getFullYear(),6,1).getTimezoneOffset(),Ue=new Date(_e.getFullYear(),0,1).getTimezoneOffset(),qe=Math.min(Ue,ke);return 0>Oe?ae()[ge+32>>2>>>0]=+(ke!=Ue&&qe==Ie):0<Oe!=(qe==Ie)&&(ke=Math.max(Ue,ke),_e.setTime(_e.getTime()+6e4*((0<Oe?qe:ke)-Ie))),ae()[ge+24>>2>>>0]=_e.getDay(),Oe=(Nt(_e.getFullYear())?un:ln)[_e.getMonth()]+_e.getDate()-1|0,ae()[ge+28>>2>>>0]=Oe,ae()[ge>>2>>>0]=_e.getSeconds(),ae()[ge+4>>2>>>0]=_e.getMinutes(),ae()[ge+8>>2>>>0]=_e.getHours(),ae()[ge+12>>2>>>0]=_e.getDate(),ae()[ge+16>>2>>>0]=_e.getMonth(),ae()[ge+20>>2>>>0]=_e.getYear(),ge=_e.getTime()/1e3,Pn((yt=ge,1<=+Math.abs(yt)?0<yt?+Math.floor(yt/4294967296)>>>0:~~+Math.ceil((yt-+(~~yt>>>0))/4294967296)>>>0:0)),ge>>>0},r:cn,s:dn,z:function(ge,_e,Oe){function Ie(ft){return(ft=ft.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ft[1]:"GMT"}ge>>>=0,_e>>>=0,Oe>>>=0;var ke=new Date().getFullYear(),Ue=new Date(ke,0,1),qe=new Date(ke,6,1);ke=Ue.getTimezoneOffset();var it=qe.getTimezoneOffset(),Ot=Math.max(ke,it);Z()[ge>>2>>>0]=60*Ot,ae()[_e>>2>>>0]=+(ke!=it),ge=Ie(Ue),_e=Ie(qe),ge=pn(ge),_e=pn(_e),it<ke?(Z()[Oe>>2>>>0]=ge,Z()[Oe+4>>2>>>0]=_e):(Z()[Oe>>2>>>0]=_e,Z()[Oe+4>>2>>>0]=ge)},c:()=>{mt("")},l:function(){},i:function(){return Date.now()},V:()=>{throw ct+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return fe?oe(3993).cpus().length:navigator.hardwareConcurrency},K:function(ge,_e,Oe,Ie){for(We.pb=_e>>>0,Qt.length=Oe,_e=Ie>>>0>>3,Ie=0;Ie<Oe;Ie++)Qt[Ie]=Y()[_e+Ie>>>0];return Mn[ge].apply(null,Qt)},y:function(ge){ge>>>=0;var _e=ee().length;if(ge<=_e||4294901760<ge)return!1;for(var Oe=1;4>=Oe;Oe*=2){var Ie=_e*(1+.2/Oe);Ie=Math.min(Ie,ge+100663296);var ke=Math;Ie=Math.max(ge,Ie);e:{ke=ke.min.call(ke,4294901760,Ie+(65536-Ie%65536)%65536)-Fe.buffer.byteLength+65535>>>16;try{Fe.grow(ke),et();var Ue=1;break e}catch{}Ue=void 0}if(Ue)return!0}return!1},O:hn,P:gn,j:Rt,g:mn,n:bn,w:yn,m:_n,x:function(ge,_e){return ge>>>=0,_e>>>=0,vn(ee().subarray(ge>>>0,ge+_e>>>0)),0},a:Fe||U.wasmMemory,H:xn,d:function(ge,_e,Oe,Ie){return xn(ge>>>0,_e>>>0,Oe>>>0,Ie>>>0)}};(function(){function ge(Oe,Ie){return Oe=Oe.exports,Le=Oe=function(ke){var Ue=it=>()=>it()>>>0,qe=it=>Ot=>it(Ot)>>>0;return(ke=Object.assign({},ke)).__errno_location=Ue(ke.__errno_location),ke.pthread_self=Ue(ke.pthread_self),ke.malloc=qe(ke.malloc),ke.stackSave=Ue(ke.stackSave),ke.stackAlloc=qe(ke.stackAlloc),ke}(Oe),We.Ta.push(Le.sa),ut=Le.ta,xt.unshift(Le.W),Be=Ie,Et(),Oe}var _e={a:jn};if(It(),U.instantiateWasm)try{return U.instantiateWasm(_e,ge)}catch(Oe){we("Module.instantiateWasm callback failed with error: "+Oe),R(Oe)}(function(Oe,Ie){var ke=gt;return Ce||typeof WebAssembly.instantiateStreaming!="function"||St(ke)||ke.startsWith("file://")||fe||typeof fetch!="function"?Gt(ke,Oe,Ie):fetch(ke,{credentials:"same-origin"}).then(Ue=>WebAssembly.instantiateStreaming(Ue,Oe).then(Ie,function(qe){return we("wasm streaming compile failed: "+qe),we("falling back to ArrayBuffer instantiation"),Gt(ke,Oe,Ie)}))})(_e,function(Oe){ge(Oe.instance,Oe.module)}).catch(R)})(),U._OrtInit=(ge,_e)=>(U._OrtInit=Le.X)(ge,_e),U._OrtGetLastError=(ge,_e)=>(U._OrtGetLastError=Le.Y)(ge,_e),U._OrtCreateSessionOptions=(ge,_e,Oe,Ie,ke,Ue,qe,it,Ot,ft)=>(U._OrtCreateSessionOptions=Le.Z)(ge,_e,Oe,Ie,ke,Ue,qe,it,Ot,ft),U._OrtAppendExecutionProvider=(ge,_e)=>(U._OrtAppendExecutionProvider=Le._)(ge,_e),U._OrtAddSessionConfigEntry=(ge,_e,Oe)=>(U._OrtAddSessionConfigEntry=Le.$)(ge,_e,Oe),U._OrtReleaseSessionOptions=ge=>(U._OrtReleaseSessionOptions=Le.aa)(ge),U._OrtCreateSession=(ge,_e,Oe)=>(U._OrtCreateSession=Le.ba)(ge,_e,Oe),U._OrtReleaseSession=ge=>(U._OrtReleaseSession=Le.ca)(ge),U._OrtGetInputOutputCount=(ge,_e,Oe)=>(U._OrtGetInputOutputCount=Le.da)(ge,_e,Oe),U._OrtGetInputName=(ge,_e)=>(U._OrtGetInputName=Le.ea)(ge,_e),U._OrtGetOutputName=(ge,_e)=>(U._OrtGetOutputName=Le.fa)(ge,_e),U._OrtFree=ge=>(U._OrtFree=Le.ga)(ge),U._OrtCreateTensor=(ge,_e,Oe,Ie,ke)=>(U._OrtCreateTensor=Le.ha)(ge,_e,Oe,Ie,ke),U._OrtGetTensorData=(ge,_e,Oe,Ie,ke)=>(U._OrtGetTensorData=Le.ia)(ge,_e,Oe,Ie,ke),U._OrtReleaseTensor=ge=>(U._OrtReleaseTensor=Le.ja)(ge),U._OrtCreateRunOptions=(ge,_e,Oe,Ie)=>(U._OrtCreateRunOptions=Le.ka)(ge,_e,Oe,Ie),U._OrtAddRunConfigEntry=(ge,_e,Oe)=>(U._OrtAddRunConfigEntry=Le.la)(ge,_e,Oe),U._OrtReleaseRunOptions=ge=>(U._OrtReleaseRunOptions=Le.ma)(ge),U._OrtRun=(ge,_e,Oe,Ie,ke,Ue,qe,it)=>(U._OrtRun=Le.na)(ge,_e,Oe,Ie,ke,Ue,qe,it),U._OrtEndProfiling=ge=>(U._OrtEndProfiling=Le.oa)(ge);var Kt=U._pthread_self=()=>(Kt=U._pthread_self=Le.pa)(),On=U._malloc=ge=>(On=U._malloc=Le.qa)(ge);U._free=ge=>(U._free=Le.ra)(ge),U.__emscripten_tls_init=()=>(U.__emscripten_tls_init=Le.sa)();var Sn=U.__emscripten_thread_init=(ge,_e,Oe,Ie,ke,Ue)=>(Sn=U.__emscripten_thread_init=Le.ua)(ge,_e,Oe,Ie,ke,Ue);U.__emscripten_thread_crashed=()=>(U.__emscripten_thread_crashed=Le.va)();var Xt,An=(ge,_e,Oe,Ie)=>(An=Le.wa)(ge,_e,Oe,Ie),tn=ge=>(tn=Le.xa)(ge),nn=U.__emscripten_thread_exit=ge=>(nn=U.__emscripten_thread_exit=Le.ya)(ge),En=U.__emscripten_check_mailbox=()=>(En=U.__emscripten_check_mailbox=Le.za)(),Pn=ge=>(Pn=Le.Aa)(ge),In=(ge,_e)=>(In=Le.Ba)(ge,_e),rn=()=>(rn=Le.Ca)(),Yt=ge=>(Yt=Le.Da)(ge),on=ge=>(on=Le.Ea)(ge);function Dn(){function ge(){if(!Xt&&(Xt=!0,U.calledRun=!0,!Ze)&&(he||Ct(xt),W(U),U.onRuntimeInitialized&&U.onRuntimeInitialized(),!he)){if(U.postRun)for(typeof U.postRun=="function"&&(U.postRun=[U.postRun]);U.postRun.length;){var _e=U.postRun.shift();tt.unshift(_e)}Ct(tt)}}if(!(0<Tt))if(he)W(U),he||Ct(xt),startWorker(U);else{if(U.preRun)for(typeof U.preRun=="function"&&(U.preRun=[U.preRun]);U.preRun.length;)lt.unshift(U.preRun.shift());Ct(lt),0<Tt||(U.setStatus?(U.setStatus("Running..."),setTimeout(function(){setTimeout(function(){U.setStatus("")},1),ge()},1)):ge())}}if(U.keepRuntimeAlive=bt,U.wasmMemory=Fe,U.stackAlloc=on,U.stackSave=rn,U.stackRestore=Yt,U.UTF8ToString=Pt,U.stringToUTF8=dt,U.lengthBytesUTF8=Xe,U.ExitStatus=Dt,U.PThread=We,_t=function ge(){Xt||Dn(),Xt||(_t=ge)},U.preInit)for(typeof U.preInit=="function"&&(U.preInit=[U.preInit]);0<U.preInit.length;)U.preInit.pop()();return Dn(),re.ready});ue.exports=Q},932:(ue,X,oe)=>{var te,Q=(te=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(te=te||__filename),function(re={}){var ie,ee,ae=re;ae.ready=new Promise((ve,Pe)=>{ie=ve,ee=Pe});var Z,Y,W,R=Object.assign({},ae),U="./this.program",K=(ve,Pe)=>{throw Pe},J=typeof window=="object",ne=typeof importScripts=="function",se=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",le="";if(se){var ce=oe(1384),de=oe(908);le=ne?de.dirname(le)+"/":__dirname+"/",Z=(ve,Pe)=>(ve=ve.startsWith("file://")?new URL(ve):de.normalize(ve),ce.readFileSync(ve,Pe?void 0:"utf8")),W=ve=>((ve=Z(ve,!0)).buffer||(ve=new Uint8Array(ve)),ve),Y=(ve,Pe,De,Ne=!0)=>{ve=ve.startsWith("file://")?new URL(ve):de.normalize(ve),ce.readFile(ve,Ne?void 0:"utf8",(Me,ze)=>{Me?De(Me):Pe(Ne?ze.buffer:ze)})},!ae.thisProgram&&1<process.argv.length&&(U=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),K=(ve,Pe)=>{throw process.exitCode=ve,Pe},ae.inspect=()=>"[Emscripten Module object]"}else(J||ne)&&(ne?le=self.location.href:typeof document<"u"&&document.currentScript&&(le=document.currentScript.src),te&&(le=te),le=le.indexOf("blob:")!==0?le.substr(0,le.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Z=ve=>{var Pe=new XMLHttpRequest;return Pe.open("GET",ve,!1),Pe.send(null),Pe.responseText},ne&&(W=ve=>{var Pe=new XMLHttpRequest;return Pe.open("GET",ve,!1),Pe.responseType="arraybuffer",Pe.send(null),new Uint8Array(Pe.response)}),Y=(ve,Pe,De)=>{var Ne=new XMLHttpRequest;Ne.open("GET",ve,!0),Ne.responseType="arraybuffer",Ne.onload=()=>{Ne.status==200||Ne.status==0&&Ne.response?Pe(Ne.response):De()},Ne.onerror=De,Ne.send(null)});var pe,fe=ae.print||console.log.bind(console),he=ae.printErr||console.error.bind(console);Object.assign(ae,R),R=null,ae.thisProgram&&(U=ae.thisProgram),ae.quit&&(K=ae.quit),ae.wasmBinary&&(pe=ae.wasmBinary);var be=ae.noExitRuntime||!0;typeof WebAssembly!="object"&&Ke("no native wasm support detected");var Te,xe,Se,Ee,ye,Ce,me=!1;function we(){var ve=Te.buffer;ae.HEAP8=Se=new Int8Array(ve),ae.HEAP16=new Int16Array(ve),ae.HEAP32=ye=new Int32Array(ve),ae.HEAPU8=Ee=new Uint8Array(ve),ae.HEAPU16=new Uint16Array(ve),ae.HEAPU32=Ce=new Uint32Array(ve),ae.HEAPF32=new Float32Array(ve),ae.HEAPF64=new Float64Array(ve)}var Ae=[],Fe=[],Le=[];function Be(){var ve=ae.preRun.shift();Ae.unshift(ve)}var je,Ve,Ge=0,He=null;function Ke(ve){throw ae.onAbort&&ae.onAbort(ve),he(ve="Aborted("+ve+")"),me=!0,ve=new WebAssembly.RuntimeError(ve+". Build with -sASSERTIONS for more info."),ee(ve),ve}function Ye(ve){return ve.startsWith("data:application/octet-stream;base64,")}if(!Ye(je="ort-wasm.wasm")){var Ze=je;je=ae.locateFile?ae.locateFile(Ze,le):le+Ze}function et(ve){if(ve==je&&pe)return new Uint8Array(pe);if(W)return W(ve);throw"both async and sync fetching of the wasm failed"}function ot(ve,Pe,De){return function(Ne){if(!pe&&(J||ne)){if(typeof fetch=="function"&&!Ne.startsWith("file://"))return fetch(Ne,{credentials:"same-origin"}).then(Me=>{if(!Me.ok)throw"failed to load wasm binary file at '"+Ne+"'";return Me.arrayBuffer()}).catch(()=>et(Ne));if(Y)return new Promise((Me,ze)=>{Y(Ne,Xe=>Me(new Uint8Array(Xe)),ze)})}return Promise.resolve().then(()=>et(Ne))}(ve).then(Ne=>WebAssembly.instantiate(Ne,Pe)).then(Ne=>Ne).then(De,Ne=>{he("failed to asynchronously prepare wasm: "+Ne),Ke(Ne)})}function ut(ve){this.name="ExitStatus",this.message=`Program terminated with exit(${ve})`,this.status=ve}var lt=ve=>{for(;0<ve.length;)ve.shift()(ae)};function xt(ve){this.qa=ve-24,this.va=function(Pe){Ce[this.qa+4>>2>>>0]=Pe},this.ua=function(Pe){Ce[this.qa+8>>2>>>0]=Pe},this.sa=function(Pe,De){this.ta(),this.va(Pe),this.ua(De)},this.ta=function(){Ce[this.qa+16>>2>>>0]=0}}var tt,ct=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,bt=(ve,Pe,De)=>{var Ne=(Pe>>>=0)+De;for(De=Pe;ve[De]&&!(De>=Ne);)++De;if(16<De-Pe&&ve.buffer&&ct)return ct.decode(ve.subarray(Pe,De));for(Ne="";Pe<De;){var Me=ve[Pe++];if(128&Me){var ze=63&ve[Pe++];if((224&Me)==192)Ne+=String.fromCharCode((31&Me)<<6|ze);else{var Xe=63&ve[Pe++];65536>(Me=(240&Me)==224?(15&Me)<<12|ze<<6|Xe:(7&Me)<<18|ze<<12|Xe<<6|63&ve[Pe++])?Ne+=String.fromCharCode(Me):(Me-=65536,Ne+=String.fromCharCode(55296|Me>>10,56320|1023&Me))}}else Ne+=String.fromCharCode(Me)}return Ne},gt=(ve,Pe)=>(ve>>>=0)?bt(Ee,ve,Pe):"",yt=ve=>{for(var Pe=0,De=0;De<ve.length;++De){var Ne=ve.charCodeAt(De);127>=Ne?Pe++:2047>=Ne?Pe+=2:55296<=Ne&&57343>=Ne?(Pe+=4,++De):Pe+=3}return Pe},Tt=(ve,Pe,De,Ne)=>{if(!(0<Ne))return 0;var Me=De>>>=0;Ne=De+Ne-1;for(var ze=0;ze<ve.length;++ze){var Xe=ve.charCodeAt(ze);if(55296<=Xe&&57343>=Xe&&(Xe=65536+((1023&Xe)<<10)|1023&ve.charCodeAt(++ze)),127>=Xe){if(De>=Ne)break;Pe[De++>>>0]=Xe}else{if(2047>=Xe){if(De+1>=Ne)break;Pe[De++>>>0]=192|Xe>>6}else{if(65535>=Xe){if(De+2>=Ne)break;Pe[De++>>>0]=224|Xe>>12}else{if(De+3>=Ne)break;Pe[De++>>>0]=240|Xe>>18,Pe[De++>>>0]=128|Xe>>12&63}Pe[De++>>>0]=128|Xe>>6&63}Pe[De++>>>0]=128|63&Xe}}return Pe[De>>>0]=0,De-Me},_t=ve=>ve%4==0&&(ve%100!=0||ve%400==0),It=[0,31,60,91,121,152,182,213,244,274,305,335],Et=[0,31,59,90,120,151,181,212,243,273,304,334],mt=ve=>{var Pe=yt(ve)+1,De=jt(Pe);return De&&Tt(ve,Ee,De,Pe),De},St={},Lt=()=>{if(!tt){var ve,Pe={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:U||"./this.program"};for(ve in St)St[ve]===void 0?delete Pe[ve]:Pe[ve]=St[ve];var De=[];for(ve in Pe)De.push(`${ve}=${Pe[ve]}`);tt=De}return tt},Gt=[null,[],[]],Dt=ve=>(Dt=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return Ne=>crypto.getRandomValues(Ne);if(se)try{var Pe=oe(760);if(Pe.randomFillSync)return Ne=>Pe.randomFillSync(Ne);var De=Pe.randomBytes;return Ne=>(Ne.set(De(Ne.byteLength)),Ne)}catch{}Ke("initRandomDevice")})())(ve),$t=[31,29,31,30,31,30,31,31,30,31,30,31],Ft=[31,28,31,30,31,30,31,31,30,31,30,31];function Mt(ve,Pe,De,Ne){function Me($e,Je,nt){for($e=typeof $e=="number"?$e.toString():$e||"";$e.length<Je;)$e=nt[0]+$e;return $e}function ze($e,Je){return Me($e,Je,"0")}function Xe($e,Je){function nt(qt){return 0>qt?-1:0<qt?1:0}var At;return(At=nt($e.getFullYear()-Je.getFullYear()))===0&&(At=nt($e.getMonth()-Je.getMonth()))===0&&(At=nt($e.getDate()-Je.getDate())),At}function st($e){switch($e.getDay()){case 0:return new Date($e.getFullYear()-1,11,29);case 1:return $e;case 2:return new Date($e.getFullYear(),0,3);case 3:return new Date($e.getFullYear(),0,2);case 4:return new Date($e.getFullYear(),0,1);case 5:return new Date($e.getFullYear()-1,11,31);case 6:return new Date($e.getFullYear()-1,11,30)}}function dt($e){var Je=$e.ma;for($e=new Date(new Date($e.na+1900,0,1).getTime());0<Je;){var nt=$e.getMonth(),At=(_t($e.getFullYear())?$t:Ft)[nt];if(!(Je>At-$e.getDate())){$e.setDate($e.getDate()+Je);break}Je-=At-$e.getDate()+1,$e.setDate(1),11>nt?$e.setMonth(nt+1):($e.setMonth(0),$e.setFullYear($e.getFullYear()+1))}return nt=new Date($e.getFullYear()+1,0,4),Je=st(new Date($e.getFullYear(),0,4)),nt=st(nt),0>=Xe(Je,$e)?0>=Xe(nt,$e)?$e.getFullYear()+1:$e.getFullYear():$e.getFullYear()-1}ve>>>=0,Pe>>>=0,De>>>=0;var ht=ye[40+(Ne>>>=0)>>2>>>0];for(var pt in Ne={ya:ye[Ne>>2>>>0],xa:ye[Ne+4>>2>>>0],oa:ye[Ne+8>>2>>>0],ra:ye[Ne+12>>2>>>0],pa:ye[Ne+16>>2>>>0],na:ye[Ne+20>>2>>>0],ha:ye[Ne+24>>2>>>0],ma:ye[Ne+28>>2>>>0],Aa:ye[Ne+32>>2>>>0],wa:ye[Ne+36>>2>>>0],za:ht?gt(ht):""},De=gt(De),ht={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})De=De.replace(new RegExp(pt,"g"),ht[pt]);var Vt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),zt="January February March April May June July August September October November December".split(" ");for(pt in ht={"%a":$e=>Vt[$e.ha].substring(0,3),"%A":$e=>Vt[$e.ha],"%b":$e=>zt[$e.pa].substring(0,3),"%B":$e=>zt[$e.pa],"%C":$e=>ze(($e.na+1900)/100|0,2),"%d":$e=>ze($e.ra,2),"%e":$e=>Me($e.ra,2," "),"%g":$e=>dt($e).toString().substring(2),"%G":$e=>dt($e),"%H":$e=>ze($e.oa,2),"%I":$e=>(($e=$e.oa)==0?$e=12:12<$e&&($e-=12),ze($e,2)),"%j":$e=>{for(var Je=0,nt=0;nt<=$e.pa-1;Je+=(_t($e.na+1900)?$t:Ft)[nt++]);return ze($e.ra+Je,3)},"%m":$e=>ze($e.pa+1,2),"%M":$e=>ze($e.xa,2),"%n":()=>`
`,"%p":$e=>0<=$e.oa&&12>$e.oa?"AM":"PM","%S":$e=>ze($e.ya,2),"%t":()=>"	","%u":$e=>$e.ha||7,"%U":$e=>ze(Math.floor(($e.ma+7-$e.ha)/7),2),"%V":$e=>{var Je=Math.floor(($e.ma+7-($e.ha+6)%7)/7);if(2>=($e.ha+371-$e.ma-2)%7&&Je++,Je)Je==53&&((nt=($e.ha+371-$e.ma)%7)==4||nt==3&&_t($e.na)||(Je=1));else{Je=52;var nt=($e.ha+7-$e.ma-1)%7;(nt==4||nt==5&&_t($e.na%400-1))&&Je++}return ze(Je,2)},"%w":$e=>$e.ha,"%W":$e=>ze(Math.floor(($e.ma+7-($e.ha+6)%7)/7),2),"%y":$e=>($e.na+1900).toString().substring(2),"%Y":$e=>$e.na+1900,"%z":$e=>{var Je=0<=($e=$e.wa);return $e=Math.abs($e)/60,(Je?"+":"-")+("0000"+($e/60*100+$e%60)).slice(-4)},"%Z":$e=>$e.za,"%%":()=>"%"},De=De.replace(/%%/g,"\0\0"),ht)De.includes(pt)&&(De=De.replace(new RegExp(pt,"g"),ht[pt](Ne)));return pt=function($e){var Je=Array(yt($e)+1);return Tt($e,Je,0,Je.length),Je}(De=De.replace(/\0\0/g,"%")),pt.length>Pe?0:(Se.set(pt,ve>>>0),pt.length-1)}var Ht={a:function(ve,Pe,De){throw new xt(ve>>>=0).sa(Pe>>>0,De>>>0),ve},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(ve,Pe,De){ve=Pe+2097152>>>0<4194305-!!ve?(ve>>>0)+4294967296*Pe:NaN,De>>>=0,ve=new Date(1e3*ve),ye[De>>2>>>0]=ve.getUTCSeconds(),ye[De+4>>2>>>0]=ve.getUTCMinutes(),ye[De+8>>2>>>0]=ve.getUTCHours(),ye[De+12>>2>>>0]=ve.getUTCDate(),ye[De+16>>2>>>0]=ve.getUTCMonth(),ye[De+20>>2>>>0]=ve.getUTCFullYear()-1900,ye[De+24>>2>>>0]=ve.getUTCDay(),ye[De+28>>2>>>0]=(ve.getTime()-Date.UTC(ve.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(ve,Pe,De){ve=Pe+2097152>>>0<4194305-!!ve?(ve>>>0)+4294967296*Pe:NaN,De>>>=0,ve=new Date(1e3*ve),ye[De>>2>>>0]=ve.getSeconds(),ye[De+4>>2>>>0]=ve.getMinutes(),ye[De+8>>2>>>0]=ve.getHours(),ye[De+12>>2>>>0]=ve.getDate(),ye[De+16>>2>>>0]=ve.getMonth(),ye[De+20>>2>>>0]=ve.getFullYear()-1900,ye[De+24>>2>>>0]=ve.getDay(),ye[De+28>>2>>>0]=(_t(ve.getFullYear())?It:Et)[ve.getMonth()]+ve.getDate()-1|0,ye[De+36>>2>>>0]=-60*ve.getTimezoneOffset(),Pe=new Date(ve.getFullYear(),6,1).getTimezoneOffset();var Ne=new Date(ve.getFullYear(),0,1).getTimezoneOffset();ye[De+32>>2>>>0]=0|(Pe!=Ne&&ve.getTimezoneOffset()==Math.min(Ne,Pe))},p:function(ve){ve>>>=0;var Pe=new Date(ye[ve+20>>2>>>0]+1900,ye[ve+16>>2>>>0],ye[ve+12>>2>>>0],ye[ve+8>>2>>>0],ye[ve+4>>2>>>0],ye[ve>>2>>>0],0),De=ye[ve+32>>2>>>0],Ne=Pe.getTimezoneOffset(),Me=new Date(Pe.getFullYear(),6,1).getTimezoneOffset(),ze=new Date(Pe.getFullYear(),0,1).getTimezoneOffset(),Xe=Math.min(ze,Me);return 0>De?ye[ve+32>>2>>>0]=+(Me!=ze&&Xe==Ne):0<De!=(Xe==Ne)&&(Me=Math.max(ze,Me),Pe.setTime(Pe.getTime()+6e4*((0<De?Xe:Me)-Ne))),ye[ve+24>>2>>>0]=Pe.getDay(),ye[ve+28>>2>>>0]=(_t(Pe.getFullYear())?It:Et)[Pe.getMonth()]+Pe.getDate()-1|0,ye[ve>>2>>>0]=Pe.getSeconds(),ye[ve+4>>2>>>0]=Pe.getMinutes(),ye[ve+8>>2>>>0]=Pe.getHours(),ye[ve+12>>2>>>0]=Pe.getDate(),ye[ve+16>>2>>>0]=Pe.getMonth(),ye[ve+20>>2>>>0]=Pe.getYear(),ve=Pe.getTime()/1e3,Ut((Ve=ve,1<=+Math.abs(Ve)?0<Ve?+Math.floor(Ve/4294967296)>>>0:~~+Math.ceil((Ve-+(~~Ve>>>0))/4294967296)>>>0:0)),ve>>>0},l:function(){return-52},m:function(){},u:function(ve,Pe,De){function Ne(dt){return(dt=dt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?dt[1]:"GMT"}De>>>=0;var Me=new Date().getFullYear(),ze=new Date(Me,0,1),Xe=new Date(Me,6,1);Me=ze.getTimezoneOffset();var st=Xe.getTimezoneOffset();Ce[ve>>>0>>2>>>0]=60*Math.max(Me,st),ye[Pe>>>0>>2>>>0]=+(Me!=st),ve=Ne(ze),Pe=Ne(Xe),ve=mt(ve),Pe=mt(Pe),st<Me?(Ce[De>>2>>>0]=ve,Ce[De+4>>2>>>0]=Pe):(Ce[De>>2>>>0]=Pe,Ce[De+4>>2>>>0]=ve)},d:()=>{Ke("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(ve,Pe,De){return Pe>>>=0,Ee.copyWithin(ve>>>0>>>0,Pe>>>0,Pe+(De>>>0)>>>0)},t:function(ve){ve>>>=0;var Pe=Ee.length;if(4294901760<ve)return!1;for(var De=1;4>=De;De*=2){var Ne=Pe*(1+.2/De);Ne=Math.min(Ne,ve+100663296);var Me=Math;Ne=Math.max(ve,Ne);e:{Me=Me.min.call(Me,4294901760,Ne+(65536-Ne%65536)%65536)-Te.buffer.byteLength+65535>>>16;try{Te.grow(Me),we();var ze=1;break e}catch{}ze=void 0}if(ze)return!0}return!1},D:function(ve,Pe){ve>>>=0,Pe>>>=0;var De=0;return Lt().forEach(function(Ne,Me){var ze=Pe+De;for(Me=Ce[ve+4*Me>>2>>>0]=ze,ze=0;ze<Ne.length;++ze)Se[Me++>>0>>>0]=Ne.charCodeAt(ze);Se[Me>>0>>>0]=0,De+=Ne.length+1}),0},E:function(ve,Pe){ve>>>=0,Pe>>>=0;var De=Lt();Ce[ve>>2>>>0]=De.length;var Ne=0;return De.forEach(function(Me){Ne+=Me.length+1}),Ce[Pe>>2>>>0]=Ne,0},s:ve=>{be||(ae.onExit&&ae.onExit(ve),me=!0),K(ve,new ut(ve))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(ve,Pe,De,Ne){Pe>>>=0,De>>>=0,Ne>>>=0;for(var Me=0,ze=0;ze<De;ze++){var Xe=Ce[Pe>>2>>>0],st=Ce[Pe+4>>2>>>0];Pe+=8;for(var dt=0;dt<st;dt++){var ht=Ee[Xe+dt>>>0],pt=Gt[ve];ht===0||ht===10?((ve===1?fe:he)(bt(pt,0)),pt.length=0):pt.push(ht)}Me+=st}return Ce[Ne>>2>>>0]=Me,0},r:function(ve,Pe){return ve>>>=0,Dt(Ee.subarray(ve>>>0,ve+(Pe>>>0)>>>0)),0},C:Mt,c:function(ve,Pe,De,Ne){return Mt(ve>>>0,Pe>>>0,De>>>0,Ne>>>0)}};(function(){function ve(De){if(De=De.exports,xe=De=function(Me){var ze=st=>()=>st()>>>0,Xe=st=>dt=>st(dt)>>>0;return(Me=Object.assign({},Me)).__errno_location=ze(Me.__errno_location),Me.malloc=Xe(Me.malloc),Me.stackSave=ze(Me.stackSave),Me.stackAlloc=Xe(Me.stackAlloc),Me}(De),Te=xe.L,we(),Fe.unshift(xe.M),Ge--,ae.monitorRunDependencies&&ae.monitorRunDependencies(Ge),Ge==0&&He){var Ne=He;He=null,Ne()}return De}var Pe={a:Ht};if(Ge++,ae.monitorRunDependencies&&ae.monitorRunDependencies(Ge),ae.instantiateWasm)try{return ae.instantiateWasm(Pe,ve)}catch(De){he("Module.instantiateWasm callback failed with error: "+De),ee(De)}(function(De,Ne){var Me=je;return pe||typeof WebAssembly.instantiateStreaming!="function"||Ye(Me)||Me.startsWith("file://")||se||typeof fetch!="function"?ot(Me,De,Ne):fetch(Me,{credentials:"same-origin"}).then(ze=>WebAssembly.instantiateStreaming(ze,De).then(Ne,function(Xe){return he("wasm streaming compile failed: "+Xe),he("falling back to ArrayBuffer instantiation"),ot(Me,De,Ne)}))})(Pe,function(De){ve(De.instance)}).catch(ee)})(),ae._OrtInit=(ve,Pe)=>(ae._OrtInit=xe.N)(ve,Pe),ae._OrtGetLastError=(ve,Pe)=>(ae._OrtGetLastError=xe.O)(ve,Pe),ae._OrtCreateSessionOptions=(ve,Pe,De,Ne,Me,ze,Xe,st,dt,ht)=>(ae._OrtCreateSessionOptions=xe.P)(ve,Pe,De,Ne,Me,ze,Xe,st,dt,ht),ae._OrtAppendExecutionProvider=(ve,Pe)=>(ae._OrtAppendExecutionProvider=xe.Q)(ve,Pe),ae._OrtAddSessionConfigEntry=(ve,Pe,De)=>(ae._OrtAddSessionConfigEntry=xe.R)(ve,Pe,De),ae._OrtReleaseSessionOptions=ve=>(ae._OrtReleaseSessionOptions=xe.S)(ve),ae._OrtCreateSession=(ve,Pe,De)=>(ae._OrtCreateSession=xe.T)(ve,Pe,De),ae._OrtReleaseSession=ve=>(ae._OrtReleaseSession=xe.U)(ve),ae._OrtGetInputOutputCount=(ve,Pe,De)=>(ae._OrtGetInputOutputCount=xe.V)(ve,Pe,De),ae._OrtGetInputName=(ve,Pe)=>(ae._OrtGetInputName=xe.W)(ve,Pe),ae._OrtGetOutputName=(ve,Pe)=>(ae._OrtGetOutputName=xe.X)(ve,Pe),ae._OrtFree=ve=>(ae._OrtFree=xe.Y)(ve),ae._OrtCreateTensor=(ve,Pe,De,Ne,Me)=>(ae._OrtCreateTensor=xe.Z)(ve,Pe,De,Ne,Me),ae._OrtGetTensorData=(ve,Pe,De,Ne,Me)=>(ae._OrtGetTensorData=xe._)(ve,Pe,De,Ne,Me),ae._OrtReleaseTensor=ve=>(ae._OrtReleaseTensor=xe.$)(ve),ae._OrtCreateRunOptions=(ve,Pe,De,Ne)=>(ae._OrtCreateRunOptions=xe.aa)(ve,Pe,De,Ne),ae._OrtAddRunConfigEntry=(ve,Pe,De)=>(ae._OrtAddRunConfigEntry=xe.ba)(ve,Pe,De),ae._OrtReleaseRunOptions=ve=>(ae._OrtReleaseRunOptions=xe.ca)(ve),ae._OrtRun=(ve,Pe,De,Ne,Me,ze,Xe,st)=>(ae._OrtRun=xe.da)(ve,Pe,De,Ne,Me,ze,Xe,st),ae._OrtEndProfiling=ve=>(ae._OrtEndProfiling=xe.ea)(ve);var jt=ae._malloc=ve=>(jt=ae._malloc=xe.fa)(ve);ae._free=ve=>(ae._free=xe.ga)(ve);var Pt,Ut=ve=>(Ut=xe.ia)(ve),Rt=()=>(Rt=xe.ja)(),We=ve=>(We=xe.ka)(ve),Ct=ve=>(Ct=xe.la)(ve);function Bt(){function ve(){if(!Pt&&(Pt=!0,ae.calledRun=!0,!me)){if(lt(Fe),ie(ae),ae.onRuntimeInitialized&&ae.onRuntimeInitialized(),ae.postRun)for(typeof ae.postRun=="function"&&(ae.postRun=[ae.postRun]);ae.postRun.length;){var Pe=ae.postRun.shift();Le.unshift(Pe)}lt(Le)}}if(!(0<Ge)){if(ae.preRun)for(typeof ae.preRun=="function"&&(ae.preRun=[ae.preRun]);ae.preRun.length;)Be();lt(Ae),0<Ge||(ae.setStatus?(ae.setStatus("Running..."),setTimeout(function(){setTimeout(function(){ae.setStatus("")},1),ve()},1)):ve())}}if(ae.stackAlloc=Ct,ae.stackSave=Rt,ae.stackRestore=We,ae.UTF8ToString=gt,ae.stringToUTF8=(ve,Pe,De)=>Tt(ve,Ee,Pe,De),ae.lengthBytesUTF8=yt,He=function ve(){Pt||Bt(),Pt||(He=ve)},ae.preInit)for(typeof ae.preInit=="function"&&(ae.preInit=[ae.preInit]);0<ae.preInit.length;)ae.preInit.pop()();return Bt(),re.ready});ue.exports=Q},4537:ue=>{ue.exports=function(X,oe){for(var te=new Array(arguments.length-1),Q=0,re=2,ie=!0;re<arguments.length;)te[Q++]=arguments[re++];return new Promise(function(ee,ae){te[Q]=function(Z){if(ie)if(ie=!1,Z)ae(Z);else{for(var Y=new Array(arguments.length-1),W=0;W<Y.length;)Y[W++]=arguments[W];ee.apply(null,Y)}};try{X.apply(oe||null,te)}catch(Z){ie&&(ie=!1,ae(Z))}})}},7419:(ue,X)=>{var oe=X;oe.length=function(ee){var ae=ee.length;if(!ae)return 0;for(var Z=0;--ae%4>1&&ee.charAt(ae)==="=";)++Z;return Math.ceil(3*ee.length)/4-Z};for(var te=new Array(64),Q=new Array(123),re=0;re<64;)Q[te[re]=re<26?re+65:re<52?re+71:re<62?re-4:re-59|43]=re++;oe.encode=function(ee,ae,Z){for(var Y,W=null,R=[],U=0,K=0;ae<Z;){var J=ee[ae++];switch(K){case 0:R[U++]=te[J>>2],Y=(3&J)<<4,K=1;break;case 1:R[U++]=te[Y|J>>4],Y=(15&J)<<2,K=2;break;case 2:R[U++]=te[Y|J>>6],R[U++]=te[63&J],K=0}U>8191&&((W||(W=[])).push(String.fromCharCode.apply(String,R)),U=0)}return K&&(R[U++]=te[Y],R[U++]=61,K===1&&(R[U++]=61)),W?(U&&W.push(String.fromCharCode.apply(String,R.slice(0,U))),W.join("")):String.fromCharCode.apply(String,R.slice(0,U))};var ie="invalid encoding";oe.decode=function(ee,ae,Z){for(var Y,W=Z,R=0,U=0;U<ee.length;){var K=ee.charCodeAt(U++);if(K===61&&R>1)break;if((K=Q[K])===void 0)throw Error(ie);switch(R){case 0:Y=K,R=1;break;case 1:ae[Z++]=Y<<2|(48&K)>>4,Y=K,R=2;break;case 2:ae[Z++]=(15&Y)<<4|(60&K)>>2,Y=K,R=3;break;case 3:ae[Z++]=(3&Y)<<6|K,R=0}}if(R===1)throw Error(ie);return Z-W},oe.test=function(ee){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ee)}},9211:ue=>{function X(){this._listeners={}}ue.exports=X,X.prototype.on=function(oe,te,Q){return(this._listeners[oe]||(this._listeners[oe]=[])).push({fn:te,ctx:Q||this}),this},X.prototype.off=function(oe,te){if(oe===void 0)this._listeners={};else if(te===void 0)this._listeners[oe]=[];else for(var Q=this._listeners[oe],re=0;re<Q.length;)Q[re].fn===te?Q.splice(re,1):++re;return this},X.prototype.emit=function(oe){var te=this._listeners[oe];if(te){for(var Q=[],re=1;re<arguments.length;)Q.push(arguments[re++]);for(re=0;re<te.length;)te[re].fn.apply(te[re++].ctx,Q)}return this}},945:ue=>{function X(ie){return typeof Float32Array<"u"?function(){var ee=new Float32Array([-0]),ae=new Uint8Array(ee.buffer),Z=ae[3]===128;function Y(K,J,ne){ee[0]=K,J[ne]=ae[0],J[ne+1]=ae[1],J[ne+2]=ae[2],J[ne+3]=ae[3]}function W(K,J,ne){ee[0]=K,J[ne]=ae[3],J[ne+1]=ae[2],J[ne+2]=ae[1],J[ne+3]=ae[0]}function R(K,J){return ae[0]=K[J],ae[1]=K[J+1],ae[2]=K[J+2],ae[3]=K[J+3],ee[0]}function U(K,J){return ae[3]=K[J],ae[2]=K[J+1],ae[1]=K[J+2],ae[0]=K[J+3],ee[0]}ie.writeFloatLE=Z?Y:W,ie.writeFloatBE=Z?W:Y,ie.readFloatLE=Z?R:U,ie.readFloatBE=Z?U:R}():function(){function ee(Z,Y,W,R){var U=Y<0?1:0;if(U&&(Y=-Y),Y===0)Z(1/Y>0?0:2147483648,W,R);else if(isNaN(Y))Z(2143289344,W,R);else if(Y>34028234663852886e22)Z((U<<31|2139095040)>>>0,W,R);else if(Y<11754943508222875e-54)Z((U<<31|Math.round(Y/1401298464324817e-60))>>>0,W,R);else{var K=Math.floor(Math.log(Y)/Math.LN2);Z((U<<31|K+127<<23|8388607&Math.round(Y*Math.pow(2,-K)*8388608))>>>0,W,R)}}function ae(Z,Y,W){var R=Z(Y,W),U=2*(R>>31)+1,K=R>>>23&255,J=8388607&R;return K===255?J?NaN:U*(1/0):K===0?1401298464324817e-60*U*J:U*Math.pow(2,K-150)*(J+8388608)}ie.writeFloatLE=ee.bind(null,oe),ie.writeFloatBE=ee.bind(null,te),ie.readFloatLE=ae.bind(null,Q),ie.readFloatBE=ae.bind(null,re)}(),typeof Float64Array<"u"?function(){var ee=new Float64Array([-0]),ae=new Uint8Array(ee.buffer),Z=ae[7]===128;function Y(K,J,ne){ee[0]=K,J[ne]=ae[0],J[ne+1]=ae[1],J[ne+2]=ae[2],J[ne+3]=ae[3],J[ne+4]=ae[4],J[ne+5]=ae[5],J[ne+6]=ae[6],J[ne+7]=ae[7]}function W(K,J,ne){ee[0]=K,J[ne]=ae[7],J[ne+1]=ae[6],J[ne+2]=ae[5],J[ne+3]=ae[4],J[ne+4]=ae[3],J[ne+5]=ae[2],J[ne+6]=ae[1],J[ne+7]=ae[0]}function R(K,J){return ae[0]=K[J],ae[1]=K[J+1],ae[2]=K[J+2],ae[3]=K[J+3],ae[4]=K[J+4],ae[5]=K[J+5],ae[6]=K[J+6],ae[7]=K[J+7],ee[0]}function U(K,J){return ae[7]=K[J],ae[6]=K[J+1],ae[5]=K[J+2],ae[4]=K[J+3],ae[3]=K[J+4],ae[2]=K[J+5],ae[1]=K[J+6],ae[0]=K[J+7],ee[0]}ie.writeDoubleLE=Z?Y:W,ie.writeDoubleBE=Z?W:Y,ie.readDoubleLE=Z?R:U,ie.readDoubleBE=Z?U:R}():function(){function ee(Z,Y,W,R,U,K){var J=R<0?1:0;if(J&&(R=-R),R===0)Z(0,U,K+Y),Z(1/R>0?0:2147483648,U,K+W);else if(isNaN(R))Z(0,U,K+Y),Z(2146959360,U,K+W);else if(R>17976931348623157e292)Z(0,U,K+Y),Z((J<<31|2146435072)>>>0,U,K+W);else{var ne;if(R<22250738585072014e-324)Z((ne=R/5e-324)>>>0,U,K+Y),Z((J<<31|ne/4294967296)>>>0,U,K+W);else{var se=Math.floor(Math.log(R)/Math.LN2);se===1024&&(se=1023),Z(4503599627370496*(ne=R*Math.pow(2,-se))>>>0,U,K+Y),Z((J<<31|se+1023<<20|1048576*ne&1048575)>>>0,U,K+W)}}}function ae(Z,Y,W,R,U){var K=Z(R,U+Y),J=Z(R,U+W),ne=2*(J>>31)+1,se=J>>>20&2047,le=4294967296*(1048575&J)+K;return se===2047?le?NaN:ne*(1/0):se===0?5e-324*ne*le:ne*Math.pow(2,se-1075)*(le+4503599627370496)}ie.writeDoubleLE=ee.bind(null,oe,0,4),ie.writeDoubleBE=ee.bind(null,te,4,0),ie.readDoubleLE=ae.bind(null,Q,0,4),ie.readDoubleBE=ae.bind(null,re,4,0)}(),ie}function oe(ie,ee,ae){ee[ae]=255&ie,ee[ae+1]=ie>>>8&255,ee[ae+2]=ie>>>16&255,ee[ae+3]=ie>>>24}function te(ie,ee,ae){ee[ae]=ie>>>24,ee[ae+1]=ie>>>16&255,ee[ae+2]=ie>>>8&255,ee[ae+3]=255&ie}function Q(ie,ee){return(ie[ee]|ie[ee+1]<<8|ie[ee+2]<<16|ie[ee+3]<<24)>>>0}function re(ie,ee){return(ie[ee]<<24|ie[ee+1]<<16|ie[ee+2]<<8|ie[ee+3])>>>0}ue.exports=X(X)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(ue){}return null}module.exports=inquire},6662:ue=>{ue.exports=function(X,oe,te){var Q=te||8192,re=Q>>>1,ie=null,ee=Q;return function(ae){if(ae<1||ae>re)return X(ae);ee+ae>Q&&(ie=X(Q),ee=0);var Z=oe.call(ie,ee,ee+=ae);return 7&ee&&(ee=1+(7|ee)),Z}}},4997:(ue,X)=>{var oe=X;oe.length=function(te){for(var Q=0,re=0,ie=0;ie<te.length;++ie)(re=te.charCodeAt(ie))<128?Q+=1:re<2048?Q+=2:(64512&re)==55296&&(64512&te.charCodeAt(ie+1))==56320?(++ie,Q+=4):Q+=3;return Q},oe.read=function(te,Q,re){if(re-Q<1)return"";for(var ie,ee=null,ae=[],Z=0;Q<re;)(ie=te[Q++])<128?ae[Z++]=ie:ie>191&&ie<224?ae[Z++]=(31&ie)<<6|63&te[Q++]:ie>239&&ie<365?(ie=((7&ie)<<18|(63&te[Q++])<<12|(63&te[Q++])<<6|63&te[Q++])-65536,ae[Z++]=55296+(ie>>10),ae[Z++]=56320+(1023&ie)):ae[Z++]=(15&ie)<<12|(63&te[Q++])<<6|63&te[Q++],Z>8191&&((ee||(ee=[])).push(String.fromCharCode.apply(String,ae)),Z=0);return ee?(Z&&ee.push(String.fromCharCode.apply(String,ae.slice(0,Z))),ee.join("")):String.fromCharCode.apply(String,ae.slice(0,Z))},oe.write=function(te,Q,re){for(var ie,ee,ae=re,Z=0;Z<te.length;++Z)(ie=te.charCodeAt(Z))<128?Q[re++]=ie:ie<2048?(Q[re++]=ie>>6|192,Q[re++]=63&ie|128):(64512&ie)==55296&&(64512&(ee=te.charCodeAt(Z+1)))==56320?(ie=65536+((1023&ie)<<10)+(1023&ee),++Z,Q[re++]=ie>>18|240,Q[re++]=ie>>12&63|128,Q[re++]=ie>>6&63|128,Q[re++]=63&ie|128):(Q[re++]=ie>>12|224,Q[re++]=ie>>6&63|128,Q[re++]=63&ie|128);return re-ae}},3442:(ue,X)=>{X.__esModule=!0;var oe=function(){function te(Q){if(!Q)throw new TypeError("Invalid argument; `value` has no value.");this.value=te.EMPTY,Q&&te.isGuid(Q)&&(this.value=Q)}return te.isGuid=function(Q){var re=Q.toString();return Q&&(Q instanceof te||te.validator.test(re))},te.create=function(){return new te([te.gen(2),te.gen(1),te.gen(1),te.gen(1),te.gen(3)].join("-"))},te.createEmpty=function(){return new te("emptyguid")},te.parse=function(Q){return new te(Q)},te.raw=function(){return[te.gen(2),te.gen(1),te.gen(1),te.gen(1),te.gen(3)].join("-")},te.gen=function(Q){for(var re="",ie=0;ie<Q;ie++)re+=(65536*(1+Math.random())|0).toString(16).substring(1);return re},te.prototype.equals=function(Q){return te.isGuid(Q)&&this.value===Q.toString()},te.prototype.isEmpty=function(){return this.value===te.EMPTY},te.prototype.toString=function(){return this.value},te.prototype.toJSON=function(){return{value:this.value}},te.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),te.EMPTY="00000000-0000-0000-0000-000000000000",te}();X.Guid=oe},2100:(ue,X,oe)=>{ue.exports=oe(9482)},9482:(ue,X,oe)=>{var te=X;function Q(){te.util._configure(),te.Writer._configure(te.BufferWriter),te.Reader._configure(te.BufferReader)}te.build="minimal",te.Writer=oe(1173),te.BufferWriter=oe(3155),te.Reader=oe(1408),te.BufferReader=oe(593),te.util=oe(9693),te.rpc=oe(5994),te.roots=oe(5054),te.configure=Q,Q()},1408:(ue,X,oe)=>{ue.exports=ae;var te,Q=oe(9693),re=Q.LongBits,ie=Q.utf8;function ee(J,ne){return RangeError("index out of range: "+J.pos+" + "+(ne||1)+" > "+J.len)}function ae(J){this.buf=J,this.pos=0,this.len=J.length}var Z,Y=typeof Uint8Array<"u"?function(J){if(J instanceof Uint8Array||Array.isArray(J))return new ae(J);throw Error("illegal buffer")}:function(J){if(Array.isArray(J))return new ae(J);throw Error("illegal buffer")},W=function(){return Q.Buffer?function(J){return(ae.create=function(ne){return Q.Buffer.isBuffer(ne)?new te(ne):Y(ne)})(J)}:Y};function R(){var J=new re(0,0),ne=0;if(!(this.len-this.pos>4)){for(;ne<3;++ne){if(this.pos>=this.len)throw ee(this);if(J.lo=(J.lo|(127&this.buf[this.pos])<<7*ne)>>>0,this.buf[this.pos++]<128)return J}return J.lo=(J.lo|(127&this.buf[this.pos++])<<7*ne)>>>0,J}for(;ne<4;++ne)if(J.lo=(J.lo|(127&this.buf[this.pos])<<7*ne)>>>0,this.buf[this.pos++]<128)return J;if(J.lo=(J.lo|(127&this.buf[this.pos])<<28)>>>0,J.hi=(J.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return J;if(ne=0,this.len-this.pos>4){for(;ne<5;++ne)if(J.hi=(J.hi|(127&this.buf[this.pos])<<7*ne+3)>>>0,this.buf[this.pos++]<128)return J}else for(;ne<5;++ne){if(this.pos>=this.len)throw ee(this);if(J.hi=(J.hi|(127&this.buf[this.pos])<<7*ne+3)>>>0,this.buf[this.pos++]<128)return J}throw Error("invalid varint encoding")}function U(J,ne){return(J[ne-4]|J[ne-3]<<8|J[ne-2]<<16|J[ne-1]<<24)>>>0}function K(){if(this.pos+8>this.len)throw ee(this,8);return new re(U(this.buf,this.pos+=4),U(this.buf,this.pos+=4))}ae.create=W(),ae.prototype._slice=Q.Array.prototype.subarray||Q.Array.prototype.slice,ae.prototype.uint32=(Z=4294967295,function(){if(Z=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(Z=(Z|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(Z=(Z|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(Z=(Z|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(Z=(Z|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return Z;if((this.pos+=5)>this.len)throw this.pos=this.len,ee(this,10);return Z}),ae.prototype.int32=function(){return 0|this.uint32()},ae.prototype.sint32=function(){var J=this.uint32();return J>>>1^-(1&J)|0},ae.prototype.bool=function(){return this.uint32()!==0},ae.prototype.fixed32=function(){if(this.pos+4>this.len)throw ee(this,4);return U(this.buf,this.pos+=4)},ae.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ee(this,4);return 0|U(this.buf,this.pos+=4)},ae.prototype.float=function(){if(this.pos+4>this.len)throw ee(this,4);var J=Q.float.readFloatLE(this.buf,this.pos);return this.pos+=4,J},ae.prototype.double=function(){if(this.pos+8>this.len)throw ee(this,4);var J=Q.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,J},ae.prototype.bytes=function(){var J=this.uint32(),ne=this.pos,se=this.pos+J;if(se>this.len)throw ee(this,J);return this.pos+=J,Array.isArray(this.buf)?this.buf.slice(ne,se):ne===se?new this.buf.constructor(0):this._slice.call(this.buf,ne,se)},ae.prototype.string=function(){var J=this.bytes();return ie.read(J,0,J.length)},ae.prototype.skip=function(J){if(typeof J=="number"){if(this.pos+J>this.len)throw ee(this,J);this.pos+=J}else do if(this.pos>=this.len)throw ee(this);while(128&this.buf[this.pos++]);return this},ae.prototype.skipType=function(J){switch(J){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(J=7&this.uint32())!=4;)this.skipType(J);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+J+" at offset "+this.pos)}return this},ae._configure=function(J){te=J,ae.create=W(),te._configure();var ne=Q.Long?"toLong":"toNumber";Q.merge(ae.prototype,{int64:function(){return R.call(this)[ne](!1)},uint64:function(){return R.call(this)[ne](!0)},sint64:function(){return R.call(this).zzDecode()[ne](!1)},fixed64:function(){return K.call(this)[ne](!0)},sfixed64:function(){return K.call(this)[ne](!1)}})}},593:(ue,X,oe)=>{ue.exports=re;var te=oe(1408);(re.prototype=Object.create(te.prototype)).constructor=re;var Q=oe(9693);function re(ie){te.call(this,ie)}re._configure=function(){Q.Buffer&&(re.prototype._slice=Q.Buffer.prototype.slice)},re.prototype.string=function(){var ie=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+ie,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+ie,this.len))},re._configure()},5054:ue=>{ue.exports={}},5994:(ue,X,oe)=>{X.Service=oe(7948)},7948:(ue,X,oe)=>{ue.exports=Q;var te=oe(9693);function Q(re,ie,ee){if(typeof re!="function")throw TypeError("rpcImpl must be a function");te.EventEmitter.call(this),this.rpcImpl=re,this.requestDelimited=!!ie,this.responseDelimited=!!ee}(Q.prototype=Object.create(te.EventEmitter.prototype)).constructor=Q,Q.prototype.rpcCall=function re(ie,ee,ae,Z,Y){if(!Z)throw TypeError("request must be specified");var W=this;if(!Y)return te.asPromise(re,W,ie,ee,ae,Z);if(W.rpcImpl)try{return W.rpcImpl(ie,ee[W.requestDelimited?"encodeDelimited":"encode"](Z).finish(),function(R,U){if(R)return W.emit("error",R,ie),Y(R);if(U!==null){if(!(U instanceof ae))try{U=ae[W.responseDelimited?"decodeDelimited":"decode"](U)}catch(K){return W.emit("error",K,ie),Y(K)}return W.emit("data",U,ie),Y(null,U)}W.end(!0)})}catch(R){return W.emit("error",R,ie),void setTimeout(function(){Y(R)},0)}else setTimeout(function(){Y(Error("already ended"))},0)},Q.prototype.end=function(re){return this.rpcImpl&&(re||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(ue,X,oe)=>{ue.exports=Q;var te=oe(9693);function Q(ae,Z){this.lo=ae>>>0,this.hi=Z>>>0}var re=Q.zero=new Q(0,0);re.toNumber=function(){return 0},re.zzEncode=re.zzDecode=function(){return this},re.length=function(){return 1};var ie=Q.zeroHash="\0\0\0\0\0\0\0\0";Q.fromNumber=function(ae){if(ae===0)return re;var Z=ae<0;Z&&(ae=-ae);var Y=ae>>>0,W=(ae-Y)/4294967296>>>0;return Z&&(W=~W>>>0,Y=~Y>>>0,++Y>4294967295&&(Y=0,++W>4294967295&&(W=0))),new Q(Y,W)},Q.from=function(ae){if(typeof ae=="number")return Q.fromNumber(ae);if(te.isString(ae)){if(!te.Long)return Q.fromNumber(parseInt(ae,10));ae=te.Long.fromString(ae)}return ae.low||ae.high?new Q(ae.low>>>0,ae.high>>>0):re},Q.prototype.toNumber=function(ae){if(!ae&&this.hi>>>31){var Z=1+~this.lo>>>0,Y=~this.hi>>>0;return Z||(Y=Y+1>>>0),-(Z+4294967296*Y)}return this.lo+4294967296*this.hi},Q.prototype.toLong=function(ae){return te.Long?new te.Long(0|this.lo,0|this.hi,!!ae):{low:0|this.lo,high:0|this.hi,unsigned:!!ae}};var ee=String.prototype.charCodeAt;Q.fromHash=function(ae){return ae===ie?re:new Q((ee.call(ae,0)|ee.call(ae,1)<<8|ee.call(ae,2)<<16|ee.call(ae,3)<<24)>>>0,(ee.call(ae,4)|ee.call(ae,5)<<8|ee.call(ae,6)<<16|ee.call(ae,7)<<24)>>>0)},Q.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},Q.prototype.zzEncode=function(){var ae=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^ae)>>>0,this.lo=(this.lo<<1^ae)>>>0,this},Q.prototype.zzDecode=function(){var ae=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^ae)>>>0,this.hi=(this.hi>>>1^ae)>>>0,this},Q.prototype.length=function(){var ae=this.lo,Z=(this.lo>>>28|this.hi<<4)>>>0,Y=this.hi>>>24;return Y===0?Z===0?ae<16384?ae<128?1:2:ae<2097152?3:4:Z<16384?Z<128?5:6:Z<2097152?7:8:Y<128?9:10}},9693:function(ue,X,oe){var te=X;function Q(ie,ee,ae){for(var Z=Object.keys(ee),Y=0;Y<Z.length;++Y)ie[Z[Y]]!==void 0&&ae||(ie[Z[Y]]=ee[Z[Y]]);return ie}function re(ie){function ee(ae,Z){if(!(this instanceof ee))return new ee(ae,Z);Object.defineProperty(this,"message",{get:function(){return ae}}),Error.captureStackTrace?Error.captureStackTrace(this,ee):Object.defineProperty(this,"stack",{value:new Error().stack||""}),Z&&Q(this,Z)}return ee.prototype=Object.create(Error.prototype,{constructor:{value:ee,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return ie},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),ee}te.asPromise=oe(4537),te.base64=oe(7419),te.EventEmitter=oe(9211),te.float=oe(945),te.inquire=oe(7199),te.utf8=oe(4997),te.pool=oe(6662),te.LongBits=oe(1945),te.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),te.global=te.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||this,te.emptyArray=Object.freeze?Object.freeze([]):[],te.emptyObject=Object.freeze?Object.freeze({}):{},te.isInteger=Number.isInteger||function(ie){return typeof ie=="number"&&isFinite(ie)&&Math.floor(ie)===ie},te.isString=function(ie){return typeof ie=="string"||ie instanceof String},te.isObject=function(ie){return ie&&typeof ie=="object"},te.isset=te.isSet=function(ie,ee){var ae=ie[ee];return!(ae==null||!ie.hasOwnProperty(ee))&&(typeof ae!="object"||(Array.isArray(ae)?ae.length:Object.keys(ae).length)>0)},te.Buffer=function(){try{var ie=te.inquire("buffer").Buffer;return ie.prototype.utf8Write?ie:null}catch{return null}}(),te._Buffer_from=null,te._Buffer_allocUnsafe=null,te.newBuffer=function(ie){return typeof ie=="number"?te.Buffer?te._Buffer_allocUnsafe(ie):new te.Array(ie):te.Buffer?te._Buffer_from(ie):typeof Uint8Array>"u"?ie:new Uint8Array(ie)},te.Array=typeof Uint8Array<"u"?Uint8Array:Array,te.Long=te.global.dcodeIO&&te.global.dcodeIO.Long||te.global.Long||te.inquire("long"),te.key2Re=/^true|false|0|1$/,te.key32Re=/^-?(?:0|[1-9][0-9]*)$/,te.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,te.longToHash=function(ie){return ie?te.LongBits.from(ie).toHash():te.LongBits.zeroHash},te.longFromHash=function(ie,ee){var ae=te.LongBits.fromHash(ie);return te.Long?te.Long.fromBits(ae.lo,ae.hi,ee):ae.toNumber(!!ee)},te.merge=Q,te.lcFirst=function(ie){return ie.charAt(0).toLowerCase()+ie.substring(1)},te.newError=re,te.ProtocolError=re("ProtocolError"),te.oneOfGetter=function(ie){for(var ee={},ae=0;ae<ie.length;++ae)ee[ie[ae]]=1;return function(){for(var Z=Object.keys(this),Y=Z.length-1;Y>-1;--Y)if(ee[Z[Y]]===1&&this[Z[Y]]!==void 0&&this[Z[Y]]!==null)return Z[Y]}},te.oneOfSetter=function(ie){return function(ee){for(var ae=0;ae<ie.length;++ae)ie[ae]!==ee&&delete this[ie[ae]]}},te.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},te._configure=function(){var ie=te.Buffer;ie?(te._Buffer_from=ie.from!==Uint8Array.from&&ie.from||function(ee,ae){return new ie(ee,ae)},te._Buffer_allocUnsafe=ie.allocUnsafe||function(ee){return new ie(ee)}):te._Buffer_from=te._Buffer_allocUnsafe=null}},1173:(ue,X,oe)=>{ue.exports=W;var te,Q=oe(9693),re=Q.LongBits,ie=Q.base64,ee=Q.utf8;function ae(le,ce,de){this.fn=le,this.len=ce,this.next=void 0,this.val=de}function Z(){}function Y(le){this.head=le.head,this.tail=le.tail,this.len=le.len,this.next=le.states}function W(){this.len=0,this.head=new ae(Z,0,0),this.tail=this.head,this.states=null}var R=function(){return Q.Buffer?function(){return(W.create=function(){return new te})()}:function(){return new W}};function U(le,ce,de){ce[de]=255&le}function K(le,ce){this.len=le,this.next=void 0,this.val=ce}function J(le,ce,de){for(;le.hi;)ce[de++]=127&le.lo|128,le.lo=(le.lo>>>7|le.hi<<25)>>>0,le.hi>>>=7;for(;le.lo>127;)ce[de++]=127&le.lo|128,le.lo=le.lo>>>7;ce[de++]=le.lo}function ne(le,ce,de){ce[de]=255&le,ce[de+1]=le>>>8&255,ce[de+2]=le>>>16&255,ce[de+3]=le>>>24}W.create=R(),W.alloc=function(le){return new Q.Array(le)},Q.Array!==Array&&(W.alloc=Q.pool(W.alloc,Q.Array.prototype.subarray)),W.prototype._push=function(le,ce,de){return this.tail=this.tail.next=new ae(le,ce,de),this.len+=ce,this},K.prototype=Object.create(ae.prototype),K.prototype.fn=function(le,ce,de){for(;le>127;)ce[de++]=127&le|128,le>>>=7;ce[de]=le},W.prototype.uint32=function(le){return this.len+=(this.tail=this.tail.next=new K((le>>>=0)<128?1:le<16384?2:le<2097152?3:le<268435456?4:5,le)).len,this},W.prototype.int32=function(le){return le<0?this._push(J,10,re.fromNumber(le)):this.uint32(le)},W.prototype.sint32=function(le){return this.uint32((le<<1^le>>31)>>>0)},W.prototype.uint64=function(le){var ce=re.from(le);return this._push(J,ce.length(),ce)},W.prototype.int64=W.prototype.uint64,W.prototype.sint64=function(le){var ce=re.from(le).zzEncode();return this._push(J,ce.length(),ce)},W.prototype.bool=function(le){return this._push(U,1,le?1:0)},W.prototype.fixed32=function(le){return this._push(ne,4,le>>>0)},W.prototype.sfixed32=W.prototype.fixed32,W.prototype.fixed64=function(le){var ce=re.from(le);return this._push(ne,4,ce.lo)._push(ne,4,ce.hi)},W.prototype.sfixed64=W.prototype.fixed64,W.prototype.float=function(le){return this._push(Q.float.writeFloatLE,4,le)},W.prototype.double=function(le){return this._push(Q.float.writeDoubleLE,8,le)};var se=Q.Array.prototype.set?function(le,ce,de){ce.set(le,de)}:function(le,ce,de){for(var pe=0;pe<le.length;++pe)ce[de+pe]=le[pe]};W.prototype.bytes=function(le){var ce=le.length>>>0;if(!ce)return this._push(U,1,0);if(Q.isString(le)){var de=W.alloc(ce=ie.length(le));ie.decode(le,de,0),le=de}return this.uint32(ce)._push(se,ce,le)},W.prototype.string=function(le){var ce=ee.length(le);return ce?this.uint32(ce)._push(ee.write,ce,le):this._push(U,1,0)},W.prototype.fork=function(){return this.states=new Y(this),this.head=this.tail=new ae(Z,0,0),this.len=0,this},W.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ae(Z,0,0),this.len=0),this},W.prototype.ldelim=function(){var le=this.head,ce=this.tail,de=this.len;return this.reset().uint32(de),de&&(this.tail.next=le.next,this.tail=ce,this.len+=de),this},W.prototype.finish=function(){for(var le=this.head.next,ce=this.constructor.alloc(this.len),de=0;le;)le.fn(le.val,ce,de),de+=le.len,le=le.next;return ce},W._configure=function(le){te=le,W.create=R(),te._configure()}},3155:(ue,X,oe)=>{ue.exports=re;var te=oe(1173);(re.prototype=Object.create(te.prototype)).constructor=re;var Q=oe(9693);function re(){te.call(this)}function ie(ee,ae,Z){ee.length<40?Q.utf8.write(ee,ae,Z):ae.utf8Write?ae.utf8Write(ee,Z):ae.write(ee,Z)}re._configure=function(){re.alloc=Q._Buffer_allocUnsafe,re.writeBytesBuffer=Q.Buffer&&Q.Buffer.prototype instanceof Uint8Array&&Q.Buffer.prototype.set.name==="set"?function(ee,ae,Z){ae.set(ee,Z)}:function(ee,ae,Z){if(ee.copy)ee.copy(ae,Z,0,ee.length);else for(var Y=0;Y<ee.length;)ae[Z++]=ee[Y++]}},re.prototype.bytes=function(ee){Q.isString(ee)&&(ee=Q._Buffer_from(ee,"base64"));var ae=ee.length>>>0;return this.uint32(ae),ae&&this._push(re.writeBytesBuffer,ae,ee),this},re.prototype.string=function(ee){var ae=Q.Buffer.byteLength(ee);return this.uint32(ae),ae&&this._push(ie,ae,ee),this},re._configure()},4154:ue=>{ue.exports=`"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};
`},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},685:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.resolveBackend=X.registerBackend=void 0;const oe={},te=[];X.registerBackend=(Q,re,ie)=>{if(!re||typeof re.init!="function"||typeof re.createSessionHandler!="function")throw new TypeError("not a valid backend");{const ee=oe[Q];if(ee===void 0)oe[Q]={backend:re,priority:ie};else{if(ee.priority>ie)return;if(ee.priority===ie&&ee.backend!==re)throw new Error(`cannot register backend "${Q}" using priority ${ie}`)}if(ie>=0){const ae=te.indexOf(Q);ae!==-1&&te.splice(ae,1);for(let Z=0;Z<te.length;Z++)if(oe[te[Z]].priority<=ie)return void te.splice(Z,0,Q);te.push(Q)}}},X.resolveBackend=async Q=>{const re=Q.length===0?te:Q,ie=[];for(const ee of re){const ae=oe[ee];if(ae){if(ae.initialized)return ae.backend;if(ae.aborted)continue;const Z=!!ae.initPromise;try{return Z||(ae.initPromise=ae.backend.init()),await ae.initPromise,ae.initialized=!0,ae.backend}catch(Y){Z||ie.push({name:ee,err:Y}),ae.aborted=!0}finally{delete ae.initPromise}}}throw new Error(`no available backend found. ERR: ${ie.map(ee=>`[${ee.name}] ${ee.err}`).join(", ")}`)}},4798:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.registerBackend=void 0;var te=oe(685);Object.defineProperty(X,"registerBackend",{enumerable:!0,get:function(){return te.registerBackend}})},3121:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.env=void 0;const te=oe(9104);let Q="warning";X.env={wasm:{},webgl:{},webgpu:{},versions:{common:te.version},set logLevel(re){if(re!==void 0){if(typeof re!="string"||["verbose","info","warning","error","fatal"].indexOf(re)===-1)throw new Error(`Unsupported logging level: ${re}`);Q=re}},get logLevel(){return Q}},Object.defineProperty(X.env,"logLevel",{enumerable:!0})},2457:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.env=void 0;const te=oe(3121);X.env=te.env},2235:function(ue,X,oe){var te=this&&this.__createBinding||(Object.create?function(re,ie,ee,ae){ae===void 0&&(ae=ee);var Z=Object.getOwnPropertyDescriptor(ie,ee);Z&&!("get"in Z?!ie.__esModule:Z.writable||Z.configurable)||(Z={enumerable:!0,get:function(){return ie[ee]}}),Object.defineProperty(re,ae,Z)}:function(re,ie,ee,ae){ae===void 0&&(ae=ee),re[ae]=ie[ee]}),Q=this&&this.__exportStar||function(re,ie){for(var ee in re)ee==="default"||Object.prototype.hasOwnProperty.call(ie,ee)||te(ie,re,ee)};Object.defineProperty(X,"__esModule",{value:!0}),Q(oe(4798),X),Q(oe(2457),X),Q(oe(3974),X),Q(oe(963),X),Q(oe(7852),X)},8036:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.InferenceSession=void 0;const te=oe(685),Q=oe(963);class re{constructor(ee){this.handler=ee}async run(ee,ae,Z){const Y={};let W={};if(typeof ee!="object"||ee===null||ee instanceof Q.Tensor||Array.isArray(ee))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let R=!0;if(typeof ae=="object"){if(ae===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(ae instanceof Q.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(ae)){if(ae.length===0)throw new TypeError("'fetches' cannot be an empty array.");R=!1;for(const J of ae){if(typeof J!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(J)===-1)throw new RangeError(`'fetches' contains invalid output name: ${J}.`);Y[J]=null}if(typeof Z=="object"&&Z!==null)W=Z;else if(Z!==void 0)throw new TypeError("'options' must be an object.")}else{let J=!1;const ne=Object.getOwnPropertyNames(ae);for(const se of this.outputNames)if(ne.indexOf(se)!==-1){const le=ae[se];(le===null||le instanceof Q.Tensor)&&(J=!0,R=!1,Y[se]=le)}if(J){if(typeof Z=="object"&&Z!==null)W=Z;else if(Z!==void 0)throw new TypeError("'options' must be an object.")}else W=ae}}else if(ae!==void 0)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const J of this.inputNames)if(ee[J]===void 0)throw new Error(`input '${J}' is missing in 'feeds'.`);if(R)for(const J of this.outputNames)Y[J]=null;const U=await this.handler.run(ee,Y,W),K={};for(const J in U)Object.hasOwnProperty.call(U,J)&&(K[J]=new Q.Tensor(U[J].type,U[J].data,U[J].dims));return K}async release(){return this.handler.dispose()}static async create(ee,ae,Z,Y){let W,R={};if(typeof ee=="string"){if(W=ee,typeof ae=="object"&&ae!==null)R=ae;else if(ae!==void 0)throw new TypeError("'options' must be an object.")}else if(ee instanceof Uint8Array){if(W=ee,typeof ae=="object"&&ae!==null)R=ae;else if(ae!==void 0)throw new TypeError("'options' must be an object.")}else{if(!(ee instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&ee instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const ne=ee;let se=0,le=ee.byteLength;if(typeof ae=="object"&&ae!==null)R=ae;else if(typeof ae=="number"){if(se=ae,!Number.isSafeInteger(se))throw new RangeError("'byteOffset' must be an integer.");if(se<0||se>=ne.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${ne.byteLength}).`);if(le=ee.byteLength-se,typeof Z=="number"){if(le=Z,!Number.isSafeInteger(le))throw new RangeError("'byteLength' must be an integer.");if(le<=0||se+le>ne.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${ne.byteLength-se}].`);if(typeof Y=="object"&&Y!==null)R=Y;else if(Y!==void 0)throw new TypeError("'options' must be an object.")}else if(Z!==void 0)throw new TypeError("'byteLength' must be a number.")}else if(ae!==void 0)throw new TypeError("'options' must be an object.");W=new Uint8Array(ne,se,le)}}const U=(R.executionProviders||[]).map(ne=>typeof ne=="string"?ne:ne.name),K=await(0,te.resolveBackend)(U),J=await K.createSessionHandler(W,R);return new re(J)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}X.InferenceSession=re},3974:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.InferenceSession=void 0;const te=oe(8036);X.InferenceSession=te.InferenceSession},7852:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0})},2350:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.tensorToImageData=X.tensorToDataURL=void 0,X.tensorToDataURL=(oe,te)=>{const Q=document.createElement("canvas");Q.width=oe.dims[3],Q.height=oe.dims[2];const re=Q.getContext("2d");if(re!=null){let ie,ee;(te==null?void 0:te.tensorLayout)!==void 0&&te.tensorLayout==="NHWC"?(ie=oe.dims[2],ee=oe.dims[3]):(ie=oe.dims[3],ee=oe.dims[2]);const ae=(te==null?void 0:te.format)!==void 0?te.format:"RGB",Z=te==null?void 0:te.norm;let Y,W;Z===void 0||Z.mean===void 0?Y=[255,255,255,255]:typeof Z.mean=="number"?Y=[Z.mean,Z.mean,Z.mean,Z.mean]:(Y=[Z.mean[0],Z.mean[1],Z.mean[2],0],Z.mean[3]!==void 0&&(Y[3]=Z.mean[3])),Z===void 0||Z.bias===void 0?W=[0,0,0,0]:typeof Z.bias=="number"?W=[Z.bias,Z.bias,Z.bias,Z.bias]:(W=[Z.bias[0],Z.bias[1],Z.bias[2],0],Z.bias[3]!==void 0&&(W[3]=Z.bias[3]));const R=ee*ie;let U=0,K=R,J=2*R,ne=-1;ae==="RGBA"?(U=0,K=R,J=2*R,ne=3*R):ae==="RGB"?(U=0,K=R,J=2*R):ae==="RBG"&&(U=0,J=R,K=2*R);for(let se=0;se<ee;se++)for(let le=0;le<ie;le++){const ce=(oe.data[U++]-W[0])*Y[0],de=(oe.data[K++]-W[1])*Y[1],pe=(oe.data[J++]-W[2])*Y[2],fe=ne===-1?255:(oe.data[ne++]-W[3])*Y[3];re.fillStyle="rgba("+ce+","+de+","+pe+","+fe+")",re.fillRect(le,se,1,1)}return Q.toDataURL()}throw new Error("Can not access image data")},X.tensorToImageData=(oe,te)=>{const Q=document.createElement("canvas").getContext("2d");let re;if(Q==null)throw new Error("Can not access image data");{let ie,ee,ae;(te==null?void 0:te.tensorLayout)!==void 0&&te.tensorLayout==="NHWC"?(ie=oe.dims[2],ee=oe.dims[1],ae=oe.dims[3]):(ie=oe.dims[3],ee=oe.dims[2],ae=oe.dims[1]);const Z=te!==void 0&&te.format!==void 0?te.format:"RGB",Y=te==null?void 0:te.norm;let W,R;Y===void 0||Y.mean===void 0?W=[255,255,255,255]:typeof Y.mean=="number"?W=[Y.mean,Y.mean,Y.mean,Y.mean]:(W=[Y.mean[0],Y.mean[1],Y.mean[2],255],Y.mean[3]!==void 0&&(W[3]=Y.mean[3])),Y===void 0||Y.bias===void 0?R=[0,0,0,0]:typeof Y.bias=="number"?R=[Y.bias,Y.bias,Y.bias,Y.bias]:(R=[Y.bias[0],Y.bias[1],Y.bias[2],0],Y.bias[3]!==void 0&&(R[3]=Y.bias[3]));const U=ee*ie;if(te!==void 0&&(te.format!==void 0&&ae===4&&te.format!=="RGBA"||ae===3&&te.format!=="RGB"&&te.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");const K=4;let J=0,ne=1,se=2,le=3,ce=0,de=U,pe=2*U,fe=-1;Z==="RGBA"?(ce=0,de=U,pe=2*U,fe=3*U):Z==="RGB"?(ce=0,de=U,pe=2*U):Z==="RBG"&&(ce=0,pe=U,de=2*U),re=Q.createImageData(ie,ee);for(let he=0;he<ee*ie;J+=K,ne+=K,se+=K,le+=K,he++)re.data[J]=(oe.data[ce++]-R[0])*W[0],re.data[ne]=(oe.data[de++]-R[1])*W[1],re.data[se]=(oe.data[pe++]-R[2])*W[2],re.data[le]=fe===-1?255:(oe.data[fe++]-R[3])*W[3]}return re}},4866:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.tensorFromImage=X.bufferToTensor=void 0;const te=oe(963);X.bufferToTensor=(Q,re)=>{if(Q===void 0)throw new Error("Image buffer must be defined");if(re.height===void 0||re.width===void 0)throw new Error("Image height and width must be defined");if(re.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:ie,width:ee}=re,ae=re.norm??{mean:255,bias:0};let Z,Y;Z=typeof ae.mean=="number"?[ae.mean,ae.mean,ae.mean,ae.mean]:[ae.mean[0],ae.mean[1],ae.mean[2],ae.mean[3]??255],Y=typeof ae.bias=="number"?[ae.bias,ae.bias,ae.bias,ae.bias]:[ae.bias[0],ae.bias[1],ae.bias[2],ae.bias[3]??0];const W=re.format!==void 0?re.format:"RGBA",R=re.tensorFormat!==void 0&&re.tensorFormat!==void 0?re.tensorFormat:"RGB",U=ie*ee,K=R==="RGBA"?new Float32Array(4*U):new Float32Array(3*U);let J=4,ne=0,se=1,le=2,ce=3,de=0,pe=U,fe=2*U,he=-1;W==="RGB"&&(J=3,ne=0,se=1,le=2,ce=-1),R==="RGBA"?he=3*U:R==="RBG"?(de=0,fe=U,pe=2*U):R==="BGR"&&(fe=0,pe=U,de=2*U);for(let be=0;be<U;be++,ne+=J,le+=J,se+=J,ce+=J)K[de++]=(Q[ne]+Y[0])/Z[0],K[pe++]=(Q[se]+Y[1])/Z[1],K[fe++]=(Q[le]+Y[2])/Z[2],he!==-1&&ce!==-1&&(K[he++]=(Q[ce]+Y[3])/Z[3]);return R==="RGBA"?new te.Tensor("float32",K,[1,4,ie,ee]):new te.Tensor("float32",K,[1,3,ie,ee])},X.tensorFromImage=async(Q,re)=>{const ie=typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement,ee=typeof ImageData<"u"&&Q instanceof ImageData,ae=typeof ImageBitmap<"u"&&Q instanceof ImageBitmap,Z=typeof Q=="string";let Y,W=re??{};if(ie){const R=document.createElement("canvas");R.width=Q.width,R.height=Q.height;const U=R.getContext("2d");if(U==null)throw new Error("Can not access image data");{let K=Q.height,J=Q.width;if(re!==void 0&&re.resizedHeight!==void 0&&re.resizedWidth!==void 0&&(K=re.resizedHeight,J=re.resizedWidth),re!==void 0){if(W=re,re.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");W.tensorFormat="RGBA",W.height=K,W.width=J}else W.tensorFormat="RGBA",W.height=K,W.width=J;U.drawImage(Q,0,0),Y=U.getImageData(0,0,J,K).data}}else{if(!ee){if(ae){if(re===void 0)throw new Error("Please provide image config with format for Imagebitmap");const R=document.createElement("canvas");R.width=Q.width,R.height=Q.height;const U=R.getContext("2d");if(U!=null){const K=Q.height,J=Q.width;return U.drawImage(Q,0,0,J,K),Y=U.getImageData(0,0,J,K).data,W.height=K,W.width=J,(0,X.bufferToTensor)(Y,W)}throw new Error("Can not access image data")}if(Z)return new Promise((R,U)=>{const K=document.createElement("canvas"),J=K.getContext("2d");if(!Q||!J)return U();const ne=new Image;ne.crossOrigin="Anonymous",ne.src=Q,ne.onload=()=>{K.width=ne.width,K.height=ne.height,J.drawImage(ne,0,0,K.width,K.height);const se=J.getImageData(0,0,K.width,K.height);W.height=K.height,W.width=K.width,R((0,X.bufferToTensor)(se.data,W))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{let R,U;if(re!==void 0&&re.resizedWidth!==void 0&&re.resizedHeight!==void 0?(R=re.resizedHeight,U=re.resizedWidth):(R=Q.height,U=Q.width),re!==void 0&&(W=re),W.format="RGBA",W.height=R,W.width=U,re!==void 0){const K=document.createElement("canvas");K.width=U,K.height=R;const J=K.getContext("2d");if(J==null)throw new Error("Can not access image data");J.putImageData(Q,0,0),Y=J.getImageData(0,0,U,R).data}else Y=Q.data}}if(Y!==void 0)return(0,X.bufferToTensor)(Y,W);throw new Error("Input data provided is not supported - aborted tensor creation")}},5957:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Tensor=void 0;const te=oe(2350),Q=oe(4866),re=oe(106),ie=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),ee=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let ae=!1;X.Tensor=class{constructor(Z,Y,W){let R,U,K;if((()=>{if(!ae){ae=!0;const ne=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",se=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";ne&&(ie.set("int64",BigInt64Array),ee.set(BigInt64Array,"int64")),se&&(ie.set("uint64",BigUint64Array),ee.set(BigUint64Array,"uint64"))}})(),typeof Z=="string")if(R=Z,K=W,Z==="string"){if(!Array.isArray(Y))throw new TypeError("A string tensor's data must be a string array.");U=Y}else{const ne=ie.get(Z);if(ne===void 0)throw new TypeError(`Unsupported tensor type: ${Z}.`);if(Array.isArray(Y)){if(Z==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");U=Z==="uint64"||Z==="int64"?ne.from(Y,BigInt):ne.from(Y)}else{if(!(Y instanceof ne))throw new TypeError(`A ${R} tensor's data must be type of ${ne}`);U=Y}}else if(K=Y,Array.isArray(Z)){if(Z.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const ne=typeof Z[0];if(ne==="string")R="string",U=Z;else{if(ne!=="boolean")throw new TypeError(`Invalid element type of data array: ${ne}.`);R="bool",U=Uint8Array.from(Z)}}else{const ne=ee.get(Z.constructor);if(ne===void 0)throw new TypeError(`Unsupported type for tensor data: ${Z.constructor}.`);R=ne,U=Z}if(K===void 0)K=[U.length];else if(!Array.isArray(K))throw new TypeError("A tensor's dims must be a number array");const J=(0,re.calculateSize)(K);if(J!==U.length)throw new Error(`Tensor's size(${J}) does not match data length(${U.length}).`);this.dims=K,this.type=R,this.data=U,this.size=J}static async fromImage(Z,Y){return(0,Q.tensorFromImage)(Z,Y)}toDataURL(Z){return(0,te.tensorToDataURL)(this,Z)}toImageData(Z){return(0,te.tensorToImageData)(this,Z)}reshape(Z){return(0,re.tensorReshape)(this,Z)}}},106:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.tensorReshape=X.calculateSize=void 0;const te=oe(963);X.calculateSize=Q=>{let re=1;for(let ie=0;ie<Q.length;ie++){const ee=Q[ie];if(typeof ee!="number"||!Number.isSafeInteger(ee))throw new TypeError(`dims[${ie}] must be an integer, got: ${ee}`);if(ee<0)throw new RangeError(`dims[${ie}] must be a non-negative integer, got: ${ee}`);re*=ee}return re},X.tensorReshape=(Q,re)=>new te.Tensor(Q.type,Q.data,re)},963:(ue,X,oe)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Tensor=void 0;const te=oe(5957);X.Tensor=te.Tensor},9104:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.version=void 0,X.version="1.16.3"},1583:(ue,X)=>{var oe,te=function(Q){Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var re=null;try{re=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function ie(me,we,Ae){this.low=0|me,this.high=0|we,this.unsigned=!!Ae}function ee(me){return(me&&me.__isLong__)===!0}function ae(me){var we=Math.clz32(me&-me);return me?31-we:we}ie.prototype.__isLong__,Object.defineProperty(ie.prototype,"__isLong__",{value:!0}),ie.isLong=ee;var Z={},Y={};function W(me,we){var Ae,Fe,Le;return we?(Le=0<=(me>>>=0)&&me<256)&&(Fe=Y[me])?Fe:(Ae=U(me,0,!0),Le&&(Y[me]=Ae),Ae):(Le=-128<=(me|=0)&&me<128)&&(Fe=Z[me])?Fe:(Ae=U(me,me<0?-1:0,!1),Le&&(Z[me]=Ae),Ae)}function R(me,we){if(isNaN(me))return we?fe:pe;if(we){if(me<0)return fe;if(me>=le)return Se}else{if(me<=-ce)return Ee;if(me+1>=ce)return xe}return me<0?R(-me,we).neg():U(me%se|0,me/se|0,we)}function U(me,we,Ae){return new ie(me,we,Ae)}ie.fromInt=W,ie.fromNumber=R,ie.fromBits=U;var K=Math.pow;function J(me,we,Ae){if(me.length===0)throw Error("empty string");if(typeof we=="number"?(Ae=we,we=!1):we=!!we,me==="NaN"||me==="Infinity"||me==="+Infinity"||me==="-Infinity")return we?fe:pe;if((Ae=Ae||10)<2||36<Ae)throw RangeError("radix");var Fe;if((Fe=me.indexOf("-"))>0)throw Error("interior hyphen");if(Fe===0)return J(me.substring(1),we,Ae).neg();for(var Le=R(K(Ae,8)),Be=pe,je=0;je<me.length;je+=8){var Ve=Math.min(8,me.length-je),Ge=parseInt(me.substring(je,je+Ve),Ae);if(Ve<8){var He=R(K(Ae,Ve));Be=Be.mul(He).add(R(Ge))}else Be=(Be=Be.mul(Le)).add(R(Ge))}return Be.unsigned=we,Be}function ne(me,we){return typeof me=="number"?R(me,we):typeof me=="string"?J(me,we):U(me.low,me.high,typeof we=="boolean"?we:me.unsigned)}ie.fromString=J,ie.fromValue=ne;var se=4294967296,le=se*se,ce=le/2,de=W(1<<24),pe=W(0);ie.ZERO=pe;var fe=W(0,!0);ie.UZERO=fe;var he=W(1);ie.ONE=he;var be=W(1,!0);ie.UONE=be;var Te=W(-1);ie.NEG_ONE=Te;var xe=U(-1,2147483647,!1);ie.MAX_VALUE=xe;var Se=U(-1,-1,!0);ie.MAX_UNSIGNED_VALUE=Se;var Ee=U(0,-2147483648,!1);ie.MIN_VALUE=Ee;var ye=ie.prototype;ye.toInt=function(){return this.unsigned?this.low>>>0:this.low},ye.toNumber=function(){return this.unsigned?(this.high>>>0)*se+(this.low>>>0):this.high*se+(this.low>>>0)},ye.toString=function(me){if((me=me||10)<2||36<me)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ee)){var we=R(me),Ae=this.div(we),Fe=Ae.mul(we).sub(this);return Ae.toString(me)+Fe.toInt().toString(me)}return"-"+this.neg().toString(me)}for(var Le=R(K(me,6),this.unsigned),Be=this,je="";;){var Ve=Be.div(Le),Ge=(Be.sub(Ve.mul(Le)).toInt()>>>0).toString(me);if((Be=Ve).isZero())return Ge+je;for(;Ge.length<6;)Ge="0"+Ge;je=""+Ge+je}},ye.getHighBits=function(){return this.high},ye.getHighBitsUnsigned=function(){return this.high>>>0},ye.getLowBits=function(){return this.low},ye.getLowBitsUnsigned=function(){return this.low>>>0},ye.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ee)?64:this.neg().getNumBitsAbs();for(var me=this.high!=0?this.high:this.low,we=31;we>0&&!(me&1<<we);we--);return this.high!=0?we+33:we+1},ye.isZero=function(){return this.high===0&&this.low===0},ye.eqz=ye.isZero,ye.isNegative=function(){return!this.unsigned&&this.high<0},ye.isPositive=function(){return this.unsigned||this.high>=0},ye.isOdd=function(){return(1&this.low)==1},ye.isEven=function(){return(1&this.low)==0},ye.equals=function(me){return ee(me)||(me=ne(me)),(this.unsigned===me.unsigned||this.high>>>31!=1||me.high>>>31!=1)&&this.high===me.high&&this.low===me.low},ye.eq=ye.equals,ye.notEquals=function(me){return!this.eq(me)},ye.neq=ye.notEquals,ye.ne=ye.notEquals,ye.lessThan=function(me){return this.comp(me)<0},ye.lt=ye.lessThan,ye.lessThanOrEqual=function(me){return this.comp(me)<=0},ye.lte=ye.lessThanOrEqual,ye.le=ye.lessThanOrEqual,ye.greaterThan=function(me){return this.comp(me)>0},ye.gt=ye.greaterThan,ye.greaterThanOrEqual=function(me){return this.comp(me)>=0},ye.gte=ye.greaterThanOrEqual,ye.ge=ye.greaterThanOrEqual,ye.compare=function(me){if(ee(me)||(me=ne(me)),this.eq(me))return 0;var we=this.isNegative(),Ae=me.isNegative();return we&&!Ae?-1:!we&&Ae?1:this.unsigned?me.high>>>0>this.high>>>0||me.high===this.high&&me.low>>>0>this.low>>>0?-1:1:this.sub(me).isNegative()?-1:1},ye.comp=ye.compare,ye.negate=function(){return!this.unsigned&&this.eq(Ee)?Ee:this.not().add(he)},ye.neg=ye.negate,ye.add=function(me){ee(me)||(me=ne(me));var we=this.high>>>16,Ae=65535&this.high,Fe=this.low>>>16,Le=65535&this.low,Be=me.high>>>16,je=65535&me.high,Ve=me.low>>>16,Ge=0,He=0,Ke=0,Ye=0;return Ke+=(Ye+=Le+(65535&me.low))>>>16,He+=(Ke+=Fe+Ve)>>>16,Ge+=(He+=Ae+je)>>>16,Ge+=we+Be,U((Ke&=65535)<<16|(Ye&=65535),(Ge&=65535)<<16|(He&=65535),this.unsigned)},ye.subtract=function(me){return ee(me)||(me=ne(me)),this.add(me.neg())},ye.sub=ye.subtract,ye.multiply=function(me){if(this.isZero())return this;if(ee(me)||(me=ne(me)),re)return U(re.mul(this.low,this.high,me.low,me.high),re.get_high(),this.unsigned);if(me.isZero())return this.unsigned?fe:pe;if(this.eq(Ee))return me.isOdd()?Ee:pe;if(me.eq(Ee))return this.isOdd()?Ee:pe;if(this.isNegative())return me.isNegative()?this.neg().mul(me.neg()):this.neg().mul(me).neg();if(me.isNegative())return this.mul(me.neg()).neg();if(this.lt(de)&&me.lt(de))return R(this.toNumber()*me.toNumber(),this.unsigned);var we=this.high>>>16,Ae=65535&this.high,Fe=this.low>>>16,Le=65535&this.low,Be=me.high>>>16,je=65535&me.high,Ve=me.low>>>16,Ge=65535&me.low,He=0,Ke=0,Ye=0,Ze=0;return Ye+=(Ze+=Le*Ge)>>>16,Ke+=(Ye+=Fe*Ge)>>>16,Ye&=65535,Ke+=(Ye+=Le*Ve)>>>16,He+=(Ke+=Ae*Ge)>>>16,Ke&=65535,He+=(Ke+=Fe*Ve)>>>16,Ke&=65535,He+=(Ke+=Le*je)>>>16,He+=we*Ge+Ae*Ve+Fe*je+Le*Be,U((Ye&=65535)<<16|(Ze&=65535),(He&=65535)<<16|(Ke&=65535),this.unsigned)},ye.mul=ye.multiply,ye.divide=function(me){if(ee(me)||(me=ne(me)),me.isZero())throw Error("division by zero");var we,Ae,Fe;if(re)return this.unsigned||this.high!==-2147483648||me.low!==-1||me.high!==-1?U((this.unsigned?re.div_u:re.div_s)(this.low,this.high,me.low,me.high),re.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?fe:pe;if(this.unsigned){if(me.unsigned||(me=me.toUnsigned()),me.gt(this))return fe;if(me.gt(this.shru(1)))return be;Fe=fe}else{if(this.eq(Ee))return me.eq(he)||me.eq(Te)?Ee:me.eq(Ee)?he:(we=this.shr(1).div(me).shl(1)).eq(pe)?me.isNegative()?he:Te:(Ae=this.sub(me.mul(we)),Fe=we.add(Ae.div(me)));if(me.eq(Ee))return this.unsigned?fe:pe;if(this.isNegative())return me.isNegative()?this.neg().div(me.neg()):this.neg().div(me).neg();if(me.isNegative())return this.div(me.neg()).neg();Fe=pe}for(Ae=this;Ae.gte(me);){we=Math.max(1,Math.floor(Ae.toNumber()/me.toNumber()));for(var Le=Math.ceil(Math.log(we)/Math.LN2),Be=Le<=48?1:K(2,Le-48),je=R(we),Ve=je.mul(me);Ve.isNegative()||Ve.gt(Ae);)Ve=(je=R(we-=Be,this.unsigned)).mul(me);je.isZero()&&(je=he),Fe=Fe.add(je),Ae=Ae.sub(Ve)}return Fe},ye.div=ye.divide,ye.modulo=function(me){return ee(me)||(me=ne(me)),re?U((this.unsigned?re.rem_u:re.rem_s)(this.low,this.high,me.low,me.high),re.get_high(),this.unsigned):this.sub(this.div(me).mul(me))},ye.mod=ye.modulo,ye.rem=ye.modulo,ye.not=function(){return U(~this.low,~this.high,this.unsigned)},ye.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},ye.clz=ye.countLeadingZeros,ye.countTrailingZeros=function(){return this.low?ae(this.low):ae(this.high)+32},ye.ctz=ye.countTrailingZeros,ye.and=function(me){return ee(me)||(me=ne(me)),U(this.low&me.low,this.high&me.high,this.unsigned)},ye.or=function(me){return ee(me)||(me=ne(me)),U(this.low|me.low,this.high|me.high,this.unsigned)},ye.xor=function(me){return ee(me)||(me=ne(me)),U(this.low^me.low,this.high^me.high,this.unsigned)},ye.shiftLeft=function(me){return ee(me)&&(me=me.toInt()),(me&=63)==0?this:me<32?U(this.low<<me,this.high<<me|this.low>>>32-me,this.unsigned):U(0,this.low<<me-32,this.unsigned)},ye.shl=ye.shiftLeft,ye.shiftRight=function(me){return ee(me)&&(me=me.toInt()),(me&=63)==0?this:me<32?U(this.low>>>me|this.high<<32-me,this.high>>me,this.unsigned):U(this.high>>me-32,this.high>=0?0:-1,this.unsigned)},ye.shr=ye.shiftRight,ye.shiftRightUnsigned=function(me){return ee(me)&&(me=me.toInt()),(me&=63)==0?this:me<32?U(this.low>>>me|this.high<<32-me,this.high>>>me,this.unsigned):U(me===32?this.high:this.high>>>me-32,0,this.unsigned)},ye.shru=ye.shiftRightUnsigned,ye.shr_u=ye.shiftRightUnsigned,ye.rotateLeft=function(me){var we;return ee(me)&&(me=me.toInt()),(me&=63)==0?this:me===32?U(this.high,this.low,this.unsigned):me<32?(we=32-me,U(this.low<<me|this.high>>>we,this.high<<me|this.low>>>we,this.unsigned)):(we=32-(me-=32),U(this.high<<me|this.low>>>we,this.low<<me|this.high>>>we,this.unsigned))},ye.rotl=ye.rotateLeft,ye.rotateRight=function(me){var we;return ee(me)&&(me=me.toInt()),(me&=63)==0?this:me===32?U(this.high,this.low,this.unsigned):me<32?(we=32-me,U(this.high<<we|this.low>>>me,this.low<<we|this.high>>>me,this.unsigned)):(we=32-(me-=32),U(this.low<<we|this.high>>>me,this.high<<we|this.low>>>me,this.unsigned))},ye.rotr=ye.rotateRight,ye.toSigned=function(){return this.unsigned?U(this.low,this.high,!1):this},ye.toUnsigned=function(){return this.unsigned?this:U(this.low,this.high,!0)},ye.toBytes=function(me){return me?this.toBytesLE():this.toBytesBE()},ye.toBytesLE=function(){var me=this.high,we=this.low;return[255&we,we>>>8&255,we>>>16&255,we>>>24,255&me,me>>>8&255,me>>>16&255,me>>>24]},ye.toBytesBE=function(){var me=this.high,we=this.low;return[me>>>24,me>>>16&255,me>>>8&255,255&me,we>>>24,we>>>16&255,we>>>8&255,255&we]},ie.fromBytes=function(me,we,Ae){return Ae?ie.fromBytesLE(me,we):ie.fromBytesBE(me,we)},ie.fromBytesLE=function(me,we){return new ie(me[0]|me[1]<<8|me[2]<<16|me[3]<<24,me[4]|me[5]<<8|me[6]<<16|me[7]<<24,we)},ie.fromBytesBE=function(me,we){return new ie(me[4]<<24|me[5]<<16|me[6]<<8|me[7],me[0]<<24|me[1]<<16|me[2]<<8|me[3],we)};var Ce=ie;return Q.default=Ce,"default"in Q?Q.default:Q}({});(oe=(function(){return te}).apply(X,[]))===void 0||(ue.exports=oe)},5686:(ue,X,oe)=>{oe.r(X),oe.d(X,{flatbuffers:()=>te});var te={};te.Offset,te.Table,te.SIZEOF_SHORT=2,te.SIZEOF_INT=4,te.FILE_IDENTIFIER_LENGTH=4,te.SIZE_PREFIX_LENGTH=4,te.Encoding={UTF8_BYTES:1,UTF16_STRING:2},te.int32=new Int32Array(2),te.float32=new Float32Array(te.int32.buffer),te.float64=new Float64Array(te.int32.buffer),te.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,te.Long=function(Q,re){this.low=0|Q,this.high=0|re},te.Long.create=function(Q,re){return Q==0&&re==0?te.Long.ZERO:new te.Long(Q,re)},te.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},te.Long.prototype.equals=function(Q){return this.low==Q.low&&this.high==Q.high},te.Long.ZERO=new te.Long(0,0),te.Builder=function(Q){if(Q)re=Q;else var re=1024;this.bb=te.ByteBuffer.allocate(re),this.space=re,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},te.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},te.Builder.prototype.forceDefaults=function(Q){this.force_defaults=Q},te.Builder.prototype.dataBuffer=function(){return this.bb},te.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},te.Builder.prototype.prep=function(Q,re){Q>this.minalign&&(this.minalign=Q);for(var ie=1+~(this.bb.capacity()-this.space+re)&Q-1;this.space<ie+Q+re;){var ee=this.bb.capacity();this.bb=te.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-ee}this.pad(ie)},te.Builder.prototype.pad=function(Q){for(var re=0;re<Q;re++)this.bb.writeInt8(--this.space,0)},te.Builder.prototype.writeInt8=function(Q){this.bb.writeInt8(this.space-=1,Q)},te.Builder.prototype.writeInt16=function(Q){this.bb.writeInt16(this.space-=2,Q)},te.Builder.prototype.writeInt32=function(Q){this.bb.writeInt32(this.space-=4,Q)},te.Builder.prototype.writeInt64=function(Q){this.bb.writeInt64(this.space-=8,Q)},te.Builder.prototype.writeFloat32=function(Q){this.bb.writeFloat32(this.space-=4,Q)},te.Builder.prototype.writeFloat64=function(Q){this.bb.writeFloat64(this.space-=8,Q)},te.Builder.prototype.addInt8=function(Q){this.prep(1,0),this.writeInt8(Q)},te.Builder.prototype.addInt16=function(Q){this.prep(2,0),this.writeInt16(Q)},te.Builder.prototype.addInt32=function(Q){this.prep(4,0),this.writeInt32(Q)},te.Builder.prototype.addInt64=function(Q){this.prep(8,0),this.writeInt64(Q)},te.Builder.prototype.addFloat32=function(Q){this.prep(4,0),this.writeFloat32(Q)},te.Builder.prototype.addFloat64=function(Q){this.prep(8,0),this.writeFloat64(Q)},te.Builder.prototype.addFieldInt8=function(Q,re,ie){(this.force_defaults||re!=ie)&&(this.addInt8(re),this.slot(Q))},te.Builder.prototype.addFieldInt16=function(Q,re,ie){(this.force_defaults||re!=ie)&&(this.addInt16(re),this.slot(Q))},te.Builder.prototype.addFieldInt32=function(Q,re,ie){(this.force_defaults||re!=ie)&&(this.addInt32(re),this.slot(Q))},te.Builder.prototype.addFieldInt64=function(Q,re,ie){!this.force_defaults&&re.equals(ie)||(this.addInt64(re),this.slot(Q))},te.Builder.prototype.addFieldFloat32=function(Q,re,ie){(this.force_defaults||re!=ie)&&(this.addFloat32(re),this.slot(Q))},te.Builder.prototype.addFieldFloat64=function(Q,re,ie){(this.force_defaults||re!=ie)&&(this.addFloat64(re),this.slot(Q))},te.Builder.prototype.addFieldOffset=function(Q,re,ie){(this.force_defaults||re!=ie)&&(this.addOffset(re),this.slot(Q))},te.Builder.prototype.addFieldStruct=function(Q,re,ie){re!=ie&&(this.nested(re),this.slot(Q))},te.Builder.prototype.nested=function(Q){if(Q!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},te.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},te.Builder.prototype.slot=function(Q){this.vtable[Q]=this.offset()},te.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},te.Builder.growByteBuffer=function(Q){var re=Q.capacity();if(3221225472&re)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var ie=re<<1,ee=te.ByteBuffer.allocate(ie);return ee.setPosition(ie-re),ee.bytes().set(Q.bytes(),ie-re),ee},te.Builder.prototype.addOffset=function(Q){this.prep(te.SIZEOF_INT,0),this.writeInt32(this.offset()-Q+te.SIZEOF_INT)},te.Builder.prototype.startObject=function(Q){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=Q;for(var re=0;re<Q;re++)this.vtable[re]=0;this.isNested=!0,this.object_start=this.offset()},te.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var Q=this.offset(),re=this.vtable_in_use-1;re>=0&&this.vtable[re]==0;re--);for(var ie=re+1;re>=0;re--)this.addInt16(this.vtable[re]!=0?Q-this.vtable[re]:0);this.addInt16(Q-this.object_start);var ee=(ie+2)*te.SIZEOF_SHORT;this.addInt16(ee);var ae=0,Z=this.space;e:for(re=0;re<this.vtables.length;re++){var Y=this.bb.capacity()-this.vtables[re];if(ee==this.bb.readInt16(Y)){for(var W=te.SIZEOF_SHORT;W<ee;W+=te.SIZEOF_SHORT)if(this.bb.readInt16(Z+W)!=this.bb.readInt16(Y+W))continue e;ae=this.vtables[re];break}}return ae?(this.space=this.bb.capacity()-Q,this.bb.writeInt32(this.space,ae-Q)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-Q,this.offset()-Q)),this.isNested=!1,Q},te.Builder.prototype.finish=function(Q,re,ie){var ee=ie?te.SIZE_PREFIX_LENGTH:0;if(re){var ae=re;if(this.prep(this.minalign,te.SIZEOF_INT+te.FILE_IDENTIFIER_LENGTH+ee),ae.length!=te.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+te.FILE_IDENTIFIER_LENGTH);for(var Z=te.FILE_IDENTIFIER_LENGTH-1;Z>=0;Z--)this.writeInt8(ae.charCodeAt(Z))}this.prep(this.minalign,te.SIZEOF_INT+ee),this.addOffset(Q),ee&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},te.Builder.prototype.finishSizePrefixed=function(Q,re){this.finish(Q,re,!0)},te.Builder.prototype.requiredField=function(Q,re){var ie=this.bb.capacity()-Q,ee=ie-this.bb.readInt32(ie);if(this.bb.readInt16(ee+re)==0)throw new Error("FlatBuffers: field "+re+" must be set")},te.Builder.prototype.startVector=function(Q,re,ie){this.notNested(),this.vector_num_elems=re,this.prep(te.SIZEOF_INT,Q*re),this.prep(ie,Q*re)},te.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},te.Builder.prototype.createString=function(Q){if(Q instanceof Uint8Array)var re=Q;else{re=[];for(var ie=0;ie<Q.length;){var ee,ae=Q.charCodeAt(ie++);(ee=ae<55296||ae>=56320?ae:(ae<<10)+Q.charCodeAt(ie++)+-56613888)<128?re.push(ee):(ee<2048?re.push(ee>>6&31|192):(ee<65536?re.push(ee>>12&15|224):re.push(ee>>18&7|240,ee>>12&63|128),re.push(ee>>6&63|128)),re.push(63&ee|128))}}this.addInt8(0),this.startVector(1,re.length,1),this.bb.setPosition(this.space-=re.length),ie=0;for(var Z=this.space,Y=this.bb.bytes();ie<re.length;ie++)Y[Z++]=re[ie];return this.endVector()},te.Builder.prototype.createLong=function(Q,re){return te.Long.create(Q,re)},te.ByteBuffer=function(Q){this.bytes_=Q,this.position_=0},te.ByteBuffer.allocate=function(Q){return new te.ByteBuffer(new Uint8Array(Q))},te.ByteBuffer.prototype.clear=function(){this.position_=0},te.ByteBuffer.prototype.bytes=function(){return this.bytes_},te.ByteBuffer.prototype.position=function(){return this.position_},te.ByteBuffer.prototype.setPosition=function(Q){this.position_=Q},te.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},te.ByteBuffer.prototype.readInt8=function(Q){return this.readUint8(Q)<<24>>24},te.ByteBuffer.prototype.readUint8=function(Q){return this.bytes_[Q]},te.ByteBuffer.prototype.readInt16=function(Q){return this.readUint16(Q)<<16>>16},te.ByteBuffer.prototype.readUint16=function(Q){return this.bytes_[Q]|this.bytes_[Q+1]<<8},te.ByteBuffer.prototype.readInt32=function(Q){return this.bytes_[Q]|this.bytes_[Q+1]<<8|this.bytes_[Q+2]<<16|this.bytes_[Q+3]<<24},te.ByteBuffer.prototype.readUint32=function(Q){return this.readInt32(Q)>>>0},te.ByteBuffer.prototype.readInt64=function(Q){return new te.Long(this.readInt32(Q),this.readInt32(Q+4))},te.ByteBuffer.prototype.readUint64=function(Q){return new te.Long(this.readUint32(Q),this.readUint32(Q+4))},te.ByteBuffer.prototype.readFloat32=function(Q){return te.int32[0]=this.readInt32(Q),te.float32[0]},te.ByteBuffer.prototype.readFloat64=function(Q){return te.int32[te.isLittleEndian?0:1]=this.readInt32(Q),te.int32[te.isLittleEndian?1:0]=this.readInt32(Q+4),te.float64[0]},te.ByteBuffer.prototype.writeInt8=function(Q,re){this.bytes_[Q]=re},te.ByteBuffer.prototype.writeUint8=function(Q,re){this.bytes_[Q]=re},te.ByteBuffer.prototype.writeInt16=function(Q,re){this.bytes_[Q]=re,this.bytes_[Q+1]=re>>8},te.ByteBuffer.prototype.writeUint16=function(Q,re){this.bytes_[Q]=re,this.bytes_[Q+1]=re>>8},te.ByteBuffer.prototype.writeInt32=function(Q,re){this.bytes_[Q]=re,this.bytes_[Q+1]=re>>8,this.bytes_[Q+2]=re>>16,this.bytes_[Q+3]=re>>24},te.ByteBuffer.prototype.writeUint32=function(Q,re){this.bytes_[Q]=re,this.bytes_[Q+1]=re>>8,this.bytes_[Q+2]=re>>16,this.bytes_[Q+3]=re>>24},te.ByteBuffer.prototype.writeInt64=function(Q,re){this.writeInt32(Q,re.low),this.writeInt32(Q+4,re.high)},te.ByteBuffer.prototype.writeUint64=function(Q,re){this.writeUint32(Q,re.low),this.writeUint32(Q+4,re.high)},te.ByteBuffer.prototype.writeFloat32=function(Q,re){te.float32[0]=re,this.writeInt32(Q,te.int32[0])},te.ByteBuffer.prototype.writeFloat64=function(Q,re){te.float64[0]=re,this.writeInt32(Q,te.int32[te.isLittleEndian?0:1]),this.writeInt32(Q+4,te.int32[te.isLittleEndian?1:0])},te.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+te.SIZEOF_INT+te.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var Q="",re=0;re<te.FILE_IDENTIFIER_LENGTH;re++)Q+=String.fromCharCode(this.readInt8(this.position_+te.SIZEOF_INT+re));return Q},te.ByteBuffer.prototype.__offset=function(Q,re){var ie=Q-this.readInt32(Q);return re<this.readInt16(ie)?this.readInt16(ie+re):0},te.ByteBuffer.prototype.__union=function(Q,re){return Q.bb_pos=re+this.readInt32(re),Q.bb=this,Q},te.ByteBuffer.prototype.__string=function(Q,re){Q+=this.readInt32(Q);var ie=this.readInt32(Q),ee="",ae=0;if(Q+=te.SIZEOF_INT,re===te.Encoding.UTF8_BYTES)return this.bytes_.subarray(Q,Q+ie);for(;ae<ie;){var Z,Y=this.readUint8(Q+ae++);if(Y<192)Z=Y;else{var W=this.readUint8(Q+ae++);if(Y<224)Z=(31&Y)<<6|63&W;else{var R=this.readUint8(Q+ae++);Z=Y<240?(15&Y)<<12|(63&W)<<6|63&R:(7&Y)<<18|(63&W)<<12|(63&R)<<6|63&this.readUint8(Q+ae++)}}Z<65536?ee+=String.fromCharCode(Z):(Z-=65536,ee+=String.fromCharCode(55296+(Z>>10),56320+(1023&Z)))}return ee},te.ByteBuffer.prototype.__indirect=function(Q){return Q+this.readInt32(Q)},te.ByteBuffer.prototype.__vector=function(Q){return Q+this.readInt32(Q)+te.SIZEOF_INT},te.ByteBuffer.prototype.__vector_len=function(Q){return this.readInt32(Q+this.readInt32(Q))},te.ByteBuffer.prototype.__has_identifier=function(Q){if(Q.length!=te.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+te.FILE_IDENTIFIER_LENGTH);for(var re=0;re<te.FILE_IDENTIFIER_LENGTH;re++)if(Q.charCodeAt(re)!=this.readInt8(this.position_+te.SIZEOF_INT+re))return!1;return!0},te.ByteBuffer.prototype.createLong=function(Q,re){return te.Long.create(Q,re)}}},__webpack_module_cache__={};function __webpack_require__(ue){var X=__webpack_module_cache__[ue];if(X!==void 0)return X.exports;var oe=__webpack_module_cache__[ue]={exports:{}};return __webpack_modules__[ue].call(oe.exports,oe,oe.exports,__webpack_require__),oe.exports}__webpack_require__.n=ue=>{var X=ue&&ue.__esModule?()=>ue.default:()=>ue;return __webpack_require__.d(X,{a:X}),X},__webpack_require__.d=(ue,X)=>{for(var oe in X)__webpack_require__.o(X,oe)&&!__webpack_require__.o(ue,oe)&&Object.defineProperty(ue,oe,{enumerable:!0,get:X[oe]})},__webpack_require__.o=(ue,X)=>Object.prototype.hasOwnProperty.call(ue,X),__webpack_require__.r=ue=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ue,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ue,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(1057);return __webpack_exports__})())})(ort_min);var ort_minExports=ort_min.exports;const HEATMAP_PRIOR=[.013157894736842105,.03070175438596491,.03070175438596491,.03070175438596491,.02631578947368421,0,.0043859649122807015,.0043859649122807015,0,.0043859649122807015,0,.0043859649122807015,.0043859649122807015,0,0,0,0,.0043859649122807015,0,.013157894736842105,.0043859649122807015,.0043859649122807015,.008771929824561403,.017543859649122806,.0043859649122807015,.06578947368421052,.043859649122807015,.10526315789473684,.043859649122807015,.017543859649122806,0,0,0,0,.0043859649122807015,0,.0043859649122807015,0,0,.0043859649122807015,0,.0043859649122807015,0,0,.0043859649122807015,0,.0043859649122807015,.017543859649122806,.02631578947368421,.09649122807017543,.08771929824561403,.17543859649122806,.12280701754385964,0,.008771929824561403,0,0,0,.0043859649122807015,0,0,0,0,0,0,0,0,0,0,.008771929824561403,.021929824561403508,.039473684210526314,.02631578947368421,.14473684210526316,.10526315789473684,.12719298245614036,.11403508771929824,.008771929824561403,0,0,0,0,0,0,0,0,0,0,0,0,0,.0043859649122807015,.0043859649122807015,.017543859649122806,0,.013157894736842105,.008771929824561403,.05701754385964912,.08771929824561403,.19736842105263158,.08333333333333333,.0043859649122807015,.0043859649122807015,0,.013157894736842105,0,0,0,0,0,0,0,0,0,0,.0043859649122807015,.008771929824561403,.0043859649122807015,.017543859649122806,.008771929824561403,.0043859649122807015,.04824561403508772,.043859649122807015,.043859649122807015,.021929824561403508,.013215859030837005,.004405286343612335,0,0,0,.004405286343612335,0,0,.004405286343612335,0,0,0,0,0,0,0,.004405286343612335,.01762114537444934,.013215859030837005,.004405286343612335,.11013215859030837,.08370044052863436,.08370044052863436,.030837004405286344,.004405286343612335,.00881057268722467,0,0,0,0,0,0,.00881057268722467,0,.004405286343612335,0,0,0,0,.008771929824561403,.0043859649122807015,.013157894736842105,.013157894736842105],MODEL_THRESHOLD=.5560890436172485;ort_minExports.env.wasm.wasmPaths="./";const TIMEZONES=(()=>{const ue=[];for(let X=-12;X<=14;X++){const te=`UTC${X>=0?"+":""}${X}`,Q=`Etc/GMT${X>0?"-":"+"}${Math.abs(X)}`;ue.push({label:te,value:Q})}return ue})();class Forecast extends k{constructor(){super();wt(this,"session",null);wt(this,"mounted",!1);wt(this,"localTimezone");wt(this,"updateView",async()=>{if(!this.session||!this.mounted)return;this.setState({status:"Syncing..."});let oe;try{oe=await getForecastHistory()}catch(le){console.error(le),this.setState({status:"Sync Error."});return}if(!oe||oe.length===0){this.setState({status:"No Data"});return}this.setState({status:"Processing..."});const te=await getScheduledStreams(),Q=oe[0],re=Q.status==="live",ie=Q.actualStart||Q.availableAt,ee=new Date(ie);let ae;if(re)ae=new Date;else{const le=Q.actualEnd||ie;ae=new Date(le)}let Z=(ae.getTime()-ee.getTime())/(1e3*3600);Z<0&&(Z=0);const Y=new Date;let W=new Date(Y);W.setMinutes(0,0,0),W.setHours(W.getHours()+1);const R=[],U=[],K=le=>{const ce=le.getTime();for(let de of oe){if(!de.actualStart)continue;const pe=new Date(de.actualStart).getTime();if(pe>=ce&&pe<ce+36e5)return 1}return 0},J=oe.length||1,se=[0,1,2,3,4,5,6].map(le=>oe.filter(de=>de.actualStart?new Date(de.actualStart).getUTCDay()===le:!1).length/J*.2);for(let le=0;le<200;le++){const ce=new Date(W.getTime()+le*3600*1e3);U.push(ce);const de=ce.getUTCHours(),pe=ce.getUTCDay(),fe=Math.sin(2*Math.PI*de/24),he=Math.cos(2*Math.PI*de/24),be=Math.sin(2*Math.PI*pe/7),Te=Math.cos(2*Math.PI*pe/7),xe=(ce.getTime()-ae.getTime())/(1e3*3600),Se=(ce.getTime()-ee.getTime())/(1e3*3600),Ee=new Date(ce.getTime()-24*3600*1e3),ye=new Date(ce.getTime()-168*3600*1e3),Ce=new Date(ce.getTime()-14*24*3600*1e3),me=new Date(ce.getTime()-21*24*3600*1e3),we=K(Ee),Ae=K(ye),Fe=K(Ce),Le=K(me),Be=oe.filter(et=>{if(!et.actualStart)return!1;const ot=new Date(et.actualStart).getTime(),ut=ce.getTime()-ot;return ut>0&&ut<3*24*3600*1e3}).length,je=oe.filter(et=>{if(!et.actualStart)return!1;const ot=new Date(et.actualStart).getTime(),ut=ce.getTime()-ot;return ut>0&&ut<7*24*3600*1e3}).length,Ve=oe.filter(et=>{if(!et.actualStart)return!1;const ot=new Date(et.actualStart).getTime(),ut=ce.getTime()-ot;return ut>0&&ut<14*24*3600*1e3}).length,Ge=Be/(Ve/4.6+.1),He=se[pe],Ke=pe*24+de,Ye=HEATMAP_PRIOR[Ke]||0,Ze=xe/24;R.push(fe,he,be,Te,xe,Se,Z,we,Ae,Fe,Le,je,He,Ge,Ze,Ye)}try{const ce={float_input:new ort_minExports.Tensor("float32",Float32Array.from(R),[200,16])},de=await this.session.run(ce),pe=this.session.outputNames[1]||this.session.outputNames[0],fe=de[pe].data,he=[];for(let be=0;be<200;be++)he.push(fe[be*2+1]);this.processForecast(U,he,te),this.mounted&&this.setState({status:"Ready"})}catch(le){console.error("Inference Error:",le),this.mounted&&this.setState({status:"Prediction Error"})}});wt(this,"handleTimezoneChange",oe=>{this.setState({timezone:oe.target.value},()=>{this.updateView()})});this.localTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",this.state={status:"Initializing...",days:[],timezone:this.localTimezone}}async componentDidMount(){this.mounted=!0;try{this.session=await ort_minExports.InferenceSession.create("model.onnx",{executionProviders:["wasm"]}),this.updateView()}catch(oe){console.error("Model Load Error:",oe),this.mounted&&this.setState({status:"Error loading model."})}}componentWillUnmount(){this.mounted=!1}processForecast(oe,te,Q){const re={},{timezone:ie}=this.state,ee=[];oe.forEach((Z,Y)=>{const W=Z.toLocaleDateString("en-US",{weekday:"short",day:"numeric",timeZone:ie}),R=new Intl.DateTimeFormat("en-US",{hour:"numeric",hourCycle:"h23",timeZone:ie}).format(Z),U=parseInt(R);re[W]||(ee.push(W),re[W]={name:W,probs:new Array(24).fill(0),scheduledProbs:new Array(24).fill(0),maxProb:0,highProbCount:0});const K=te[Y];re[W].probs[U]!==void 0&&(re[W].probs[U]=K);let J=0;if(Q&&Q.length>0)for(let ne of Q){const se=ne.scheduledStart||ne.availableAt;if(!se)continue;const le=new Date(se).getTime(),ce=Z.getTime();if(ce>=le){const de=(ce-le)/36e5;if(de<1)J=Math.max(J,.995);else{const pe=.995/(1+Math.exp(2*(de-3.27)));J=Math.max(J,pe)}}}re[W].scheduledProbs[U]!==void 0&&(re[W].scheduledProbs[U]=J),K>re[W].maxProb&&(re[W].maxProb=K),J>re[W].maxProb&&(re[W].maxProb=J),(K>=MODEL_THRESHOLD||J>=MODEL_THRESHOLD)&&re[W].highProbCount++});const ae=ee.slice(0,7).map(Z=>re[Z]);this.setState({days:ae})}renderSparkline(oe,te,Q=null){const re=U=>U.map((K,J)=>{const ne=J/23*100,le=95-Math.max(0,Math.min(1,K))*90;return`${ne},${le}`}),ie=re(oe),ee=re(te),ae=`M ${ie.join(" L ")}`,Z=`M 0,100 L ${ie.join(" L ")} L 100,100 Z`,Y=`M ${ee.join(" L ")}`,W=`M 0,100 L ${ee.join(" L ")} L 100,100 Z`,R=te.some(U=>U>.1);return u("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",style:"width:100%; height:100%; overflow: visible;",children:[R&&u(b,{children:[u("path",{d:W,fill:"rgba(33, 150, 243, 0.2)",stroke:"none"}),u("path",{d:Y,stroke:"#2196f3","stroke-width":"2",fill:"none","stroke-dasharray":"4",vectorEffect:"non-scaling-stroke",style:{vectorEffect:"non-scaling-stroke",opacity:.8}})]}),u("path",{d:Z,class:"sparkline-fill"}),u("path",{d:ae,class:"sparkline-path",vectorEffect:"non-scaling-stroke",style:{vectorEffect:"non-scaling-stroke"}}),Q!==null&&u("line",{x1:Q,y1:"0",x2:Q,y2:"100",stroke:"#00bfff","stroke-width":"1.5",vectorEffect:"non-scaling-stroke",style:{vectorEffect:"non-scaling-stroke",opacity:.8}})]})}render(){var Y,W;const{days:oe,timezone:te}=this.state,Q=new Date,re=Q.toLocaleDateString("en-US",{weekday:"short",day:"numeric",timeZone:te}),ie=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hourCycle:"h23",timeZone:te}).formatToParts(Q),ee=parseInt(((Y=ie.find(R=>R.type==="hour"))==null?void 0:Y.value)||"0"),ae=parseInt(((W=ie.find(R=>R.type==="minute"))==null?void 0:W.value)||"0"),Z=(ee+ae/60)/23*100;return u("div",{class:"forecast-section",children:[u("div",{class:"forecast-controls-bar",children:[u("h3",{class:"forecast-header serif",children:"7-DAY KRONIIUM FORECAST"}),u("div",{class:"forecast-actions",children:[u("select",{class:"timezone-select",value:te,onChange:this.handleTimezoneChange,children:[u("option",{value:this.localTimezone,children:["Local (",this.localTimezone,")"]}),TIMEZONES.map(R=>u("option",{value:R.value,children:R.label}))]}),u("button",{class:"icon-btn material-icons",onClick:this.updateView,title:"Refresh",children:"refresh"})]})]}),u("div",{class:"forecast-grid",children:oe.map(R=>{const U=R.maxProb>=MODEL_THRESHOLD,K=R.name===re;return u("div",{class:`day-card ${U?"active":""}`,children:[u("span",{class:"day-header",children:R.name}),u("span",{class:`material-icons day-icon ${U?"active":"inactive"}`,children:U?"alarm_on":"alarm_off"}),u("span",{class:"day-prob",children:[(R.maxProb*100).toFixed(0),"%"]}),u("div",{class:"sparkline-container",children:this.renderSparkline(R.probs,R.scheduledProbs,K?Z:null)})]})})})]})}}class Doko extends k{constructor(){super(),this.state={loading:!0,data:{live:!1,krlastdate:new Date,krlasttitle:"",krlastid:"",krnext:!1,krnexttitle:"",krnextdate:new Date,krnextid:""}}}componentDidMount(){getKrData().then(X=>this.setState({loading:!1,data:{live:X.live,krlastdate:X.krlastdate,krlasttitle:X.krlasttitle,krlastid:X.krlastid,krnext:X.krnext,krnexttitle:X.krnexttitle,krnextdate:X.krnextdate,krnextid:X.krnextid}}))}render(X){const{loading:oe,data:te}=this.state,Q=!X.hideForecast;if(oe)return u(b,{children:u("h3",{children:"asking holodex nicely..."})});const re=`${te.krlastdate.toLocaleDateString()} ${te.krlastdate.toLocaleTimeString()}`,ie=`${te.krnextdate.toLocaleDateString()} ${te.krnextdate.toLocaleTimeString()}`;return te.live?u(b,{children:[u("h2",{class:"serif",children:"KRONII KOKO!!!"}),u("h3",{class:"serif",children:u("a",{href:"https://youtube.com/watch?v="+te.krnextid,children:te.krnexttitle})}),Q&&u(Forecast,{})]}):u(b,{children:[u("div",{class:"doko-section",children:[u("h3",{class:"serif section-header",children:"THE WARDEN HAS BEEN AWAY FOR"}),u("div",{style:{display:"flex",justifyContent:"center"},children:u(TimeSinceKronii,{krdate:te.krlastdate,transparent:!Q})})]}),u("div",{class:"doko-section",id:"laststream",children:[u("h3",{class:"serif section-header",children:"NO KRONIIUM SINCE"}),u("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[u("div",{class:`info-card-box ${Q?"":"transparent"}`,children:u("h2",{class:"date-display",children:re})}),Q&&te.krlasttitle&&u("div",{class:"last-seen-container",children:[u("h3",{class:"serif",children:"LAST SEEN AT"}),u("h3",{class:"serif",children:u("a",{href:"https://youtube.com/watch?v="+te.krlastid,children:te.krlasttitle})})]})]})]}),X.next?te.krnext?u(b,{children:[u("h3",{class:"serif",children:"NEXT SCHEDULED STREAM"}),u("h3",{class:"serif",children:u("a",{href:"https://youtube.com/watch?v="+te.krnextid,children:te.krnexttitle})}),u("h3",{children:"at "+ie})]}):u("div",{class:"no-stream-msg",children:[u("h3",{class:"serif",children:"NO NEXT STREAM CURRENTLY SCHEDULED"}),u("p",{class:"lowtext",children:"according to the holodex API..."})]}):u(b,{}),Q&&u(Forecast,{})]})}}function Logo(ue){return u("svg",{id:ue.id,width:"100%",height:"100%",viewBox:"0 0 879 297",version:"1.1",style:"fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:1.5;",children:u("g",{transform:"matrix(1,0,0,1,-488.609,-299.053)",children:u("g",{id:"clock",children:[u("g",{transform:"matrix(-3.28307,2.06003,-0.645135,-1.02815,3716.77,-735.358)",children:u("path",{d:"M800,450C683.063,333.063 713.38,363.38 656.458,306.458",style:"fill:none;stroke:rgb(255,220,145);stroke-width:1.39px;"})}),u("g",{id:"Layer3",transform:"matrix(0.43285,0.901466,-0.901466,0.43285,859.38,-465.955)",children:[u("g",{transform:"matrix(1.52028,-0.19301,-0.19301,1.52028,-318.734,-81.943)",children:u("path",{d:"M788.478,450L684.75,553.727",style:"fill:none;stroke:"+ue.color+";stroke-width:3.01px;"})}),u("g",{transform:"matrix(1.32727,0,0,1.32727,-261.818,-153.575)",children:u("path",{d:"M800,459.985L653.042,606.943",style:"fill:none;stroke:"+ue.color+";stroke-width:3.01px;"})}),u("g",{transform:"matrix(0.838313,0,0,0.838313,129.35,72.7594)",children:u("path",{d:"M800,450L524.147,725.853",style:"fill:none;stroke:"+ue.color+";stroke-width:4.77px;"})})]}),u("g",{id:"Layer4",transform:"matrix(0.809326,-0.58736,0.58736,0.809326,-111.773,555.691)",children:[u("g",{transform:"matrix(1,0,0,1,1.38183,-1.38183)",children:u("path",{d:"M798.618,451.382L575.325,451.382",style:"fill:none;stroke:"+ue.color+";stroke-width:4px;"})}),u("g",{transform:"matrix(0.936777,0,0,1,51.8728,3.48395)",children:u("path",{d:"M798.618,451.382L575.325,451.382",style:"fill:none;stroke:"+ue.color+";stroke-width:4.13px;"})}),u("g",{transform:"matrix(0.864257,0,0,1,109.789,-6.27356)",children:u("path",{d:"M798.618,451.382L575.325,451.382",style:"fill:none;stroke:"+ue.color+";stroke-width:4.28px;"})}),u("g",{transform:"matrix(0.66622,0,0,1,267.945,-11.1897)",children:u("path",{d:"M798.618,451.382L575.325,451.382",style:"fill:none;stroke:"+ue.color+";stroke-width:4.71px;"})}),u("g",{transform:"matrix(0.742459,0,0,1,207.058,8.34194)",children:u("path",{d:"M798.618,451.382L575.325,451.382",style:"fill:none;stroke:"+ue.color+";stroke-width:4.54px;"})})]}),u("circle",{cx:"800",cy:"450",r:"143.542",style:"fill:none;stroke:"+ue.color+";stroke-width:4px;stroke-linecap:round;"}),u("g",{transform:"matrix(1.22222,0,0,1.22222,-177.778,-100)",children:u("circle",{cx:"800",cy:"450",r:"50.116",style:"fill:"+ue.color+";"})})]})})})}var Button$1={},interopRequireDefault={exports:{}};(function(ue){function X(oe){return oe&&oe.__esModule?oe:{default:oe}}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,createClass={exports:{}},toPropertyKey={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(ue){function X(oe){"@babel/helpers - typeof";return ue.exports=X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},ue.exports.__esModule=!0,ue.exports.default=ue.exports,X(oe)}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(_typeof)),_typeof.exports}var toPrimitive={exports:{}},hasRequiredToPrimitive;function requireToPrimitive(){return hasRequiredToPrimitive||(hasRequiredToPrimitive=1,function(ue){var X=require_typeof().default;function oe(te,Q){if(X(te)!="object"||!te)return te;var re=te[Symbol.toPrimitive];if(re!==void 0){var ie=re.call(te,Q||"default");if(X(ie)!="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(te)}ue.exports=oe,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(toPrimitive)),toPrimitive.exports}var hasRequiredToPropertyKey;function requireToPropertyKey(){return hasRequiredToPropertyKey||(hasRequiredToPropertyKey=1,function(ue){var X=require_typeof().default,oe=requireToPrimitive();function te(Q){var re=oe(Q,"string");return X(re)=="symbol"?re:re+""}ue.exports=te,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(toPropertyKey)),toPropertyKey.exports}var hasRequiredCreateClass;function requireCreateClass(){return hasRequiredCreateClass||(hasRequiredCreateClass=1,function(ue){var X=requireToPropertyKey();function oe(Q,re){for(var ie=0;ie<re.length;ie++){var ee=re[ie];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(Q,X(ee.key),ee)}}function te(Q,re,ie){return re&&oe(Q.prototype,re),ie&&oe(Q,ie),Object.defineProperty(Q,"prototype",{writable:!1}),Q}ue.exports=te,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(createClass)),createClass.exports}var classCallCheck={exports:{}},hasRequiredClassCallCheck;function requireClassCallCheck(){return hasRequiredClassCallCheck||(hasRequiredClassCallCheck=1,function(ue){function X(oe,te){if(!(oe instanceof te))throw new TypeError("Cannot call a class as a function")}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(classCallCheck)),classCallCheck.exports}var possibleConstructorReturn={exports:{}},assertThisInitialized={exports:{}},hasRequiredAssertThisInitialized;function requireAssertThisInitialized(){return hasRequiredAssertThisInitialized||(hasRequiredAssertThisInitialized=1,function(ue){function X(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(assertThisInitialized)),assertThisInitialized.exports}var hasRequiredPossibleConstructorReturn;function requirePossibleConstructorReturn(){return hasRequiredPossibleConstructorReturn||(hasRequiredPossibleConstructorReturn=1,function(ue){var X=require_typeof().default,oe=requireAssertThisInitialized();function te(Q,re){if(re&&(X(re)=="object"||typeof re=="function"))return re;if(re!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oe(Q)}ue.exports=te,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(possibleConstructorReturn)),possibleConstructorReturn.exports}var getPrototypeOf={exports:{}},hasRequiredGetPrototypeOf;function requireGetPrototypeOf(){return hasRequiredGetPrototypeOf||(hasRequiredGetPrototypeOf=1,function(ue){function X(oe){return ue.exports=X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(te){return te.__proto__||Object.getPrototypeOf(te)},ue.exports.__esModule=!0,ue.exports.default=ue.exports,X(oe)}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(getPrototypeOf)),getPrototypeOf.exports}var inherits={exports:{}},setPrototypeOf={exports:{}},hasRequiredSetPrototypeOf;function requireSetPrototypeOf(){return hasRequiredSetPrototypeOf||(hasRequiredSetPrototypeOf=1,function(ue){function X(oe,te){return ue.exports=X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Q,re){return Q.__proto__=re,Q},ue.exports.__esModule=!0,ue.exports.default=ue.exports,X(oe,te)}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(setPrototypeOf)),setPrototypeOf.exports}var hasRequiredInherits;function requireInherits(){return hasRequiredInherits||(hasRequiredInherits=1,function(ue){var X=requireSetPrototypeOf();function oe(te,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(Q&&Q.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),Q&&X(te,Q)}ue.exports=oe,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(inherits)),inherits.exports}const require$$10=getAugmentedNamespace(preact_module);var MaterialComponent={};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */class MDCFoundation{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{}}constructor(X={}){this.adapter_=X}init(){}destroy(){}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */class MDCComponent{static attachTo(X){return new MDCComponent(X,new MDCFoundation)}constructor(X,oe=void 0,...te){this.root_=X,this.initialize(...te),this.foundation_=oe===void 0?this.getDefaultFoundation():oe,this.foundation_.init(),this.initialSyncWithDOM()}initialize(){}getDefaultFoundation(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")}initialSyncWithDOM(){}destroy(){this.foundation_.destroy()}listen(X,oe){this.root_.addEventListener(X,oe)}unlisten(X,oe){this.root_.removeEventListener(X,oe)}emit(X,oe,te=!1){let Q;typeof CustomEvent=="function"?Q=new CustomEvent(X,{detail:oe,bubbles:te}):(Q=document.createEvent("CustomEvent"),Q.initCustomEvent(X,te,!1,oe)),this.root_.dispatchEvent(Q)}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */const cssClasses$1={ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded",BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation"},strings$1={VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end"},numbers$1={PADDING:10,INITIAL_ORIGIN_SCALE:.6,DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,TAP_DELAY_MS:300};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */let supportsCssVariables_,supportsPassive_;function detectEdgePseudoVarBug(ue){const X=ue.document,oe=X.createElement("div");oe.className="mdc-ripple-surface--test-edge-var-bug",X.body.appendChild(oe);const te=ue.getComputedStyle(oe),Q=te!==null&&te.borderTopStyle==="solid";return oe.remove(),Q}function supportsCssVariables(ue,X=!1){let oe=supportsCssVariables_;if(typeof supportsCssVariables_=="boolean"&&!X)return oe;if(!(ue.CSS&&typeof ue.CSS.supports=="function"))return;const Q=ue.CSS.supports("--css-vars","yes"),re=ue.CSS.supports("(--css-vars: yes)")&&ue.CSS.supports("color","#00000000");return Q||re?oe=!detectEdgePseudoVarBug(ue):oe=!1,X||(supportsCssVariables_=oe),oe}function applyPassive(ue=window,X=!1){if(supportsPassive_===void 0||X){let oe=!1;try{ue.document.addEventListener("test",null,{get passive(){oe=!0}})}catch{}supportsPassive_=oe}return supportsPassive_?{passive:!0}:!1}function getMatchesProperty(ue){return["webkitMatchesSelector","msMatchesSelector","matches"].filter(X=>X in ue).pop()}function getNormalizedEventCoords(ue,X,oe){const{x:te,y:Q}=X,re=te+oe.left,ie=Q+oe.top;let ee,ae;return ue.type==="touchstart"?(ee=ue.changedTouches[0].pageX-re,ae=ue.changedTouches[0].pageY-ie):(ee=ue.pageX-re,ae=ue.pageY-ie),{x:ee,y:ae}}const util$1=Object.freeze(Object.defineProperty({__proto__:null,applyPassive,getMatchesProperty,getNormalizedEventCoords,supportsCssVariables},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */const ACTIVATION_EVENT_TYPES=["touchstart","pointerdown","mousedown","keydown"],POINTER_DEACTIVATION_EVENT_TYPES=["touchend","pointerup","mouseup"];let activatedTargets=[];class MDCRippleFoundation extends MDCFoundation{static get cssClasses(){return cssClasses$1}static get strings(){return strings$1}static get numbers(){return numbers$1}static get defaultAdapter(){return{browserSupportsCssVars:()=>{},isUnbounded:()=>{},isSurfaceActive:()=>{},isSurfaceDisabled:()=>{},addClass:()=>{},removeClass:()=>{},containsEventTarget:()=>{},registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:()=>{},computeBoundingRect:()=>{},getWindowPageOffset:()=>{}}}constructor(X){super(Object.assign(MDCRippleFoundation.defaultAdapter,X)),this.layoutFrame_=0,this.frame_={width:0,height:0},this.activationState_=this.defaultActivationState_(),this.initialSize_=0,this.maxRadius_=0,this.activateHandler_=oe=>this.activate_(oe),this.deactivateHandler_=oe=>this.deactivate_(oe),this.focusHandler_=()=>this.handleFocus(),this.blurHandler_=()=>this.handleBlur(),this.resizeHandler_=()=>this.layout(),this.unboundedCoords_={left:0,top:0},this.fgScale_=0,this.activationTimer_=0,this.fgDeactivationRemovalTimer_=0,this.activationAnimationHasEnded_=!1,this.activationTimerCallback_=()=>{this.activationAnimationHasEnded_=!0,this.runDeactivationUXLogicIfReady_()},this.previousActivationEvent_=null}supportsPressRipple_(){return this.adapter_.browserSupportsCssVars()}defaultActivationState_(){return{isActivated:!1,hasDeactivationUXRun:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1,activationEvent:null,isProgrammatic:!1}}init(){const X=this.supportsPressRipple_();if(this.registerRootHandlers_(X),X){const{ROOT:oe,UNBOUNDED:te}=MDCRippleFoundation.cssClasses;requestAnimationFrame(()=>{this.adapter_.addClass(oe),this.adapter_.isUnbounded()&&(this.adapter_.addClass(te),this.layoutInternal_())})}}destroy(){if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_DEACTIVATION));const{ROOT:X,UNBOUNDED:oe}=MDCRippleFoundation.cssClasses;requestAnimationFrame(()=>{this.adapter_.removeClass(X),this.adapter_.removeClass(oe),this.removeCssVars_()})}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()}registerRootHandlers_(X){X&&(ACTIVATION_EVENT_TYPES.forEach(oe=>{this.adapter_.registerInteractionHandler(oe,this.activateHandler_)}),this.adapter_.isUnbounded()&&this.adapter_.registerResizeHandler(this.resizeHandler_)),this.adapter_.registerInteractionHandler("focus",this.focusHandler_),this.adapter_.registerInteractionHandler("blur",this.blurHandler_)}registerDeactivationHandlers_(X){X.type==="keydown"?this.adapter_.registerInteractionHandler("keyup",this.deactivateHandler_):POINTER_DEACTIVATION_EVENT_TYPES.forEach(oe=>{this.adapter_.registerDocumentInteractionHandler(oe,this.deactivateHandler_)})}deregisterRootHandlers_(){ACTIVATION_EVENT_TYPES.forEach(X=>{this.adapter_.deregisterInteractionHandler(X,this.activateHandler_)}),this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter_.isUnbounded()&&this.adapter_.deregisterResizeHandler(this.resizeHandler_)}deregisterDeactivationHandlers_(){this.adapter_.deregisterInteractionHandler("keyup",this.deactivateHandler_),POINTER_DEACTIVATION_EVENT_TYPES.forEach(X=>{this.adapter_.deregisterDocumentInteractionHandler(X,this.deactivateHandler_)})}removeCssVars_(){const{strings:X}=MDCRippleFoundation;Object.keys(X).forEach(oe=>{oe.indexOf("VAR_")===0&&this.adapter_.updateCssVariable(X[oe],null)})}activate_(X){if(this.adapter_.isSurfaceDisabled())return;const oe=this.activationState_;if(oe.isActivated)return;const te=this.previousActivationEvent_;if(te&&X&&te.type!==X.type)return;if(oe.isActivated=!0,oe.isProgrammatic=X===null,oe.activationEvent=X,oe.wasActivatedByPointer=oe.isProgrammatic?!1:X.type==="mousedown"||X.type==="touchstart"||X.type==="pointerdown",X&&activatedTargets.length>0&&activatedTargets.some(ie=>this.adapter_.containsEventTarget(ie))){this.resetActivationState_();return}X&&(activatedTargets.push(X.target),this.registerDeactivationHandlers_(X)),oe.wasElementMadeActive=this.checkElementMadeActive_(X),oe.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame(()=>{activatedTargets=[],!oe.wasElementMadeActive&&(X.key===" "||X.keyCode===32)&&(oe.wasElementMadeActive=this.checkElementMadeActive_(X),oe.wasElementMadeActive&&this.animateActivation_()),oe.wasElementMadeActive||(this.activationState_=this.defaultActivationState_())})}checkElementMadeActive_(X){return X&&X.type==="keydown"?this.adapter_.isSurfaceActive():!0}activate(X=null){this.activate_(X)}animateActivation_(){const{VAR_FG_TRANSLATE_START:X,VAR_FG_TRANSLATE_END:oe}=MDCRippleFoundation.strings,{FG_DEACTIVATION:te,FG_ACTIVATION:Q}=MDCRippleFoundation.cssClasses,{DEACTIVATION_TIMEOUT_MS:re}=MDCRippleFoundation.numbers;this.layoutInternal_();let ie="",ee="";if(!this.adapter_.isUnbounded()){const{startPoint:ae,endPoint:Z}=this.getFgTranslationCoordinates_();ie=`${ae.x}px, ${ae.y}px`,ee=`${Z.x}px, ${Z.y}px`}this.adapter_.updateCssVariable(X,ie),this.adapter_.updateCssVariable(oe,ee),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter_.removeClass(te),this.adapter_.computeBoundingRect(),this.adapter_.addClass(Q),this.activationTimer_=setTimeout(()=>this.activationTimerCallback_(),re)}getFgTranslationCoordinates_(){const{activationEvent:X,wasActivatedByPointer:oe}=this.activationState_;let te;oe?te=getNormalizedEventCoords(X,this.adapter_.getWindowPageOffset(),this.adapter_.computeBoundingRect()):te={x:this.frame_.width/2,y:this.frame_.height/2},te={x:te.x-this.initialSize_/2,y:te.y-this.initialSize_/2};const Q={x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2};return{startPoint:te,endPoint:Q}}runDeactivationUXLogicIfReady_(){const{FG_DEACTIVATION:X}=MDCRippleFoundation.cssClasses,{hasDeactivationUXRun:oe,isActivated:te}=this.activationState_;(oe||!te)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter_.addClass(X),this.fgDeactivationRemovalTimer_=setTimeout(()=>{this.adapter_.removeClass(X)},numbers$1.FG_DEACTIVATION_MS))}rmBoundedActivationClasses_(){const{FG_ACTIVATION:X}=MDCRippleFoundation.cssClasses;this.adapter_.removeClass(X),this.activationAnimationHasEnded_=!1,this.adapter_.computeBoundingRect()}resetActivationState_(){this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout(()=>this.previousActivationEvent_=null,MDCRippleFoundation.numbers.TAP_DELAY_MS)}deactivate_(X){const oe=this.activationState_;if(!oe.isActivated)return;const te=Object.assign({},oe);oe.isProgrammatic?(requestAnimationFrame(()=>this.animateDeactivation_(null,te)),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame(()=>{this.activationState_.hasDeactivationUXRun=!0,this.animateDeactivation_(X,te),this.resetActivationState_()}))}deactivate(X=null){this.deactivate_(X)}animateDeactivation_(X,{wasActivatedByPointer:oe,wasElementMadeActive:te}){(oe||te)&&this.runDeactivationUXLogicIfReady_()}layout(){this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame(()=>{this.layoutInternal_(),this.layoutFrame_=0})}layoutInternal_(){this.frame_=this.adapter_.computeBoundingRect();const X=Math.max(this.frame_.height,this.frame_.width),oe=()=>Math.sqrt(Math.pow(this.frame_.width,2)+Math.pow(this.frame_.height,2))+MDCRippleFoundation.numbers.PADDING;this.maxRadius_=this.adapter_.isUnbounded()?X:oe(),this.initialSize_=X*MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE,this.fgScale_=this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()}updateLayoutCssVars_(){const{VAR_FG_SIZE:X,VAR_LEFT:oe,VAR_TOP:te,VAR_FG_SCALE:Q}=MDCRippleFoundation.strings;this.adapter_.updateCssVariable(X,`${this.initialSize_}px`),this.adapter_.updateCssVariable(Q,this.fgScale_),this.adapter_.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter_.updateCssVariable(oe,`${this.unboundedCoords_.left}px`),this.adapter_.updateCssVariable(te,`${this.unboundedCoords_.top}px`))}setUnbounded(X){const{UNBOUNDED:oe}=MDCRippleFoundation.cssClasses;X?this.adapter_.addClass(oe):this.adapter_.removeClass(oe)}handleFocus(){requestAnimationFrame(()=>this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED))}handleBlur(){requestAnimationFrame(()=>this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED))}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */class MDCRipple extends MDCComponent{constructor(...X){super(...X),this.disabled=!1,this.unbounded_}static attachTo(X,{isUnbounded:oe=void 0}={}){const te=new MDCRipple(X);return oe!==void 0&&(te.unbounded=oe),te}static createAdapter(X){const oe=getMatchesProperty(HTMLElement.prototype);return{browserSupportsCssVars:()=>supportsCssVariables(window),isUnbounded:()=>X.unbounded,isSurfaceActive:()=>X.root_[oe](":active"),isSurfaceDisabled:()=>X.disabled,addClass:te=>X.root_.classList.add(te),removeClass:te=>X.root_.classList.remove(te),containsEventTarget:te=>X.root_.contains(te),registerInteractionHandler:(te,Q)=>X.root_.addEventListener(te,Q,applyPassive()),deregisterInteractionHandler:(te,Q)=>X.root_.removeEventListener(te,Q,applyPassive()),registerDocumentInteractionHandler:(te,Q)=>document.documentElement.addEventListener(te,Q,applyPassive()),deregisterDocumentInteractionHandler:(te,Q)=>document.documentElement.removeEventListener(te,Q,applyPassive()),registerResizeHandler:te=>window.addEventListener("resize",te),deregisterResizeHandler:te=>window.removeEventListener("resize",te),updateCssVariable:(te,Q)=>X.root_.style.setProperty(te,Q),computeBoundingRect:()=>X.root_.getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}get unbounded(){return this.unbounded_}set unbounded(X){this.unbounded_=!!X,this.setUnbounded_()}setUnbounded_(){this.foundation_.setUnbounded(this.unbounded_)}activate(){this.foundation_.activate()}deactivate(){this.foundation_.deactivate()}layout(){this.foundation_.layout()}getDefaultFoundation(){return new MDCRippleFoundation(MDCRipple.createAdapter(this))}initialSyncWithDOM(){this.unbounded="mdcRippleIsUnbounded"in this.root_.dataset}}class RippleCapableSurface{}RippleCapableSurface.prototype.root_;RippleCapableSurface.prototype.unbounded;RippleCapableSurface.prototype.disabled;const ripple=Object.freeze(Object.defineProperty({__proto__:null,MDCRipple,MDCRippleFoundation,RippleCapableSurface,util:util$1},Symbol.toStringTag,{value:"Module"})),require$$7=getAugmentedNamespace(ripple);var bindDecorator={},hasRequiredBindDecorator;function requireBindDecorator(){if(hasRequiredBindDecorator)return bindDecorator;hasRequiredBindDecorator=1,Object.defineProperty(bindDecorator,"__esModule",{value:!0});var ue;(function(oe){oe.typeOfFunction="function",oe.boolTrue=!0})(ue||(ue={}));function X(oe,te,Q){if(!Q||typeof Q.value!==ue.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+te+"> is not a method!");return{configurable:ue.boolTrue,get:function(){var re=Q.value.bind(this);return Object.defineProperty(this,te,{value:re,configurable:ue.boolTrue,writable:ue.boolTrue}),re}}}return bindDecorator.bind=X,bindDecorator.default=X,bindDecorator}var hasRequiredMaterialComponent;function requireMaterialComponent(){if(hasRequiredMaterialComponent)return MaterialComponent;hasRequiredMaterialComponent=1;var ue=interopRequireDefaultExports;Object.defineProperty(MaterialComponent,"__esModule",{value:!0}),MaterialComponent.default=MaterialComponent.MaterialComponent=void 0;var X=ue(requireClassCallCheck()),oe=ue(requireCreateClass()),te=ue(requirePossibleConstructorReturn()),Q=ue(requireGetPrototypeOf()),re=ue(requireInherits()),ie=ue(require_typeof()),ee=require$$7,ae=requireBindDecorator(),Z=require$$10,Y=function(K,J,ne,se){var le=arguments.length,ce=le<3?J:se===null?se=Object.getOwnPropertyDescriptor(J,ne):se,de;if((typeof Reflect>"u"?"undefined":(0,ie.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate(K,J,ne,se);else for(var pe=K.length-1;pe>=0;pe--)(de=K[pe])&&(ce=(le<3?de(ce):le>3?de(J,ne,ce):de(J,ne))||ce);return le>3&&ce&&Object.defineProperty(J,ne,ce),ce},W=["disabled"],R=function(K){(0,re.default)(J,K);function J(){return(0,X.default)(this,J),(0,te.default)(this,(0,Q.default)(J).apply(this,arguments))}return(0,oe.default)(J,[{key:"render",value:function(se){this.classText||(this.classText=this.buildClassName(se));var le=se,ce=le.className||le.class||"";le.class&&delete le.class,le.className&&delete le.className;var de=this.materialDom(le),pe="attributes";return"props"in de?(pe="props",de.props=de.props||{}):de.attributes=de.attributes||{},de[pe].className="".concat(ce," ").concat(this.getClassName(de)).split(" ").filter(function(fe,he,be){return be.indexOf(fe)===he&&fe!==""}).join(" "),this.mdcProps.forEach(function(fe){fe in W||delete de[pe][fe]}),de}},{key:"componentDidMount",value:function(){this.props.ripple&&this.control&&(this.ripple=new ee.MDCRipple(this.control))}},{key:"componentWillReceiveProps",value:function(se){if(this.MDComponent&&this.mdcNotifyProps){var le=!0,ce=!1,de=void 0;try{for(var pe=this.mdcNotifyProps[Symbol.iterator](),fe;!(le=(fe=pe.next()).done);le=!0){var he=fe.value;this.props[he]!==se[he]&&(this.MDComponent[he]=se[he])}}catch(Ce){ce=!0,de=Ce}finally{try{!le&&pe.return!=null&&pe.return()}finally{if(ce)throw de}}}var be=!0,Te=!1,xe=void 0;try{for(var Se=this.mdcProps[Symbol.iterator](),Ee;!(be=(Ee=Se.next()).done);be=!0){var ye=Ee.value;if(this.props[ye]!==se[ye]){this.classText=this.buildClassName(se);break}}}catch(Ce){Te=!0,xe=Ce}finally{try{!be&&Se.return!=null&&Se.return()}finally{if(Te)throw xe}}}},{key:"componentWillUnmount",value:function(){this.ripple&&this.ripple.destroy()}},{key:"afterComponentDidMount",value:function(){if(this.MDComponent&&this.mdcNotifyProps){var se=!0,le=!1,ce=void 0;try{for(var de=this.mdcNotifyProps[Symbol.iterator](),pe;!(se=(pe=de.next()).done);se=!0){var fe=pe.value;this.MDComponent[fe]=this.props[fe]}}catch(he){le=!0,ce=he}finally{try{!se&&de.return!=null&&de.return()}finally{if(le)throw ce}}}}},{key:"setControlRef",value:function(se){this.control=se}},{key:"buildClassName",value:function(se){var le="mdc-"+this.componentName;for(var ce in se)if(se.hasOwnProperty(ce)){var de=se[ce];typeof de=="boolean"&&de&&this.mdcProps.indexOf(ce)!==-1&&(le+=" mdc-".concat(this.componentName,"--").concat(ce))}return le}},{key:"getClassName",value:function(se){if(!se)return"";var le="attributes";"props"in se?(le="props",se.props=se.props||{}):se.attributes=se.attributes||{};var ce=se[le]=se[le]||{},de=this.classText;return ce.class&&(de+=" "+ce.class),ce.className&&ce.className!==ce.class&&(de+=" "+ce.className),de}}]),J}(Z.Component);MaterialComponent.MaterialComponent=R,Y([ae.bind],R.prototype,"setControlRef",null);var U=R;return MaterialComponent.default=U,MaterialComponent}var Icon={},hasRequiredIcon;function requireIcon(){if(hasRequiredIcon)return Icon;hasRequiredIcon=1;var ue=interopRequireDefaultExports;Object.defineProperty(Icon,"__esModule",{value:!0}),Icon.default=Icon.Icon=void 0;var X=ue(requireClassCallCheck()),oe=ue(requireCreateClass()),te=ue(requirePossibleConstructorReturn()),Q=ue(requireGetPrototypeOf()),re=ue(requireInherits()),ie=require$$10,ee=ue(requireMaterialComponent()),ae=function(Y){(0,re.default)(W,Y);function W(){var R;return(0,X.default)(this,W),R=(0,te.default)(this,(0,Q.default)(W).apply(this,arguments)),R.componentName="icon",R.mdcProps=[],R}return(0,oe.default)(W,[{key:"materialDom",value:function(U){var K=["material-icons"];return U.className&&K.push(U.className),(0,ie.h)("i",Object.assign({},U,{className:K.join(" ")}),U.children)}}]),W}(ee.default);Icon.Icon=ae;var Z=ae;return Icon.default=Z,Icon}var generateThemeClass={},hasRequiredGenerateThemeClass;function requireGenerateThemeClass(){if(hasRequiredGenerateThemeClass)return generateThemeClass;hasRequiredGenerateThemeClass=1,Object.defineProperty(generateThemeClass,"__esModule",{value:!0}),generateThemeClass.default=ue;function ue(X){return"mdc-theme--".concat(X,"-bg")}return generateThemeClass}var hasRequiredButton;function requireButton(){if(hasRequiredButton)return Button$1;hasRequiredButton=1;var ue=interopRequireDefaultExports;Object.defineProperty(Button$1,"__esModule",{value:!0}),Button$1.default=Button$1.Button=Button$1.ButtonIcon=void 0;var X=ue(requireCreateClass()),oe=ue(requireClassCallCheck()),te=ue(requirePossibleConstructorReturn()),Q=ue(requireGetPrototypeOf()),re=ue(requireInherits()),ie=require$$10,ee=ue(requireMaterialComponent()),ae=ue(requireIcon()),Z=ue(requireGenerateThemeClass()),Y=function(U){(0,re.default)(K,U);function K(){var J;return(0,oe.default)(this,K),J=(0,te.default)(this,(0,Q.default)(K).apply(this,arguments)),J.componentName="button__icon",J}return K}(ae.default);Button$1.ButtonIcon=Y;var W=function(U){(0,re.default)(K,U);function K(){var J;return(0,oe.default)(this,K),J=(0,te.default)(this,(0,Q.default)(K).apply(this,arguments)),J.componentName="button",J.mdcProps=["dense","raised","unelevated","outlined"],J.themeProps=["primary","secondary"],J}return(0,X.default)(K,[{key:"materialDom",value:function(ne){var se=ne.href?"a":"button",le="";return this.themeProps.forEach(function(ce){ce in ne&&ne[ce]!==!1&&(le+=(0,Z.default)(ce)+" ")}),(0,ie.h)(se,Object.assign({ref:this.setControlRef},ne,{className:le}),this.props.children)}}]),K}(ee.default);Button$1.Button=W;var R=function(U){(0,re.default)(K,U);function K(){return(0,oe.default)(this,K),(0,te.default)(this,(0,Q.default)(K).apply(this,arguments))}return K}(W);return Button$1.default=R,R.Icon=Y,Button$1}var ButtonExports=requireButton();const Button=getDefaultExportFromCjs(ButtonExports);var Dialog$1={},get={exports:{}},superPropBase={exports:{}},hasRequiredSuperPropBase;function requireSuperPropBase(){return hasRequiredSuperPropBase||(hasRequiredSuperPropBase=1,function(ue){var X=requireGetPrototypeOf();function oe(te,Q){for(;!{}.hasOwnProperty.call(te,Q)&&(te=X(te))!==null;);return te}ue.exports=oe,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(superPropBase)),superPropBase.exports}var hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,function(ue){var X=requireSuperPropBase();function oe(){return ue.exports=oe=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(te,Q,re){var ie=X(te,Q);if(ie){var ee=Object.getOwnPropertyDescriptor(ie,Q);return ee.get?ee.get.call(arguments.length<3?te:re):ee.value}},ue.exports.__esModule=!0,ue.exports.default=ue.exports,oe.apply(null,arguments)}ue.exports=oe,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(get)),get.exports}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */const cssClasses={ROOT:"mdc-dialog",OPEN:"mdc-dialog--open",ANIMATING:"mdc-dialog--animating",BACKDROP:"mdc-dialog__backdrop",SCROLL_LOCK:"mdc-dialog-scroll-lock",ACCEPT_BTN:"mdc-dialog__footer__button--accept",CANCEL_BTN:"mdc-dialog__footer__button--cancel"},strings={OPEN_DIALOG_SELECTOR:".mdc-dialog--open",DIALOG_SURFACE_SELECTOR:".mdc-dialog__surface",ACCEPT_SELECTOR:".mdc-dialog__footer__button--accept",ACCEPT_EVENT:"MDCDialog:accept",CANCEL_EVENT:"MDCDialog:cancel"},numbers={DIALOG_ANIMATION_TIME_MS:120};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */class MDCDialogFoundation extends MDCFoundation{static get cssClasses(){return cssClasses}static get strings(){return strings}static get numbers(){return numbers}static get defaultAdapter(){return{addClass:()=>{},removeClass:()=>{},addBodyClass:()=>{},removeBodyClass:()=>{},eventTargetHasClass:()=>!1,registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerSurfaceInteractionHandler:()=>{},deregisterSurfaceInteractionHandler:()=>{},registerDocumentKeydownHandler:()=>{},deregisterDocumentKeydownHandler:()=>{},notifyAccept:()=>{},notifyCancel:()=>{},trapFocusOnSurface:()=>{},untrapFocusOnSurface:()=>{},isDialog:()=>!1}}constructor(X){super(Object.assign(MDCDialogFoundation.defaultAdapter,X)),this.isOpen_=!1,this.componentClickHandler_=oe=>{this.adapter_.eventTargetHasClass(oe.target,cssClasses.BACKDROP)&&this.cancel(!0)},this.dialogClickHandler_=oe=>this.handleDialogClick_(oe),this.documentKeydownHandler_=oe=>{(oe.key&&oe.key==="Escape"||oe.keyCode===27)&&this.cancel(!0)},this.timerId_=0,this.animationTimerEnd_=oe=>this.handleAnimationTimerEnd_(oe)}destroy(){this.isOpen_&&this.close(),this.adapter_.removeClass(MDCDialogFoundation.cssClasses.ANIMATING),clearTimeout(this.timerId_)}open(){this.isOpen_=!0,this.disableScroll_(),this.adapter_.registerDocumentKeydownHandler(this.documentKeydownHandler_),this.adapter_.registerSurfaceInteractionHandler("click",this.dialogClickHandler_),this.adapter_.registerInteractionHandler("click",this.componentClickHandler_),clearTimeout(this.timerId_),this.timerId_=setTimeout(this.animationTimerEnd_,MDCDialogFoundation.numbers.DIALOG_ANIMATION_TIME_MS),this.adapter_.addClass(MDCDialogFoundation.cssClasses.ANIMATING),this.adapter_.addClass(MDCDialogFoundation.cssClasses.OPEN)}close(){this.isOpen_=!1,this.enableScroll_(),this.adapter_.deregisterSurfaceInteractionHandler("click",this.dialogClickHandler_),this.adapter_.deregisterDocumentKeydownHandler(this.documentKeydownHandler_),this.adapter_.deregisterInteractionHandler("click",this.componentClickHandler_),this.adapter_.untrapFocusOnSurface(),clearTimeout(this.timerId_),this.timerId_=setTimeout(this.animationTimerEnd_,MDCDialogFoundation.numbers.DIALOG_ANIMATION_TIME_MS),this.adapter_.addClass(MDCDialogFoundation.cssClasses.ANIMATING),this.adapter_.removeClass(MDCDialogFoundation.cssClasses.OPEN)}isOpen(){return this.isOpen_}accept(X){X&&this.adapter_.notifyAccept(),this.close()}cancel(X){X&&this.adapter_.notifyCancel(),this.close()}handleDialogClick_(X){const{target:oe}=X;this.adapter_.eventTargetHasClass(oe,cssClasses.ACCEPT_BTN)?this.accept(!0):this.adapter_.eventTargetHasClass(oe,cssClasses.CANCEL_BTN)&&this.cancel(!0)}handleAnimationTimerEnd_(){this.adapter_.removeClass(MDCDialogFoundation.cssClasses.ANIMATING),this.isOpen_&&this.adapter_.trapFocusOnSurface()}disableScroll_(){this.adapter_.addBodyClass(cssClasses.SCROLL_LOCK)}enableScroll_(){this.adapter_.removeBodyClass(cssClasses.SCROLL_LOCK)}}var tabbable$1=function(ue,X){X=X||{};var oe=ue.ownerDocument||ue,te=[],Q=[],re=createIsUnavailable(oe),ie=["input","select","a[href]","textarea","button","[tabindex]"],ee=ue.querySelectorAll(ie.join(","));if(X.includeContainer){var ae=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;ie.some(function(J){return ae.call(ue,J)})&&(ee=Array.prototype.slice.apply(ee),ee.unshift(ue))}for(var Z,Y,W,R=0,U=ee.length;R<U;R++)Z=ee[R],Y=parseInt(Z.getAttribute("tabindex"),10),W=isNaN(Y)?Z.tabIndex:Y,!(W<0||Z.tagName==="INPUT"&&Z.type==="hidden"||Z.disabled||re(Z,oe))&&(W===0?te.push(Z):Q.push({index:R,tabIndex:W,node:Z}));var K=Q.sort(function(J,ne){return J.tabIndex===ne.tabIndex?J.index-ne.index:J.tabIndex-ne.tabIndex}).map(function(J){return J.node});return Array.prototype.push.apply(K,te),K};function createIsUnavailable(ue){var X=[];function oe(te,Q){if(te===ue.documentElement)return!1;for(var re=0,ie=X.length;re<ie;re++)if(X[re][0]===te)return X[re][1];Q=Q||ue.defaultView.getComputedStyle(te);var ee=!1;return Q.display==="none"?ee=!0:te.parentNode&&(ee=oe(te.parentNode)),X.push([te,ee]),ee}return function(Q){if(Q===ue.documentElement)return!1;var re=ue.defaultView.getComputedStyle(Q);return oe(Q,re)?!0:re.visibility==="hidden"}}var tabbable=tabbable$1,listeningFocusTrap=null;function focusTrap(ue,X){var oe=[],te=null,Q=null,re=null,ie=!1,ee=!1,ae=null,Z=typeof ue=="string"?document.querySelector(ue):ue,Y=X||{};Y.returnFocusOnDeactivate=X&&X.returnFocusOnDeactivate!==void 0?X.returnFocusOnDeactivate:!0,Y.escapeDeactivates=X&&X.escapeDeactivates!==void 0?X.escapeDeactivates:!0;var W={activate:R,deactivate:U,pause:K,unpause:J};return W;function R(Se){if(!ie){var Ee={onActivate:Se&&Se.onActivate!==void 0?Se.onActivate:Y.onActivate};return ie=!0,ee=!1,re=document.activeElement,Ee.onActivate&&Ee.onActivate(),ne(),W}}function U(Se){if(ie){var Ee={returnFocus:Se&&Se.returnFocus!==void 0?Se.returnFocus:Y.returnFocusOnDeactivate,onDeactivate:Se&&Se.onDeactivate!==void 0?Se.onDeactivate:Y.onDeactivate};return se(),Ee.onDeactivate&&Ee.onDeactivate(),Ee.returnFocus&&setTimeout(function(){tryFocus(re)},0),ie=!1,ee=!1,this}}function K(){ee||!ie||(ee=!0,se())}function J(){!ee||!ie||(ee=!1,ne())}function ne(){if(ie)return listeningFocusTrap&&listeningFocusTrap.pause(),listeningFocusTrap=W,Te(),setTimeout(function(){tryFocus(ce())},0),document.addEventListener("focus",fe,!0),document.addEventListener("click",pe,!0),document.addEventListener("mousedown",de,!0),document.addEventListener("touchstart",de,!0),document.addEventListener("keydown",he,!0),W}function se(){if(!(!ie||listeningFocusTrap!==W))return document.removeEventListener("focus",fe,!0),document.removeEventListener("click",pe,!0),document.removeEventListener("mousedown",de,!0),document.removeEventListener("touchstart",de,!0),document.removeEventListener("keydown",he,!0),listeningFocusTrap=null,W}function le(Se){var Ee=Y[Se],ye=Ee;if(!Ee)return null;if(typeof Ee=="string"&&(ye=document.querySelector(Ee),!ye))throw new Error("`"+Se+"` refers to no known node");if(typeof Ee=="function"&&(ye=Ee(),!ye))throw new Error("`"+Se+"` did not return a node");return ye}function ce(){var Se;if(le("initialFocus")!==null?Se=le("initialFocus"):Z.contains(document.activeElement)?Se=document.activeElement:Se=oe[0]||le("fallbackFocus"),!Se)throw new Error("You can't have a focus-trap without at least one focusable element");return Se}function de(Se){Y.clickOutsideDeactivates&&!Z.contains(Se.target)&&U({returnFocus:!1})}function pe(Se){Y.clickOutsideDeactivates||Z.contains(Se.target)||(Se.preventDefault(),Se.stopImmediatePropagation())}function fe(Se){Z.contains(Se.target)||(Se.preventDefault(),Se.stopImmediatePropagation(),typeof Se.target.blur=="function"&&Se.target.blur(),ae&&xe(ae))}function he(Se){(Se.key==="Tab"||Se.keyCode===9)&&be(Se),Y.escapeDeactivates!==!1&&isEscapeEvent(Se)&&U()}function be(Se){if(Te(),Se.target.hasAttribute("tabindex")&&Number(Se.target.getAttribute("tabindex"))<0)return ae=Se;Se.preventDefault();var Ee=oe.indexOf(Se.target);if(Se.shiftKey)return Se.target===te||oe.indexOf(Se.target)===-1?tryFocus(Q):tryFocus(oe[Ee-1]);if(Se.target===Q)return tryFocus(te);tryFocus(oe[Ee+1])}function Te(){oe=tabbable(Z),te=oe[0],Q=oe[oe.length-1]}function xe(Se){if(Se.shiftKey)return tryFocus(Q);tryFocus(te)}}function isEscapeEvent(ue){return ue.key==="Escape"||ue.key==="Esc"||ue.keyCode===27}function tryFocus(ue){!ue||!ue.focus||ue!==document.activeElement&&(ue.focus(),ue.tagName.toLowerCase()==="input"&&ue.select())}var focusTrap_1=focusTrap;const createFocusTrap=getDefaultExportFromCjs(focusTrap_1);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function createFocusTrapInstance(ue,X,oe=createFocusTrap){return oe(ue,{initialFocus:X,clickOutsideDeactivates:!0})}const util=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrapInstance},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */class MDCDialog extends MDCComponent{static attachTo(X){return new MDCDialog(X)}get open(){return this.foundation_.isOpen()}get acceptButton_(){return this.root_.querySelector(MDCDialogFoundation.strings.ACCEPT_SELECTOR)}get dialogSurface_(){return this.root_.querySelector(MDCDialogFoundation.strings.DIALOG_SURFACE_SELECTOR)}initialize(){this.focusTrap_=createFocusTrapInstance(this.dialogSurface_,this.acceptButton_),this.footerBtnRipples_=[];const X=this.root_.querySelectorAll(".mdc-dialog__footer__button");for(let oe=0,te;te=X[oe];oe++)this.footerBtnRipples_.push(new MDCRipple(te))}destroy(){this.footerBtnRipples_.forEach(X=>X.destroy()),super.destroy()}show(){this.foundation_.open()}close(){this.foundation_.close()}getDefaultFoundation(){return new MDCDialogFoundation({addClass:X=>this.root_.classList.add(X),removeClass:X=>this.root_.classList.remove(X),addBodyClass:X=>document.body.classList.add(X),removeBodyClass:X=>document.body.classList.remove(X),eventTargetHasClass:(X,oe)=>X.classList.contains(oe),registerInteractionHandler:(X,oe)=>this.root_.addEventListener(X,oe),deregisterInteractionHandler:(X,oe)=>this.root_.removeEventListener(X,oe),registerSurfaceInteractionHandler:(X,oe)=>this.dialogSurface_.addEventListener(X,oe),deregisterSurfaceInteractionHandler:(X,oe)=>this.dialogSurface_.removeEventListener(X,oe),registerDocumentKeydownHandler:X=>document.addEventListener("keydown",X),deregisterDocumentKeydownHandler:X=>document.removeEventListener("keydown",X),notifyAccept:()=>this.emit(MDCDialogFoundation.strings.ACCEPT_EVENT),notifyCancel:()=>this.emit(MDCDialogFoundation.strings.CANCEL_EVENT),trapFocusOnSurface:()=>this.focusTrap_.activate(),untrapFocusOnSurface:()=>this.focusTrap_.deactivate(),isDialog:X=>X===this.dialogSurface_})}}const dialog=Object.freeze(Object.defineProperty({__proto__:null,MDCDialog,MDCDialogFoundation,util},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(dialog);var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(Dialog$1,"__esModule",{value:!0});var _default=Dialog$1.default=Dialog$1.Dialog=Dialog$1.DialogFooterButton=Dialog$1.DialogFooter=Dialog$1.DialogBody=Dialog$1.DialogHeader=void 0,_get2=_interopRequireDefault(requireGet()),_classCallCheck2=_interopRequireDefault(requireClassCallCheck()),_createClass2=_interopRequireDefault(requireCreateClass()),_possibleConstructorReturn2=_interopRequireDefault(requirePossibleConstructorReturn()),_getPrototypeOf2=_interopRequireDefault(requireGetPrototypeOf()),_inherits2=_interopRequireDefault(requireInherits()),_typeof2=_interopRequireDefault(require_typeof()),_dialog=require$$8,_bindDecorator=requireBindDecorator(),_preact=require$$10,_MaterialComponent5=_interopRequireDefault(requireMaterialComponent()),_Button2=requireButton(),__decorate=function(ue,X,oe,te){var Q=arguments.length,re=Q<3?X:te===null?te=Object.getOwnPropertyDescriptor(X,oe):te,ie;if((typeof Reflect>"u"?"undefined":(0,_typeof2.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(ue,X,oe,te);else for(var ee=ue.length-1;ee>=0;ee--)(ie=ue[ee])&&(re=(Q<3?ie(re):Q>3?ie(X,oe,re):ie(X,oe))||re);return Q>3&&re&&Object.defineProperty(X,oe,re),re},DialogHeader=function(ue){(0,_inherits2.default)(X,ue);function X(){var oe;return(0,_classCallCheck2.default)(this,X),oe=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments)),oe.componentName="dialog__header",oe.mdcProps=[],oe}return(0,_createClass2.default)(X,[{key:"materialDom",value:function(te){return(0,_preact.h)("header",Object.assign({},te),(0,_preact.h)("h2",{className:"mdc-dialog__header__title"},te.children))}}]),X}(_MaterialComponent5.default);Dialog$1.DialogHeader=DialogHeader;__decorate([_bindDecorator.bind],DialogHeader.prototype,"materialDom",null);var DialogBody=function(ue){(0,_inherits2.default)(X,ue);function X(){var oe;return(0,_classCallCheck2.default)(this,X),oe=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments)),oe.componentName="dialog__body",oe.mdcProps=["scrollable"],oe}return(0,_createClass2.default)(X,[{key:"materialDom",value:function(te){return(0,_preact.h)("section",Object.assign({},te),te.children)}}]),X}(_MaterialComponent5.default);Dialog$1.DialogBody=DialogBody;__decorate([_bindDecorator.bind],DialogBody.prototype,"materialDom",null);var DialogFooter=function(ue){(0,_inherits2.default)(X,ue);function X(){var oe;return(0,_classCallCheck2.default)(this,X),oe=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments)),oe.componentName="dialog__footer",oe.mdcProps=[],oe}return(0,_createClass2.default)(X,[{key:"materialDom",value:function(te){return(0,_preact.h)("footer",Object.assign({},te),te.children)}}]),X}(_MaterialComponent5.default);Dialog$1.DialogFooter=DialogFooter;__decorate([_bindDecorator.bind],DialogFooter.prototype,"materialDom",null);var DialogFooterButton=function(ue){(0,_inherits2.default)(X,ue);function X(){var oe;return(0,_classCallCheck2.default)(this,X),oe=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments)),oe.componentName="dialog__footer__button",oe.mdcProps=["cancel","accept"],oe}return(0,_createClass2.default)(X,[{key:"materialDom",value:function(te){return(0,_preact.h)("button",Object.assign({},te,{className:"mdc-button",ref:this.setControlRef}),te.children)}}]),X}(_Button2.Button);Dialog$1.DialogFooterButton=DialogFooterButton;__decorate([_bindDecorator.bind],DialogFooterButton.prototype,"materialDom",null);var Dialog=function(ue){(0,_inherits2.default)(X,ue);function X(){var oe;return(0,_classCallCheck2.default)(this,X),oe=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments)),oe.componentName="dialog",oe.mdcProps=[],oe}return(0,_createClass2.default)(X,[{key:"componentDidMount",value:function(){(0,_get2.default)((0,_getPrototypeOf2.default)(X.prototype),"componentDidMount",this).call(this),this.control&&(this.MDComponent=new _dialog.MDCDialog(this.control),this.MDComponent.listen("MDCDialog:accept",this.onAccept),this.MDComponent.listen("MDCDialog:cancel",this.onCancel))}},{key:"componentWillUnmount",value:function(){(0,_get2.default)((0,_getPrototypeOf2.default)(X.prototype),"componentWillUnmount",this).call(this),this.MDComponent&&(this.MDComponent.unlisten("MDCDialog:accept",this.onAccept),this.MDComponent.unlisten("MDCDialog:cancel",this.onCancel),this.MDComponent.destroy())}},{key:"onAccept",value:function(te){this.props.onAccept&&this.props.onAccept(te)}},{key:"onCancel",value:function(te){this.props.onCancel&&this.props.onCancel(te)}},{key:"materialDom",value:function(te){return(0,_preact.h)("dialog",Object.assign({role:"alertdialog",ref:this.setControlRef},te),(0,_preact.h)("div",{className:"mdc-dialog__surface"},te.children),(0,_preact.h)("div",{className:"mdc-dialog__backdrop"}))}}]),X}(_MaterialComponent5.default);Dialog$1.Dialog=Dialog;__decorate([_bindDecorator.bind],Dialog.prototype,"onAccept",null);__decorate([_bindDecorator.bind],Dialog.prototype,"onCancel",null);var default_1=function(ue){(0,_inherits2.default)(X,ue);function X(){return(0,_classCallCheck2.default)(this,X),(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments))}return X}(Dialog);_default=Dialog$1.default=default_1;default_1.Header=DialogHeader;default_1.Body=DialogBody;default_1.Footer=DialogFooter;default_1.FooterButton=DialogFooterButton;const KroniiImg=""+new URL("kronii-iAklpHtI.png",import.meta.url).href,Hourglass=""+new URL("hourglass-not-done-CPOJbIWj.png",import.meta.url).href;class DokoShare extends k{constructor(){super();wt(this,"prepDlg");wt(this,"shareDlg");wt(this,"shareQuote");wt(this,"handleImageChange",oe=>{this.setState({fileData:URL.createObjectURL(oe.target.files[0])})});wt(this,"handleNameChange",oe=>{this.setState({name:oe.target.value})});wt(this,"handleQuoteChange",oe=>{this.setState({quote:oe.target.value})});wt(this,"handlePrepSubmit",()=>{this.shareQuote&&(this.state.quote.length<=150?this.shareQuote.classList.add("beeg"):this.shareQuote.classList.remove("beeg")),this.shareDlg.MDComponent.show()});this.state={fileData:Hourglass,name:"",quote:""}}render(){return u(b,{children:[u(Button,{class:"serif",primary:!0,raised:!0,onClick:()=>{this.prepDlg.MDComponent.show()},children:"i miss kronii..."}),u(_default,{ref:oe=>{this.prepDlg=oe},onAccept:this.handlePrepSubmit,children:[u(_default.Header,{children:u("h3",{children:"i miss kronii..."})}),u(_default.Body,{children:u("div",{children:[u("p",{children:"Upload a profile image (it isn't saved):"}),u("input",{type:"file",onChange:this.handleImageChange}),u("p",{children:"Your name?"}),u("input",{onChange:this.handleNameChange}),u("p",{children:"Anything you have to say?"}),u("input",{onChange:this.handleQuoteChange})]})}),u(_default.Footer,{children:[u(_default.FooterButton,{cancel:!0,children:"Cancel"}),u(_default.FooterButton,{accept:!0,children:"Submit"})]})]}),u(_default,{ref:oe=>{this.shareDlg=oe},children:[u(_default.Header,{children:"kronii doko?"}),u(_default.Body,{class:"darkbg",children:[u("div",{children:[u("img",{id:"sharepfp",src:this.state.fileData}),u("h1",{id:"sharename",class:"serif",children:this.state.name}),this.state.quote?u("p",{id:"sharequote",ref:oe=>{this.shareQuote=oe},children:this.state.quote}):u(b,{}),u("br",{})]}),u("div",{children:[u(Doko,{next:!1,hideForecast:!0}),u("p",{class:"lowtext",children:"kroniidoko.ayrl.in"})]}),u("img",{id:"sharebg",src:KroniiImg})]}),u(_default.Footer,{children:[u(_default.FooterButton,{onClick:this.handleSharePress,children:"SHARE WEBSITE"}),u(_default.FooterButton,{cancel:!0,children:"DONE"})]})]})]})}handleSharePress(){navigator.clipboard.writeText("https://kroniidoko.ayrl.in"),console.log("Copied link to clipboard.")}}function App(){const ue=new URLSearchParams(window.location.search),X=ue.has("no_forecast")||ue.get("forecast")==="0"||ue.get("forecast")==="false";return u(b,{children:[u("div",{id:"topbar",children:[u(Logo,{id:"logo",color:"#ddd"}),u("h1",{id:"titleheading",class:"serif",children:"kronii doko?"})]}),u("div",{class:"card",children:u(Doko,{next:!0,hideForecast:X})}),u("br",{}),u("br",{}),u("br",{}),u(DokoShare,{}),u("br",{}),u("br",{}),u("br",{}),u("p",{children:["a fan site for ",u("a",{href:"https://www.youtube.com/@OuroKronii",children:"Ouro Kronii"})," of hololive English -Promise-"]}),u("p",{class:"lowtext",children:"powered by holodex.js and the holodex API"}),u("p",{class:"lowtext",children:["images and intellectual property owned by COVER Corporation, and used under COVER Corp.'s ",u("a",{href:"https://hololivepro.com/en/terms/",children:"derivative works guidelines."})]})]})}B(u(App,{}),document.getElementById("app"));
