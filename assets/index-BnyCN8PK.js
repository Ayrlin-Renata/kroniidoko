var Un=Object.defineProperty;var Bn=(ue,X,re)=>X in ue?Un(ue,X,{enumerable:!0,configurable:!0,writable:!0,value:re}):ue[X]=re;var vt=(ue,X,re)=>Bn(ue,typeof X!="symbol"?X+"":X,re);(function(){const X=document.createElement("link").relList;if(X&&X.supports&&X.supports("modulepreload"))return;for(const Q of document.querySelectorAll('link[rel="modulepreload"]'))ne(Q);new MutationObserver(Q=>{for(const ae of Q)if(ae.type==="childList")for(const oe of ae.addedNodes)oe.tagName==="LINK"&&oe.rel==="modulepreload"&&ne(oe)}).observe(document,{childList:!0,subtree:!0});function re(Q){const ae={};return Q.integrity&&(ae.integrity=Q.integrity),Q.referrerPolicy&&(ae.referrerPolicy=Q.referrerPolicy),Q.crossOrigin==="use-credentials"?ae.credentials="include":Q.crossOrigin==="anonymous"?ae.credentials="omit":ae.credentials="same-origin",ae}function ne(Q){if(Q.ep)return;Q.ep=!0;const ae=re(Q);fetch(Q.href,ae)}})();var n,l,u$1,t,i,o,r,f$1,e,c,s,a,h={},v=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function d(ue,X){for(var re in X)ue[re]=X[re];return ue}function w(ue){ue&&ue.parentNode&&ue.parentNode.removeChild(ue)}function _(ue,X,re){var ne,Q,ae,oe={};for(ae in X)ae=="key"?ne=X[ae]:ae=="ref"?Q=X[ae]:oe[ae]=X[ae];if(arguments.length>2&&(oe.children=arguments.length>3?n.call(arguments,2):re),typeof ue=="function"&&ue.defaultProps!=null)for(ae in ue.defaultProps)oe[ae]===void 0&&(oe[ae]=ue.defaultProps[ae]);return g(ue,oe,ne,Q,null)}function g(ue,X,re,ne,Q){var ae={type:ue,props:X,key:re,ref:ne,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:Q??++u$1,__i:-1,__u:0};return Q==null&&l.vnode!=null&&l.vnode(ae),ae}function m(){return{current:null}}function b(ue){return ue.children}function k(ue,X){this.props=ue,this.context=X}function x(ue,X){if(X==null)return ue.__?x(ue.__,ue.__i+1):null;for(var re;X<ue.__k.length;X++)if((re=ue.__k[X])!=null&&re.__e!=null)return re.__e;return typeof ue.type=="function"?x(ue):null}function C(ue){var X,re;if((ue=ue.__)!=null&&ue.__c!=null){for(ue.__e=ue.__c.base=null,X=0;X<ue.__k.length;X++)if((re=ue.__k[X])!=null&&re.__e!=null){ue.__e=ue.__c.base=re.__e;break}return C(ue)}}function S(ue){(!ue.__d&&(ue.__d=!0)&&i.push(ue)&&!M.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(M)}function M(){var ue,X,re,ne,Q,ae,oe,ee;for(i.sort(f$1);ue=i.shift();)ue.__d&&(X=i.length,ne=void 0,ae=(Q=(re=ue).__v).__e,oe=[],ee=[],re.__P&&((ne=d({},Q)).__v=Q.__v+1,l.vnode&&l.vnode(ne),O(re.__P,ne,Q,re.__n,re.__P.namespaceURI,32&Q.__u?[ae]:null,oe,ae??x(Q),!!(32&Q.__u),ee),ne.__v=Q.__v,ne.__.__k[ne.__i]=ne,j(oe,ne,ee),ne.__e!=ae&&C(ne)),i.length>X&&i.sort(f$1));M.__r=0}function P(ue,X,re,ne,Q,ae,oe,ee,ie,Z,Y){var W,R,U,K,J,te=ne&&ne.__k||v,se=X.length;for(re.__d=ie,$(re,X,te),ie=re.__d,W=0;W<se;W++)(U=re.__k[W])!=null&&(R=U.__i===-1?h:te[U.__i]||h,U.__i=W,O(ue,U,R,Q,ae,oe,ee,ie,Z,Y),K=U.__e,U.ref&&R.ref!=U.ref&&(R.ref&&N(R.ref,null,U),Y.push(U.ref,U.__c||K,U)),J==null&&K!=null&&(J=K),65536&U.__u||R.__k===U.__k?ie=I(U,ie,ue):typeof U.type=="function"&&U.__d!==void 0?ie=U.__d:K&&(ie=K.nextSibling),U.__d=void 0,U.__u&=-196609);re.__d=ie,re.__e=J}function $(ue,X,re){var ne,Q,ae,oe,ee,ie=X.length,Z=re.length,Y=Z,W=0;for(ue.__k=[],ne=0;ne<ie;ne++)(Q=X[ne])!=null&&typeof Q!="boolean"&&typeof Q!="function"?(oe=ne+W,(Q=ue.__k[ne]=typeof Q=="string"||typeof Q=="number"||typeof Q=="bigint"||Q.constructor==String?g(null,Q,null,null,null):y(Q)?g(b,{children:Q},null,null,null):Q.constructor===void 0&&Q.__b>0?g(Q.type,Q.props,Q.key,Q.ref?Q.ref:null,Q.__v):Q).__=ue,Q.__b=ue.__b+1,ae=null,(ee=Q.__i=L(Q,re,oe,Y))!==-1&&(Y--,(ae=re[ee])&&(ae.__u|=131072)),ae==null||ae.__v===null?(ee==-1&&W--,typeof Q.type!="function"&&(Q.__u|=65536)):ee!==oe&&(ee==oe-1?W--:ee==oe+1?W++:(ee>oe?W--:W++,Q.__u|=65536))):Q=ue.__k[ne]=null;if(Y)for(ne=0;ne<Z;ne++)(ae=re[ne])!=null&&!(131072&ae.__u)&&(ae.__e==ue.__d&&(ue.__d=x(ae)),V(ae,ae))}function I(ue,X,re){var ne,Q;if(typeof ue.type=="function"){for(ne=ue.__k,Q=0;ne&&Q<ne.length;Q++)ne[Q]&&(ne[Q].__=ue,X=I(ne[Q],X,re));return X}ue.__e!=X&&(X&&ue.type&&!re.contains(X)&&(X=x(ue)),re.insertBefore(ue.__e,X||null),X=ue.__e);do X=X&&X.nextSibling;while(X!=null&&X.nodeType===8);return X}function H(ue,X){return X=X||[],ue==null||typeof ue=="boolean"||(y(ue)?ue.some(function(re){H(re,X)}):X.push(ue)),X}function L(ue,X,re,ne){var Q=ue.key,ae=ue.type,oe=re-1,ee=re+1,ie=X[re];if(ie===null||ie&&Q==ie.key&&ae===ie.type&&!(131072&ie.__u))return re;if(ne>(ie!=null&&!(131072&ie.__u)?1:0))for(;oe>=0||ee<X.length;){if(oe>=0){if((ie=X[oe])&&!(131072&ie.__u)&&Q==ie.key&&ae===ie.type)return oe;oe--}if(ee<X.length){if((ie=X[ee])&&!(131072&ie.__u)&&Q==ie.key&&ae===ie.type)return ee;ee++}}return-1}function T(ue,X,re){X[0]==="-"?ue.setProperty(X,re??""):ue[X]=re==null?"":typeof re!="number"||p.test(X)?re:re+"px"}function A(ue,X,re,ne,Q){var ae;e:if(X==="style")if(typeof re=="string")ue.style.cssText=re;else{if(typeof ne=="string"&&(ue.style.cssText=ne=""),ne)for(X in ne)re&&X in re||T(ue.style,X,"");if(re)for(X in re)ne&&re[X]===ne[X]||T(ue.style,X,re[X])}else if(X[0]==="o"&&X[1]==="n")ae=X!==(X=X.replace(/(PointerCapture)$|Capture$/i,"$1")),X=X.toLowerCase()in ue||X==="onFocusOut"||X==="onFocusIn"?X.toLowerCase().slice(2):X.slice(2),ue.l||(ue.l={}),ue.l[X+ae]=re,re?ne?re.u=ne.u:(re.u=e,ue.addEventListener(X,ae?s:c,ae)):ue.removeEventListener(X,ae?s:c,ae);else{if(Q=="http://www.w3.org/2000/svg")X=X.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(X!="width"&&X!="height"&&X!="href"&&X!="list"&&X!="form"&&X!="tabIndex"&&X!="download"&&X!="rowSpan"&&X!="colSpan"&&X!="role"&&X!="popover"&&X in ue)try{ue[X]=re??"";break e}catch{}typeof re=="function"||(re==null||re===!1&&X[4]!=="-"?ue.removeAttribute(X):ue.setAttribute(X,X=="popover"&&re==1?"":re))}}function F(ue){return function(X){if(this.l){var re=this.l[X.type+ue];if(X.t==null)X.t=e++;else if(X.t<re.u)return;return re(l.event?l.event(X):X)}}}function O(ue,X,re,ne,Q,ae,oe,ee,ie,Z){var Y,W,R,U,K,J,te,se,le,ce,de,pe,fe,he,ye,Te,xe=X.type;if(X.constructor!==void 0)return null;128&re.__u&&(ie=!!(32&re.__u),ae=[ee=X.__e=re.__e]),(Y=l.__b)&&Y(X);e:if(typeof xe=="function")try{if(se=X.props,le="prototype"in xe&&xe.prototype.render,ce=(Y=xe.contextType)&&ne[Y.__c],de=Y?ce?ce.props.value:Y.__:ne,re.__c?te=(W=X.__c=re.__c).__=W.__E:(le?X.__c=W=new xe(se,de):(X.__c=W=new k(se,de),W.constructor=xe,W.render=q),ce&&ce.sub(W),W.props=se,W.state||(W.state={}),W.context=de,W.__n=ne,R=W.__d=!0,W.__h=[],W._sb=[]),le&&W.__s==null&&(W.__s=W.state),le&&xe.getDerivedStateFromProps!=null&&(W.__s==W.state&&(W.__s=d({},W.__s)),d(W.__s,xe.getDerivedStateFromProps(se,W.__s))),U=W.props,K=W.state,W.__v=X,R)le&&xe.getDerivedStateFromProps==null&&W.componentWillMount!=null&&W.componentWillMount(),le&&W.componentDidMount!=null&&W.__h.push(W.componentDidMount);else{if(le&&xe.getDerivedStateFromProps==null&&se!==U&&W.componentWillReceiveProps!=null&&W.componentWillReceiveProps(se,de),!W.__e&&(W.shouldComponentUpdate!=null&&W.shouldComponentUpdate(se,W.__s,de)===!1||X.__v===re.__v)){for(X.__v!==re.__v&&(W.props=se,W.state=W.__s,W.__d=!1),X.__e=re.__e,X.__k=re.__k,X.__k.some(function(Se){Se&&(Se.__=X)}),pe=0;pe<W._sb.length;pe++)W.__h.push(W._sb[pe]);W._sb=[],W.__h.length&&oe.push(W);break e}W.componentWillUpdate!=null&&W.componentWillUpdate(se,W.__s,de),le&&W.componentDidUpdate!=null&&W.__h.push(function(){W.componentDidUpdate(U,K,J)})}if(W.context=de,W.props=se,W.__P=ue,W.__e=!1,fe=l.__r,he=0,le){for(W.state=W.__s,W.__d=!1,fe&&fe(X),Y=W.render(W.props,W.state,W.context),ye=0;ye<W._sb.length;ye++)W.__h.push(W._sb[ye]);W._sb=[]}else do W.__d=!1,fe&&fe(X),Y=W.render(W.props,W.state,W.context),W.state=W.__s;while(W.__d&&++he<25);W.state=W.__s,W.getChildContext!=null&&(ne=d(d({},ne),W.getChildContext())),le&&!R&&W.getSnapshotBeforeUpdate!=null&&(J=W.getSnapshotBeforeUpdate(U,K)),P(ue,y(Te=Y!=null&&Y.type===b&&Y.key==null?Y.props.children:Y)?Te:[Te],X,re,ne,Q,ae,oe,ee,ie,Z),W.base=X.__e,X.__u&=-161,W.__h.length&&oe.push(W),te&&(W.__E=W.__=null)}catch(Se){if(X.__v=null,ie||ae!=null){for(X.__u|=ie?160:128;ee&&ee.nodeType===8&&ee.nextSibling;)ee=ee.nextSibling;ae[ae.indexOf(ee)]=null,X.__e=ee}else X.__e=re.__e,X.__k=re.__k;l.__e(Se,X,re)}else ae==null&&X.__v===re.__v?(X.__k=re.__k,X.__e=re.__e):X.__e=z(re.__e,X,re,ne,Q,ae,oe,ie,Z);(Y=l.diffed)&&Y(X)}function j(ue,X,re){X.__d=void 0;for(var ne=0;ne<re.length;ne++)N(re[ne],re[++ne],re[++ne]);l.__c&&l.__c(X,ue),ue.some(function(Q){try{ue=Q.__h,Q.__h=[],ue.some(function(ae){ae.call(Q)})}catch(ae){l.__e(ae,Q.__v)}})}function z(ue,X,re,ne,Q,ae,oe,ee,ie){var Z,Y,W,R,U,K,J,te=re.props,se=X.props,le=X.type;if(le==="svg"?Q="http://www.w3.org/2000/svg":le==="math"?Q="http://www.w3.org/1998/Math/MathML":Q||(Q="http://www.w3.org/1999/xhtml"),ae!=null){for(Z=0;Z<ae.length;Z++)if((U=ae[Z])&&"setAttribute"in U==!!le&&(le?U.localName===le:U.nodeType===3)){ue=U,ae[Z]=null;break}}if(ue==null){if(le===null)return document.createTextNode(se);ue=document.createElementNS(Q,le,se.is&&se),ee&&(l.__m&&l.__m(X,ae),ee=!1),ae=null}if(le===null)te===se||ee&&ue.data===se||(ue.data=se);else{if(ae=ae&&n.call(ue.childNodes),te=re.props||h,!ee&&ae!=null)for(te={},Z=0;Z<ue.attributes.length;Z++)te[(U=ue.attributes[Z]).name]=U.value;for(Z in te)if(U=te[Z],Z!="children"){if(Z=="dangerouslySetInnerHTML")W=U;else if(!(Z in se)){if(Z=="value"&&"defaultValue"in se||Z=="checked"&&"defaultChecked"in se)continue;A(ue,Z,null,U,Q)}}for(Z in se)U=se[Z],Z=="children"?R=U:Z=="dangerouslySetInnerHTML"?Y=U:Z=="value"?K=U:Z=="checked"?J=U:ee&&typeof U!="function"||te[Z]===U||A(ue,Z,U,te[Z],Q);if(Y)ee||W&&(Y.__html===W.__html||Y.__html===ue.innerHTML)||(ue.innerHTML=Y.__html),X.__k=[];else if(W&&(ue.innerHTML=""),P(ue,y(R)?R:[R],X,re,ne,le==="foreignObject"?"http://www.w3.org/1999/xhtml":Q,ae,oe,ae?ae[0]:re.__k&&x(re,0),ee,ie),ae!=null)for(Z=ae.length;Z--;)w(ae[Z]);ee||(Z="value",le==="progress"&&K==null?ue.removeAttribute("value"):K!==void 0&&(K!==ue[Z]||le==="progress"&&!K||le==="option"&&K!==te[Z])&&A(ue,Z,K,te[Z],Q),Z="checked",J!==void 0&&J!==ue[Z]&&A(ue,Z,J,te[Z],Q))}return ue}function N(ue,X,re){try{if(typeof ue=="function"){var ne=typeof ue.__u=="function";ne&&ue.__u(),ne&&X==null||(ue.__u=ue(X))}else ue.current=X}catch(Q){l.__e(Q,re)}}function V(ue,X,re){var ne,Q;if(l.unmount&&l.unmount(ue),(ne=ue.ref)&&(ne.current&&ne.current!==ue.__e||N(ne,null,X)),(ne=ue.__c)!=null){if(ne.componentWillUnmount)try{ne.componentWillUnmount()}catch(ae){l.__e(ae,X)}ne.base=ne.__P=null}if(ne=ue.__k)for(Q=0;Q<ne.length;Q++)ne[Q]&&V(ne[Q],X,re||typeof ue.type!="function");re||w(ue.__e),ue.__c=ue.__=ue.__e=ue.__d=void 0}function q(ue,X,re){return this.constructor(ue,re)}function B(ue,X,re){var ne,Q,ae,oe;l.__&&l.__(ue,X),Q=(ne=typeof re=="function")?null:re&&re.__k||X.__k,ae=[],oe=[],O(X,ue=(!ne&&re||X).__k=_(b,null,[ue]),Q||h,h,X.namespaceURI,!ne&&re?[re]:Q?null:X.firstChild?n.call(X.childNodes):null,ae,!ne&&re?re:Q?Q.__e:X.firstChild,ne,oe),j(ae,ue,oe)}function D(ue,X){B(ue,X,D)}function E(ue,X,re){var ne,Q,ae,oe,ee=d({},ue.props);for(ae in ue.type&&ue.type.defaultProps&&(oe=ue.type.defaultProps),X)ae=="key"?ne=X[ae]:ae=="ref"?Q=X[ae]:ee[ae]=X[ae]===void 0&&oe!==void 0?oe[ae]:X[ae];return arguments.length>2&&(ee.children=arguments.length>3?n.call(arguments,2):re),g(ue.type,ee,ne||ue.key,Q||ue.ref,null)}function G(ue,X){var re={__c:X="__cC"+a++,__:ue,Consumer:function(ne,Q){return ne.children(Q)},Provider:function(ne){var Q,ae;return this.getChildContext||(Q=new Set,(ae={})[X]=this,this.getChildContext=function(){return ae},this.componentWillUnmount=function(){Q=null},this.shouldComponentUpdate=function(oe){this.props.value!==oe.value&&Q.forEach(function(ee){ee.__e=!0,S(ee)})},this.sub=function(oe){Q.add(oe);var ee=oe.componentWillUnmount;oe.componentWillUnmount=function(){Q&&Q.delete(oe),ee&&ee.call(oe)}}),ne.children}};return re.Provider.__=re.Consumer.contextType=re}n=v.slice,l={__e:function(ue,X,re,ne){for(var Q,ae,oe;X=X.__;)if((Q=X.__c)&&!Q.__)try{if((ae=Q.constructor)&&ae.getDerivedStateFromError!=null&&(Q.setState(ae.getDerivedStateFromError(ue)),oe=Q.__d),Q.componentDidCatch!=null&&(Q.componentDidCatch(ue,ne||{}),oe=Q.__d),oe)return Q.__E=Q}catch(ee){ue=ee}throw ue}},u$1=0,t=function(ue){return ue!=null&&ue.constructor==null},k.prototype.setState=function(ue,X){var re;re=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=d({},this.state),typeof ue=="function"&&(ue=ue(d({},re),this.props)),ue&&d(re,ue),ue!=null&&this.__v&&(X&&this._sb.push(X),S(this))},k.prototype.forceUpdate=function(ue){this.__v&&(this.__e=!0,ue&&this.__h.push(ue),S(this))},k.prototype.render=b,i=[],r=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f$1=function(ue,X){return ue.__v.__b-X.__v.__b},M.__r=0,e=0,c=F(!1),s=F(!0),a=0;const preact_module=Object.freeze(Object.defineProperty({__proto__:null,Component:k,Fragment:b,cloneElement:E,createContext:G,createElement:_,createRef:m,h:_,hydrate:D,get isValidElement(){return t},get options(){return l},render:B,toChildArray:H},Symbol.toStringTag,{value:"Module"}));var f=0;function u(ue,X,re,ne,Q,ae){X||(X={});var oe,ee,ie=X;"ref"in X&&(oe=X.ref,delete X.ref);var Z={type:ue,props:ie,key:re,ref:oe,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:Q,__self:ae};if(typeof ue=="function"&&(oe=ue.defaultProps))for(ee in oe)ie[ee]===void 0&&(ie[ee]=oe[ee]);return l.vnode&&l.vnode(Z),Z}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ue){return ue&&ue.__esModule&&Object.prototype.hasOwnProperty.call(ue,"default")?ue.default:ue}function getAugmentedNamespace(ue){if(ue.__esModule)return ue;var X=ue.default;if(typeof X=="function"){var re=function ne(){return this instanceof ne?Reflect.construct(X,arguments,this.constructor):X.apply(this,arguments)};re.prototype=X.prototype}else re={};return Object.defineProperty(re,"__esModule",{value:!0}),Object.keys(ue).forEach(function(ne){var Q=Object.getOwnPropertyDescriptor(ue,ne);Object.defineProperty(re,ne,Q.get?Q:{enumerable:!0,get:function(){return ue[ne]}})}),re}var axios$3={exports:{}},bind$2=function(X,re){return function(){for(var Q=new Array(arguments.length),ae=0;ae<Q.length;ae++)Q[ae]=arguments[ae];return X.apply(re,Q)}},bind$1=bind$2,toString=Object.prototype.toString;function isArray(ue){return toString.call(ue)==="[object Array]"}function isUndefined(ue){return typeof ue>"u"}function isBuffer(ue){return ue!==null&&!isUndefined(ue)&&ue.constructor!==null&&!isUndefined(ue.constructor)&&typeof ue.constructor.isBuffer=="function"&&ue.constructor.isBuffer(ue)}function isArrayBuffer(ue){return toString.call(ue)==="[object ArrayBuffer]"}function isFormData(ue){return typeof FormData<"u"&&ue instanceof FormData}function isArrayBufferView(ue){var X;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?X=ArrayBuffer.isView(ue):X=ue&&ue.buffer&&ue.buffer instanceof ArrayBuffer,X}function isString(ue){return typeof ue=="string"}function isNumber(ue){return typeof ue=="number"}function isObject(ue){return ue!==null&&typeof ue=="object"}function isPlainObject(ue){if(toString.call(ue)!=="[object Object]")return!1;var X=Object.getPrototypeOf(ue);return X===null||X===Object.prototype}function isDate(ue){return toString.call(ue)==="[object Date]"}function isFile(ue){return toString.call(ue)==="[object File]"}function isBlob(ue){return toString.call(ue)==="[object Blob]"}function isFunction(ue){return toString.call(ue)==="[object Function]"}function isStream(ue){return isObject(ue)&&isFunction(ue.pipe)}function isURLSearchParams(ue){return typeof URLSearchParams<"u"&&ue instanceof URLSearchParams}function trim(ue){return ue.trim?ue.trim():ue.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function forEach(ue,X){if(!(ue===null||typeof ue>"u"))if(typeof ue!="object"&&(ue=[ue]),isArray(ue))for(var re=0,ne=ue.length;re<ne;re++)X.call(null,ue[re],re,ue);else for(var Q in ue)Object.prototype.hasOwnProperty.call(ue,Q)&&X.call(null,ue[Q],Q,ue)}function merge(){var ue={};function X(Q,ae){isPlainObject(ue[ae])&&isPlainObject(Q)?ue[ae]=merge(ue[ae],Q):isPlainObject(Q)?ue[ae]=merge({},Q):isArray(Q)?ue[ae]=Q.slice():ue[ae]=Q}for(var re=0,ne=arguments.length;re<ne;re++)forEach(arguments[re],X);return ue}function extend(ue,X,re){return forEach(X,function(Q,ae){re&&typeof Q=="function"?ue[ae]=bind$1(Q,re):ue[ae]=Q}),ue}function stripBOM(ue){return ue.charCodeAt(0)===65279&&(ue=ue.slice(1)),ue}var utils$9={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM},utils$8=utils$9;function encode(ue){return encodeURIComponent(ue).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function(X,re,ne){if(!re)return X;var Q;if(ne)Q=ne(re);else if(utils$8.isURLSearchParams(re))Q=re.toString();else{var ae=[];utils$8.forEach(re,function(ie,Z){ie===null||typeof ie>"u"||(utils$8.isArray(ie)?Z=Z+"[]":ie=[ie],utils$8.forEach(ie,function(W){utils$8.isDate(W)?W=W.toISOString():utils$8.isObject(W)&&(W=JSON.stringify(W)),ae.push(encode(Z)+"="+encode(W))}))}),Q=ae.join("&")}if(Q){var oe=X.indexOf("#");oe!==-1&&(X=X.slice(0,oe)),X+=(X.indexOf("?")===-1?"?":"&")+Q}return X},utils$7=utils$9;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(X,re,ne){return this.handlers.push({fulfilled:X,rejected:re,synchronous:ne?ne.synchronous:!1,runWhen:ne?ne.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(X){this.handlers[X]&&(this.handlers[X]=null)};InterceptorManager$1.prototype.forEach=function(X){utils$7.forEach(this.handlers,function(ne){ne!==null&&X(ne)})};var InterceptorManager_1=InterceptorManager$1,utils$6=utils$9,normalizeHeaderName$1=function(X,re){utils$6.forEach(X,function(Q,ae){ae!==re&&ae.toUpperCase()===re.toUpperCase()&&(X[re]=Q,delete X[ae])})},enhanceError$1=function(X,re,ne,Q,ae){return X.config=re,ne&&(X.code=ne),X.request=Q,X.response=ae,X.isAxiosError=!0,X.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},X},createError,hasRequiredCreateError;function requireCreateError(){if(hasRequiredCreateError)return createError;hasRequiredCreateError=1;var ue=enhanceError$1;return createError=function(re,ne,Q,ae,oe){var ee=new Error(re);return ue(ee,ne,Q,ae,oe)},createError}var settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var ue=requireCreateError();return settle=function(re,ne,Q){var ae=Q.config.validateStatus;!Q.status||!ae||ae(Q.status)?re(Q):ne(ue("Request failed with status code "+Q.status,Q.config,null,Q.request,Q))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var ue=utils$9;return cookies=ue.isStandardBrowserEnv()?function(){return{write:function(ne,Q,ae,oe,ee,ie){var Z=[];Z.push(ne+"="+encodeURIComponent(Q)),ue.isNumber(ae)&&Z.push("expires="+new Date(ae).toGMTString()),ue.isString(oe)&&Z.push("path="+oe),ue.isString(ee)&&Z.push("domain="+ee),ie===!0&&Z.push("secure"),document.cookie=Z.join("; ")},read:function(ne){var Q=document.cookie.match(new RegExp("(^|;\\s*)("+ne+")=([^;]*)"));return Q?decodeURIComponent(Q[3]):null},remove:function(ne){this.write(ne,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL,hasRequiredIsAbsoluteURL;function requireIsAbsoluteURL(){return hasRequiredIsAbsoluteURL||(hasRequiredIsAbsoluteURL=1,isAbsoluteURL=function(X){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(X)}),isAbsoluteURL}var combineURLs,hasRequiredCombineURLs;function requireCombineURLs(){return hasRequiredCombineURLs||(hasRequiredCombineURLs=1,combineURLs=function(X,re){return re?X.replace(/\/+$/,"")+"/"+re.replace(/^\/+/,""):X}),combineURLs}var buildFullPath,hasRequiredBuildFullPath;function requireBuildFullPath(){if(hasRequiredBuildFullPath)return buildFullPath;hasRequiredBuildFullPath=1;var ue=requireIsAbsoluteURL(),X=requireCombineURLs();return buildFullPath=function(ne,Q){return ne&&!ue(Q)?X(ne,Q):Q},buildFullPath}var parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var ue=utils$9,X=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(ne){var Q={},ae,oe,ee;return ne&&ue.forEach(ne.split(`
`),function(Z){if(ee=Z.indexOf(":"),ae=ue.trim(Z.substr(0,ee)).toLowerCase(),oe=ue.trim(Z.substr(ee+1)),ae){if(Q[ae]&&X.indexOf(ae)>=0)return;ae==="set-cookie"?Q[ae]=(Q[ae]?Q[ae]:[]).concat([oe]):Q[ae]=Q[ae]?Q[ae]+", "+oe:oe}}),Q},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var ue=utils$9;return isURLSameOrigin=ue.isStandardBrowserEnv()?function(){var re=/(msie|trident)/i.test(navigator.userAgent),ne=document.createElement("a"),Q;function ae(oe){var ee=oe;return re&&(ne.setAttribute("href",ee),ee=ne.href),ne.setAttribute("href",ee),{href:ne.href,protocol:ne.protocol?ne.protocol.replace(/:$/,""):"",host:ne.host,search:ne.search?ne.search.replace(/^\?/,""):"",hash:ne.hash?ne.hash.replace(/^#/,""):"",hostname:ne.hostname,port:ne.port,pathname:ne.pathname.charAt(0)==="/"?ne.pathname:"/"+ne.pathname}}return Q=ae(window.location.href),function(ee){var ie=ue.isString(ee)?ae(ee):ee;return ie.protocol===Q.protocol&&ie.host===Q.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var ue=utils$9,X=requireSettle(),re=requireCookies(),ne=buildURL$1,Q=requireBuildFullPath(),ae=requireParseHeaders(),oe=requireIsURLSameOrigin(),ee=requireCreateError();return xhr=function(Z){return new Promise(function(W,R){var U=Z.data,K=Z.headers,J=Z.responseType;ue.isFormData(U)&&delete K["Content-Type"];var te=new XMLHttpRequest;if(Z.auth){var se=Z.auth.username||"",le=Z.auth.password?unescape(encodeURIComponent(Z.auth.password)):"";K.Authorization="Basic "+btoa(se+":"+le)}var ce=Q(Z.baseURL,Z.url);te.open(Z.method.toUpperCase(),ne(ce,Z.params,Z.paramsSerializer),!0),te.timeout=Z.timeout;function de(){if(te){var fe="getAllResponseHeaders"in te?ae(te.getAllResponseHeaders()):null,he=!J||J==="text"||J==="json"?te.responseText:te.response,ye={data:he,status:te.status,statusText:te.statusText,headers:fe,config:Z,request:te};X(W,R,ye),te=null}}if("onloadend"in te?te.onloadend=de:te.onreadystatechange=function(){!te||te.readyState!==4||te.status===0&&!(te.responseURL&&te.responseURL.indexOf("file:")===0)||setTimeout(de)},te.onabort=function(){te&&(R(ee("Request aborted",Z,"ECONNABORTED",te)),te=null)},te.onerror=function(){R(ee("Network Error",Z,null,te)),te=null},te.ontimeout=function(){var he="timeout of "+Z.timeout+"ms exceeded";Z.timeoutErrorMessage&&(he=Z.timeoutErrorMessage),R(ee(he,Z,Z.transitional&&Z.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",te)),te=null},ue.isStandardBrowserEnv()){var pe=(Z.withCredentials||oe(ce))&&Z.xsrfCookieName?re.read(Z.xsrfCookieName):void 0;pe&&(K[Z.xsrfHeaderName]=pe)}"setRequestHeader"in te&&ue.forEach(K,function(he,ye){typeof U>"u"&&ye.toLowerCase()==="content-type"?delete K[ye]:te.setRequestHeader(ye,he)}),ue.isUndefined(Z.withCredentials)||(te.withCredentials=!!Z.withCredentials),J&&J!=="json"&&(te.responseType=Z.responseType),typeof Z.onDownloadProgress=="function"&&te.addEventListener("progress",Z.onDownloadProgress),typeof Z.onUploadProgress=="function"&&te.upload&&te.upload.addEventListener("progress",Z.onUploadProgress),Z.cancelToken&&Z.cancelToken.promise.then(function(he){te&&(te.abort(),R(he),te=null)}),U||(U=null),te.send(U)})},xhr}var utils$5=utils$9,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(ue,X){!utils$5.isUndefined(ue)&&utils$5.isUndefined(ue["Content-Type"])&&(ue["Content-Type"]=X)}function getDefaultAdapter(){var ue;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(ue=requireXhr()),ue}function stringifySafely(ue,X,re){if(utils$5.isString(ue))try{return(X||JSON.parse)(ue),utils$5.trim(ue)}catch(ne){if(ne.name!=="SyntaxError")throw ne}return(0,JSON.stringify)(ue)}var defaults$3={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:getDefaultAdapter(),transformRequest:[function(X,re){return normalizeHeaderName(re,"Accept"),normalizeHeaderName(re,"Content-Type"),utils$5.isFormData(X)||utils$5.isArrayBuffer(X)||utils$5.isBuffer(X)||utils$5.isStream(X)||utils$5.isFile(X)||utils$5.isBlob(X)?X:utils$5.isArrayBufferView(X)?X.buffer:utils$5.isURLSearchParams(X)?(setContentTypeIfUnset(re,"application/x-www-form-urlencoded;charset=utf-8"),X.toString()):utils$5.isObject(X)||re&&re["Content-Type"]==="application/json"?(setContentTypeIfUnset(re,"application/json"),stringifySafely(X)):X}],transformResponse:[function(X){var re=this.transitional,ne=re&&re.silentJSONParsing,Q=re&&re.forcedJSONParsing,ae=!ne&&this.responseType==="json";if(ae||Q&&utils$5.isString(X)&&X.length)try{return JSON.parse(X)}catch(oe){if(ae)throw oe.name==="SyntaxError"?enhanceError(oe,this,"E_JSON_PARSE"):oe}return X}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(X){return X>=200&&X<300}};defaults$3.headers={common:{Accept:"application/json, text/plain, */*"}};utils$5.forEach(["delete","get","head"],function(X){defaults$3.headers[X]={}});utils$5.forEach(["post","put","patch"],function(X){defaults$3.headers[X]=utils$5.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$3,utils$4=utils$9,defaults$2=defaults_1,transformData$1=function(X,re,ne){var Q=this||defaults$2;return utils$4.forEach(ne,function(oe){X=oe.call(Q,X,re)}),X},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(X){return!!(X&&X.__CANCEL__)}),isCancel$1}var utils$3=utils$9,transformData=transformData$1,isCancel=requireIsCancel(),defaults$1=defaults_1;function throwIfCancellationRequested(ue){ue.cancelToken&&ue.cancelToken.throwIfRequested()}var dispatchRequest$1=function(X){throwIfCancellationRequested(X),X.headers=X.headers||{},X.data=transformData.call(X,X.data,X.headers,X.transformRequest),X.headers=utils$3.merge(X.headers.common||{},X.headers[X.method]||{},X.headers),utils$3.forEach(["delete","get","head","post","put","patch","common"],function(Q){delete X.headers[Q]});var re=X.adapter||defaults$1.adapter;return re(X).then(function(Q){return throwIfCancellationRequested(X),Q.data=transformData.call(X,Q.data,Q.headers,X.transformResponse),Q},function(Q){return isCancel(Q)||(throwIfCancellationRequested(X),Q&&Q.response&&(Q.response.data=transformData.call(X,Q.response.data,Q.response.headers,X.transformResponse))),Promise.reject(Q)})},utils$2=utils$9,mergeConfig$2=function(X,re){re=re||{};var ne={},Q=["url","method","data"],ae=["headers","auth","proxy","params"],oe=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],ee=["validateStatus"];function ie(R,U){return utils$2.isPlainObject(R)&&utils$2.isPlainObject(U)?utils$2.merge(R,U):utils$2.isPlainObject(U)?utils$2.merge({},U):utils$2.isArray(U)?U.slice():U}function Z(R){utils$2.isUndefined(re[R])?utils$2.isUndefined(X[R])||(ne[R]=ie(void 0,X[R])):ne[R]=ie(X[R],re[R])}utils$2.forEach(Q,function(U){utils$2.isUndefined(re[U])||(ne[U]=ie(void 0,re[U]))}),utils$2.forEach(ae,Z),utils$2.forEach(oe,function(U){utils$2.isUndefined(re[U])?utils$2.isUndefined(X[U])||(ne[U]=ie(void 0,X[U])):ne[U]=ie(void 0,re[U])}),utils$2.forEach(ee,function(U){U in re?ne[U]=ie(X[U],re[U]):U in X&&(ne[U]=ie(void 0,X[U]))});var Y=Q.concat(ae).concat(oe).concat(ee),W=Object.keys(X).concat(Object.keys(re)).filter(function(U){return Y.indexOf(U)===-1});return utils$2.forEach(W,Z),ne};const name$1="axios",version="0.21.4",description="Promise based HTTP client for the browser and node.js",main="index.js",scripts={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository={type:"git",url:"https://github.com/axios/axios.git"},keywords=["xhr","http","ajax","promise","node"],author="Matt Zabriskie",license="MIT",bugs={url:"https://github.com/axios/axios/issues"},homepage="https://axios-http.com",devDependencies={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr="dist/axios.min.js",unpkg="dist/axios.min.js",typings="./index.d.ts",dependencies={"follow-redirects":"^1.14.0"},bundlesize=[{path:"./dist/axios.min.js",threshold:"5kB"}],require$$0={name:name$1,version,description,main,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,browser,jsdelivr,unpkg,typings,dependencies,bundlesize};var pkg=require$$0,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(ue,X){validators$1[ue]=function(ne){return typeof ne===ue||"a"+(X<1?"n ":" ")+ue}});var deprecatedWarnings={},currentVerArr=pkg.version.split(".");function isOlderVersion(ue,X){for(var re=X?X.split("."):currentVerArr,ne=ue.split("."),Q=0;Q<3;Q++){if(re[Q]>ne[Q])return!0;if(re[Q]<ne[Q])return!1}return!1}validators$1.transitional=function(X,re,ne){var Q=re&&isOlderVersion(re);function ae(oe,ee){return"[Axios v"+pkg.version+"] Transitional option '"+oe+"'"+ee+(ne?". "+ne:"")}return function(oe,ee,ie){if(X===!1)throw new Error(ae(ee," has been removed in "+re));return Q&&!deprecatedWarnings[ee]&&(deprecatedWarnings[ee]=!0,console.warn(ae(ee," has been deprecated since v"+re+" and will be removed in the near future"))),X?X(oe,ee,ie):!0}};function assertOptions(ue,X,re){if(typeof ue!="object")throw new TypeError("options must be an object");for(var ne=Object.keys(ue),Q=ne.length;Q-- >0;){var ae=ne[Q],oe=X[ae];if(oe){var ee=ue[ae],ie=ee===void 0||oe(ee,ae,ue);if(ie!==!0)throw new TypeError("option "+ae+" must be "+ie);continue}if(re!==!0)throw Error("Unknown option "+ae)}}var validator$1={isOlderVersion,assertOptions,validators:validators$1},utils$1=utils$9,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(ue){this.defaults=ue,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(X){typeof X=="string"?(X=arguments[1]||{},X.url=arguments[0]):X=X||{},X=mergeConfig$1(this.defaults,X),X.method?X.method=X.method.toLowerCase():this.defaults.method?X.method=this.defaults.method.toLowerCase():X.method="get";var re=X.transitional;re!==void 0&&validator.assertOptions(re,{silentJSONParsing:validators.transitional(validators.boolean,"1.0.0"),forcedJSONParsing:validators.transitional(validators.boolean,"1.0.0"),clarifyTimeoutError:validators.transitional(validators.boolean,"1.0.0")},!1);var ne=[],Q=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(X)===!1||(Q=Q&&R.synchronous,ne.unshift(R.fulfilled,R.rejected))});var ae=[];this.interceptors.response.forEach(function(R){ae.push(R.fulfilled,R.rejected)});var oe;if(!Q){var ee=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(ee,ne),ee=ee.concat(ae),oe=Promise.resolve(X);ee.length;)oe=oe.then(ee.shift(),ee.shift());return oe}for(var ie=X;ne.length;){var Z=ne.shift(),Y=ne.shift();try{ie=Z(ie)}catch(W){Y(W);break}}try{oe=dispatchRequest(ie)}catch(W){return Promise.reject(W)}for(;ae.length;)oe=oe.then(ae.shift(),ae.shift());return oe};Axios$1.prototype.getUri=function(X){return X=mergeConfig$1(this.defaults,X),buildURL(X.url,X.params,X.paramsSerializer).replace(/^\?/,"")};utils$1.forEach(["delete","get","head","options"],function(X){Axios$1.prototype[X]=function(re,ne){return this.request(mergeConfig$1(ne||{},{method:X,url:re,data:(ne||{}).data}))}});utils$1.forEach(["post","put","patch"],function(X){Axios$1.prototype[X]=function(re,ne,Q){return this.request(mergeConfig$1(Q||{},{method:X,url:re,data:ne}))}});var Axios_1=Axios$1,Cancel_1,hasRequiredCancel;function requireCancel(){if(hasRequiredCancel)return Cancel_1;hasRequiredCancel=1;function ue(X){this.message=X}return ue.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ue.prototype.__CANCEL__=!0,Cancel_1=ue,Cancel_1}var CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var ue=requireCancel();function X(re){if(typeof re!="function")throw new TypeError("executor must be a function.");var ne;this.promise=new Promise(function(oe){ne=oe});var Q=this;re(function(oe){Q.reason||(Q.reason=new ue(oe),ne(Q.reason))})}return X.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},X.source=function(){var ne,Q=new X(function(oe){ne=oe});return{token:Q,cancel:ne}},CancelToken_1=X,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(X){return function(ne){return X.apply(null,ne)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){return hasRequiredIsAxiosError||(hasRequiredIsAxiosError=1,isAxiosError=function(X){return typeof X=="object"&&X.isAxiosError===!0}),isAxiosError}var utils=utils$9,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(ue){var X=new Axios(ue),re=bind(Axios.prototype.request,X);return utils.extend(re,Axios.prototype,X),utils.extend(re,X),re}var axios$2=createInstance(defaults);axios$2.Axios=Axios;axios$2.create=function(X){return createInstance(mergeConfig(axios$2.defaults,X))};axios$2.Cancel=requireCancel();axios$2.CancelToken=requireCancelToken();axios$2.isCancel=requireIsCancel();axios$2.all=function(X){return Promise.all(X)};axios$2.spread=requireSpread();axios$2.isAxiosError=requireIsAxiosError();axios$3.exports=axios$2;axios$3.exports.default=axios$2;var axiosExports=axios$3.exports,axios=axiosExports;const axios$1=getDefaultExportFromCjs(axios),denyList=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var isRetryAllowed=ue=>!denyList.has(ue&&ue.code);const isRetryAllowed$1=getDefaultExportFromCjs(isRetryAllowed);function asyncGeneratorStep(ue,X,re,ne,Q,ae,oe){try{var ee=ue[ae](oe),ie=ee.value}catch(Z){re(Z);return}ee.done?X(ie):Promise.resolve(ie).then(ne,Q)}function _asyncToGenerator(ue){return function(){var X=this,re=arguments;return new Promise(function(ne,Q){var ae=ue.apply(X,re);function oe(ie){asyncGeneratorStep(ae,ne,Q,oe,ee,"next",ie)}function ee(ie){asyncGeneratorStep(ae,ne,Q,oe,ee,"throw",ie)}oe(void 0)})}}function ownKeys(ue,X){var re=Object.keys(ue);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(ue);X&&(ne=ne.filter(function(Q){return Object.getOwnPropertyDescriptor(ue,Q).enumerable})),re.push.apply(re,ne)}return re}function _objectSpread(ue){for(var X=1;X<arguments.length;X++){var re=arguments[X]!=null?arguments[X]:{};X%2?ownKeys(Object(re),!0).forEach(function(ne){_defineProperty(ue,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(re)):ownKeys(Object(re)).forEach(function(ne){Object.defineProperty(ue,ne,Object.getOwnPropertyDescriptor(re,ne))})}return ue}function _defineProperty(ue,X,re){return X in ue?Object.defineProperty(ue,X,{value:re,enumerable:!0,configurable:!0,writable:!0}):ue[X]=re,ue}var namespace="axios-retry";function isNetworkError(ue){var X=["ERR_CANCELED","ECONNABORTED"];return!ue.response&&!!ue.code&&!X.includes(ue.code)&&isRetryAllowed$1(ue)}var SAFE_HTTP_METHODS=["get","head","options"],IDEMPOTENT_HTTP_METHODS=SAFE_HTTP_METHODS.concat(["put","delete"]);function isRetryableError(ue){return ue.code!=="ECONNABORTED"&&(!ue.response||ue.response.status>=500&&ue.response.status<=599)}function isSafeRequestError(ue){return ue.config?isRetryableError(ue)&&SAFE_HTTP_METHODS.indexOf(ue.config.method)!==-1:!1}function isIdempotentRequestError(ue){return ue.config?isRetryableError(ue)&&IDEMPOTENT_HTTP_METHODS.indexOf(ue.config.method)!==-1:!1}function isNetworkOrIdempotentRequestError(ue){return isNetworkError(ue)||isIdempotentRequestError(ue)}function noDelay(){return 0}function exponentialDelay(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,re=Math.pow(2,ue)*X,ne=re*.2*Math.random();return re+ne}var DEFAULT_OPTIONS={retries:3,retryCondition:isNetworkOrIdempotentRequestError,retryDelay:noDelay,shouldResetTimeout:!1,onRetry:()=>{}};function getRequestOptions(ue,X){return _objectSpread(_objectSpread(_objectSpread({},DEFAULT_OPTIONS),X),ue[namespace])}function getCurrentState(ue,X){var re=getRequestOptions(ue,X);return re.retryCount=re.retryCount||0,ue[namespace]=re,re}function fixConfig(ue,X){ue.defaults.agent===X.agent&&delete X.agent,ue.defaults.httpAgent===X.httpAgent&&delete X.httpAgent,ue.defaults.httpsAgent===X.httpsAgent&&delete X.httpsAgent}function shouldRetry(ue,X){return _shouldRetry.apply(this,arguments)}function _shouldRetry(){return _shouldRetry=_asyncToGenerator(function*(ue,X){var{retries:re,retryCondition:ne}=ue,Q=ue.retryCount<re&&ne(X);if(typeof Q=="object")try{var ae=yield Q;return ae!==!1}catch{return!1}return Q}),_shouldRetry.apply(this,arguments)}function axiosRetry(ue,X){var re=ue.interceptors.request.use(Q=>{var ae=getCurrentState(Q,X);return ae.lastRequestTime=Date.now(),Q}),ne=ue.interceptors.response.use(null,function(){var Q=_asyncToGenerator(function*(ae){var{config:oe}=ae;if(!oe)return Promise.reject(ae);var ee=getCurrentState(oe,X);if(yield shouldRetry(ee,ae)){ee.retryCount+=1;var{retryDelay:ie,shouldResetTimeout:Z,onRetry:Y}=ee,W=ie(ee.retryCount,ae);if(fixConfig(ue,oe),!Z&&oe.timeout&&ee.lastRequestTime){var R=Date.now()-ee.lastRequestTime,U=oe.timeout-R-W;if(U<=0)return Promise.reject(ae);oe.timeout=U}return oe.transformRequest=[K=>K],yield Y(ee.retryCount,ae,oe),new Promise(K=>setTimeout(()=>K(ue(oe)),W))}return Promise.reject(ae)});return function(ae){return Q.apply(this,arguments)}}());return{requestInterceptorId:re,responseInterceptorId:ne}}axiosRetry.isNetworkError=isNetworkError;axiosRetry.isSafeRequestError=isSafeRequestError;axiosRetry.isIdempotentRequestError=isIdempotentRequestError;axiosRetry.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;axiosRetry.exponentialDelay=exponentialDelay;axiosRetry.isRetryableError=isRetryableError;var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(ue,X,re)=>X in ue?__defProp(ue,X,{enumerable:!0,configurable:!0,writable:!0,value:re}):ue[X]=re,__spreadValues=(ue,X)=>{for(var re in X||(X={}))__hasOwnProp.call(X,re)&&__defNormalProp(ue,re,X[re]);if(__getOwnPropSymbols)for(var re of __getOwnPropSymbols(X))__propIsEnum.call(X,re)&&__defNormalProp(ue,re,X[re]);return ue},__spreadProps=(ue,X)=>__defProps(ue,__getOwnPropDescs(X)),Channel=class{constructor(ue){this.raw=ue}toRaw(){return this.raw}get channelId(){return this.raw.id}get name(){return this.raw.name}get englishName(){return this.raw.english_name}get channelType(){return this.raw.type}get organization(){return this.raw.org}get group(){var ue,X;return(X=this.raw.group)!=null?X:(ue=this.raw.suborg)==null?void 0:ue.substr(2)}get sortKey(){var ue,X,re;return(re=(X=(ue=this.raw.suborg)!=null?ue:this.group)!=null?X:this.organization)!=null?re:this.name}get avatarUrl(){return this.raw.photo}get bannerUrl(){return this.raw.banner}get twitterName(){return this.raw.twitter}get videoCount(){return typeof this.raw.video_count=="string"?Number(this.raw.video_count):this.raw.video_count}get subscriberCount(){return typeof this.raw.subscriber_count=="string"?Number(this.raw.subscriber_count):this.raw.subscriber_count}get viewCount(){return typeof this.raw.view_count=="string"?Number(this.raw.view_count):this.raw.view_count}get clipCount(){return typeof this.raw.clip_count=="string"?Number(this.raw.clip_count):this.raw.clip_count}get language(){return this.raw.lang}get createdAt(){return typeof this.raw.published_at=="string"?new Date(this.raw.published_at):void 0}get isInactive(){return this.raw.inactive}get description(){return this.raw.description}},Comment=class{constructor(ue){this.raw=ue}get key(){return this.raw.comment_key}get videoId(){return this.raw.video_id}get content(){return this.raw.message}},ChannelType;(function(ue){ue.VTuber="vtuber",ue.Subber="subber"})(ChannelType||(ChannelType={}));var ExtraData;(function(ue){ue.Clips="clips",ue.Refers="refers",ue.Sources="sources",ue.Simulcasts="simulcasts",ue.Mentions="mentions",ue.Description="description",ue.LiveInfo="live_info",ue.ChannelStats="channel_stats",ue.Songs="songs"})(ExtraData||(ExtraData={}));var SortOrder;(function(ue){ue.Ascending="asc",ue.Descending="desc"})(SortOrder||(SortOrder={}));var VideoSearchType;(function(ue){ue.Clips="clips",ue.Videos="videos",ue.Collabs="collabs"})(VideoSearchType||(VideoSearchType={}));var VideoStatus;(function(ue){ue.New="new",ue.Upcoming="upcoming",ue.Live="live",ue.Past="past",ue.Missing="missing"})(VideoStatus||(VideoStatus={}));var VideoType;(function(ue){ue.Stream="stream",ue.Clip="clip"})(VideoType||(VideoType={}));var Song=class{constructor(ue){this.raw=ue}get artUrl(){return this.raw.art}get name(){return this.raw.name}get startTime(){return this.raw.start}get endTime(){return this.raw.end}get iTunesId(){return this.raw.itunesid}get artist(){return this.raw.original_artist}},Video=class{constructor(ue){this.raw=ue;var X,re,ne,Q,ae,oe,ee,ie,Z,Y,W,R,U,K;this.channel=new Channel(this.raw.channel),this.comments=(re=(X=this.raw.comments)==null?void 0:X.map(J=>new Comment(J)))!=null?re:[],this.clips=(Q=(ne=this.raw.clips)==null?void 0:ne.map(J=>new Video(J)))!=null?Q:[],this.sources=(oe=(ae=this.raw.sources)==null?void 0:ae.map(J=>new Video(J)))!=null?oe:[],this.refers=(ie=(ee=this.raw.refers)==null?void 0:ee.map(J=>new Video(J)))!=null?ie:[],this.simulcasts=(Y=(Z=this.raw.simulcasts)==null?void 0:Z.map(J=>new Video(J)))!=null?Y:[],this.mentions=(R=(W=this.raw.mentions)==null?void 0:W.map(J=>new Channel(J)))!=null?R:[],this.songs=(K=(U=this.raw.songs)==null?void 0:U.map(J=>new Song(J)))!=null?K:[]}toRaw(){return this.raw}get videoId(){return this.raw.id}get title(){return this.raw.title}get videoType(){return this.raw.type}get topic(){return this.raw.topic_id}get publishedAt(){return typeof this.raw.published_at=="string"?new Date(this.raw.published_at):void 0}get availableAt(){return typeof this.raw.available_at=="string"?new Date(this.raw.available_at):void 0}get duration(){return this.raw.duration}get status(){return this.raw.status}get scheduledStart(){return typeof this.raw.start_scheduled=="string"?new Date(this.raw.start_scheduled):void 0}get actualStart(){return typeof this.raw.start_actual=="string"?new Date(this.raw.start_actual):void 0}get actualEnd(){return typeof this.raw.end_actual=="string"?new Date(this.raw.end_actual):void 0}get liveViewers(){return this.raw.live_viewers}get description(){return this.raw.description}get songCount(){return this.raw.songcount}get channelId(){var ue;return(ue=this.raw.channel_id)!=null?ue:this.channel.channelId}};function querystring(ue){return new URLSearchParams(ue).toString()}var HolodexApiClient=class{constructor(ue){var X;(X=ue.url)!=null||(ue.url="https://holodex.net/api/v2"),this.httpClient=axios$1.create({baseURL:ue.url,headers:{"X-APIKEY":ue.apiKey}}),axiosRetry(this.httpClient,{retries:3,retryDelay:axiosRetry.exponentialDelay,retryCondition:re=>axiosRetry.isNetworkOrIdempotentRequestError(re)||re.code==="ECONNABORTED",shouldResetTimeout:!0})}async getChannels(ue={}){var X,re,ne,Q;(X=ue.limit)!=null||(ue.limit=25),(re=ue.offset)!=null||(ue.offset=0),(ne=ue.order)!=null||(ue.order=SortOrder.Ascending),(Q=ue.sort)!=null||(ue.sort="org"),ue.lang&&Array.isArray(ue.lang)&&(ue.lang=ue.lang.join(","));const ae=querystring(__spreadProps(__spreadValues({},ue),{limit:Math.min(Math.max(ue.limit,1),50)})),{data:oe}=await this.httpClient.get(`/channels?${ae}`);return oe.map(ee=>new Channel(ee))}async getChannel(ue){const{data:X}=await this.httpClient.get(`/channels/${ue}`);return new Channel(X)}async getVideosByChannelId(ue,X=VideoSearchType.Videos,re={}){var ne,Q,ae;(ne=re.lang)!=null||(re.lang="all"),(Q=re.limit)!=null||(re.limit=25),(ae=re.offset)!=null||(re.offset=0);const oe=querystring(__spreadProps(__spreadValues({},re),{include:Array.isArray(re.include)?re.include.join(","):re.include,lang:Array.isArray(re.lang)?re.lang.join(","):re.lang,limit:Math.min(Math.max(re.limit,1),50)})),{data:ee}=await this.httpClient.get(`/channels/${ue}/${X}?${oe}`);return ee.map(ie=>new Video(ie))}async getVideo(ue,X=!1,re){re??(re="all");const ne={lang:Array.isArray(re)?re.join(","):re};X&&(ne.c=1);const Q=querystring(ne),{data:ae}=await this.httpClient.get(`/videos/${ue}?${Q}`);return new Video(ae)}async getLiveVideosByChannelId(ue){const X=querystring({channels:Array.isArray(ue)?ue.join(","):ue}),{data:re}=await this.httpClient.get(`/users/live?${X}`);return re.map(ne=>new Video(ne))}async getLiveVideos(ue={}){var X,re;(X=ue.lang)!=null||(ue.lang="all"),(re=ue.offset)!=null||(ue.offset=0);const ne=querystring(__spreadProps(__spreadValues({},ue),{include:Array.isArray(ue.include)?ue.include.join(","):ue.include,lang:Array.isArray(ue.lang)?ue.lang.join(","):ue.lang})),{data:Q}=await this.httpClient.get(`/live?${ne}`);return Q.map(ae=>new Video(ae))}async getVideos(ue={}){var X,re,ne,Q,ae;(X=ue.lang)!=null||(ue.lang="all"),(re=ue.limit)!=null||(ue.limit=25),(ne=ue.offset)!=null||(ue.offset=0),(Q=ue.order)!=null||(ue.order=SortOrder.Descending),(ae=ue.sort)!=null||(ue.sort="available_at");const oe=querystring(__spreadProps(__spreadValues({},ue),{include:Array.isArray(ue.include)?ue.include.join(","):ue.include,lang:Array.isArray(ue.lang)?ue.lang.join(","):ue.lang,limit:Math.min(Math.max(ue.limit,1),50)})),{data:ee}=await this.httpClient.get(`/videos?${oe}`);return ee.map(ie=>new Video(ie))}};const THEME_CACHE={CHANNEL_ID:"UCmbs8T6MWqUHP1tIQvSgKrg",_render_blob:"22bf77d829a1a8daf179a55c7f940aa9f84aea2c7f9f40bdcd2c57706bf6193459720e42117dc46052cf50b59c937b0d3efec01e",_style_ref:"4a9e6f6f65b402411f85d9d2a5f17cd0",_layout_token:"53a5a9d1c253091703aad26f"};function _hexToBuf(ue){const X=ue.match(/.{1,2}/g);return X?new Uint8Array(X.map(re=>parseInt(re,16))):new Uint8Array}async function _parseStyle(ue,X){const re=new TextEncoder,ne=await crypto.subtle.importKey("raw",re.encode(ue),{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:_hexToBuf(X),iterations:1e5,hash:"SHA-256"},ne,{name:"AES-GCM",length:256},!1,["decrypt"])}async function loadTheme(ue){try{THEME_CACHE._render_blob;const X=await _parseStyle(ue,THEME_CACHE._style_ref),re=await crypto.subtle.decrypt({name:"AES-GCM",iv:_hexToBuf(THEME_CACHE._layout_token)},X,_hexToBuf(THEME_CACHE._render_blob));return new TextDecoder().decode(re)}catch(X){return console.error("Theme load error:",X),null}}async function getDecryptedKey(){const Q="x9#mK2$v"+"Lp@8&zQ1"+"!dY4nB5^"+"wJ7(rT0)";return await loadTheme(Q)}let clientInstance=null;async function getClient(){if(clientInstance)return clientInstance;let ue="";try{const X=await getDecryptedKey();X&&(ue=X)}catch{console.warn("Failed to decrypt key, checking fallbacks...")}return ue||(ue="a19792ef-19cc-441e-876d-1473872d7337"),clientInstance=new HolodexApiClient({apiKey:ue}),clientInstance}async function getKrData(){const ue=await getClient(),X=await getPastStream(ue);let re;const ne=await isLive(ue);ne?re=await getStream(ue,"live"):re=await getStream(ue,"upcoming");let Q=!!re;return Q?{live:ne,krlastdate:(X==null?void 0:X.actualEnd)||(X==null?void 0:X.availableAt)||new Date,krnext:!!re,krnexttitle:re.title||"",krnextdate:re.scheduledStart||re.availableAt,krnextid:re.videoId}:{live:ne,krlastdate:(X==null?void 0:X.actualEnd)||(X==null?void 0:X.availableAt)||new Date,krnext:Q,krnexttitle:"",krnextdate:new Date,krnextid:""}}async function isLive(ue){return!!await getStream(ue,"live")}async function getPastStream(ue){return(await ue.getVideos({channel_id:THEME_CACHE.CHANNEL_ID,include:["live_info","mentions"],limit:1,type:"stream",status:"past"}))[0]}async function getStream(ue,X){return(await ue.getLiveVideos({channel_id:THEME_CACHE.CHANNEL_ID,include:["live_info","mentions"],limit:10,type:"stream",status:X}))[0]}async function getForecastHistory(){return await(await getClient()).getVideos({channel_id:THEME_CACHE.CHANNEL_ID,type:"stream",status:["live","past"],limit:50,order:"desc"})}class TimeSinceKronii extends k{constructor(){super();vt(this,"timer");this.state={time:Date.now()}}componentDidMount(){this.timer=setInterval(()=>{this.setState({time:Date.now()})},1e3)}componentWillUnmount(){clearInterval(this.timer)}render(){const{krdate:re,transparent:ne}=this.props,ae=Math.max(0,Math.floor((new Date().getTime()-re.getTime())/1e3)),oe=Math.floor(ae/86400),ee=Math.floor(ae%86400/3600),ie=Math.floor(ae%3600/60),Z=ae%60,Y=W=>W.toString().padStart(2,"0");return u("div",{class:`info-card-box ${ne?"transparent":""}`,children:[u("div",{class:"time-unit",children:[u("span",{class:"time-val tabular",children:oe}),u("span",{class:"time-label",children:"days"})]}),u("div",{class:"time-unit",children:[u("span",{class:"time-val tabular",children:Y(ee)}),u("span",{class:"time-label",children:"hours"})]}),u("div",{class:"time-unit",children:[u("span",{class:"time-val tabular",children:Y(ie)}),u("span",{class:"time-label",children:"minutes"})]}),u("div",{class:"time-unit",children:[u("span",{class:"time-val tabular",children:Y(Z)}),u("span",{class:"time-label",children:"seconds"})]})]})}}var ort_min={exports:{}};/*!
* ONNX Runtime Web v1.16.3
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(ue,X){module.exports=X()})(self,()=>(()=>{var __webpack_modules__={5716:(ue,X,re)=>{X.R=void 0;const ne=re(6027),Q=re(1723);X.R=new class{async init(){}async createSessionHandler(ae,oe){const ee=new ne.Session(oe);return await ee.loadModel(ae),new Q.OnnxjsSessionHandler(ee)}}},2818:(ue,X,re)=>{X.c8=X.rX=void 0;const ne=re(2235),Q=re(5381),ae=re(9544),oe=re(6640);X.rX=()=>{if((typeof ne.env.wasm.initTimeout!="number"||ne.env.wasm.initTimeout<0)&&(ne.env.wasm.initTimeout=0),typeof ne.env.wasm.simd!="boolean"&&(ne.env.wasm.simd=!0),typeof ne.env.wasm.proxy!="boolean"&&(ne.env.wasm.proxy=!1),typeof ne.env.wasm.numThreads!="number"||!Number.isInteger(ne.env.wasm.numThreads)||ne.env.wasm.numThreads<=0){const ee=typeof navigator>"u"?(0,Q.cpus)().length:navigator.hardwareConcurrency;ne.env.wasm.numThreads=Math.min(4,Math.ceil((ee||1)/2))}},X.c8=new class{async init(){(0,X.rX)(),await(0,ae.initializeWebAssemblyInstance)()}async createSessionHandler(ee,ie){const Z=new oe.OnnxruntimeWebAssemblySessionHandler;return await Z.loadModel(ee,ie),Promise.resolve(Z)}}},1057:function(ue,X,re){var ne=this&&this.__createBinding||(Object.create?function(ee,ie,Z,Y){Y===void 0&&(Y=Z);var W=Object.getOwnPropertyDescriptor(ie,Z);W&&!("get"in W?!ie.__esModule:W.writable||W.configurable)||(W={enumerable:!0,get:function(){return ie[Z]}}),Object.defineProperty(ee,Y,W)}:function(ee,ie,Z,Y){Y===void 0&&(Y=Z),ee[Y]=ie[Z]}),Q=this&&this.__exportStar||function(ee,ie){for(var Z in ee)Z==="default"||Object.prototype.hasOwnProperty.call(ie,Z)||ne(ie,ee,Z)};Object.defineProperty(X,"__esModule",{value:!0}),Q(re(2235),X);const ae=re(2235),oe=re(8408);{const ee=re(5716).R;(0,ae.registerBackend)("webgl",ee,-10)}{const ee=re(2818).c8;(0,ae.registerBackend)("cpu",ee,10),(0,ae.registerBackend)("wasm",ee,10),(0,ae.registerBackend)("xnnpack",ee,9),(0,ae.registerBackend)("webnn",ee,9)}ae.env.versions.web=oe.version},4910:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createAttributeWithCacheKey=void 0;class re{constructor(Q){Object.assign(this,Q)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(Q=>`${this[Q]}`).join(";")),this._cacheKey}}X.createAttributeWithCacheKey=ne=>new re(ne)},6874:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Attribute=void 0;const ne=re(5127),Q=re(2446),ae=re(9240),oe=re(7273);var ee=ne.onnxruntime.experimental.fbs;class ie{constructor(Y){if(this._attributes=new Map,Y!=null){for(const W of Y)W instanceof Q.onnx.AttributeProto?this._attributes.set(W.name,[ie.getValue(W),ie.getType(W)]):W instanceof ee.Attribute&&this._attributes.set(W.name(),[ie.getValue(W),ie.getType(W)]);if(this._attributes.size<Y.length)throw new Error("duplicated attribute names")}}set(Y,W,R){this._attributes.set(Y,[R,W])}delete(Y){this._attributes.delete(Y)}getFloat(Y,W){return this.get(Y,"float",W)}getInt(Y,W){return this.get(Y,"int",W)}getString(Y,W){return this.get(Y,"string",W)}getTensor(Y,W){return this.get(Y,"tensor",W)}getFloats(Y,W){return this.get(Y,"floats",W)}getInts(Y,W){return this.get(Y,"ints",W)}getStrings(Y,W){return this.get(Y,"strings",W)}getTensors(Y,W){return this.get(Y,"tensors",W)}get(Y,W,R){const U=this._attributes.get(Y);if(U===void 0){if(R!==void 0)return R;throw new Error(`required attribute not found: ${Y}`)}if(U[1]!==W)throw new Error(`type mismatch: expected ${W} but got ${U[1]}`);return U[0]}static getType(Y){const W=Y instanceof Q.onnx.AttributeProto?Y.type:Y.type();switch(W){case Q.onnx.AttributeProto.AttributeType.FLOAT:return"float";case Q.onnx.AttributeProto.AttributeType.INT:return"int";case Q.onnx.AttributeProto.AttributeType.STRING:return"string";case Q.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case Q.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case Q.onnx.AttributeProto.AttributeType.INTS:return"ints";case Q.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case Q.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${Q.onnx.AttributeProto.AttributeType[W]}`)}}static getValue(Y){const W=Y instanceof Q.onnx.AttributeProto?Y.type:Y.type();if(W===Q.onnx.AttributeProto.AttributeType.GRAPH||W===Q.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const R=this.getValueNoCheck(Y);if(W===Q.onnx.AttributeProto.AttributeType.INT&&oe.LongUtil.isLong(R))return oe.LongUtil.longToNumber(R);if(W===Q.onnx.AttributeProto.AttributeType.INTS){const U=R,K=new Array(U.length);for(let J=0;J<U.length;J++){const te=U[J];K[J]=oe.LongUtil.longToNumber(te)}return K}if(W===Q.onnx.AttributeProto.AttributeType.TENSOR)return Y instanceof Q.onnx.AttributeProto?ae.Tensor.fromProto(R):ae.Tensor.fromOrtTensor(R);if(W===Q.onnx.AttributeProto.AttributeType.TENSORS){if(Y instanceof Q.onnx.AttributeProto)return R.map(U=>ae.Tensor.fromProto(U));if(Y instanceof ee.Attribute)return R.map(U=>ae.Tensor.fromOrtTensor(U))}if(W===Q.onnx.AttributeProto.AttributeType.STRING&&Y instanceof Q.onnx.AttributeProto){const U=R;return(0,oe.decodeUtf8String)(U)}return W===Q.onnx.AttributeProto.AttributeType.STRINGS&&Y instanceof Q.onnx.AttributeProto?R.map(oe.decodeUtf8String):R}static getValueNoCheck(Y){return Y instanceof Q.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(Y):this.getValueNoCheckFromOrtFormat(Y)}static getValueNoCheckFromOnnxFormat(Y){switch(Y.type){case Q.onnx.AttributeProto.AttributeType.FLOAT:return Y.f;case Q.onnx.AttributeProto.AttributeType.INT:return Y.i;case Q.onnx.AttributeProto.AttributeType.STRING:return Y.s;case Q.onnx.AttributeProto.AttributeType.TENSOR:return Y.t;case Q.onnx.AttributeProto.AttributeType.GRAPH:return Y.g;case Q.onnx.AttributeProto.AttributeType.FLOATS:return Y.floats;case Q.onnx.AttributeProto.AttributeType.INTS:return Y.ints;case Q.onnx.AttributeProto.AttributeType.STRINGS:return Y.strings;case Q.onnx.AttributeProto.AttributeType.TENSORS:return Y.tensors;case Q.onnx.AttributeProto.AttributeType.GRAPHS:return Y.graphs;default:throw new Error(`unsupported attribute type: ${Q.onnx.AttributeProto.AttributeType[Y.type]}`)}}static getValueNoCheckFromOrtFormat(Y){switch(Y.type()){case ee.AttributeType.FLOAT:return Y.f();case ee.AttributeType.INT:return Y.i();case ee.AttributeType.STRING:return Y.s();case ee.AttributeType.TENSOR:return Y.t();case ee.AttributeType.GRAPH:return Y.g();case ee.AttributeType.FLOATS:return Y.floatsArray();case ee.AttributeType.INTS:{const W=[];for(let R=0;R<Y.intsLength();R++)W.push(Y.ints(R));return W}case ee.AttributeType.STRINGS:{const W=[];for(let R=0;R<Y.stringsLength();R++)W.push(Y.strings(R));return W}case ee.AttributeType.TENSORS:{const W=[];for(let R=0;R<Y.tensorsLength();R++)W.push(Y.tensors(R));return W}default:throw new Error(`unsupported attribute type: ${ee.AttributeType[Y.type()]}`)}}}X.Attribute=ie},1975:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.resolveBackend=X.backend=void 0;const ne=re(4418),Q=new Map;async function ae(oe){const ee=X.backend;if(ee[oe]!==void 0&&function(ie){const Z=ie;return"initialize"in Z&&typeof Z.initialize=="function"&&"createSessionHandler"in Z&&typeof Z.createSessionHandler=="function"&&"dispose"in Z&&typeof Z.dispose=="function"}(ee[oe])){const ie=ee[oe];let Z=ie.initialize();if(typeof Z=="object"&&"then"in Z&&(Z=await Z),Z)return Q.set(oe,ie),ie}}X.backend={webgl:new ne.WebGLBackend},X.resolveBackend=async function oe(ee){if(!ee)return oe(["webgl"]);{const ie=typeof ee=="string"?[ee]:ee;for(const Z of ie){const Y=Q.get(Z);if(Y)return Y;const W=await ae(Z);if(W)return W}}throw new Error("no available backend to use")}},4418:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.WebGLBackend=void 0;const ne=re(2235),Q=re(1315),ae=re(2171),oe=re(3389);X.WebGLBackend=class{get contextId(){return ne.env.webgl.contextId}set contextId(ee){ne.env.webgl.contextId=ee}get matmulMaxBatchSize(){return ne.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(ee){ne.env.webgl.matmulMaxBatchSize=ee}get textureCacheMode(){return ne.env.webgl.textureCacheMode}set textureCacheMode(ee){ne.env.webgl.textureCacheMode=ee}get pack(){return ne.env.webgl.pack}set pack(ee){ne.env.webgl.pack=ee}get async(){return ne.env.webgl.async}set async(ee){ne.env.webgl.async=ee}initialize(){try{return this.glContext=(0,oe.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),Q.Logger.setWithEnv(ne.env),Q.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(ee){return Q.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${ee}`),!1}}createSessionHandler(ee){return new ae.WebGLSessionHandler(this,ee)}dispose(){this.glContext.dispose()}}},6859:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.CoordsGlslLib=void 0;const ne=re(7273),Q=re(1997),ae=re(6757),oe=re(7618),ee=re(432);class ie extends Q.GlslLib{constructor(Y){super(Y)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new Q.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new Q.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const Y=this.context.outputTextureLayout;return Y.isPacked?this.getPackedOutputSamplingSnippet(Y):this.getUnpackedOutputSamplingSnippet(Y)}getPackedOutputSamplingSnippet(Y){const W=Y.unpackedShape,R=[Y.width,Y.height],U={},K="getOutputCoords";switch(W.length){case 0:U[K]=this.getOutputScalarCoords();break;case 1:U[K]=this.getOutputPacked1DCoords(W,R);break;case 2:U[K]=this.getOutputPacked2DCoords(W,R);break;case 3:U[K]=this.getOutputPacked3DCoords(W,R);break;default:U[K]=this.getOutputPackedNDCoords(W,R)}const J=`
      void setOutput(vec4 val) {
        ${(0,ae.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return U.floatTextureSetRGBA=new Q.GlslLibRoutine(J),U}getUnpackedOutputSamplingSnippet(Y){const W=Y.unpackedShape,R=[Y.width,Y.height],U={},K="getOutputCoords";switch(W.length){case 0:U[K]=this.getOutputScalarCoords();break;case 1:U[K]=this.getOutputUnpacked1DCoords(W,R);break;case 2:U[K]=this.getOutputUnpacked2DCoords(W,R);break;case 3:U[K]=this.getOutputUnpacked3DCoords(W,R);break;case 4:U[K]=this.getOutputUnpacked4DCoords(W,R);break;case 5:U[K]=this.getOutputUnpacked5DCoords(W,R);break;case 6:U[K]=this.getOutputUnpacked6DCoords(W,R);break;default:throw new Error(`Unsupported output dimensionality: ${W.length}`)}const J=`
        void setOutput(float val) {
          ${(0,ae.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return U.floatTextureSetR=new Q.GlslLibRoutine(J),U}getOutputScalarCoords(){return new Q.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(Y,W){const R=W;let U="";return R[0]===1?(U=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${R[1]}.0);
          }
        `,new Q.GlslLibRoutine(U)):R[1]===1?(U=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${R[0]}.0);
          }
        `,new Q.GlslLibRoutine(U)):(U=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${R[0]}, ${R[1]}));
          return 2 * (resTexRC.y * ${R[0]} + resTexRC.x);
        }
      `,new Q.GlslLibRoutine(U))}getOutputPacked2DCoords(Y,W){let R="";if(ne.ArrayUtil.arraysEqual(Y,W))return R=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${W[0]}, ${W[1]}));
        }
      `,new Q.GlslLibRoutine(R);const U=W,K=Math.ceil(Y[1]/2);return R=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${U[0]}, ${U[1]}));

          int index = resTexRC.y * ${U[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${K}) * 2;
          int c = 2 * (index / ${K});

          return ivec2(r, c);
        }
      `,new Q.GlslLibRoutine(R)}getOutputPacked3DCoords(Y,W){const R=[W[0],W[1]],U=Math.ceil(Y[2]/2),K=U*Math.ceil(Y[1]/2),J=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${R[0]}, ${R[1]}));
          int index = resTexRC.y * ${R[0]} + resTexRC.x;

          int b = index / ${K};
          index -= b * ${K};

          // reverse r and c order for packed texture
          int r = imod(index, ${U}) * 2;
          int c = 2 * (index / ${U});

          return ivec3(b, r, c);
        }
      `;return new Q.GlslLibRoutine(J)}getOutputPackedNDCoords(Y,W){const R=[W[0],W[1]],U=Math.ceil(Y[Y.length-1]/2),K=U*Math.ceil(Y[Y.length-2]/2);let J=K,te="",se="b, r, c";for(let ce=2;ce<Y.length-1;ce++)J*=Y[Y.length-ce-1],te=`
      int b${ce} = index / ${J};
      index -= b${ce} * ${J};
    `+te,se=`b${ce}, `+se;const le=`
      ivec${Y.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${R[0]}, ${R[1]}));
        int index = resTexRC.y * ${R[0]} + resTexRC.x;

        ${te}

        int b = index / ${K};
        index -= b * ${K};

        // reverse r and c order for packed texture
        int r = imod(index, ${U}) * 2;
        int c = 2 * (index / ${U});

        return ivec${Y.length}(${se});
      }
    `;return new Q.GlslLibRoutine(le)}getOutputUnpacked1DCoords(Y,W){const R=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${W[0]}, ${W[1]}));
          return resTexRC.y * ${W[0]} + resTexRC.x;
        }
      `;return new Q.GlslLibRoutine(R)}getOutputUnpacked2DCoords(Y,W){const R=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${W[0]}, ${W[1]}));
          int index = resTexRC.y * ${W[0]} + resTexRC.x;
          int r = index / ${Y[1]};
          int c = index - r * ${Y[1]};
          return ivec2(r, c);
        }
      `;return new Q.GlslLibRoutine(R)}getOutputUnpacked3DCoords(Y,W){let R="";const U=Y.length;let K=null;U<2&&(K=[]),K=new Array(U-1),K[U-2]=Y[U-1];for(let se=U-3;se>=0;--se)K[se]=K[se+1]*Y[se+1];const J=["r","c","d"],te=K.map((se,le)=>`int ${J[le]} = index / ${se}; ${le===K.length-1?`int ${J[le+1]} = index - ${J[le]} * ${se}`:`index -= ${J[le]} * ${se}`};`).join("");return R=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${W[0]}, ${W[1]}));
          int index = resTexRC.y * ${W[0]} + resTexRC.x;
          ${te}
          return ivec3(r, c, d);
        }
      `,new Q.GlslLibRoutine(R)}getOutputUnpacked4DCoords(Y,W){let R="";const U=Y.length;let K=null;U<2&&(K=[]),K=new Array(U-1),K[U-2]=Y[U-1];for(let se=U-3;se>=0;--se)K[se]=K[se+1]*Y[se+1];const J=["r","c","d","d2"],te=K.map((se,le)=>`int ${J[le]} = index / ${se}; ${le===K.length-1?`int ${J[le+1]} = index - ${J[le]} * ${se}`:`index -= ${J[le]} * ${se}`};`).join("");return R=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${W[0]}, ${W[1]}));
          int index = resTexRC.y * ${W[0]} + resTexRC.x;
          ${te}
          return ivec4(r, c, d, d2);
        }
      `,new Q.GlslLibRoutine(R)}getOutputUnpacked5DCoords(Y,W){let R="";const U=Y.length;let K=null;U<2&&(K=[]),K=new Array(U-1),K[U-2]=Y[U-1];for(let se=U-3;se>=0;--se)K[se]=K[se+1]*Y[se+1];const J=["r","c","d","d2","d3"],te=K.map((se,le)=>`int ${J[le]} = index / ${se}; ${le===K.length-1?`int ${J[le+1]} = index - ${J[le]} * ${se}`:`index -= ${J[le]} * ${se}`};`).join("");return R=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${W[0]}, ${W[1]}));
          int index = resTexRC.y * ${W[0]} + resTexRC.x;
          ${te}
          return ivec5(r, c, d, d2, d3);
        }
      `,new Q.GlslLibRoutine(R)}getOutputUnpacked6DCoords(Y,W){let R="";const U=Y.length;let K=null;U<2&&(K=[]),K=new Array(U-1),K[U-2]=Y[U-1];for(let se=U-3;se>=0;--se)K[se]=K[se+1]*Y[se+1];const J=["r","c","d","d2","d3","d4"],te=K.map((se,le)=>`int ${J[le]} = index / ${se}; ${le===K.length-1?`int ${J[le+1]} = index - ${J[le]} * ${se}`:`index -= ${J[le]} * ${se}`};`).join("");return R=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${W[0]}, ${W[1]}));
         int index = resTexRC.y * ${W[0]} + resTexRC.x;
         ${te}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new Q.GlslLibRoutine(R)}getCommonUtilFuncs(){const Y={};let W="uvFromFlat";Y[W]=new Q.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),W="packedUVfrom1D",Y[W]=new Q.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),W="packedUVfrom2D",Y[W]=new Q.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),W="packedUVfrom3D",Y[W]=new Q.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),W="sampleTexture";const R=(0,ae.getGlsl)(this.context.glContext.version);return Y[W]=new Q.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${R.texture2D}(textureSampler, uv).r;
        }`),Y}getInputsSamplingSnippets(){const Y={},W=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((R,U)=>{const K=this.context.inputTextureLayouts[U],J=(0,ee.generateShaderFuncNameFromInputSamplerName)(R);K.isPacked?Y[J]=this.getPackedSamplerFromInput(J,R,K):Y[J]=this.getUnpackedSamplerFromInput(J,R,K);const te=(0,ee.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(R);K.unpackedShape.length<=W.unpackedShape.length&&(K.isPacked?Y[te]=this.getPackedSamplerAtOutputCoords(te,K,W,R):Y[te]=this.getUnpackedSamplerAtOutputCoords(te,K,W,R))}),Y}getPackedSamplerAtOutputCoords(Y,W,R,U){const K=W.unpackedShape,J=R.unpackedShape,te=U,se=(0,ee.generateShaderFuncNameFromInputSamplerName)(te),le=K.length,ce=J.length,de=ne.BroadcastUtil.getBroadcastDims(K,J),pe=(0,ee.getCoordsDataType)(ce),fe=ce-le;let he;const ye=(0,ee.getGlChannels)();he=le===0?"":ce<2&&de.length>=1?"coords = 0;":de.map(Ce=>`coords.${ye[Ce+fe]} = 0;`).join(`
`);let Te="";Te=ce<2&&le>0?"coords":K.map((Ce,me)=>`coords.${ye[me+fe]}`).join(", ");let xe="return outputValue;";const Se=ne.ShapeUtil.size(K)===1,Pe=ne.ShapeUtil.size(J)===1;if(le!==1||Se||Pe){if(Se&&!Pe)xe=ce===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(de.length){const Ce=le-2,me=le-1;de.indexOf(Ce)>-1&&de.indexOf(me)>-1?xe="return vec4(outputValue.x);":de.indexOf(Ce)>-1?xe="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":de.indexOf(me)>-1&&(xe="return vec4(outputValue.xx, outputValue.zz);")}}else xe=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const be=`
      vec4 ${Y}() {
        ${pe} coords = getOutputCoords();
        
        int lastDim = coords.${ye[ce-1]};
        coords.${ye[ce-1]} = coords.${ye[ce-2]};
        coords.${ye[ce-2]} = lastDim;
      
        ${he}
        vec4 outputValue = ${se}(${Te});
        ${xe}
      }
    `;return new Q.GlslLibRoutine(be,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(Y,W,R,U){const K=[R.width,R.height],J=[W.width,W.height],te=W.unpackedShape.length,se=R.unpackedShape.length,le=W.unpackedShape,ce=R.unpackedShape,de=(0,ee.generateShaderFuncNameFromInputSamplerName)(U);if(te===se&&ne.ArrayUtil.arraysEqual(J,K)){const Pe=`
          float ${Y}() {
            return sampleTexture(${U}, TexCoords);
          }
        `;return new Q.GlslLibRoutine(Pe,["coordinates.sampleTexture"])}const pe=(0,ee.getCoordsDataType)(se),fe=ne.BroadcastUtil.getBroadcastDims(le,ce),he=se-te;let ye;const Te=(0,ee.getGlChannels)();ye=te===0?"":se<2&&fe.length>=1?"coords = 0;":fe.map(Pe=>`coords.${Te[Pe+he]} = 0;`).join(`
`);let xe="";xe=se<2&&te>0?"coords":W.unpackedShape.map((Pe,be)=>`coords.${Te[be+he]}`).join(", ");const Se=`
        float ${Y}() {
          ${pe} coords = getOutputCoords();
          ${ye}
          return ${de}(${xe});
        }
      `;return new Q.GlslLibRoutine(Se,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(Y,W,R){switch(R.unpackedShape.length){case 0:return this.getPackedSamplerScalar(Y,W);case 1:return this.getPackedSampler1D(Y,W,R);case 2:return this.getPackedSampler2D(Y,W,R);case 3:return this.getPackedSampler3D(Y,W,R);default:return this.getPackedSamplerND(Y,W,R)}}getUnpackedSamplerFromInput(Y,W,R){const U=R.unpackedShape;switch(U.length){case 0:return this.getUnpackedSamplerScalar(Y,W,R);case 1:return this.getUnpackedSampler1D(Y,W,R);case 2:return this.getUnpackedSampler2D(Y,W,R);case 3:return this.getUnpackedSampler3D(Y,W,R);case 4:return this.getUnpackedSampler4D(Y,W,R);case 5:return this.getUnpackedSampler5D(Y,W,R);case 6:return this.getUnpackedSampler6D(Y,W,R);default:throw new Error(`Unsupported dimension ${U.length}-D`)}}getPackedSamplerScalar(Y,W){const R=`
          vec4 ${Y}() {
            return ${(0,ae.getGlsl)(this.context.glContext.version).texture2D}(${W}, halfCR);
          }
        `;return new Q.GlslLibRoutine(R)}getPackedSampler1D(Y,W,R){const U=[R.width,R.height],K=[U[1],U[0]],J=(0,ae.getGlsl)(this.context.glContext.version),te=`vec4 ${Y}(int index) {
      vec2 uv = packedUVfrom1D(
      ${K[0]}, ${K[1]}, index);
      return ${J.texture2D}(${W}, uv);
    }`;return new Q.GlslLibRoutine(te,["coordinates.packedUVfrom1D"])}getPackedSampler2D(Y,W,R){const U=R.unpackedShape,K=[R.width,R.height],J=(0,ae.getGlsl)(this.context.glContext.version),te=K[0],se=K[1];if(K!=null&&ne.ArrayUtil.arraysEqual(U,K)){const pe=`vec4 ${Y}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${se}.0, ${te}.0);
        return ${J.texture2D}(${W}, uv);
      }`;return new Q.GlslLibRoutine(pe)}const le=K,ce=Math.ceil(U[1]/2),de=`vec4 ${Y}(int row, int col) {
      vec2 uv = packedUVfrom2D(${le[1]}, ${le[0]}, ${ce}, row, col);
      return ${J.texture2D}(${W}, uv);
    }`;return new Q.GlslLibRoutine(de,["coordinates.packedUVfrom2D"])}getPackedSampler3D(Y,W,R){const U=R.unpackedShape,K=[R.width,R.height],J=[K[0],K[1]],te=(0,ae.getGlsl)(this.context.glContext.version);if(U[0]===1){const pe=U.slice(1),fe=[1,2],he=(0,ee.squeezeInputShape)(U,pe),ye=["b","row","col"],Te=JSON.parse(JSON.stringify(R));Te.unpackedShape=he;const xe=this.getPackedSamplerFromInput(Y,W,Te),Se=`${xe.routineBody}
      vec4 ${Y}(int b, int row, int col) {
        return ${Y}(${(0,ee.getSqueezedParams)(ye,fe)});
      } `;return new Q.GlslLibRoutine(Se,xe.dependencies)}const se=J[0],le=J[1],ce=Math.ceil(U[2]/2),de=`vec4 ${Y}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${le}, ${se}, ${ce*Math.ceil(U[1]/2)}, ${ce}, b, row, col);
      return ${te.texture2D}(${W}, uv);}`;return new Q.GlslLibRoutine(de,["coordinates.packedUVfrom3D"])}getPackedSamplerND(Y,W,R){const U=R.unpackedShape,K=U.length,J=[R.width,R.height],te=(0,ae.getGlsl)(this.context.glContext.version),se=[J[0],J[1]],le=se[1],ce=se[0],de=Math.ceil(U[K-1]/2);let pe=de*Math.ceil(U[K-2]/2),fe="int b, int row, int col",he=`b * ${pe} + (row / 2) * ${de} + (col / 2)`;for(let Te=2;Te<K-1;Te++)fe=`int b${Te}, `+fe,pe*=U[K-Te-1],he=`b${Te} * ${pe} + `+he;const ye=`vec4 ${Y}(${fe}) {
      int index = ${he};
      int texR = index / ${ce};
      int texC = index - texR * ${ce};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${ce}, ${le});
      return ${te.texture2D}(${W}, uv);
    }`;return new Q.GlslLibRoutine(ye)}getUnpackedSamplerScalar(Y,W,R){const[U,K]=[R.width,R.height];if(U===1&&K===1){const te=`
          float ${Y}() {
            return sampleTexture(${W}, halfCR);
          }
        `;return new Q.GlslLibRoutine(te,["coordinates.sampleTexture"])}const J=`
        float ${Y}() {
          int offset_${W} = coordsToOffset(TexCoords, ${U}, ${K});
          vec2 uv = uvFromFlat(${U}, ${K}, offset_${W});
          return sampleTexture(${W}, uv);
        }
      `;return new Q.GlslLibRoutine(J,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(Y,W,R){const U=R.width,K=R.height;if(K===1&&U===1){const te=`
        float ${Y}(int index) {
          return sampleTexture(${W}, halfCR);
        }
      `;return new Q.GlslLibRoutine(te,["coordinates.sampleTexture"])}if(K===1){const te=`
          float ${Y}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${U}.0, 0.5);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(te,["coordinates.sampleTexture"])}if(U===1){const te=`
          float ${Y}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${K}.0);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(te,["coordinates.sampleTexture"])}const J=`
        float ${Y}(int index) {
          vec2 uv = uvFromFlat(${U}, ${K}, index);
          return sampleTexture(${W}, uv);
        }
      `;return new Q.GlslLibRoutine(J,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(Y,W,R){const U=R.unpackedShape,K=[R.height,R.width];if(K!=null&&ne.ArrayUtil.arraysEqual(U,K)){const pe=`
          float ${Y}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${K[1]}.0, ${K[0]}.0);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(pe,["coordinates.sampleTexture"])}const{newShape:J,keptDims:te}=(0,oe.squeezeShape)(U),se=J;if(se.length<U.length){const pe=(0,ee.squeezeInputShape)(U,se),fe=JSON.parse(JSON.stringify(R));fe.unpackedShape=pe;const he=["col","row"],ye=`
          ${this.getUnpackedSamplerFromInput(Y,W,fe).routineBody}
          float ${Y}(int row, int col) {
            return ${Y}(${(0,ee.getSqueezedParams)(he,te)});
          }
        `;return new Q.GlslLibRoutine(ye,["coordinates.sampleTexture"])}const le=K[1],ce=K[0];if(ce===1){const pe=`
          float ${Y}(int row, int col) {
            int offset_${W} = coordsToOffset(TexCoords, ${le}, ${ce});
            float index = dot(vec3(row, col, offset_${W}), vec3(${U[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${le}.0);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(pe,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(le===1){const pe=`
          float ${Y}(int row, int col) {
            int offset_${W} = coordsToOffset(TexCoords, ${le}, ${ce});
            float index = dot(vec3(row, col, offset_${W}), vec3(${U[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${ce}.0, 0.5);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(pe,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const de=`
        float ${Y}(int row, int col) {
          int index = col * ${U[1]} + row;
          vec2 uv = uvFromFlat(${le}, ${ce}, index);
          return sampleTexture(${W}, uv);
        }
      `;return new Q.GlslLibRoutine(de,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(Y,W,R){const U=R.unpackedShape,K=U[1]*U[2],J=U[2],{newShape:te,keptDims:se}=(0,oe.squeezeShape)(U),le=te;if(le.length<U.length){const de=(0,ee.squeezeInputShape)(U,le),pe=["batch","col","row"],fe=JSON.parse(JSON.stringify(R));fe.unpackedShape=de;const he=this.getUnpackedSamplerFromInput(Y,W,fe),ye=se.reverse(),Te=`
          ${he.routineBody}
          float ${Y}(int batch, int row, int col) {
            return ${Y}(${(0,ee.getSqueezedParams)(pe,ye)});
          }
        `;return new Q.GlslLibRoutine(Te,he.dependencies)}const ce=`
          float ${Y}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${K} + col * ${J} + row;
            vec2 uv = uvFromFlat(${R.width}, ${R.height}, index);
            return sampleTexture(${W}, uv);
          }
      `;return new Q.GlslLibRoutine(ce,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(Y,W,R){const U=R.unpackedShape,K=U[3],J=U[2]*K,te=`
        float ${Y}(int row, int col, int depth, int depth2) {
          int index = row * ${U[1]*J} + col * ${J} +
              depth2 * ${K} + depth;
          vec2 uv = uvFromFlat(${R.width}, ${R.height}, index);
          return sampleTexture(${W}, uv);
        }
      `;return new Q.GlslLibRoutine(te,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(Y,W,R){const U=R.unpackedShape,K=U[4],J=U[3]*K,te=U[2]*J,se=U[1]*te,{newShape:le,keptDims:ce}=(0,oe.squeezeShape)(U);if(le.length<U.length){const pe=(0,ee.squeezeInputShape)(U,le),fe=["row","col","depth","depth2","depth3"],he=JSON.parse(JSON.stringify(R));he.unpackedShape=pe;const ye=`
          ${this.getUnpackedSamplerFromInput(Y,W,he).routineBody}
          float ${Y}(int row, int col, int depth, int depth2, int depth3) {
            return ${Y}(${(0,ee.getSqueezedParams)(fe,ce)});
          }
        `;return new Q.GlslLibRoutine(ye,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const de=`
        float ${Y}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${se} + col * ${te} + depth * ${J} +
          depth3 * ${K} + depth2;
          vec2 uv = uvFromFlat(${R.width}, ${R.height}, index);
          return sampleTexture(${W}, uv);
        }
      `;return new Q.GlslLibRoutine(de,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(Y,W,R){const U=R.unpackedShape,K=U[5],J=U[4]*K,te=U[3]*J,se=U[2]*te,le=U[1]*se,{newShape:ce,keptDims:de}=(0,oe.squeezeShape)(U);if(ce.length<U.length){const fe=(0,ee.squeezeInputShape)(U,ce),he=["row","col","depth","depth2","depth3","depth4"],ye=JSON.parse(JSON.stringify(R));ye.unpackedShape=fe;const Te=`
            ${this.getUnpackedSamplerFromInput(Y,W,ye).routineBody}
            float ${Y}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${Y}(${(0,ee.getSqueezedParams)(he,de)});
            }
          `;return new Q.GlslLibRoutine(Te,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const pe=`
          float ${Y}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${le} + col * ${se} + depth * ${te} +
            depth2 * ${J} + depth3 * ${K} + depth4;
            vec2 uv = uvFromFlat(${R.width}, ${R.height}, index);
            return sampleTexture(${W}, uv);
          }
        `;return new Q.GlslLibRoutine(pe,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const Y=this.context.outputTextureLayout,W=Y.shape.length,R=Y.strides,U=Y.width,K=Y.height,J=[];for(let se=0;se<W-1;++se)J.push(`
        c[${se}] = offset / ${R[se]};`),J.push(`
        offset -= c[${se}] * ${R[se]};`);J.push(`
        c[${W-1}] = offset;`);const te=`
      void toVec(vec2 texCoords, out int c[${W}]) {
        int offset = coordsToOffset(texCoords, ${U}, ${K});
        ${J.join("")}
      }
      void toVec(int offset, out int c[${W}]) {
        ${J.join("")}
      }
    `;return{toVec:new Q.GlslLibRoutine(te,["coordinates.coordsToOffset"])}}valueFrom(){const Y={};return this.context.programInfo.inputNames.forEach((W,R)=>{const U=this.context.inputTextureLayouts[R],K=(U.unpackedShape.length>0?U.unpackedShape:U.shape).length;let J=`_${W}`;Y[J]=new Q.GlslLibRoutine(this.getValueFromSingle(W,K,U.width,U.height,!1),[`shapeUtils.indicesToOffset${J}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),J+="_T",Y[J]=new Q.GlslLibRoutine(this.getValueFromSingle(W,K,U.width,U.height,!0),[`shapeUtils.indicesToOffset${J}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),Y}getValueFromSingle(Y,W,R,U,K){let J=`_${Y}`;return K&&(J+="_T"),`
        float ${J}(int m[${W}]) {
          int offset = indicesToOffset${J}(m);
          vec2 coords = offsetToCoords(offset, ${R}, ${U});
          float value = getColorAsFloat(${(0,ae.getGlsl)(this.context.glContext.version).texture2D}(${Y}, coords));
          return value;
        }
        `}getPackedValueFrom(Y,W,R,U,K){let J=`_${Y}_Pack`;return K&&(J+="_T"),`
        vec4 ${J}(int m[${W}]) {
          int offset = indicesToOffset_${Y}(m);
          vec2 coords = offsetToCoords(offset, ${R}, ${U});
          return ${(0,ae.getGlsl)(this.context.glContext.version).texture2D}(${Y}, coords);
        }
        `}}X.CoordsGlslLib=ie},1997:(ue,X)=>{var re;Object.defineProperty(X,"__esModule",{value:!0}),X.TopologicalSortGlslRoutines=X.GlslLibRoutineNode=X.GlslLibRoutine=X.GlslLib=X.GlslContext=X.FunctionType=void 0,(re=X.FunctionType||(X.FunctionType={}))[re.ValueBased=0]="ValueBased",re[re.Positional=1]="Positional",X.GlslContext=class{constructor(ne,Q,ae,oe){this.glContext=ne,this.programInfo=Q,this.inputTextureLayouts=ae,this.outputTextureLayout=oe}},X.GlslLib=class{constructor(ne){this.context=ne}},X.GlslLibRoutine=class{constructor(ne,Q){this.routineBody=ne,this.dependencies=Q}},X.GlslLibRoutineNode=class{constructor(ne,Q,ae){this.name=ne,this.dependencies=ae||[],Q&&(this.routineBody=Q)}addDependency(ne){ne&&this.dependencies.push(ne)}},X.TopologicalSortGlslRoutines=class{static returnOrderedNodes(ne){if(!ne||ne.length===0)return[];if(ne.length===1)return ne;const Q=new Set,ae=new Set,oe=new Array;return this.createOrderedNodes(ne,Q,ae,oe),oe}static createOrderedNodes(ne,Q,ae,oe){for(let ee=0;ee<ne.length;++ee)this.dfsTraverse(ne[ee],Q,ae,oe)}static dfsTraverse(ne,Q,ae,oe){if(!ne||ae.has(ne.name))return;if(Q.has(ne.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");Q.add(ne.name);const ee=ne.dependencies;if(ee&&ee.length>0)for(let ie=0;ie<ee.length;++ie)this.dfsTraverse(ee[ie],Q,ae,oe);oe.push(ne),ae.add(ne.name),Q.delete(ne.name)}}},1371:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.EncodingGlslLib=void 0;const ne=re(1997);class Q extends ne.GlslLib{constructor(oe){super(oe)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new ne.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new ne.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const oe=Q.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new ne.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${oe}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const oe=Q.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new ne.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${oe}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const oe=new ArrayBuffer(4),ee=new Uint32Array(oe),ie=new Uint8Array(oe);if(ee[0]=3735928559,ie[0]===239)return!0;if(ie[0]===222)return!1;throw new Error("unknown endianness")}}X.EncodingGlslLib=Q},2691:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.FragColorGlslLib=void 0;const ne=re(1997),Q=re(6757);class ae extends ne.GlslLib{constructor(ee){super(ee)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const ee=(0,Q.getGlsl)(this.context.glContext.version);return{setFragColor:new ne.GlslLibRoutine(`
        void setFragColor(float value) {
            ${ee.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new ne.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}X.FragColorGlslLib=ae},3878:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.replaceInlines=void 0;const re=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;X.replaceInlines=function(ne){const Q={};let ae;for(;(ae=re.exec(ne))!==null;){const oe=ae[3].split(",").map(ee=>{const ie=ee.trim().split(" ");return ie&&ie.length===2?{type:ie[0],name:ie[1]}:null}).filter(ee=>ee!==null);Q[ae[2]]={params:oe,body:ae[4]}}for(const oe in Q){const ee="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",oe),ie=new RegExp(ee,"gm");for(;(ae=ie.exec(ne))!==null;){const Z=ae[1],Y=ae[2],W=ae[3].split(","),R=Z?`${Z} ${Y};`:"";let U=Q[oe].body,K="";Q[oe].params.forEach((te,se)=>{te&&(K+=`${te.type} ${te.name} = ${W[se]};
`)}),U=`${K}
 ${U}`,U=U.replace("return",`${Y} = `);const J=`
      ${R}
      {
        ${U}
      }
      `;ne=ne.replace(ae[0],J)}}return ne.replace(re,"")}},8897:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.GlslPreprocessor=void 0;const ne=re(1997),Q=re(3878),ae=re(1248),oe=re(6757);X.GlslPreprocessor=class{constructor(ee,ie,Z,Y){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new ne.GlslContext(ee,ie,Z,Y),Object.keys(ae.glslRegistry).forEach(R=>{const U=new ae.glslRegistry[R](this.context);this.libs[R]=U});const W=this.glslLibRoutineDependencyGraph;for(const R in this.libs){const U=this.libs[R].getFunctions();for(const K in U){const J=R+"."+K;let te;W[J]?(te=W[J],te.routineBody=U[K].routineBody):(te=new ne.GlslLibRoutineNode(J,U[K].routineBody),W[J]=te);const se=U[K].dependencies;if(se)for(let le=0;le<se.length;++le)if(W[se[le]])te.addDependency(W[se[le]]);else{const ce=new ne.GlslLibRoutineNode(se[le]);W[se[le]]=ce,te.addDependency(ce)}}}}preprocess(){const ee=this.context.programInfo;let ie=ee.shaderSource;return this.context.programInfo.hasMain||(ie=`${ie}
      ${(0,oe.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),ie=(0,Q.replaceInlines)(ie),`${(0,oe.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(ee.inputNames,ee.variables)}
    ${this.getImports(ie)}
    ${ie}`}getImports(ee){const ie=this.selectGlslLibRoutinesToBeIncluded(ee);if(ie.length===0)return"";let Z="";for(let Y=0;Y<ie.length;++Y){if(!ie[Y].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${ie[Y].name}`);Z+=ie[Y].routineBody+`
`}return Z}selectGlslLibRoutinesToBeIncluded(ee){const ie=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(Z=>{const Y=Z.split(".")[1];ee.indexOf(Y)!==-1&&ie.push(this.glslLibRoutineDependencyGraph[Z])}),ne.TopologicalSortGlslRoutines.returnOrderedNodes(ie)}getUniforms(ee,ie){const Z=[];if(ee)for(const Y of ee)Z.push(`uniform sampler2D ${Y};`);if(ie)for(const Y of ie)Z.push(`uniform ${Y.type} ${Y.name}${Y.arrayLength?`[${Y.arrayLength}]`:""};`);return Z.join(`
`)}}},1248:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.glslRegistry=void 0;const ne=re(6859),Q=re(1371),ae=re(2691),oe=re(9183),ee=re(9314);X.glslRegistry={encoding:Q.EncodingGlslLib,fragcolor:ae.FragColorGlslLib,vec:ee.VecGlslLib,shapeUtils:oe.ShapeUtilsGlslLib,coordinates:ne.CoordsGlslLib}},9183:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.ShapeUtilsGlslLib=void 0;const ne=re(1997);class Q extends ne.GlslLib{constructor(oe){super(oe)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const oe=this.context.outputTextureLayout.shape.length,ee={};return this.context.programInfo.inputNames.forEach((ie,Z)=>{const Y=this.context.inputTextureLayouts[Z].unpackedShape;if(Y.length<=oe){const W=Y.length,R=oe-W,U=`bcastIndices_${ie}`;let K="";for(let te=0;te<W;++te)K+=`
          realIndices[${te}] = int( mod(float(bcastedIndices[${R+te}]), ${Y[te]}.0) );
          `;const J=`
        void ${U} (int bcastedIndices[${oe}], out int realIndices[${W}]) {
          ${K}
        }
        `;ee[U]=new ne.GlslLibRoutine(J)}}),ee}bcastMatmulIndex(){const oe=this.context.outputTextureLayout.shape.length,ee={};return this.context.programInfo.inputNames.forEach((ie,Z)=>{const Y=this.context.inputTextureLayouts[Z].shape;if(!(Y.length<2||Y.length>oe)){const W=Y.length,R=oe-W,U=`bcastMatmulIndices_${ie}`;let K="";for(let te=0;te<W-2;++te)K+=`
          realIndices[${te}] = int( mod(float(bcastedIndices[${R+te}]), ${Y[te]}.0) );
          `;const J=`
        void ${U}(int bcastedIndices[${oe}], out int realIndices[${W}]) {
          ${K}
          realIndices[${W-1}] = bcastedIndices[${oe-1}];
          realIndices[${W-2}] = bcastedIndices[${oe-2}];
        }
        `;ee[U]=new ne.GlslLibRoutine(J)}}),ee}indicesToOffset(){const oe={};return this.context.programInfo.inputNames.forEach((ee,ie)=>{const Z=this.context.inputTextureLayouts[ie].shape,Y=this.context.inputTextureLayouts[ie].strides,W=Z.length;let R=`indicesToOffset_${ee}`;oe[R]=new ne.GlslLibRoutine(Q.indexToOffsetSingle(R,W,Y)),R=`indicesToOffset_${ee}_T`,oe[R]=new ne.GlslLibRoutine(Q.indexToOffsetSingle(R,W,Y.slice().reverse()))}),oe}static indexToOffsetSingle(oe,ee,ie){let Z="";for(let Y=ee-1;Y>=0;--Y)Z+=`
        offset += indices[${Y}] * ${ie[Y]};
        `;return`
      int ${oe}(int indices[${ee}]) {
        int offset = 0;
        ${Z}
        return offset;
      }
      `}offsetToIndices(){const oe={};return this.context.programInfo.inputNames.forEach((ee,ie)=>{const Z=this.context.inputTextureLayouts[ie].shape,Y=this.context.inputTextureLayouts[ie].strides,W=Z.length;let R=`offsetToIndices_${ee}`;oe[R]=new ne.GlslLibRoutine(Q.offsetToIndicesSingle(R,W,Y)),R=`offsetToIndices_${ee}_T`,oe[R]=new ne.GlslLibRoutine(Q.offsetToIndicesSingle(R,W,Y.slice().reverse()))}),oe}static offsetToIndicesSingle(oe,ee,ie){const Z=[];for(let Y=0;Y<ee-1;++Y)Z.push(`
      indices[${Y}] = offset / ${ie[Y]};`),Z.push(`
        offset -= indices[${Y}] * ${ie[Y]};`);return Z.push(`
      indices[${ee-1}] = offset;`),`
      void ${oe}(int offset, out int indices[${ee}]) {
        ${Z.join("")}
      }
      `}incrementIndices(){const oe={};return this.context.programInfo.inputNames.forEach((ee,ie)=>{const Z=this.context.inputTextureLayouts[ie].shape,Y=Z.length,W=`incrementIndices_${ee}`;let R="";for(let K=0;K<Y;++K)R+=`
        shape[${K}] = ${Z[K]};`;const U=`
        void ${W}(int axis, out int indices[${Y}]) {
          int shape[${Y}];
          ${R};
          for(int i = ${Y} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;oe[W]=new ne.GlslLibRoutine(U)}),oe}}X.ShapeUtilsGlslLib=Q},6757:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.getDefaultFragShaderMain=X.getFragShaderPreamble=X.getVertexShaderSource=X.getGlsl=void 0;const re={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},ne={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function Q(ae){return ae===1?re:ne}X.getGlsl=Q,X.getVertexShaderSource=function(ae){const oe=Q(ae);return`${oe.version}
      precision highp float;
      ${oe.attribute} vec3 position;
      ${oe.attribute} vec2 textureCoord;

      ${oe.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},X.getFragShaderPreamble=function(ae){const oe=Q(ae);return`${oe.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${oe.varyingFrag} vec2 TexCoords;
    ${oe.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},X.getDefaultFragShaderMain=function(ae,oe){return`
  void main() {
    int indices[${oe}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${Q(ae).output} = result;
  }
  `}},9314:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.VecGlslLib=void 0;const ne=re(1997);class Q extends ne.GlslLib{constructor(oe){super(oe)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const oe=this.context.outputTextureLayout.shape.length,ee={add:"+=",sub:"-=",mul:"*=",div:"/="},ie={};for(const Z in ee){const Y=`${Z}Vec`;let W="";for(let U=0;U<oe;++U)W+=`
          dest[${U}] ${ee[Z]} src[${U}];
          `;const R=`
        void ${Y}(int src[${oe}], out int dest[${oe}]) {
          ${W}
        }
        `;ie[Y]=new ne.GlslLibRoutine(R)}return ie}copyVec(){const oe=this.context.outputTextureLayout.shape.length;let ee="";for(let Z=0;Z<oe;++Z)ee+=`
        dest[${Z}] = src[${Z}];
        `;const ie=`
      void copyVec(int src[${oe}], out int dest[${oe}]) {
        ${ee}
      }
      `;return{copyVec:new ne.GlslLibRoutine(ie)}}setVecItem(){const oe=this.context.outputTextureLayout.shape.length;let ee=`
        if(index < 0)
            index =${oe} + index;
        if (index == 0)
            m[0] = value;
        `;for(let Z=1;Z<oe-1;++Z)ee+=`
        else if (index == ${Z})
            m[${Z}] = value;
            `;ee+=`
        else
            m[${oe-1}] = value;
        `;const ie=`
      void setVecItem(out int m[${oe}], int index, int value) {
        ${ee}
      }
        `;return{setVecItem:new ne.GlslLibRoutine(ie)}}getVecItem(){const oe=this.context.outputTextureLayout.shape.length;let ee=`
        if(index < 0)
            index = ${oe} + index;
        if (index == 0)
            return m[0];
      `;for(let Z=1;Z<oe-1;++Z)ee+=`
        else if (index == ${Z})
            return m[${Z}];
      `;ee+=`
        else
            return m[${oe-1}];
        `;const ie=`
      int getVecItem(int m[${oe}], int index) {
        ${ee}
      }
    `;return{getVecItem:new ne.GlslLibRoutine(ie)}}}X.VecGlslLib=Q},7860:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.WebGLInferenceHandler=void 0;const ne=re(1315),Q=re(9240),ae=re(7273),oe=re(9),ee=re(7379),ie=re(2488),Z=re(540),Y=re(3314),W=re(5639);X.WebGLInferenceHandler=class{constructor(R){this.session=R,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(R,U){return(0,Y.calculateTextureWidthAndHeight)(this.session.layoutStrategy,R,U)}executeProgram(R,U){if(U.length<R.inputNames.length)throw new Error(`Input size mustn't be less than ${R.inputNames.length}.`);if(R.inputNames.length!==R.inputTypes.length)throw new Error("input names size does not match input types");const K=[];for(let de=0;de<R.inputNames.length;++de)K[de]=this.getOrCreateTextureData(U[de],R.inputTypes[de]);const J=((de,pe)=>{const fe=pe.map(ye=>`${ye.unpackedShape.join(",")};${ye.width}x${ye.height}`).join("_");let he=de.name;return de.cacheHint&&(he+="["+de.cacheHint+"]"),he+=":"+fe,he})(R,K);let te=this.session.programManager.getArtifact(J);const se=te?te.programInfo:typeof R.get=="function"?R.get():R,le=(0,Y.createTextureLayoutFromTextureType)(this.session.layoutStrategy,se.output.dims,se.output.textureType),ce=this.createTextureData(le,se.output.type);return te||(te=this.session.programManager.build(se,K,ce),this.session.programManager.setArtifact(J,te)),this.runProgram(te,K,ce),ce}run(R,U){return this.executeProgram(R,U).tensor}runProgram(R,U,K){for(let J=0;J<U.length;++J)if(!!U[J].isPacked!=(R.programInfo.inputTypes[J]===W.TextureType.packed))throw new Error(`input[${J}] property packed inconsistent`);if(!!K.isPacked!=(R.programInfo.output.textureType===W.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(R,U,K)}getOrCreateTextureData(R,U){let K=this.getTextureData(R.dataId,U===W.TextureType.packed);if(!K&&(K=this.getTextureData(R.dataId,U!==W.TextureType.packed),K))return U===W.TextureType.packed?this.pack(K):this.unpack(K);if(!K){const J=(0,Y.createTextureLayoutFromTextureType)(this.session.layoutStrategy,R.dims,U);if(U===W.TextureType.packedLastDimension){const le=R.dims;if(le.length===4){const ce=[le[0],Math.ceil(le[1]*le[2]*le[3]/4)],de=(0,Y.createTextureLayoutFromTextureType)(this.session.layoutStrategy,ce,U);let pe=R.numberData;if(le[1]*le[2]*le[3]%4!=0){const fe=le[0],he=le[1]*le[2]*le[3],ye=Math.ceil(he*1/4)*4;pe=new Float32Array(fe*ye);for(let Te=0;Te<fe;++Te){const xe=Te*he,Se=Te*ye+Te%1*he;pe.set(R.numberData.subarray(xe,xe+he),Se)}}return this.createTextureData(de,R.type,pe,R,1)}}if(U===W.TextureType.packed){const te=(0,Y.createTextureLayoutFromShape)(this.session.layoutStrategy,R.dims,1,[],{reverseWH:!0}),se=this.createTextureData(te,R.type,R.numberData,R,1);K=this.pack(se)}else K=this.createTextureData(J,R.type,R.numberData,R,1)}return K}createTextureDataFromLayoutBindTensor(R,U,K,J){return this.createTextureData(R,U,K,J,1)}createTextureData(R,U,K,J,te){ne.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(R)}]`);const se=this.session.textureManager.createTextureFromLayout(U,R,K,te);return this.createTextureDataFromTexture(R,U,se,J)}reshapeUnpacked(R,U){const K=this.getOrCreateTextureData(R,W.TextureType.unpacked),J={channels:K.channels,height:K.height,width:K.width,shape:U.length!==0?U:[1],strides:ae.ShapeUtil.computeStrides(U),unpackedShape:U};return this.createTextureDataFromTexture(J,R.type,K.texture).tensor}reshapePacked(R,U){const K=this.getOrCreateTextureData(R,W.TextureType.packed);if((0,ee.isReshapeCheap)(R.dims,U)){const ce={channels:K.channels,height:K.height,width:K.width,shape:U.length!==0?U:[1],strides:ae.ShapeUtil.computeStrides(U),unpackedShape:U,isPacked:!0};return this.createTextureDataFromTexture(ce,R.type,K.texture).tensor}const J=(0,ee.processDims3D)(R.dims),te=(0,ee.processDims3D)(U),se=this.reshapePacked(R,J),le=this.run((0,ee.createPackedReshape3DProgramInfoLoader)(this,se,te),[se]);return this.reshapePacked(le,U)}cast(R,U){const K=this.getOrCreateTextureData(R,W.TextureType.unpacked);return this.createTextureDataFromTexture(K,U,K.texture).tensor}createTextureDataFromTexture(R,U,K,J,te){const se=Object.assign(Object.assign({},R),{tensor:J||new Q.Tensor(R.unpackedShape,U,le=>this.readTexture(se),async le=>this.readTextureAsync(se),void 0,te),texture:K});return this.setTextureData(se.tensor.dataId,se,R.isPacked),se}getTextureData(R,U=!1){return this.session.isInitializer(R)?this.session.getTextureData(R,U):U?this.packedTextureDataCache.get(R):this.unpackedTextureDataCache.get(R)}setTextureData(R,U,K=!1){this.session.isInitializer(R)?this.session.setTextureData(R,U,K):(K?this.packedTextureDataCache:this.unpackedTextureDataCache).set(R,U)}isTextureLayoutCached(R,U=!1){return!!this.getTextureData(R.dataId,U)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(R=>this.session.textureManager.releaseTexture(R)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(R=>this.session.textureManager.releaseTexture(R)),this.unpackedTextureDataCache=new Map}readTexture(R){return R.isPacked?this.readTexture(this.unpack(R)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(R,R.tensor.type,R.channels):this.session.textureManager.readUint8TextureAsFloat((0,ie.encodeAsUint8)(this,R))}async readTextureAsync(R){return R.isPacked?this.readTextureAsync(this.unpack(R)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(R,R.tensor.type,R.channels):this.session.textureManager.readUint8TextureAsFloat((0,ie.encodeAsUint8)(this,R))}pack(R){return this.executeProgram((0,oe.createPackProgramInfoLoader)(this,R.tensor),[R.tensor])}unpack(R){return this.executeProgram((0,Z.createUnpackProgramInfoLoader)(this,R.tensor),[R.tensor])}}},4110:function(ue,X,re){var ne=this&&this.__createBinding||(Object.create?function(Be,je,Ve,Ge){Ge===void 0&&(Ge=Ve);var We=Object.getOwnPropertyDescriptor(je,Ve);We&&!("get"in We?!je.__esModule:We.writable||We.configurable)||(We={enumerable:!0,get:function(){return je[Ve]}}),Object.defineProperty(Be,Ge,We)}:function(Be,je,Ve,Ge){Ge===void 0&&(Ge=Ve),Be[Ge]=je[Ve]}),Q=this&&this.__setModuleDefault||(Object.create?function(Be,je){Object.defineProperty(Be,"default",{enumerable:!0,value:je})}:function(Be,je){Be.default=je}),ae=this&&this.__importStar||function(Be){if(Be&&Be.__esModule)return Be;var je={};if(Be!=null)for(var Ve in Be)Ve!=="default"&&Object.prototype.hasOwnProperty.call(Be,Ve)&&ne(je,Be,Ve);return Q(je,Be),je};Object.defineProperty(X,"__esModule",{value:!0}),X.WEBGL_OP_RESOLVE_RULES=void 0;const oe=re(8817),ee=ae(re(5194)),ie=re(4752),Z=re(6668),Y=re(9754),W=re(5042),R=re(6742),U=re(4125),K=re(6149),J=re(5378),te=re(6981),se=re(7413),le=re(7006),ce=re(8276),de=re(5565),pe=re(2834),fe=re(1010),he=re(8126),ye=re(2801),Te=re(565),xe=re(2444),Se=re(815),Pe=re(564),be=re(5416),Ce=re(1240),me=re(5944),we=re(5707),Ae=ae(re(9087)),Le=re(7862),Fe=re(3980);X.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",Ae.abs],["Acos","","7+",Ae.acos],["Add","","7+",ee.add],["And","","7+",ee.and],["Asin","","7+",Ae.asin],["Atan","","7+",Ae.atan],["AveragePool","","7+",pe.averagePool,pe.parseAveragePoolAttributes],["BatchNormalization","","7+",oe.batchNormalization,oe.parseBatchNormalizationAttributes],["Cast","","6+",ie.cast,ie.parseCastAttributes],["Ceil","","6+",Ae.ceil],["Clip","","6-10",Ae.clip,Ae.parseClipAttributes],["Clip","","11+",Ae.clipV11],["Concat","","4+",Z.concat,Z.parseConcatAttributes],["Conv","","1+",Y.conv,Y.parseConvAttributes],["ConvTranspose","","1+",W.convTranspose,W.parseConvTransposeAttributes],["Cos","","7+",Ae.cos],["Div","","7+",ee.div],["Dropout","","7+",Ae.identity],["DepthToSpace","","1+",R.depthToSpace,R.parseDepthToSpaceAttributes],["Equal","","7+",ee.equal],["Elu","","6+",Ae.elu,Ae.parseEluAttributes],["Exp","","6+",Ae.exp],["Flatten","","1+",U.flatten,U.parseFlattenAttributes],["Floor","","6+",Ae.floor],["FusedConv","com.microsoft","1+",Y.conv,Y.parseConvAttributes],["Gather","","1+",K.gather,K.parseGatherAttributes],["Gemm","","7-10",J.gemm,J.parseGemmAttributesV7],["Gemm","","11+",J.gemm,J.parseGemmAttributesV11],["GlobalAveragePool","","1+",pe.globalAveragePool,pe.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",pe.globalMaxPool],["Greater","","7+",ee.greater],["Identity","","1+",Ae.identity],["ImageScaler","","1+",te.imageScaler,te.parseImageScalerAttributes],["InstanceNormalization","","6+",se.instanceNormalization,se.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",Ae.leakyRelu,Ae.parseLeakyReluAttributes],["Less","","7+",ee.less],["LRN","","1+",le.lrn,le.parseLrnAttributes],["Log","","6+",Ae.log],["MatMul","","1+",ce.matMul,ce.parseMatMulAttributes],["MaxPool","","1+",pe.maxPool,pe.parseMaxPoolAttributes],["Mul","","7+",ee.mul],["Neg","","6+",Ae.neg],["Not","","1+",Ae.not],["Or","","7+",ee.or],["Pad","","2-10",de.padV2,de.parsePadAttributesV2],["Pad","","11+",de.padV11,de.parsePadAttributesV11],["Pow","","7+",ee.pow],["PRelu","","7+",ee.pRelu],["ReduceLogSum","","1+",fe.reduceLogSum,fe.parseReduceAttributes],["ReduceMax","","1+",fe.reduceMax,fe.parseReduceAttributes],["ReduceMean","","1+",fe.reduceMean,fe.parseReduceAttributes],["ReduceMin","","1+",fe.reduceMin,fe.parseReduceAttributes],["ReduceProd","","1+",fe.reduceProd,fe.parseReduceAttributes],["ReduceSum","","1-12",fe.reduceSum,fe.parseReduceAttributes],["ReduceSumSquare","","1+",fe.reduceLogSumSquare,fe.parseReduceAttributes],["Relu","","6+",Ae.relu],["Reshape","","5+",he.reshape],["Resize","","10",ye.resize,ye.parseResizeAttributesV10],["Resize","","11+",ye.resize,ye.parseResizeAttributesV11],["Shape","","1+",Te.shape],["Sigmoid","","6+",Ae.sigmoid],["Sin","","7+",Ae.sin],["Slice","","10+",xe.sliceV10],["Slice","","1-9",xe.slice,xe.parseSliceAttributes],["Softmax","","1-12",Se.softmax,Se.parseSoftmaxAttributes],["Softmax","","13+",Se.softmaxV13,Se.parseSoftmaxAttributesV13],["Split","","2-12",Pe.split,Pe.parseSplitAttributes],["Sqrt","","6+",Ae.sqrt],["Squeeze","","1-12",be.squeeze,be.parseSqueezeAttributes],["Squeeze","","13+",be.squeezeV13],["Sub","","7+",ee.sub],["Sum","","6+",Ce.sum],["Tan","","7+",Ae.tan],["Tanh","","6+",Ae.tanh],["Tile","","6+",me.tile],["Transpose","","1+",we.transpose,we.parseTransposeAttributes],["Upsample","","7-8",Fe.upsample,Fe.parseUpsampleAttributesV7],["Upsample","","9",Fe.upsample,Fe.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Le.unsqueeze,Le.parseUnsqueezeAttributes],["Unsqueeze","","13+",Le.unsqueezeV13],["Xor","","7+",ee.xor]]},8817:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseBatchNormalizationAttributes=X.batchNormalization=void 0;const ne=re(4910),Q=re(6757),ae=re(5639),oe={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[ae.TextureType.unpacked,ae.TextureType.unpacked,ae.TextureType.unpacked,ae.TextureType.unpacked,ae.TextureType.unpacked]};X.batchNormalization=(Z,Y,W)=>(ie(Y),[Z.run(Object.assign(Object.assign({},oe),{cacheHint:W.cacheKey,get:()=>ee(Z,Y,W)}),Y)]),X.parseBatchNormalizationAttributes=Z=>{const Y=Z.attributes.getFloat("epsilon",1e-5),W=Z.attributes.getFloat("momentum",.9),R=Z.attributes.getInt("spatial",1);return(0,ne.createAttributeWithCacheKey)({epsilon:Y,momentum:W,spatial:R})};const ee=(Z,Y,W)=>{const R=(0,Q.getGlsl)(Z.session.backend.glContext.version),U=Y[0].dims.length,[K,J]=Z.calculateTextureWidthAndHeight(Y[1].dims,ae.TextureType.unpacked),te=`
  float process(int[${U}] indices) {
    vec2 position = offsetToCoords(indices[1], ${K}, ${J});
    float scale = getColorAsFloat(${R.texture2D}(Scale, position));
    float mean = getColorAsFloat(${R.texture2D}(Mean, position));
    float variance = getColorAsFloat(${R.texture2D}(Variance, position));
    float b = getColorAsFloat(${R.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${W.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},oe),{output:{dims:Y[0].dims,type:Y[0].type,textureType:ae.TextureType.unpacked},shaderSource:te})},ie=Z=>{if(!Z||Z.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const Y=Z[0],W=Z[1],R=Z[2],U=Z[3],K=Z[4];if(Y.dims.length<3||W.dims.length!==1||R.dims.length!==1||U.dims.length!==1||K.dims.length!==1)throw new Error("invalid input shape.");if(W.dims[0]!==Y.dims[1]||R.dims[0]!==Y.dims[1]||U.dims[0]!==Y.dims[1]||K.dims[0]!==Y.dims[1])throw new Error("invalid input shape.");if(Y.type!=="float32"&&Y.type!=="float64"||W.type!=="float32"&&W.type!=="float64"||R.type!=="float32"&&R.type!=="float64"||U.type!=="float32"&&U.type!=="float64"||K.type!=="float32"&&K.type!=="float64")throw new Error("invalid input tensor types.")}},5194:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.xor=X.sub=X.pRelu=X.pow=X.or=X.mul=X.less=X.greater=X.equal=X.div=X.and=X.add=X.glslPRelu=X.glslPow=X.glslXor=X.glslOr=X.glslAnd=X.glslLess=X.glslGreater=X.glslEqual=X.glslSub=X.glslMul=X.glslDiv=X.glslAdd=void 0;const ne=re(7273),Q=re(1997),ae=re(6757),oe=re(5639);function ee(){const pe="add_";return{body:`
  float ${pe}(float a, float b) {
    return a + b;
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function ie(){const pe="div_";return{body:`
  float ${pe}(float a, float b) {
    return a / b;
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function Z(){const pe="mul_";return{body:`
  float ${pe}(float a, float b) {
    return a * b;
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function Y(){const pe="sub_";return{body:`
  float ${pe}(float a, float b) {
    return a - b;
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function W(){const pe="equal_";return{body:`
  float ${pe}(float a, float b) {
    return float(a == b);
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function R(){const pe="greater_";return{body:`
  float ${pe}(float a, float b) {
    return float(a > b);
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function U(){const pe="less_";return{body:`
  float ${pe}(float a, float b) {
    return float(a < b);
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function K(){const pe="and_";return{body:`
  float ${pe}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function J(){const pe="or_";return{body:`
  float ${pe}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function te(){const pe="xor_";return{body:`
  float ${pe}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}function se(){return function(pe){const fe=`${pe}_`;return{body:`
  float ${fe}(float a, float b) {
    return ${pe}(a, b);
  }
  vec4 ${fe}(vec4 v1, vec4 v2) {
    return ${pe}(v1, v2);
  }
  `,name:fe,type:Q.FunctionType.ValueBased}}("pow")}function le(){const pe="prelu_";return{body:`
  float ${pe}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${pe}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:pe,type:Q.FunctionType.ValueBased}}X.glslAdd=ee,X.glslDiv=ie,X.glslMul=Z,X.glslSub=Y,X.glslEqual=W,X.glslGreater=R,X.glslLess=U,X.glslAnd=K,X.glslOr=J,X.glslXor=te,X.glslPow=se,X.glslPRelu=le;const ce=(pe,fe,he,ye=fe[0].type,Te)=>{const xe=pe.session.pack?oe.TextureType.packed:oe.TextureType.unpacked;return{name:he.name,inputNames:["A","B"],inputTypes:[xe,xe],cacheHint:Te,get:()=>de(pe,fe,he,ye)}},de=(pe,fe,he,ye=fe[0].type)=>{const Te=pe.session.pack?oe.TextureType.packed:oe.TextureType.unpacked,xe=!ne.ShapeUtil.areEqual(fe[0].dims,fe[1].dims);let Se=fe[0].dims;const Pe=pe.session.pack;if(xe){const me=ne.BroadcastUtil.calcShape(fe[0].dims,fe[1].dims,!1);if(!me)throw new Error("Can't perform binary op on the given tensors");Se=me;const we=Se.length,Ae=fe[0].dims.length!==0?fe[0].dims.length:1,Le=fe[1].dims.length!==0?fe[1].dims.length:1,Fe=fe[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Be=fe[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",je=(0,ae.getGlsl)(pe.session.backend.glContext.version),Ve=Pe?`
      ${he.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${he.name}(a, b);
        ${je.output} = result;
      }`:`
      ${he.body}
      float process(int indices[${we}]) {
        int aindices[${Ae}];
        int bindices[${Le}];
        ${Fe}
        ${Be}
        return ${he.name}(_A(aindices), _B(bindices));
      }`;return{name:he.name,inputNames:["A","B"],inputTypes:[Te,Te],output:{dims:Se,type:ye,textureType:Te},shaderSource:Ve,hasMain:Pe}}const be=(0,ae.getGlsl)(pe.session.backend.glContext.version),Ce=`
    ${he.body}
    void main() {
      vec4 v1 = ${be.texture2D}(A, TexCoords);
      vec4 v2 = ${be.texture2D}(B, TexCoords);
      vec4 result = ${he.name}(v1, v2);
      ${be.output} = result;
    }
    `;return{name:he.name,inputNames:["A","B"],inputTypes:[Te,Te],output:{dims:fe[0].dims,type:ye,textureType:Te},shaderSource:Ce,hasMain:!0}};X.add=(pe,fe)=>[pe.run(ce(pe,fe,ee()),fe)],X.and=(pe,fe)=>[pe.run(ce(pe,fe,K(),"bool"),fe)],X.div=(pe,fe)=>[pe.run(ce(pe,fe,ie()),fe)],X.equal=(pe,fe)=>[pe.run(ce(pe,fe,W(),"bool"),fe)],X.greater=(pe,fe)=>[pe.run(ce(pe,fe,R(),"bool"),fe)],X.less=(pe,fe)=>[pe.run(ce(pe,fe,U(),"bool"),fe)],X.mul=(pe,fe)=>[pe.run(ce(pe,fe,Z()),fe)],X.or=(pe,fe)=>[pe.run(ce(pe,fe,J(),"bool"),fe)],X.pow=(pe,fe)=>[pe.run(ce(pe,fe,se()),fe)],X.pRelu=(pe,fe)=>[pe.run(ce(pe,fe,le()),fe)],X.sub=(pe,fe)=>[pe.run(ce(pe,fe,Y()),fe)],X.xor=(pe,fe)=>[pe.run(ce(pe,fe,te(),"bool"),fe)]},4752:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseCastAttributes=X.cast=void 0;const ne=re(7273);X.cast=(ae,oe,ee)=>(Q(oe),[ae.cast(oe[0],ee)]),X.parseCastAttributes=ae=>ne.ProtoUtil.tensorDataTypeFromProto(ae.attributes.getInt("to"));const Q=ae=>{if(!ae||ae.length!==1)throw new Error("Cast requires 1 input.");if(ae[0].type==="string")throw new Error("Invalid input type.")}},4595:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createPackedConcatProgramInfoLoader=void 0;const ne=re(6757),Q=re(5639),ae=re(432),oe=re(5614);X.createPackedConcatProgramInfoLoader=(ie,Z,Y)=>{const W=(R=Z.length,U=Y.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:R},(K,J)=>`X${J}`),inputTypes:Array(R).fill(Q.TextureType.packed),cacheHint:U});var R,U;return Object.assign(Object.assign({},W),{get:()=>((K,J,te,se)=>{const le=te[0].dims.slice();if(se>=le.length||se<-1*le.length)throw new Error("axis specified for concat doesn't match input dimensionality");se<0&&(se=le.length+se);const ce=le.slice(0);for(let Fe=1;Fe<te.length;Fe++){const Be=te[Fe].dims.slice();for(let je=0;je<le.length;je++)if(je===se)ce[se]+=Be[je];else if(le[je]!==Be[je])throw new Error("non concat dimensions must match")}const de=ce.length,pe=(0,oe.getChannels)("coords",de),fe=(0,ae.getCoordsDataType)(de),he=(0,oe.unpackFromChannel)(),ye=te.map(Fe=>Fe.dims),Te=(0,ae.getGlChannels)(de),xe=new Array(ye.length-1);xe[0]=ye[0][se];for(let Fe=1;Fe<xe.length;Fe++)xe[Fe]=xe[Fe-1]+ye[Fe][se];const Se=Te[se],Pe=Te.slice(-2),be=Te.join();let Ce=`if (${Se} < ${xe[0]}) {
        return getChannel(
            getX0(${be}), vec2(${Pe.join()}));
        }`;for(let Fe=1;Fe<xe.length;Fe++){const Be=xe[Fe-1];Ce+=`
            if (${Se} < ${xe[Fe]}  && ${Se} >= ${xe[Fe-1]}) {
              return getChannel(
                getX${Fe}(${ee(Te,Se,Be)}),
                vec2(${ee(Pe,Se,Be)}));
            }`}const me=xe.length,we=xe[xe.length-1];Ce+=`
            return getChannel(
              getX${me}(${ee(Te,Se,we)}),
              vec2(${ee(Pe,Se,we)}));`;const Ae=(0,ne.getGlsl)(K.session.backend.glContext.version),Le=`
          ${he}
          float getValue(${Te.map(Fe=>"int "+Fe)}) {
            ${Ce}
          }

          void main() {
            ${fe} coords = getOutputCoords();
            int lastDim = coords.${Te[de-1]};
            coords.${Te[de-1]} = coords.${Te[de-2]};
            coords.${Te[de-2]} = lastDim;

            vec4 result = vec4(getValue(${pe}), 0., 0., 0.);

            ${pe[de-1]} = ${pe[de-1]} + 1;
            if (${pe[de-1]} < ${ce[de-1]}) {
              result.g = getValue(${pe});
            }

            ${pe[de-2]} = ${pe[de-2]} + 1;
            if (${pe[de-2]} < ${ce[de-2]}) {
              result.a = getValue(${pe});
            }

            ${pe[de-1]} = ${pe[de-1]} - 1;
            if (${pe[de-2]} < ${ce[de-2]} &&
                ${pe[de-1]} < ${ce[de-1]}) {
              result.b = getValue(${pe});
            }
            ${Ae.output} = result;
          }
        `;return Object.assign(Object.assign({},J),{output:{dims:ce,type:te[0].type,textureType:Q.TextureType.packed},shaderSource:Le,hasMain:!0})})(ie,W,Z,Y.axis)})};const ee=(ie,Z,Y)=>{const W=ie.indexOf(Z);return ie.map((R,U)=>U===W?`${R} - ${Y}`:R).join()}},6668:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseConcatAttributes=X.concat=void 0;const ne=re(4910),Q=re(5639),ae=re(4595);X.concat=(R,U,K)=>(W(U),R.session.pack&&U[0].dims.length>1?[R.run((0,ae.createPackedConcatProgramInfoLoader)(R,U,K),U)]:[R.run(oe(R,U,K),U)]);const oe=(R,U,K)=>{const J=(te=U.length,se=K.cacheKey,{name:"Concat",inputNames:Array.from({length:te},(le,ce)=>`X${ce}`),inputTypes:Array(te).fill(Q.TextureType.unpacked),cacheHint:se});var te,se;return Object.assign(Object.assign({},J),{get:()=>((le,ce,de,pe)=>{const fe=de[0].dims.slice();if(pe>=fe.length||pe<-1*fe.length)throw new Error("axis specified for concat doesn't match input dimensionality");pe<0&&(pe=fe.length+pe);const he=fe.slice(0);for(let be=1;be<de.length;be++){const Ce=de[be].dims.slice();for(let me=0;me<fe.length;me++)if(me===pe)he[pe]+=Ce[me];else if(fe[me]!==Ce[me])throw new Error("non concat dimensions must match")}const ye=he.length,Te=new Array(de.length);let xe=0;for(let be=0;be<Te.length;++be)xe+=de[be].dims[pe],Te[be]=xe;let Se="";Se=de.length<5?ee(Te):ie(Te);const Pe=`
        ${Z(de.length,ye)}
        ${Y(Te)}
        ${Se}
        float process(int indices[${ye}]) {
          int textureIndex = getTextureWhereDataResides (indices[${pe}]);

          if(textureIndex != 0) {
            indices[${pe}] = indices[${pe}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},ce),{output:{dims:he,type:de[0].type,textureType:Q.TextureType.unpacked},shaderSource:Pe})})(0,J,U,K.axis)})},ee=R=>`int getTextureWhereDataResides(int index) {
      ${R.map((U,K)=>`if(index<${U}) {return ${K};}
`).join("")}
    }`,ie=R=>ee(R),Z=(R,U)=>{const K=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${U}]) {`];for(let J=0;J<R;++J)J===0?K.push(`	if (textureIndex == ${J}) { return _X${J}(indices); }`):J===R-1?K.push(`	else { return _X${J}(indices); }`):K.push(`	else if (textureIndex == ${J}) { return _X${J}(indices); }`);return K.push("	}"),K.join(`
`)},Y=R=>{const U=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let K=0;K<R.length;++K)K===0?U.push(`	if (index == ${K}) { return ${R[K]}; }`):K===R.length-1?U.push(`	else { return ${R[K]}; }`):U.push(`	else if (index == ${K}) { return ${R[K]}; }`);return U.push("	}"),U.join(`
`)};X.parseConcatAttributes=R=>(0,ne.createAttributeWithCacheKey)({axis:R.attributes.getInt("axis")});const W=R=>{if(!R||R.length<1)throw new Error("too few inputs");const U=R[0].type,K=R[0].dims.length;if(U==="string")throw new Error("string tensor is not supported yet");for(const J of R){if(J.type!==U)throw new Error("input tensors should be one type");if(J.dims.length!==K)throw new Error("input tensors should have the same shape")}}},7825:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createUnpackedGroupedConvProgramInfoLoader=void 0;const ne=re(1315),Q=re(6757),ae=re(5639),oe=re(9754),ee=re(2150);X.createUnpackedGroupedConvProgramInfoLoader=(ie,Z,Y)=>{const W=(R=Z.length>2,U=Y.cacheKey,{name:"GroupedConv",inputNames:R?["X","W","Bias"]:["X","W"],inputTypes:R?[ae.TextureType.unpacked,ae.TextureType.unpacked,ae.TextureType.unpacked]:[ae.TextureType.unpacked,ae.TextureType.unpacked],cacheHint:U});var R,U;return Object.assign(Object.assign({},W),{get:()=>((K,J,te,se)=>{const le=J.length>2?"value += getBias(output_channel);":"",ce=J[0].dims.slice(),de=J[1].dims.slice(),pe=de[0]/se.group;ne.Logger.verbose("GroupedConv",`autpPad:${se.autoPad}, dilations:${se.dilations}, group:${se.group}, kernelShape:${se.kernelShape}, pads:${se.pads}, strides:${se.strides}`);const fe=(0,oe.calculateOutputShape)(ce,de,se.dilations,se.pads,se.strides),he=(0,Q.getGlsl)(K.session.backend.glContext.version),{activationFunction:ye,applyActivation:Te}=(0,ee.getActivationSnippet)(se),xe=`
  const ivec2 strides = ivec2(${se.strides[0]}, ${se.strides[1]});
  const ivec2 pads = ivec2(${se.pads[0]}, ${se.pads[1]});
  ${ye}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${pe};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${de[1]}; wInChannel++) {
      int input_channel = group_id * ${de[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${de[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${se.dilations[0]};

        if (xHeight < 0 || xHeight >= ${ce[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${de[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${se.dilations[1]};
          if (xWidth < 0 || xWidth >= ${ce[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${le}
    ${Te}
    ${he.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},te),{output:{dims:fe,type:J[0].type,textureType:ae.TextureType.unpacked},shaderSource:xe,hasMain:!0})})(ie,Z,W,Y)})}},7708:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.conv2DPacked=X.conv2DPackedPointwise=void 0;const ne=re(9754),Q=re(5950),ae=re(5632);X.conv2DPackedPointwise=(oe,ee,ie)=>{const Z=ee[0].dims,Y=ee[1].dims,W=(0,ne.calculateOutputShape)(Z,Y,ie.dilations,ie.pads,ie.strides),R=oe.reshapePacked(ee[0],[Z[1],Z[2]*Z[3]]),U=oe.reshapePacked(ee[1],[Y[0],Y[1]]),K=ee.length>2?[U,R,ee[2]]:[U,R],J=oe.run((0,ae.createPackedMatmulProgramInfoLoader)(oe,K,ie),K);return oe.reshapePacked(J,W)},X.conv2DPacked=(oe,ee,ie)=>{const Z=ee[0].dims,Y=ee[1].dims,W=(0,ne.calculateOutputShape)(Z,Y,ie.dilations,ie.pads,ie.strides),R=oe.run((0,Q.createPackedIm2ColProgramInfoLoader)(oe,ee[0],ee[1],W,ie),[ee[0]]),U=oe.reshapePacked(ee[1],[Y[0],Y[1]*Y[2]*Y[3]]),K=ee.length===3?[U,R,ee[2]]:[U,R],J=oe.run((0,ae.createPackedMatmulProgramInfoLoader)(oe,K,ie),K);return oe.reshapePacked(J,W)}},5042:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseConvTransposeAttributes=X.convTranspose=void 0;const ne=re(4910),Q=re(6757),ae=re(5639),oe=re(2150),ee=(U,K,J,te,se,le)=>(U-1)*K+J+(te-1)*se+1-le,ie=(U,K,J,te,se)=>{const le=Math.floor(U/2);K==="SAME_UPPER"?(J[te]=le,J[se]=U-le):K==="SAME_LOWER"&&(J[te]=U-le,J[se]=le)};X.convTranspose=(U,K,J)=>(R(K,J),Z(U,K,J));const Z=(U,K,J)=>{const te=W(J,K);return[Y(U,K,te)]},Y=(U,K,J)=>U.run(((te,se,le)=>{const ce=(de=se.length>2,pe=le.cacheKey,{name:"ConvTranspose",inputNames:de?["X","W","B"]:["X","W"],inputTypes:de?[ae.TextureType.unpacked,ae.TextureType.unpacked,ae.TextureType.unpacked]:[ae.TextureType.unpacked,ae.TextureType.unpacked],cacheHint:pe});var de,pe;return Object.assign(Object.assign({},ce),{get:()=>((fe,he,ye,Te)=>{const xe=he.length>2?"getB(output_channel)":"0.0",Se=he[0].dims,Pe=he[1].dims,be=Pe[1],Ce=Pe[0]/Te.group,me=[he[0].dims[0],he[1].dims[1]*Te.group,...Te.outputShape],we=(0,Q.getGlsl)(fe.session.backend.glContext.version),{activationFunction:Ae,applyActivation:Le}=(0,oe.getActivationSnippet)(Te),Fe=`
  const ivec2 strides = ivec2(${Te.strides[0]}, ${Te.strides[1]});
  const ivec2 pads = ivec2(${Te.pads[0]}, ${Te.pads[1]});
  ${Ae}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${be};
    int wOutChannel = output_channel - group_id * ${be};

    float value = ${xe};
    for (int inChannelOffset = 0; inChannelOffset < ${Ce}; inChannelOffset++) {
      int input_channel = group_id * ${Ce} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Pe[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Pe[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${Te.dilations[0]}, wHOff * ${Te.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${Se[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${Se[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Le}
    ${we.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},ye),{output:{dims:me,type:he[0].type,textureType:ae.TextureType.unpacked},shaderSource:Fe,hasMain:!0})})(te,se,ce,le)})})(U,K,J),K),W=(U,K)=>{const J=U.kernelShape.slice();if(U.kernelShape.length===0)for(let ce=2;ce<K[1].dims.length;++ce)J.push(K[1].dims[ce]);const te=U.pads.slice(),se=U.outputShape.slice();((ce,de,pe,fe,he,ye,Te,xe)=>{const Se=ce.length-2,Pe=xe.length===0;for(let be=0;be<Se;++be){const Ce=Pe?ce[be+2]*ye[be]:xe[be],me=ee(ce[be+2],ye[be],he[be],de[be],pe[be],Ce);ie(me,fe,he,be,be+Se),Pe&&xe.push(ye[be]*(ce[be+2]-1)+Te[be]+(de[be]-1)*pe[be]+1-he[be]-he[be+Se])}})(K[0].dims,J,U.dilations,U.autoPad,te,U.strides,U.outputPadding,se);const le=Object.assign({},U);return Object.assign(le,{kernelShape:J,pads:te,outputShape:se,cacheKey:U.cacheKey}),le};X.parseConvTransposeAttributes=U=>{const K=U.attributes,J=(0,oe.parseInternalActivationAttributes)(K),te=K.getString("auto_pad","NOTSET"),se=K.getInts("dilations",[1,1]),le=K.getInt("group",1),ce=K.getInts("kernel_shape",[]),de=K.getInts("output_padding",[0,0]),pe=K.getInts("output_shape",[]),fe=K.getInts("pads",[0,0,0,0]),he=K.getInts("strides",[1,1]);return(0,ne.createAttributeWithCacheKey)(Object.assign({autoPad:te,dilations:se,group:le,kernelShape:ce,outputPadding:de,outputShape:pe,pads:fe,strides:he},J))};const R=(U,K)=>{if(!U||U.length!==2&&U.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(U[0].dims.length!==4||U[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(U[0].dims[1]!==U[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const J=U[1].dims[1]*K.group;if(U.length===3&&(U[2].dims.length!==1||U[2].dims[0]!==J))throw new Error("invalid bias");const te=U[0].dims.length-2;if(K.dilations.length!==te)throw new Error(`dilations should be ${te}D`);if(K.strides.length!==te)throw new Error(`strides should be ${te}D`);if(K.pads.length!==2*te)throw new Error(`pads should be ${2*te}D`);if(K.outputPadding.length!==te)throw new Error(`output_padding should be ${te}D`);if(K.kernelShape.length!==0&&K.kernelShape.length!==U[1].dims.length-2)throw new Error("invalid kernel shape");if(K.outputShape.length!==0&&K.outputShape.length!==U[0].dims.length-2)throw new Error("invalid output shape");if(U[0].type!=="float32"||U[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(U.length===3&&U[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseConvAttributes=X.conv=X.calculateOutputShape=void 0;const ne=re(4910),Q=re(7273),ae=re(7825),oe=re(7708),ee=re(3281),ie=re(2150),Z=re(1625),Y=re(8276);X.calculateOutputShape=(te,se,le,ce,de)=>{const pe=te[0],fe=te.slice(2),he=fe.length,ye=se[0],Te=se.slice(2).map((Se,Pe)=>Se+(Se-1)*(le[Pe]-1)),xe=fe.map((Se,Pe)=>Se+ce[Pe]+ce[Pe+he]).map((Se,Pe)=>Math.floor((Se-Te[Pe]+de[Pe])/de[Pe]));return[pe,ye].concat(...xe)},X.conv=(te,se,le)=>(J(se,le),W(te,se,le));const W=(te,se,le)=>{const ce=K(le,se),de=te.session.pack,pe=ce.kernelShape[0]===1&&ce.kernelShape[1]===1;return ce.group>1?[te.run((0,ae.createUnpackedGroupedConvProgramInfoLoader)(te,se,ce),se)]:pe&&de?[R(te,se,ce)]:de&&se[0].dims.length===4&&se[0].dims[0]===1&&!pe?[(0,oe.conv2DPacked)(te,se,ce)]:[U(te,se,ce)]},R=(te,se,le)=>{const ce=se[0].dims,de=se[1].dims,pe=(0,X.calculateOutputShape)(ce,de,le.dilations,le.pads,le.strides),fe=te.reshapeUnpacked(se[0],[ce[1],ce[2]*ce[3]]),he=te.reshapeUnpacked(se[1],[de[0],de[1]]),ye=se.length>2?[he,fe,se[2]]:[he,fe],Te=te.run((0,Y.createMatmulProgramInfoLoader)(ye,le),ye);return te.reshapeUnpacked(Te,pe)},U=(te,se,le)=>{const ce=se[0].dims,de=se[1].dims,pe=(0,X.calculateOutputShape)(ce,de,le.dilations,le.pads,le.strides),fe=te.run((0,Z.createIm2ColProgramInfoLoader)(te,se[0],se[1],pe,le),[se[0]]),he=se.length===3?[fe,se[1],se[2]]:[fe,se[1]];return te.run((0,ee.createDotProductProgramInfoLoader)(te,se,pe,le),he)},K=(te,se)=>{const le=te.kernelShape.slice();if(te.kernelShape.length===0)for(let pe=2;pe<se[1].dims.length;++pe)le.push(se[1].dims[pe]);const ce=te.pads.slice();Q.PoolConvUtil.adjustPadsBasedOnAutoPad(se[0].dims,te.strides,te.dilations,le,ce,te.autoPad);const de=Object.assign({},te);return Object.assign(de,{kernelShape:le,pads:ce,cacheKey:te.cacheKey}),de};X.parseConvAttributes=te=>{const se=te.attributes,le=(0,ie.parseInternalActivationAttributes)(se),ce=se.getString("auto_pad","NOTSET"),de=se.getInts("dilations",[1,1]),pe=se.getInt("group",1),fe=se.getInts("kernel_shape",[]),he=se.getInts("pads",[0,0,0,0]),ye=se.getInts("strides",[1,1]);return(0,ne.createAttributeWithCacheKey)(Object.assign({autoPad:ce,dilations:de,group:pe,kernelShape:fe,pads:he,strides:ye},le))};const J=(te,se)=>{if(!te||te.length!==2&&te.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(te[0].dims.length!==4||te[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(te[0].dims[1]!==te[1].dims[1]*se.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(te.length===3&&(te[2].dims.length!==1||te[1].dims[0]!==te[2].dims[0]))throw new Error("invalid bias");const le=te[0].dims.length-2;if(se.dilations.length!==le)throw new Error(`dilations should be ${le}D`);if(se.strides.length!==le)throw new Error(`strides should be ${le}D`);if(se.pads.length!==2*le)throw new Error(`pads should be ${2*le}D`);if(se.kernelShape.length!==0&&se.kernelShape.length!==te[1].dims.length-2)throw new Error("invalid kernel shape");if(te[0].type!=="float32"||te[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(te.length===3&&te[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},6742:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseDepthToSpaceAttributes=X.depthToSpace=void 0;const ne=re(5707);X.depthToSpace=(ae,oe,ee)=>{Q(oe);const ie=ee.blocksize,Z=ie*ie,Y=ee.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],W=ee.mode==="DCR"?[oe[0].dims[0],ie,ie,oe[0].dims[1]/Z,oe[0].dims[2],oe[0].dims[3]]:[oe[0].dims[0],oe[0].dims[1]/Z,ie,ie,oe[0].dims[2],oe[0].dims[3]],R=ae.reshapeUnpacked(oe[0],W),U={perm:Y,cacheKey:`${Y}`},[K]=(0,ne.transpose)(ae,[R],U),J=[oe[0].dims[0],oe[0].dims[1]/Z,oe[0].dims[2]*ie,oe[0].dims[3]*ie];return[ae.reshapeUnpacked(K,J)]},X.parseDepthToSpaceAttributes=ae=>{const oe=ae.attributes.getInt("blocksize");if(oe<1)throw new Error(`blocksize must be >= 1, but got : ${oe} for DepthToSpace`);const ee=ae.attributes.getString("mode","DCR");if(ee!=="DCR"&&ee!=="CRD")throw new Error(`unrecognized mode: ${ee} for DepthToSpace`);return{mode:ee,blocksize:oe}};const Q=ae=>{if(ae.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${ae.length}`);if(ae[0].type==="string"||ae[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createDotProductProgramInfoLoader=void 0;const ne=re(7273),Q=re(6757),ae=re(5639),oe=re(2150),ee=re(1625);X.createDotProductProgramInfoLoader=(ie,Z,Y,W)=>{const R=((U,K)=>({name:"ConvDotProduct",inputNames:U?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:U?[ae.TextureType.unpacked,ae.TextureType.packedLastDimension,ae.TextureType.unpacked]:[ae.TextureType.unpacked,ae.TextureType.packedLastDimension],cacheKey:K.activationCacheKey}))(Z.length>2,W);return Object.assign(Object.assign({},R),{get:()=>((U,K,J,te,se)=>{const le=J[0].dims,ce=J[1].dims,de=[ce[0],Math.ceil(le[1]*ce[2]*ce[3]/4)],pe=(0,ee.calculateIm2ColDims)(le,ce,te),[fe,he]=U.calculateTextureWidthAndHeight(de,ae.TextureType.packedLastDimension),ye=ne.ShapeUtil.computeStrides(pe),[Te,xe]=U.calculateTextureWidthAndHeight(pe,ae.TextureType.packedLastDimension),Se=te.length,Pe=J.length<3?"0.0":"_B(b)",be=Math.ceil(le[1]*ce[2]*ce[3]/4),{activationFunction:Ce,applyActivation:me}=(0,oe.getActivationSnippet)(se),we=(0,Q.getGlsl)(U.session.backend.glContext.version),Ae=`
${Ce}
float process(int indices[${Se}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${ye[0]} + im2col[1] * ${ye[1]} + im2col[2] * ${ye[2]};
  int kernelOffset = indices[1] * ${de[1]};
  float value = ${Pe};
  for (int i = 0; i < ${be}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${Te}, ${xe});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${fe}, ${he});
    value += dot(${we.texture2D}(Im2Col, im2colCoords), ${we.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${me}
  return value;
}`;return Object.assign(Object.assign({},K),{output:{dims:te,type:J[0].type,textureType:ae.TextureType.unpacked},shaderSource:Ae})})(ie,R,Z,Y,W)})}},4125:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseFlattenAttributes=X.flatten=void 0;const ne=re(7273);X.flatten=(ae,oe,ee)=>{Q(oe,ee);const ie=ne.ShapeUtil.flattenShape(oe[0].dims,ee);return[ae.reshapeUnpacked(oe[0],ie)]},X.parseFlattenAttributes=ae=>ae.attributes.getInt("axis",1);const Q=(ae,oe)=>{if(!ae||ae.length!==1)throw new Error("Flatten requires 1 input.");const ee=ae[0].dims.length;if(ee===0)throw new Error("scalar tensor is not supported.");if(oe<-ee||oe>ee)throw new Error("Invalid axis");if(ae[0].type==="string")throw new Error("string tensor is not supported.")}},2150:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseInternalActivationAttributes=X.getActivationSnippet=void 0;const ne=re(7273),Q=re(9087);X.getActivationSnippet=function(ae){let oe;switch(ae.activation){case"Relu":oe=(0,Q.glslRelu)();break;case"Sigmoid":oe=(0,Q.glslSigmoid)();break;case"Clip":oe=(0,Q.glslClip)(ae.clipMin,ae.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const ee=oe.name;return{activationFunction:oe.body,applyActivation:`value = ${ee}_(value);`}},X.parseInternalActivationAttributes=ae=>{const oe=ae.getString("activation","");if(oe==="Clip"){const[ee,ie]=ae.getFloats("activation_params",[ne.MIN_CLIP,ne.MAX_CLIP]);return{activation:oe,clipMax:ie,clipMin:ee,activationCacheKey:`${oe}:${ee},${ie}`}}return{activation:oe,activationCacheKey:oe}}},6149:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseGatherAttributes=X.gather=void 0;const ne=re(4910),Q=re(6145),ae=re(7273),oe=re(5639);X.gather=(Y,W,R)=>(Z(W,R.axis),[Y.run(ie(Y,W,R),W)]),X.parseGatherAttributes=Y=>(0,ne.createAttributeWithCacheKey)({axis:Y.attributes.getInt("axis",0)});const ee={name:"Gather",inputNames:["A","B"],inputTypes:[oe.TextureType.unpacked,oe.TextureType.unpacked]},ie=(Y,W,R)=>{const U=Object.assign(Object.assign({},ee),{cacheHint:R.cacheKey});return Object.assign(Object.assign({},U),{get:()=>((K,J,te,se)=>{const le=te[0].dims.slice(),ce=te[1].dims.slice(),de=new Array(le.length+ce.length-1);se=ae.ShapeUtil.normalizeAxis(se,le.length);const pe=[];for(let he=0;he<de.length;he++)he<se?(de[he]=le[he],pe.push(`inputIdx[${he}] = outputIdx[${he}];`)):he<se+ce.length?(de[he]=ce[he-se],pe.push(`indexDataIdx[${he-se}] = outputIdx[${he}];`)):(de[he]=le[he-ce.length+1],pe.push(`inputIdx[${he-ce.length+1}] = outputIdx[${he}];`));const fe=`
      float process(int outputIdx[${de.length||1}]) {
        int inputIdx[${le.length}];
        int indexDataIdx[${ce.length||1}];
        indexDataIdx[0] = 0;
        ${pe.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${se}] = idx < 0 ? idx + ${le[se]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},J),{output:{dims:de,type:te[0].type,textureType:oe.TextureType.unpacked},shaderSource:fe})})(0,U,W,R.axis)})},Z=(Y,W)=>{if(!Y||Y.length!==2)throw new Error("Gather requires 2 inputs.");const R=Y[0].dims.length;if(R<1)throw new Error("Invalid input shape.");if(W<-R||W>R-1)throw new Error("Invalid axis.");if(Q.NUMBER_TYPES.indexOf(Y[0].type)===-1)throw new Error("Invaid input type.");if(Y[1].type!=="int32"&&Y[1].type!=="int16")throw new Error("Invaid input type.")}},5378:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseGemmAttributesV11=X.parseGemmAttributesV7=X.gemm=void 0;const ne=re(4910),Q=re(7273),ae=re(5639);X.gemm=(Y,W,R)=>(Z(W,R),[Y.run(ee(W,R),W)]);const oe=(Y,W)=>{const R=Y.attributes.getInt("transA",0)!==0,U=Y.attributes.getInt("transB",0)!==0,K=Y.attributes.getFloat("alpha",1),J=Y.attributes.getFloat("beta",1);return(0,ne.createAttributeWithCacheKey)({transA:R,transB:U,alpha:K,beta:J,isOptionalC:W})};X.parseGemmAttributesV7=Y=>oe(Y,!1),X.parseGemmAttributesV11=Y=>oe(Y,!0);const ee=(Y,W)=>{const R={name:"Gemm",inputNames:Y.length===3?["A","B","C"]:["A","B"],inputTypes:Y.length===3?[ae.TextureType.unpacked,ae.TextureType.unpacked,ae.TextureType.unpacked]:[ae.TextureType.unpacked,ae.TextureType.unpacked],key:W.cacheKey};return Object.assign(Object.assign({},R),{get:()=>ie(R,Y,W)})},ie=(Y,W,R)=>{const U=W[0].dims.slice(),K=W[1].dims.slice(),[J,te]=Q.GemmUtil.getShapeOfGemmResult(U,R.transA,K,R.transB,W.length===3?W[2].dims:void 0),se=[J,te];if(!se)throw new Error("Can't use gemm on the given tensors");let le=U[U.length-1],ce="";R.transA&&(le=U[0]),R.transA&&R.transB?ce="value += _A_T(a) * _B_T(b);":R.transA&&!R.transB?ce="value += _A_T(a) * _B(b);":!R.transA&&R.transB?ce="value += _A(a) * _B_T(b);":R.transA||R.transB||(ce="value += _A(a) * _B(b);");const de=se.length,pe=`
      float process(int indices[${de}]) {
          int a[${de}];
          int b[${de}];
          ${W.length===3?`int c[${W[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${W.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${le}; ++k) {
              a[${de-1}] = k;
              b[${de-2}] = k;
              ${ce}
          }

          value = value * alpha;
          ${W.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},Y),{output:{dims:se,type:W[0].type,textureType:ae.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:R.alpha},{name:"beta",type:"float",data:R.beta}],shaderSource:pe})},Z=(Y,W)=>{if(!Y)throw new Error("Input is missing");if(W.isOptionalC&&(Y.length<2||Y.length>3))throw new Error("Invaid input shape.");if(!W.isOptionalC&&Y.length!==3)throw new Error("Gemm requires 3 inputs");if(Y.length===3&&Y[2].dims.length!==1&&Y[2].dims.length!==2)throw new Error("Invalid input shape of C");if(Y[0].type!=="float32"&&Y[0].type!=="float64"||Y[1].type!=="float32"&&Y[1].type!=="float64"||Y.length===3&&Y[2].type!=="float32"&&Y[2].type!=="float64")throw new Error("Invalid input type.");if(Y[0].type!==Y[1].type||Y.length===3&&Y[0].type!==Y[2].type)throw new Error("Input types are mismatched")}},5950:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createPackedIm2ColProgramInfoLoader=void 0;const ne=re(6757),Q=re(5639),ae=re(5614);X.createPackedIm2ColProgramInfoLoader=(oe,ee,ie,Z,Y)=>{const W=(R=Y.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[Q.TextureType.packed],cacheHint:R});var R;return Object.assign(Object.assign({},W),{get:()=>((U,K,J,te,se,le)=>{const ce=J.dims,de=te.dims,pe=se.length,fe=[de[1]*de[2]*de[3],se[2]*se[3]],he=de[2]*de[3],ye=(0,ae.unpackFromChannel)(),Te=(0,ne.getGlsl)(U.session.backend.glContext.version);let xe="";for(let Pe=0;Pe<=1;Pe++)for(let be=0;be<=1;be++)xe+=`
            blockIndex = rc.x + ${be};
            pos = rc.y + ${Pe};

            if(blockIndex < ${fe[1]} && pos < ${fe[0]}) {
              offsetY = int(blockIndex / (${se[pe-1]})) * ${le.strides[0]} -
                ${le.pads[0]};
              d0 = offsetY + ${le.dilations[0]} * (imod(pos, ${he}) / ${de[2]});

              if(d0 < ${ce[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${se[pe-1]}) * ${le.strides[1]} -
                  ${le.pads[1]};
                d1 = offsetX + ${le.dilations[1]} * imod(imod(pos, ${he}), ${de[2]});

                if(d1 < ${ce[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${he}.);
                    innerDims = vec2(d0, d1);
                    result[${2*Pe+be}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const Se=`
      ${ye}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${xe}
          ${Te.output} = result;
      }
            `;return Object.assign(Object.assign({},K),{output:{dims:fe,type:J.type,textureType:Q.TextureType.packed},shaderSource:Se,hasMain:!0})})(oe,W,ee,ie,Z,Y)})}},1625:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.calculateIm2ColDims=X.createIm2ColProgramInfoLoader=void 0;const ne=re(5639);X.createIm2ColProgramInfoLoader=(Q,ae,oe,ee,ie)=>{const Z=(Y=ie.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[ne.TextureType.unpacked],cacheHint:Y});var Y;return Object.assign(Object.assign({},Z),{get:()=>((W,R,U,K,J,te)=>{const se=U.dims,le=K.dims,ce=J.length,de=(0,X.calculateIm2ColDims)(se,le,J,4),pe=`
        const int XC = ${se[1]};
        const int XH = ${se[2]};
        const int XW = ${se[3]};
        const int KH = ${te.kernelShape[0]};
        const int KW = ${te.kernelShape[1]};
        const int dilationH = ${te.dilations[0]};
        const int dilationW = ${te.dilations[1]};
        const int strideH = ${te.strides[0]};
        const int strideW = ${te.strides[1]};
        const int padH = ${te.pads[0]};
        const int padW = ${te.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${ce}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${se.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},R),{output:{dims:de,type:U.type,textureType:ne.TextureType.packedLastDimension},shaderSource:pe})})(0,Z,ae,oe,ee,ie)})},X.calculateIm2ColDims=(Q,ae,oe,ee=4)=>[oe[0],oe[2],oe[3],Math.ceil(Q[1]*ae[2]*ae[3]/ee)]},6981:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseImageScalerAttributes=X.imageScaler=void 0;const ne=re(4910),Q=re(5639);X.imageScaler=(Z,Y,W)=>(ie(Y),[Z.run(oe(Z,Y,W),Y)]),X.parseImageScalerAttributes=Z=>{const Y=Z.attributes.getFloat("scale"),W=Z.attributes.getFloats("bias");return(0,ne.createAttributeWithCacheKey)({scale:Y,bias:W})};const ae={name:"ImageScaler",inputNames:["X"],inputTypes:[Q.TextureType.unpacked]},oe=(Z,Y,W)=>{const R=Object.assign(Object.assign({},ae),{cacheHint:W.cacheKey});return Object.assign(Object.assign({},R),{get:()=>((U,K,J,te)=>{const se=J[0].dims.slice(),le=se.length,ce=`
      ${ee(te.bias.length)}
      float process(int indices[${le}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},K),{output:{dims:se,type:J[0].type,textureType:Q.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:te.bias.length,data:te.bias},{name:"scale",type:"float",data:te.scale}],shaderSource:ce})})(0,R,Y,W)})},ee=Z=>{const Y=[`float getBias(float bias[${Z}], int channel) {`];for(let W=0;W<Z;++W)W===0?Y.push(`	if (channel == ${W}) { return bias[${W}]; }`):W===Z-1?Y.push(`	else { return bias[${W}]; }`):Y.push(`	else if (channel == ${W}) { return bias[${W}]; }`);return Y.push("	}"),Y.join(`
`)},ie=Z=>{if(!Z||Z.length!==1)throw new Error("ImageScaler requires 1 input.");if(Z[0].dims.length!==4)throw new Error("Invalid input shape.");if(Z[0].type!=="float32"&&Z[0].type!=="float64")throw new Error("Invalid input type.")}},7413:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseInstanceNormalizationAttributes=X.instanceNormalization=void 0;const ne=re(6757),Q=re(5639);X.instanceNormalization=(Y,W,R)=>{Z(W);const U=Y.run(oe(W[0]),W);return[Y.run(ie(Y,W[0],R,U.dims),[W[0],U,W[1],W[2]])]},X.parseInstanceNormalizationAttributes=Y=>Y.attributes.getFloat("epsilon",1e-5);const ae={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[Q.TextureType.unpacked]},oe=Y=>Object.assign(Object.assign({},ae),{get:()=>((W,R)=>{const U=R.dims.slice(),K=U[1],J=U[2]*U[3],te=[U[0],K],se=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${U[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${U[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${J});
        temp = 0.0;
        for(int a2=0; a2<${U[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${U[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${J});

        return v;
      }`;return Object.assign(Object.assign({},W),{output:{dims:te,type:R.type,textureType:Q.TextureType.packedLastDimension},shaderSource:se})})(ae,Y)}),ee={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[Q.TextureType.unpacked,Q.TextureType.packedLastDimension,Q.TextureType.unpacked,Q.TextureType.unpacked]},ie=(Y,W,R,U)=>{const K=Object.assign(Object.assign({},ee),{cacheHint:`${R}`});return Object.assign(Object.assign({},K),{get:()=>((J,te,se,le,ce)=>{const de=(0,ne.getGlsl)(J.session.backend.glContext.version),[pe,fe]=J.calculateTextureWidthAndHeight(ce,Q.TextureType.packedLastDimension),[he,ye]=[pe/4,fe],Te=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${he}, ${ye});
        return ${de.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},te),{output:{dims:se.dims,type:se.type,textureType:Q.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:le}],shaderSource:Te})})(Y,K,W,R,U)})},Z=Y=>{if(!Y||Y.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const W=Y[0],R=Y[1],U=Y[2];if(W.dims.length<3||R.dims.length!==1||U.dims.length!==1)throw new Error("Invalid input shape.");if(R.dims[0]!==W.dims[1]||U.dims[0]!==W.dims[1])throw new Error("Input shapes are mismatched.");if(W.type!=="float32"&&W.type!=="float64"||R.type!=="float32"&&R.type!=="float64"||U.type!=="float32"&&U.type!=="float64")throw new Error("Invalid input type.");if(Y[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},7006:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createLrnProgramInfoLoader=X.parseLrnAttributes=X.lrn=void 0;const ne=re(4910),Q=re(5639);X.lrn=(ie,Z,Y)=>(ee(Z),[ie.run(oe(Z,Y),Z)]),X.parseLrnAttributes=ie=>{const Z=ie.attributes.getFloat("alpha",1e-4),Y=ie.attributes.getFloat("beta",.75),W=ie.attributes.getFloat("bias",1),R=ie.attributes.getInt("size");return(0,ne.createAttributeWithCacheKey)({alpha:Z,beta:Y,bias:W,size:R})};const ae={name:"LRN",inputNames:["X"],inputTypes:[Q.TextureType.unpacked]};function oe(ie,Z){return Object.assign(Object.assign({},ae),{cacheHint:Z.cacheKey,get:()=>function(Y,W){const R=Y[0].dims[1],U=Y[0].dims.length,K=-Math.floor((W.size-1)/2),J=Math.ceil((W.size-1)/2),te=`float(${W.alpha}) / float(${W.size})`,se=`
    float process(int indices[${U}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${K}; i <= ${J}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${R}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(float(${W.bias}) + ${te} * square_sum, float(${W.beta}));
    }`;return Object.assign(Object.assign({},ae),{cacheHint:W.cacheKey,output:{dims:Y[0].dims,type:Y[0].type,textureType:Q.TextureType.unpacked},shaderSource:se})}(ie,Z)})}X.createLrnProgramInfoLoader=oe;const ee=ie=>{if(!ie||ie.length!==1)throw new Error("LRN requires 1 input.");if(ie[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(ie[0].type!=="float32")throw new Error("input should be float type")}},5632:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createPackedMatmulProgramInfoLoader=void 0;const ne=re(7273),Q=re(6757),ae=re(5639),oe=re(432),ee=re(2150),ie=re(8276);X.createPackedMatmulProgramInfoLoader=(Z,Y,W)=>{const R=(U=Y.length>2,K=W.activationCacheKey,{name:"MatMul (packed)",inputNames:U?["A","B","Bias"]:["A","B"],inputTypes:U?[ae.TextureType.packed,ae.TextureType.packed,ae.TextureType.packed]:[ae.TextureType.packed,ae.TextureType.packed],cacheHint:K});var U,K;return Object.assign(Object.assign({},R),{get:()=>((J,te,se,le)=>{const ce=se.length>2,de=ce?"value += getBiasForMatmul();":"",pe=se[0].dims,fe=se[1].dims,he=ne.BroadcastUtil.calcShape(pe,fe,!0),ye=!ne.ShapeUtil.areEqual(se[0].dims,se[1].dims);if(!he)throw new Error("Can't use matmul on the given tensors");const Te=pe[pe.length-1],xe=Math.ceil(Te/2),Se=pe.length,Pe=fe.length,be=(0,Q.getGlsl)(J.session.backend.glContext.version),Ce=(0,oe.getCoordsDataType)(he.length),me=he.length,we=(0,oe.getGlChannels)(),{activationFunction:Ae,applyActivation:Le}=(0,ee.getActivationSnippet)(le),Fe=ce?`${(0,ie.getBiasForMatmul)(Ce,we,se[2].dims,he,!0)}`:"",Be=ye?`${function(We,Ke,Ye,Qe){let at=[],ft=[];const Ot=Ye[0].dims,st=Ye[1].dims,Tt=Ot.length,et=st.length,ut=Qe.length,mt=ut-Tt,ht=ut-et;at=Ot.map((gt,St)=>`coords.${Ke[St+mt]}`),at[Tt-1]="i*2",at.join(", "),ft=st.map((gt,St)=>`coords.${Ke[St+ht]}`),ft[et-2]="i*2",ft.join(", ");const bt=ne.BroadcastUtil.getBroadcastDims(Ot,Qe),wt=ne.BroadcastUtil.getBroadcastDims(st,Qe),yt=bt.map(gt=>`coords.${Ke[gt+mt]} = 0;`).join(`
`),It=wt.map(gt=>`coords.${Ke[gt+ht]} = 0;`).join(`
`),Et=`int lastDim = coords.${Ke[ut-1]};
  coords.${Ke[ut-1]} = coords.${Ke[ut-2]};
  coords.${Ke[ut-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${We} coords = getOutputCoords();
  ${Et}
  ${yt}
  vec4 outputValue = getA(${at});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${We} coords = getOutputCoords();
  ${Et}
  ${It}
  vec4 outputValue = getB(${ft});
  return outputValue;
}`}(Ce,we,se,he)}`:"",je=ye?"getAAtOutCoordsMatmul(i)":`getA(${function(We,Ke){let Ye="";for(let Qe=0;Qe<Ke-2;Qe++)Ye+=`rc.${We[Qe]}, `;return Ye+=`rc.${We[Ke-2]}, i*2`,Ye}(we,Se)})`,Ve=ye?"getBAtOutCoordsMatmul(i)":`getB(${function(We,Ke){let Ye="";for(let Qe=0;Qe<Ke-2;Qe++)Ye+=`rc.${We[Qe]}, `;return Ye+=`i*2, rc.${We[Ke-1]}`,Ye}(we,Pe)})`,Ge=`
            ${Be}
            ${Fe}
            ${Ae}
            void main() {
              ${ye?"":`${Ce} rc =
          getOutputCoords(); int lastDim = rc.${we[me-1]}; rc.${we[me-1]} =
          rc.${we[me-2]}; rc.${we[me-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${xe}; i++) {
                vec4 a = ${je};
                vec4 b = ${Ve};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${de}
              ${Le}
              ${be.output} = value;
            }`;return Object.assign(Object.assign({},te),{output:{dims:he,type:se[0].type,textureType:ae.TextureType.packed},shaderSource:Ge,hasMain:!0})})(Z,R,Y,W)})}},8276:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.getBiasForMatmul=X.createMatmulProgramInfoLoader=X.parseMatMulAttributes=X.matMul=void 0;const ne=re(7273),Q=re(5639),ae=re(432),oe=re(2150),ee=re(5632);X.matMul=(R,U,K)=>(Y(U),R.session.pack?[R.run((0,ee.createPackedMatmulProgramInfoLoader)(R,U,K),U)]:[R.run(Z(U,K),U)]),X.parseMatMulAttributes=R=>(0,oe.parseInternalActivationAttributes)(R.attributes);const ie=(R,U)=>({name:"MatMul",inputNames:R?["A","B","Bias"]:["A","B"],inputTypes:R?[Q.TextureType.unpacked,Q.TextureType.unpacked,Q.TextureType.unpacked]:[Q.TextureType.unpacked,Q.TextureType.unpacked],cacheHint:U});function Z(R,U){const K=ie(R.length>2,U.activationCacheKey);return Object.assign(Object.assign({},K),{get:()=>function(J,te,se){const le=te[0].dims,ce=te[1].dims,de=ne.BroadcastUtil.calcShape(le,ce,!0);if(!de)throw new Error("Can't use matmul on the given tensors");const pe=(0,ae.getCoordsDataType)(de.length),fe=(0,ae.getGlChannels)(),{activationFunction:he,applyActivation:ye}=(0,oe.getActivationSnippet)(se),Te=te.length>2,xe=Te?"value += getBiasForMatmul();":"",Se=Te?`${W(pe,fe,te[2].dims,de,!1)}`:"",Pe=de.length,be=le.length,Ce=ce.length,me=`
    ${he}
    ${Se}
    float process(int indices[${Pe}]) {
        int a[${be}];
        int b[${Ce}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${le[le.length-1]}; ++k) {
            a[${be-1}] = k;
            b[${Ce-2}] = k;
            value += _A(a) * _B(b);
        }
        ${xe}
        ${ye}
        return value;
    }`;return Object.assign(Object.assign({},J),{output:{dims:de,type:te[0].type,textureType:Q.TextureType.unpacked},shaderSource:me})}(K,R,U)})}X.createMatmulProgramInfoLoader=Z;const Y=R=>{if(!R||R.length!==2)throw new Error("MatMul requires 2 inputs.");if(R[0].dims[R[0].dims.length-1]!==R[1].dims[R[1].dims.length-2])throw new Error("shared dimension does not match.");if(R[0].type!=="float32"&&R[0].type!=="float64"||R[1].type!=="float32"&&R[1].type!=="float64")throw new Error("inputs should be float type");if(R[0].type!==R[1].type)throw new Error("inputs types should match")};function W(R,U,K,J,te){let se="";const le=K.length,ce=J.length,de=ce-le;se=ce<2&&le>0?"coords":K.map((he,ye)=>`coords.${U[ye+de]}`).join(", ");const pe=ne.BroadcastUtil.getBroadcastDims(K,J).map(he=>`coords.${U[he+de]} = 0;`).join(`
`);let fe="vec4(outputValue.xx, outputValue.yy)";return ne.ShapeUtil.size(K)===1&&(fe="vec4(outputValue.x)"),te?`
vec4 getBiasForMatmul() {
  ${R} coords = getOutputCoords();
  ${pe}
  vec4 outputValue = getBias(${se});
  return ${fe};
}`:`
float getBiasForMatmul() {
  ${R} coords = getOutputCoords();
  ${pe}
  return getBias(coords.x);
}`}X.getBiasForMatmul=W},9:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createPackProgramInfoLoader=void 0;const ne=re(6757),Q=re(5639),ae=re(432),oe=re(5614),ee={name:"pack",inputNames:["A"],inputTypes:[Q.TextureType.unpackedReversed]};X.createPackProgramInfoLoader=(ie,Z)=>Object.assign(Object.assign({},ee),{get:()=>((Y,W)=>{const R=(0,ne.getGlsl)(Y.session.backend.glContext.version),U=W.dims,K=U.length,J=W.dims.length,te=(0,ae.getCoordsDataType)(J),se=(0,oe.getChannels)("rc",J),le=(ce=J,de=se,pe=U[U.length-2],fe=U[U.length-1],ce===0||ce===1?"":`
    int r = ${de[ce-2]};
    int c = ${de[ce-1]};
    int rp1 = ${de[ce-2]} + 1;
    int cp1 = ${de[ce-1]} + 1;
    bool rEdge = rp1 >= ${fe};
    bool cEdge = cp1 >= ${pe};
    `);var ce,de,pe,fe;let he;he=K===0?[1,1]:K===1?[U[0],1]:[U[J-1],U[J-2]];const ye=function(Se,Pe,be){if(Se===0)return"false";if(Se===1)return`rc > ${Pe[0]}`;let Ce="";for(let me=Se-2;me<Se;me++)Ce+=`${be[me]} >= ${Pe[me-Se+2]}`,me<Se-1&&(Ce+="||");return Ce}(J,he,se),Te=function(Se,Pe){const be=Se.length;if(be===0)return"getA(), 0, 0, 0";if(be===1)return`getA(rc),
            rc + 1 >= ${Se[0]} ? 0. : getA(rc + 1),
            0, 0`;let Ce="";if(be>2)for(let me=0;me<be-2;++me)Ce+=`${Pe[me]},`;return`getA(${Ce}r, c),
          rEdge ? 0. : getA(${Ce}rp1, c),
          cEdge ? 0. : getA(${Ce}r, cp1),
          rEdge || cEdge ? 0. : getA(${Ce}rp1, cp1)`}(U,se),xe=`
        void main() {
          ${te} rc = getOutputCoords();

          if(${ye}) {
            ${R.output} = vec4(0);
          } else {
            ${le}

            ${R.output} = vec4(${Te});
          }
        }
      `;return Object.assign(Object.assign({},ee),{hasMain:!0,output:{dims:W.dims,type:W.type,textureType:Q.TextureType.packed},shaderSource:xe})})(ie,Z)})},5614:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.unpackFromChannel=X.getChannels=X.getVecChannels=void 0;const ne=re(432);function Q(ae,oe){return(0,ne.getGlChannels)(oe).map(ee=>`${ae}.${ee}`)}X.getVecChannels=Q,X.getChannels=function(ae,oe){return oe===1?[ae]:Q(ae,oe)},X.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},5565:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parsePadAttributesV11=X.padV11=X.parsePadAttributesV2=X.padV2=void 0;const ne=re(4910),Q=re(7273),ae=re(6757),oe=re(5639),ee={name:"Pad",inputNames:["A"],inputTypes:[oe.TextureType.unpacked]};X.padV2=(te,se,le)=>(Y(se),[te.run(Object.assign(Object.assign({},ee),{cacheHint:le.cacheKey,get:()=>Z(te,se[0],le)}),se)]),X.parsePadAttributesV2=te=>{const se=te.attributes.getString("mode","constant"),le=te.attributes.getFloat("value",0),ce=te.attributes.getInts("pads");return(0,ne.createAttributeWithCacheKey)({mode:se,value:le,pads:ce})},X.padV11=(te,se,le)=>{W(se);const ce=ie(te,se,le);return(0,X.padV2)(te,[se[0]],ce)},X.parsePadAttributesV11=te=>te.attributes.getString("mode","constant");const ie=(te,se,le)=>{if(!te.session.isInitializer(se[1].dataId)||se.length>=3&&!te.session.isInitializer(se[2].dataId))throw new Error("dynamic pad attributes are not allowed");const ce=Array.from(se[1].integerData),de=se.length>=3?se[2].floatData[0]:0;return(0,ne.createAttributeWithCacheKey)({mode:le,pads:ce,value:de})},Z=(te,se,le)=>{const ce=Q.ShapeUtil.padShape(se.dims.slice(),le.pads),de=ce.length,pe=`
      ${R(te,se,le)}
      float process(int[${de}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[oe.TextureType.unpacked],output:{dims:ce,type:se.type,textureType:oe.TextureType.unpacked},shaderSource:pe}},Y=te=>{if(!te||te.length!==1)throw new Error("Pad requires 1 input");if(te[0].type!=="float32"&&te[0].type!=="float64")throw new Error("Invalid input type.")},W=te=>{if(!te||te.length!==2&&te.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(te[1].type!=="int32")throw new Error("Invalid input type.");if(te.length>=3&&te[2].type==="string")throw new Error("Invalid input type.")},R=(te,se,le)=>{const ce=(0,ae.getGlsl)(te.session.backend.glContext.version),[de,pe]=te.calculateTextureWidthAndHeight(se.dims,oe.TextureType.unpacked),fe=Q.ShapeUtil.computeStrides(se.dims);switch(le.mode){case"constant":return U(ce,se.dims,fe,de,pe,le.pads,le.value);case"reflect":return K(ce,se.dims,fe,de,pe,le.pads);case"edge":return J(ce,se.dims,fe,de,pe,le.pads);default:throw new Error("Invalid mode")}},U=(te,se,le,ce,de,pe,fe)=>{const he=se.length;let ye="";for(let Te=he-1;Te>=0;--Te)ye+=`
        k = m[${Te}] - ${pe[Te]};
        if (k < 0)  return constant;
        if (k >= ${se[Te]}) return constant;
        offset += k * ${le[Te]};
        `;return`
      float padA(int m[${he}]) {
        const float constant = float(${fe});
        int offset = 0;
        int k = 0;
        ${ye}
        vec2 coords = offsetToCoords(offset, ${ce}, ${de});
        float value = getColorAsFloat(${te.texture2D}(A, coords));
        return value;
      }
      `},K=(te,se,le,ce,de,pe)=>{const fe=se.length;let he="";for(let ye=fe-1;ye>=0;--ye)he+=`
        k = m[${ye}] - ${pe[ye]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(se[ye]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${se[ye]}) { k = _2n_1 - k; }
        }
        offset += k * ${le[ye]};
        `;return`
      float padA(int m[${fe}]) {
        int offset = 0;
        int k = 0;
        ${he}
        vec2 coords = offsetToCoords(offset, ${ce}, ${de});
        float value = getColorAsFloat(${te.texture2D}(A, coords));
        return value;
      }
      `},J=(te,se,le,ce,de,pe)=>{const fe=se.length;let he="";for(let ye=fe-1;ye>=0;--ye)he+=`
        k = m[${ye}] - ${pe[ye]};
        if (k < 0)  k = 0;
        if (k >= ${se[ye]}) k = ${se[ye]-1};
        offset += k * ${le[ye]};
      `;return`
      float padA(int m[${fe}]) {
        int offset = 0;
        int k = 0;
        ${he}
        vec2 coords = offsetToCoords(offset, ${ce}, ${de});
        float value = getColorAsFloat(${te.texture2D}(A, coords));
        return value;
      }
      `}},2834:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.globalMaxPool=X.parseMaxPoolAttributes=X.maxPool=X.parseGlobalAveragePoolAttributes=X.globalAveragePool=X.parseAveragePoolAttributes=X.averagePool=void 0;const ne=re(4910),Q=re(7273),ae=re(5639);X.averagePool=(J,te,se)=>{W(te);const le={name:"AveragePool",inputNames:["X"],inputTypes:[ae.TextureType.unpacked],cacheHint:se.cacheKey};return[J.run(Object.assign(Object.assign({},le),{get:()=>oe(te,le,!1,se)}),te)]},X.parseAveragePoolAttributes=J=>{const te=J.attributes.getString("auto_pad","NOTSET"),se=J.attributes.getInt("ceil_mode",0),le=J.attributes.getInt("count_include_pad",0)!==0,ce=J.attributes.getInts("kernel_shape"),de=J.attributes.getInts("strides",[]),pe=J.attributes.getInts("pads",[]);if(se!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,ne.createAttributeWithCacheKey)({autoPad:te,ceilMode:se,countIncludePad:le,kernelShape:ce,strides:de,pads:pe})};const oe=(J,te,se,le)=>{const[ce,de]=ie(J,le,se),pe=Q.ShapeUtil.size(ce.kernelShape);let fe="";ce.countIncludePad?fe+=`value /= float(${pe});`:fe+=`value /= float(${pe} - pad);`;const he=`
        ${R(J[0].dims,ce,"value += _X(x);",fe,"0.0")}
      `;return Object.assign(Object.assign({},te),{output:{dims:de,type:J[0].type,textureType:ae.TextureType.unpacked},shaderSource:he})};X.globalAveragePool=(J,te,se)=>{W(te);const le={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[ae.TextureType.unpacked],cacheHint:`${se.countIncludePad}`};return[J.run(Object.assign(Object.assign({},le),{get:()=>oe(te,le,!0,se)}),te)]},X.parseGlobalAveragePoolAttributes=J=>{const te=J.attributes.getInt("count_include_pad",0)!==0;return(0,ne.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:te,kernelShape:[],strides:[],pads:[]})},X.maxPool=(J,te,se)=>{W(te);const le={name:"MaxPool",inputNames:["X"],inputTypes:[ae.TextureType.unpacked],cacheHint:se.cacheKey};return[J.run(Object.assign(Object.assign({},le),{get:()=>ee(te,le,!1,se)}),te)]},X.parseMaxPoolAttributes=J=>{const te=J.attributes.getString("auto_pad","NOTSET"),se=J.attributes.getInt("ceil_mode",0),le=J.attributes.getInts("kernel_shape"),ce=J.attributes.getInts("strides",[]),de=J.attributes.getInts("pads",[]),pe=J.attributes.getInt("storage_order",0),fe=J.attributes.getInts("dilations",[]);if(pe!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(se!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,ne.createAttributeWithCacheKey)({autoPad:te,ceilMode:se,countIncludePad:!1,kernelShape:le,strides:ce,pads:de,storageOrder:pe,dilations:fe})};const ee=(J,te,se,le)=>{const[ce,de]=ie(J,le,se),pe=`
      ${R(J[0].dims,ce,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},te),{output:{dims:de,type:J[0].type,textureType:ae.TextureType.unpacked},shaderSource:pe})},ie=(J,te,se)=>{const le=J[0].dims.slice(),ce=Object.hasOwnProperty.call(te,"dilations"),de=te.kernelShape.slice(),pe=te.strides.slice(),fe=ce?te.dilations.slice():[],he=te.pads.slice();Q.PoolConvUtil.adjustPoolAttributes(se,le,de,pe,fe,he);const ye=Q.PoolConvUtil.computePoolOutputShape(se,le,pe,fe,de,he,te.autoPad),Te=Object.assign({},te);return ce?Object.assign(Te,{kernelShape:de,strides:pe,pads:he,dilations:fe,cacheKey:te.cacheKey}):Object.assign(Te,{kernelShape:de,strides:pe,pads:he,cacheKey:te.cacheKey}),[Te,ye]},Z={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},Y={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[ae.TextureType.unpacked]};X.globalMaxPool=(J,te)=>(W(te),[J.run(Object.assign(Object.assign({},Y),{get:()=>ee(te,Y,!0,Z)}),te)]);const W=J=>{if(!J||J.length!==1)throw new Error("Pool ops requires 1 input.");if(J[0].type!=="float32"&&J[0].type!=="float64")throw new Error("Invalid input type.")},R=(J,te,se,le,ce)=>{const de=J.length;if(te.kernelShape.length<=2){const pe=te.kernelShape[te.kernelShape.length-1],fe=te.strides[te.strides.length-1],he=te.pads[te.pads.length/2-1],ye=te.pads[te.pads.length-1],Te=J[de-1];let xe="",Se="",Pe="";if(xe=he+ye!==0?`
          for (int i = 0; i < ${pe}; i++) {
            x[${de} - 1] = indices[${de} - 1] * ${fe} - ${he} + i;
            if (x[${de} - 1] < 0 || x[${de} - 1] >= ${Te}) {
              pad++;
              continue;
            }
            ${se}
          }`:`
          for (int i = 0; i < ${pe}; i++) {
            x[${de} - 1] = indices[${de} - 1] * ${fe} - ${he} + i;
            ${se}
          }`,te.kernelShape.length===2){const be=te.kernelShape[te.kernelShape.length-2],Ce=te.strides[te.strides.length-2],me=te.pads[te.pads.length/2-2],we=te.pads[te.pads.length-2],Ae=J[de-2];Se=me+we!==0?`
            for (int j = 0; j < ${be}; j++) {
              x[${de} - 2] = indices[${de} - 2] * ${Ce} - ${me} + j;
              if (x[${de} - 2] < 0 || x[${de} - 2] >= ${Ae}) {
                pad+= ${pe};
                continue;
              }
          `:`
            for (int j = 0; j < ${be}; j++) {
              x[${de} - 2] = indices[${de} - 2] * ${Ce} - ${me} + j;
            `,Pe=`
          }
        `}return`
        float process(int indices[${de}]) {
          int x[${de}];
          copyVec(indices, x);

          float value = ${ce};
          int pad = 0;
          ${Se}
          ${xe}
          ${Pe}
          ${le}
          return value;
        }
      `}{const pe=Q.ShapeUtil.size(te.kernelShape),fe=Q.ShapeUtil.computeStrides(te.kernelShape),he=fe.length,ye=te.pads.length,Te=K(he),xe=U(J,"inputDims"),Se=U(te.pads,"pads"),Pe=U(fe,"kernelStrides"),be=U(te.strides,"strides");let Ce="";return Ce=te.pads.reduce((me,we)=>me+we)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${se}
          }`:`
          }
          ${se}
        `,`
        ${Te}
        float process(int indices[${de}]) {
          int x[${de}];
          copyVec(indices, x);
          int offset[${he}];
          int pads[${ye}];
          int inputDims[${de}];
          int kernelStrides[${he}];
          int strides[${he}];
          ${Se}
          ${xe}
          ${be}
          ${Pe}

          float value = ${ce};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${pe}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${de} - ${he}; j < ${de}; j++) {
              x[j] = indices[j] * strides[j - ${de} + ${he}]
                + offset[j - ${de} + ${he}] - pads[j - 2];
              ${Ce}
          }
          ${le}

          return value;
        }
      `}},U=(J,te)=>{let se="";for(let le=0;le<J.length;le++)se+=`
      ${te}[${le}] = ${J[le]};
    `;return se},K=J=>`
  void offsetToIndices(int offset, int[${J}] strides, out int[${J}] indices) {
    if (${J} == 0) {
      return;
    }
    for (int i = 0; i < ${J} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${J} - 1] = offset;
  }`},1010:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.reduceLogSumSquare=X.reduceLogSum=X.reduceProd=X.reduceMin=X.reduceMax=X.reduceMean=X.reduceSum=X.parseReduceAttributes=void 0;const ne=re(4910),Q=re(6145),ae=re(7273),oe=re(5639),ee=(Y,W,R,U,K)=>{Z(W);const J={name:U,inputNames:["A"],inputTypes:[oe.TextureType.unpacked]};return[Y.run(Object.assign(Object.assign({},J),{cacheHint:R.cacheKey,get:()=>ie(Y,W,R,U,K,J)}),W)]};X.parseReduceAttributes=Y=>{const W=Y.attributes.getInts("axes",[]),R=Y.attributes.getInt("keepdims",1)===1;return(0,ne.createAttributeWithCacheKey)({axes:W,keepDims:R})};const ie=(Y,W,R,U,K,J)=>{const te=[],se=W[0].dims.length||1,le=[],ce=ae.ShapeUtil.normalizeAxes(R.axes,W[0].dims.length),de=K(W,ce);let pe=de[1];for(let he=0;he<W[0].dims.length;he++)ce.indexOf(he)>=0||ce.length===0?(R.keepDims&&te.push(1),pe=`
          for(int j${he} = 0; j${he} < ${W[0].dims[he]}; j${he}++) {
            inputIdx[${he}] = j${he};
            ${pe}
          }`):(le.push(`inputIdx[${he}] = outputIdx[${te.length}];`),te.push(W[0].dims[he]));const fe=`
      float process(int outputIdx[${te.length||1}]) {
        float value;                 // final result
        int inputIdx[${se}];      // addressing input data
        ${le.join(`
`)}
        ${de[0]}       // init ops for reduce max/min
        ${pe}
        ${de[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},J),{output:{dims:te,type:W[0].type,textureType:oe.TextureType.unpacked},shaderSource:fe})},Z=Y=>{if(!Y||Y.length!==1)throw new Error("Reduce op requires 1 input.");if(Q.NUMBER_TYPES.indexOf(Y[0].type)===-1)throw new Error("Invalid input type.")};X.reduceSum=(Y,W,R)=>ee(Y,W,R,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),X.reduceMean=(Y,W,R)=>ee(Y,W,R,"ReduceMean",(U,K)=>{let J=1;for(let te=0;te<U[0].dims.length;te++)(K.indexOf(te)>=0||K.length===0)&&(J*=U[0].dims[te]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${J}.;`]}),X.reduceMax=(Y,W,R)=>ee(Y,W,R,"ReduceMax",(U,K)=>{const J=[];for(let te=0;te<U[0].dims.length;te++)(K.indexOf(te)>=0||K.length===0)&&J.push(`inputIdx[${te}] = 0;`);return[`${J.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),X.reduceMin=(Y,W,R)=>ee(Y,W,R,"ReduceMin",(U,K)=>{const J=[];for(let te=0;te<U[0].dims.length;te++)(K.indexOf(te)>=0||K.length===0)&&J.push(`inputIdx[${te}] = 0;`);return[`${J.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),X.reduceProd=(Y,W,R)=>ee(Y,W,R,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),X.reduceLogSum=(Y,W,R)=>ee(Y,W,R,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),X.reduceLogSumSquare=(Y,W,R)=>ee(Y,W,R,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.isReshapeCheap=X.processDims3D=X.createPackedReshape3DProgramInfoLoader=void 0;const ne=re(7273),Q=re(6757),ae=re(5639),oe=re(5614);X.createPackedReshape3DProgramInfoLoader=(ee,ie,Z)=>{const Y=(W=>({name:"Reshape (packed)",inputTypes:[ae.TextureType.packed],inputNames:["A"],cacheHint:`${W}`}))(Z);return Object.assign(Object.assign({},Y),{get:()=>((W,R,U,K)=>{const J=R.dims,te=K;let se="";for(let de=0;de<4;de++){let pe="";switch(de){case 0:pe="outputCoords = rc;";break;case 1:pe="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:pe="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:pe="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}se+=`
        ${pe}
        ${de>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${de}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${de>0?"}":""}
      `}const le=(0,Q.getGlsl)(W.session.backend.glContext.version),ce=`
      ${function(de){const pe=ne.ShapeUtil.computeStrides(de),fe=["b","r","c"],he="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${pe.map((ye,Te)=>`int ${fe[Te]} = ${he} / ${ye}; ${Te===pe.length-1?`int ${fe[Te+1]} = ${he} - ${fe[Te]} * ${ye}`:`index -= ${fe[Te]} * ${ye}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(J)}
      ${function(de){const pe=ne.ShapeUtil.computeStrides(de);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${pe[0]} + coords.z * ${pe[1]} + coords.y;
  }
`}(te)}
      ${(0,oe.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${te[2]};
        int cols = ${te[1]};

        ${se}
        ${le.output} = result;
      }
    `;return Object.assign(Object.assign({},U),{output:{dims:te,type:R.type,textureType:ae.TextureType.packed},shaderSource:ce,hasMain:!0})})(ee,ie,Y,Z)})},X.processDims3D=function(ee){if(ee.length===0)return[1,1,1];let ie=1;for(let Z=0;Z<ee.length-2;++Z)ie*=ee[Z];return[ie,ee.length>1?ee[ee.length-2]:1,ee[ee.length-1]]},X.isReshapeCheap=function(ee,ie){let Z=!1;return Z=ee.length===0||ie.length===0||(ee.length<2||ie.length<2?ee[ee.length-1]===ie[ie.length-1]:ee[ee.length-1]===ie[ie.length-1]&&ee[ee.length-2]===ie[ie.length-2]),Z}},8126:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.reshape=void 0;const ne=re(7273);X.reshape=(Q,ae)=>{const oe=ne.ShapeUtil.calculateReshapedDims(ae[0].dims,ae[1].integerData);return Q.session.pack?[Q.reshapePacked(ae[0],oe)]:[Q.reshapeUnpacked(ae[0],oe)]}},2801:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseResizeAttributesV11=X.parseResizeAttributesV10=X.resize=void 0;const ne=re(6757),Q=re(5639),ae=re(432),oe=re(5614),ee=re(3980),ie={name:"Resize",inputNames:["A"],inputTypes:[Q.TextureType.packed]};X.resize=(U,K,J)=>((0,ee.validateInputs)(K,J),[U.run(Object.assign(Object.assign({},ie),{cacheHint:J.cacheKey,get:()=>Z(U,K,J)}),K)]),X.parseResizeAttributesV10=U=>(0,ee.parseUpsampleAttributes)(U,10),X.parseResizeAttributesV11=U=>(0,ee.parseUpsampleAttributes)(U,11);const Z=(U,K,J)=>{const te=(0,ne.getGlsl)(U.session.backend.glContext.version),[se,le]=Y(K,J);if(se.every(Ce=>Ce===1)&&J.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},ie),{output:{dims:le,type:K[0].type,textureType:Q.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${te.texture2D}(X, TexCoords);
                    ${te.output} = v;
                }`});const ce=le.length;if(ce<2)throw new Error(`output dimension should be at least 2, but got ${ce}`);const de=le[ce-2],pe=le[ce-1],fe=K[0].dims;if(ce!==fe.length)throw new Error(`output dimension should match input ${fe.length}, but got ${ce}`);const he=fe[ce-2],ye=fe[ce-1],Te=se[ce-2],xe=se[ce-1];let Se="";if(J.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${J.mode}'`);switch(J.coordinateTransformMode){case"asymmetric":Se=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":Se=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":Se=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${pe}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${de}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${pe}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${de}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":Se=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${pe}.0 - 1.0, ${de}.0 - 1.0, ${pe}.0 - 1.0,
                            ${de}.0 - 1.0);
                        vec4 original = vec4(${ye}.0 - 1.0, ${he}.0 - 1.0, ${ye}.0 - 1.0,
                            ${he}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${J.coordinateTransformMode}'`)}const Pe=(0,ae.getCoordsDataType)(ce),be=`
            const vec2 inputWH = vec2(${he}.0, ${ye}.0);
            const vec4 scaleWHWH = vec4(float(${Te}), float(${xe}), float(${Te}), float(${xe}));
            ${(0,oe.unpackFromChannel)()}
            ${Se}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${Pe} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${de-1};
                bool hasNextCol = rc.z < ${pe-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${te.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},ie),{output:{dims:le,type:K[0].type,textureType:Q.TextureType.packed},hasMain:!0,shaderSource:be})},Y=(U,K)=>{const J=U[0].dims;let te,se=K.scales;if(se.length===0){const ce=U[K.scalesInputIdx];if(ce&&ce.size!==0){if(U[K.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");se=W(ce,K.mode,K.isResize)}else{const de=U[K.sizesInputIdx];if(!de||de.size===0)throw new Error("Either scales or sizes MUST be provided as input.");te=Array.from(de.integerData),se=R(te,J,K.mode,K.isResize)}}else if(U[K.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const le=te||J.map((ce,de)=>Math.floor(ce*se[de]));return[se,le]},W=(U,K,J)=>{const te=Array.from(U.floatData);return(0,ee.scalesValidation)(te,K,J),te},R=(U,K,J,te)=>{const se=K.length,le=new Array(se);for(let ce=0,de=se;ce<de;ce++)if(K[ce]===0){if(U[ce]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");le[ce]=1}else le[ce]=U[ce]/K[ce];return(0,ee.scalesValidation)(le,J,te),le}},565:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.shape=void 0;const ne=re(9240);X.shape=(ae,oe)=>(Q(oe),[new ne.Tensor([oe[0].dims.length],"int32",void 0,void 0,new Int32Array(oe[0].dims))]);const Q=ae=>{if(!ae||ae.length!==1)throw new Error("Shape requires 1 input.")}},2444:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.sliceV10=X.parseSliceAttributes=X.slice=void 0;const ne=re(4910),Q=re(6145),ae=re(7273),oe=re(5639),ee={name:"Slice",inputNames:["A"],inputTypes:[oe.TextureType.unpacked]};X.slice=(R,U,K)=>(Z(U),[R.run(Object.assign(Object.assign({},ee),{cacheHint:K.cacheKey,get:()=>ie(R,U[0],K)}),U)]),X.parseSliceAttributes=R=>{const U=R.attributes.getInts("starts"),K=R.attributes.getInts("ends"),J=R.attributes.getInts("axes",[]);return(0,ne.createAttributeWithCacheKey)({starts:U,ends:K,axes:J})};const ie=(R,U,K)=>{const J=K.axes.length===0?U.dims.slice(0).map((fe,he)=>he):K.axes,te=ae.ShapeUtil.normalizeAxes(J,U.dims.length),se=K.starts.map((fe,he)=>fe>U.dims[te[he]]-1?U.dims[te[he]]:ae.ShapeUtil.normalizeAxis(fe,U.dims[te[he]])),le=K.ends.map((fe,he)=>fe>U.dims[te[he]]-1?U.dims[te[he]]:ae.ShapeUtil.normalizeAxis(fe,U.dims[te[he]])),ce=U.dims.slice(),de=[];for(let fe=0;fe<te.length;fe++)ce[te[fe]]=le[fe]-se[fe],se[fe]>0&&de.push(`outputIdx[${te[fe]}] += ${se[fe]};`);const pe=`
      float process(int outputIdx[${ce.length}]) {
        ${de.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},ee),{output:{dims:ce,type:U.type,textureType:oe.TextureType.unpacked},shaderSource:pe})},Z=R=>{if(!R||R.length!==1)throw new Error("Slice requires 1 input.");if(Q.NUMBER_TYPES.indexOf(R[0].type)===-1)throw new Error("Invalid input type.")};X.sliceV10=(R,U)=>{W(U);const K=Y(R,U);return[R.run(Object.assign(Object.assign({},ee),{cacheHint:K.cacheKey,get:()=>ie(R,U[0],K)}),[U[0]])]};const Y=(R,U)=>{if(!R.session.isInitializer(U[1].dataId)||!R.session.isInitializer(U[2].dataId)||U.length>=4&&!R.session.isInitializer(U[3].dataId)||U.length>=5&&!R.session.isInitializer(U[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(U.length>=5&&U[4].integerData.some(se=>se!==1))throw new Error("currently non-1 steps is not supported for Slice");const K=Array.from(U[1].integerData),J=Array.from(U[2].integerData),te=U.length>=4?Array.from(U[3].integerData):[];return{starts:K,ends:J,axes:te,cacheKey:`${te};${K};${J}`}},W=R=>{if(!R||R.length<3||R.length>5)throw new Error("Invalid input number.");if(R[1].type!=="int32"||R[1].dims.length!==1)throw new Error("Invalid input type.");if(R[2].type!=="int32"||R[2].dims.length!==1)throw new Error("Invalid input type.");if(R.length>=4&&(R[3].type!=="int32"||R[3].dims.length!==1))throw new Error("Invalid input type.");if(R.length>=5&&(R[4].type!=="int32"||R[4].dims.length!==1))throw new Error("Invalid input type.")}},815:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.softmaxV13=X.parseSoftmaxAttributesV13=X.parseSoftmaxAttributes=X.softmax=void 0;const ne=re(4910),Q=re(7273),ae=re(6757),oe=re(5639),ee=re(5707),ie={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[oe.TextureType.unpacked]},Z={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[oe.TextureType.unpacked,oe.TextureType.unpacked]},Y={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[oe.TextureType.unpacked,oe.TextureType.unpacked,oe.TextureType.unpacked]};X.softmax=(te,se,le)=>{J(se);const ce=se[0].dims.slice(),de=Q.ShapeUtil.normalizeAxis(le.axis,ce.length),pe=Q.ShapeUtil.sizeToDimension(ce,de),fe=Q.ShapeUtil.sizeFromDimension(ce,de);return W(te,se,le,pe,fe)},X.parseSoftmaxAttributes=te=>(0,ne.createAttributeWithCacheKey)({axis:te.attributes.getInt("axis",1)}),X.parseSoftmaxAttributesV13=te=>(0,ne.createAttributeWithCacheKey)({axis:te.attributes.getInt("axis",-1)}),X.softmaxV13=(te,se,le)=>{J(se);const ce=se[0].dims.slice(),de=Q.ShapeUtil.normalizeAxis(le.axis,ce.length),pe=ce.length,fe=de!==pe-1,he=[];let ye,Te=[],xe=[];fe&&(Te=Array.from({length:pe}).map((Ce,me)=>me),Te[de]=pe-1,Te[pe-1]=de,Te.map(Ce=>he.push(ce[Ce])),ye=(0,ne.createAttributeWithCacheKey)({perm:Te}),xe=(0,ee.transpose)(te,se,ye));const Se=fe?Q.ShapeUtil.sizeToDimension(he,pe-1):Q.ShapeUtil.sizeToDimension(ce,pe-1),Pe=fe?Q.ShapeUtil.sizeFromDimension(he,pe-1):Q.ShapeUtil.sizeFromDimension(ce,pe-1),be=W(te,fe?xe:se,le,Se,Pe);return fe?(0,ee.transpose)(te,be,ye):be};const W=(te,se,le,ce,de)=>{const pe=R(te,se[0],ce,de,[ce]),fe=te.run(Object.assign(Object.assign({},ie),{cacheHint:le.cacheKey,get:()=>pe}),se),he=U(te,se[0],ce,de,pe.output.dims,[ce]),ye=te.run(Object.assign(Object.assign({},Z),{cacheHint:le.cacheKey,get:()=>he}),[se[0],fe]),Te=K(te,se[0],ce,de,pe.output.dims,he.output.dims);return[te.run(Object.assign(Object.assign({},Y),{cacheHint:le.cacheKey,get:()=>Te}),[se[0],fe,ye])]},R=(te,se,le,ce,de)=>{const[pe,fe]=te.calculateTextureWidthAndHeight(se.dims,oe.TextureType.unpacked),he=de.length;if(le<1||ce<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(de.length!==1)throw new Error("Dimensionality of the output should be 1");if(de[0]!==le)throw new Error("Shape of the output should be equal to logical row count");const ye=(0,ae.getGlsl)(te.session.backend.glContext.version),Te=`
      float process(int[${he}] indices) {
        int logical_row_start_offset = indices[0] * ${ce};

        float max = getColorAsFloat(${ye.texture2D}(A, offsetToCoords(logical_row_start_offset, ${pe},
        ${fe} )));
        for(int i=1; i<${ce}; ++i)
        {
          float current = getColorAsFloat(${ye.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${pe}, ${fe})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},ie),{output:{dims:de,type:se.type,textureType:oe.TextureType.unpacked},shaderSource:Te})},U=(te,se,le,ce,de,pe)=>{const[fe,he]=te.calculateTextureWidthAndHeight(se.dims,oe.TextureType.unpacked),ye=pe.length;if(le<1||ce<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(pe.length!==1)throw new Error("Dimensionality of the output should be 1");if(pe[0]!==le)throw new Error("Shape of the output should be equal to logical row count");if(de.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(de[0]!==le)throw new Error("Shape of the intermediate results should be equal to logical row count");const Te=`
      float process(int[${ye}] indices) {
        int logical_row_start_offset = indices[0] * ${ce};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${ce}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,ae.getGlsl)(te.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${fe}, ${he}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},Z),{output:{dims:pe,type:se.type,textureType:oe.TextureType.unpacked},shaderSource:Te})},K=(te,se,le,ce,de,pe)=>{const[fe,he]=te.calculateTextureWidthAndHeight(se.dims,oe.TextureType.unpacked),ye=se.dims.length;if(le<1||ce<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(de.length!==1||pe.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(de[0]!==le||pe[0]!==le)throw new Error("Shape of the intermediate results should be equal to logical row count");const Te=`
      float process(int[${ye}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${fe}, ${he});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${ce};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},Y),{output:{dims:se.dims,type:se.type,textureType:oe.TextureType.unpacked},shaderSource:Te})},J=te=>{if(!te||te.length!==1)throw new Error("Softmax requires 1 input.");if(te[0].type!=="float32"&&te[0].type!=="float64")throw new Error("Invalid input type")}},564:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseSplitAttributes=X.split=void 0;const ne=re(4910),Q=re(7273),ae=re(5639),oe={name:"Split",inputNames:["A"],inputTypes:[ae.TextureType.unpacked]};X.split=(Y,W,R)=>{Z(W);const U=Q.ShapeUtil.normalizeAxis(R.axis,W[0].dims.length),K=ee(Y,W,U,R),J=[];for(let te=0;te<K;++te)J.push(Y.run(Object.assign(Object.assign({},oe),{cacheHint:`${R.cacheKey};${te}`,get:()=>ie(Y,W[0],R,U,te)}),W));return J},X.parseSplitAttributes=Y=>{const W=Y.attributes.getInt("axis",0),R=Y.attributes.getInts("split",[]),U=Y.outputs.length;return(0,ne.createAttributeWithCacheKey)({axis:W,split:R,numOutputs:U})};const ee=(Y,W,R,U)=>{const[,K]=Q.SplitUtil.splitShape(W[0].dims,R,U.split,U.numOutputs);return K.length},ie=(Y,W,R,U,K)=>{const[J,te]=Q.SplitUtil.splitShape(W.dims,U,R.split,R.numOutputs),se=te[K],le=J[K],ce=`
      float process(int indices[${le.length}]) {
        indices[${U}] += ${se};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},oe),{cacheHint:`${R.cacheKey}:${K}`,output:{dims:le,type:W.type,textureType:ae.TextureType.unpacked},shaderSource:ce})},Z=Y=>{if(!Y||Y.length!==1)throw new Error("Split requires one input.");if(Y[0].type!=="int8"&&Y[0].type!=="uint8"&&Y[0].type!=="int16"&&Y[0].type!=="uint16"&&Y[0].type!=="int32"&&Y[0].type!=="uint32"&&Y[0].type!=="float32"&&Y[0].type!=="float64"&&Y[0].type!=="bool")throw new Error("Invalid input type.")}},5416:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseSqueezeAttributes=X.squeezeV13=X.squeeze=void 0;const ne=re(7273);X.squeeze=(oe,ee,ie)=>{Q(ee);const Z=ne.ShapeUtil.squeezeShape(ee[0].dims,ie);return[oe.reshapeUnpacked(ee[0],Z)]},X.squeezeV13=(oe,ee)=>(ae(ee),(0,X.squeeze)(oe,[ee[0]],Array.from(ee[1].integerData))),X.parseSqueezeAttributes=oe=>oe.attributes.getInts("axes");const Q=oe=>{if(!oe||oe.length!==1)throw new Error("Squeeze requires 1 input.");if(oe[0].type==="string")throw new Error("invalid input tensor types.")},ae=oe=>{if(!oe||oe.length!==2)throw new Error("Squeeze requires 2 inputs.");if(oe[1].type!=="int32")throw new Error("Invalid input type.")}},1240:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.sum=void 0;const ne=re(6757),Q=re(5639);X.sum=(ee,ie)=>{oe(ie);const Z={name:"Sum",inputNames:ie.map((Y,W)=>`X${W}`),inputTypes:new Array(ie.length).fill(Q.TextureType.unpacked)};return[ee.run(Object.assign(Object.assign({},Z),{get:()=>ae(ee,ie,Z)}),ie)]};const ae=(ee,ie,Z)=>{const Y=(0,ne.getGlsl)(ee.session.backend.glContext.version),W=ie[0].dims.slice(),R=`
      void main() {
        vec4 result = ${ie.map((U,K)=>`${Y.texture2D}(X${K},TexCoords)`).join(" + ")};
        ${Y.output} = result;
      }
    `;return Object.assign(Object.assign({},Z),{output:{dims:W,type:ie[0].type,textureType:Q.TextureType.unpacked},hasMain:!0,shaderSource:R})},oe=ee=>{if(!ee||ee.length===0)throw new Error("Sum requires inputs.");const ie=ee[0].dims.length;for(let Z=1;Z<ee.length;Z++){if(ie!==ee[Z].dims.length)throw new Error("Input shapes are mismatched.");for(let Y=0;Y<ie;Y++)if(ee[0].dims[Y]!==ee[Z].dims[Y])throw new Error("Input shapes are not matched.")}if(ee[0].type!=="float32"&&ee[0].type!=="float64")throw new Error("Invalid input type.");for(let Z=1;Z<ee.length;Z++)if(ee[0].type!==ee[Z].type)throw new Error("Input types are not matched.")}},5944:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.tile=void 0;const ne=re(6145),Q=re(5639);X.tile=(ee,ie)=>{oe(ie);const Z={name:"Tile",inputNames:["A"],inputTypes:[Q.TextureType.unpacked]};return[ee.run(Object.assign(Object.assign({},Z),{get:()=>ae(ee,ie,Z)}),ie)]};const ae=(ee,ie,Z)=>{const Y=ie[0].dims.slice(),W=new Array(Y.length),R=[];for(let J=0;J<Y.length;J++)W[J]=Y[J]*ie[1].numberData[J],R.push(`inputIdx[${J}] = int(mod(float(outputIdx[${J}]), ${Y[J]}.));`);const U=W.length,K=`
      float process(int outputIdx[${U}]) {
        int inputIdx[${U}];
        ${R.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},Z),{output:{dims:W,type:ie[0].type,textureType:Q.TextureType.unpacked},shaderSource:K})},oe=ee=>{if(!ee||ee.length!==2)throw new Error("Tile requires 2 input.");if(ee[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(ee[1].dims[0]!==ee[0].dims.length)throw new Error("Invalid input shape.");if(ne.NUMBER_TYPES.indexOf(ee[0].type)===-1)throw new Error("Invalid input type.");if(ee[1].type!=="int32"&&ee[1].type!=="int16")throw new Error("Invalid repeat type.")}},5707:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseTransposeAttributes=X.transpose=void 0;const ne=re(4910),Q=re(7273),ae=re(5639),oe={name:"Transpose",inputNames:["A"],inputTypes:[ae.TextureType.unpacked]};X.transpose=(R,U,K)=>(W(U),[R.run(Object.assign(Object.assign({},oe),{cacheHint:K.cacheKey,get:()=>ee(R,U[0],K.perm)}),U)]),X.parseTransposeAttributes=R=>(0,ne.createAttributeWithCacheKey)({perm:R.attributes.getInts("perm",[])});const ee=(R,U,K)=>{const J=U.dims;K=ie(J,K);const te=Z(J,K),se=J.length,le=`
      ${Y("perm",K,se)}
      float process(int indices[${se}]) {
        int a[${se}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},oe),{output:{dims:te,type:U.type,textureType:ae.TextureType.unpacked},shaderSource:le})},ie=(R,U)=>(U&&U.length!==R.length&&(U=[...R.keys()].reverse()),U),Z=(R,U)=>(U=ie(R,U),Q.ShapeUtil.sortBasedOnPerm(R,U)),Y=(R,U,K)=>{const J=[];J.push(`void ${R}(out int a[${K}], int src[${K}]) {`);for(let te=0;te<K;++te)J.push(`	a[${U[te]}]=src[${te}];`);return J.push("	}"),J.join(`
`)},W=R=>{if(!R||R.length!==1)throw new Error("Transpose requires 1 input.");if(R[0].type!=="float32"&&R[0].type!=="float64")throw new Error("input should be float tensor")}},2488:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.encodeAsUint8=void 0;const ne=re(6757),Q=re(5639);X.encodeAsUint8=(ae,oe)=>{const ee=oe.shape,ie=(0,ne.getGlsl)(ae.session.backend.glContext.version),Z=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${ie.texture2D}(X,TexCoords).r;
      ${ie.output} = encodeAsUint8(value);
    }`,Y={name:"Uint8Encode",inputTypes:[Q.TextureType.unpacked],inputNames:["X"],output:{dims:ee,type:oe.tensor.type,textureType:Q.TextureType.downloadUint8AsFloat},shaderSource:Z,hasMain:!0};return ae.executeProgram(Y,[oe.tensor])}},9087:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.tanh=X.tan=X.sqrt=X.sin=X.sigmoid=X.relu=X.not=X.neg=X.log=X.parseLeakyReluAttributes=X.leakyRelu=X.identity=X.floor=X.exp=X.parseEluAttributes=X.elu=X.cos=X.ceil=X.clipV11=X.parseClipAttributes=X.clip=X.atan=X.asin=X.acos=X.abs=X.glslTanh=X.glslTan=X.glslSqrt=X.glslSigmoid=X.glslRelu=X.glslSin=X.glslNot=X.glslNeg=X.glslLog=X.glslLeakyRelu=X.glslIdentity=X.glslClip=X.glslFloor=X.glslExp=X.glslElu=X.glslCos=X.glslCeil=X.glslAtan=X.glslAsin=X.glslAcos=X.glslAbs=void 0;const ne=re(4910),Q=re(7273),ae=re(1997),oe=re(6757),ee=re(5639);function ie(){return be("abs")}function Z(){return be("acos")}function Y(){return be("asin")}function W(){return be("atan")}function R(){return be("ceil")}function U(){return be("cos")}function K(we){const Ae="elu";return{body:`
  const float alpha = float(${we});

  float ${Ae}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${Ae}_(vec4 v) {
    return vec4(${Ae}_(v.x), ${Ae}_(v.y), ${Ae}_(v.z), ${Ae}_(v.w));
  }
  `,name:Ae,type:ae.FunctionType.ValueBased}}function J(){return be("exp")}function te(){return be("floor")}function se(we,Ae){const Le="clip";return{body:`
  const float min = float(${we});
  const float max = float(${Ae});

  float ${Le}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${Le}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:Le,type:ae.FunctionType.ValueBased}}function le(){const we="indentity";return{body:`
  float ${we}_(float a) {
    return a;
  }
  vec4 ${we}_(vec4 v) {
    return v;
  }
  `,name:we,type:ae.FunctionType.ValueBased}}function ce(we){const Ae="leakyRelu";return{body:`
  const float alpha = float(${we});

  float ${Ae}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${Ae}_(vec4 v) {
    return vec4(${Ae}_(v.x), ${Ae}_(v.y), ${Ae}_(v.z), ${Ae}_(v.w));
  }
  `,name:Ae,type:ae.FunctionType.ValueBased}}function de(){return be("log")}function pe(){const we="neg";return{body:`
  float ${we}_(float a) {
    return -a;
  }
  vec4 ${we}_(vec4 v) {
    return -v;
  }
  `,name:we,type:ae.FunctionType.ValueBased}}function fe(){const we="not";return{body:`
  float ${we}_(float a) {
    return float( ! bool(a) );
  }
  bool ${we}_(bool a) {
    return !a;
  }
  vec4 ${we}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${we}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:we,type:ae.FunctionType.ValueBased}}function he(){return be("sin")}function ye(){const we="relu";return{body:`
  float ${we}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${we}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:we,type:ae.FunctionType.ValueBased}}function Te(){const we="sigmoid";return{body:`
  float ${we}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${we}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:we,type:ae.FunctionType.ValueBased}}function xe(){return be("sqrt")}function Se(){return be("tan")}function Pe(){const we="tanh";return{body:`
  float ${we}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${we}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:we,type:ae.FunctionType.ValueBased}}function be(we){return{body:`
  float ${we}_(float a) {
    return ${we}(a);
  }
  vec4 ${we}_(vec4 v) {
    return ${we}(v);
  }
  `,name:we,type:ae.FunctionType.ValueBased}}X.glslAbs=ie,X.glslAcos=Z,X.glslAsin=Y,X.glslAtan=W,X.glslCeil=R,X.glslCos=U,X.glslElu=K,X.glslExp=J,X.glslFloor=te,X.glslClip=se,X.glslIdentity=le,X.glslLeakyRelu=ce,X.glslLog=de,X.glslNeg=pe,X.glslNot=fe,X.glslSin=he,X.glslRelu=ye,X.glslSigmoid=Te,X.glslSqrt=xe,X.glslTan=Se,X.glslTanh=Pe;const Ce=(we,Ae,Le,Fe)=>{const Be=we.session.pack?ee.TextureType.packed:ee.TextureType.unpacked,je={name:Le.name,inputTypes:[Be],inputNames:["A"],cacheHint:Fe};return Object.assign(Object.assign({},je),{get:()=>((Ve,Ge,We,Ke)=>{const Ye=Ve.session.pack?ee.TextureType.packed:ee.TextureType.unpacked,Qe=(0,oe.getGlsl)(Ve.session.backend.glContext.version);return Object.assign(Object.assign({},Ge),{output:{dims:We.dims,type:We.type,textureType:Ye},shaderSource:`
     ${Ke.body}
     void main() {
       vec4 v = ${Qe.texture2D}(A, TexCoords);
       v = ${Ke.name}_(v);
       ${Qe.output} = v;
     }
     `,hasMain:!0})})(we,je,Ae,Le)})};X.abs=(we,Ae)=>[we.run(Ce(we,Ae[0],ie()),Ae)],X.acos=(we,Ae)=>[we.run(Ce(we,Ae[0],Z()),Ae)],X.asin=(we,Ae)=>[we.run(Ce(we,Ae[0],Y()),Ae)],X.atan=(we,Ae)=>[we.run(Ce(we,Ae[0],W()),Ae)],X.clip=(we,Ae,Le)=>[we.run(Ce(we,Ae[0],se(Le.min,Le.max),Le.cacheKey),Ae)],X.parseClipAttributes=we=>(0,ne.createAttributeWithCacheKey)({min:we.attributes.getFloat("min",Q.MIN_CLIP),max:we.attributes.getFloat("max",Q.MAX_CLIP)}),X.clipV11=(we,Ae)=>{const Le=me(we,Ae);return(0,X.clip)(we,[Ae[0]],Le)};const me=(we,Ae)=>{if(Ae.length>=3&&(!we.session.isInitializer(Ae[1].dataId)||!we.session.isInitializer(Ae[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const Le=Ae.length>=3?Ae[1].numberData[0]:Q.MIN_CLIP,Fe=Ae.length>=3?Ae[2].numberData[0]:Q.MAX_CLIP;return(0,ne.createAttributeWithCacheKey)({min:Le,max:Fe})};X.ceil=(we,Ae)=>[we.run(Ce(we,Ae[0],R()),Ae)],X.cos=(we,Ae)=>[we.run(Ce(we,Ae[0],U()),Ae)],X.elu=(we,Ae,Le)=>[we.run(Ce(we,Ae[0],K(Le.alpha),Le.cacheKey),Ae)],X.parseEluAttributes=we=>(0,ne.createAttributeWithCacheKey)({alpha:we.attributes.getFloat("alpha",1)}),X.exp=(we,Ae)=>[we.run(Ce(we,Ae[0],J()),Ae)],X.floor=(we,Ae)=>[we.run(Ce(we,Ae[0],te()),Ae)],X.identity=(we,Ae)=>[we.run(Ce(we,Ae[0],le()),Ae)],X.leakyRelu=(we,Ae,Le)=>[we.run(Ce(we,Ae[0],ce(Le.alpha),Le.cacheKey),Ae)],X.parseLeakyReluAttributes=we=>(0,ne.createAttributeWithCacheKey)({alpha:we.attributes.getFloat("alpha",.01)}),X.log=(we,Ae)=>[we.run(Ce(we,Ae[0],de()),Ae)],X.neg=(we,Ae)=>[we.run(Ce(we,Ae[0],pe()),Ae)],X.not=(we,Ae)=>[we.run(Ce(we,Ae[0],fe()),Ae)],X.relu=(we,Ae)=>[we.run(Ce(we,Ae[0],ye()),Ae)],X.sigmoid=(we,Ae)=>[we.run(Ce(we,Ae[0],Te()),Ae)],X.sin=(we,Ae)=>[we.run(Ce(we,Ae[0],he()),Ae)],X.sqrt=(we,Ae)=>[we.run(Ce(we,Ae[0],xe()),Ae)],X.tan=(we,Ae)=>[we.run(Ce(we,Ae[0],Se()),Ae)],X.tanh=(we,Ae)=>[we.run(Ce(we,Ae[0],Pe()),Ae)]},540:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createUnpackProgramInfoLoader=X.createUnpackProgramInfo=void 0;const ne=re(6757),Q=re(5639),ae=re(432),oe=re(5614),ee={name:"unpack",inputNames:["A"],inputTypes:[Q.TextureType.packed]};X.createUnpackProgramInfo=(ie,Z)=>{const Y=Z.dims.length,W=(0,oe.getChannels)("rc",Y),R=W.slice(-2),U=(0,ae.getCoordsDataType)(Y),K=(0,oe.unpackFromChannel)(),J=Z.dims.length===0?"":function(le,ce){if(le===1)return"rc";let de="";for(let pe=0;pe<le;pe++)de+=ce[pe],pe<le-1&&(de+=",");return de}(Y,W),te=Y<=1?"rc":`vec2(${R.join(",")})`,se=`
    ${K}
    void main() {
      ${U} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${J});

       ${(0,ne.getGlsl)(ie.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${te}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},ee),{hasMain:!0,output:{dims:Z.dims,type:Z.type,textureType:Q.TextureType.unpacked},shaderSource:se})},X.createUnpackProgramInfoLoader=(ie,Z)=>Object.assign(Object.assign({},ee),{get:()=>(0,X.createUnpackProgramInfo)(ie,Z)})},7862:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.parseUnsqueezeAttributes=X.unsqueezeV13=X.unsqueeze=void 0;const ne=re(7273);X.unsqueeze=(oe,ee,ie)=>{Q(ee);const Z=ne.ShapeUtil.unsqueezeShape(ee[0].dims,ie);return[oe.reshapeUnpacked(ee[0],Z)]},X.unsqueezeV13=(oe,ee)=>(ae(ee),(0,X.unsqueeze)(oe,[ee[0]],Array.from(ee[1].integerData))),X.parseUnsqueezeAttributes=oe=>oe.attributes.getInts("axes");const Q=oe=>{if(!oe||oe.length!==1)throw new Error("Unsqueeze requires 1 input.");if(oe[0].type==="string")throw new Error("invalid input tensor types.")},ae=oe=>{if(!oe||oe.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(oe[1].type!=="int32")throw new Error("Invalid input type.")}},3980:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.scalesValidation=X.validateInputs=X.parseUpsampleAttributes=X.parseUpsampleAttributesV9=X.parseUpsampleAttributesV7=X.upsample=void 0;const ne=re(4910),Q=re(6757),ae=re(5639),oe={name:"Upsample",inputNames:["X"],inputTypes:[ae.TextureType.unpacked]};X.upsample=(ie,Z,Y)=>((0,X.validateInputs)(Z,Y),[ie.run(Object.assign(Object.assign({},oe),{cacheHint:Y.cacheKey,get:()=>ee(ie,Z,Y)}),Z)]),X.parseUpsampleAttributesV7=ie=>(0,X.parseUpsampleAttributes)(ie,7),X.parseUpsampleAttributesV9=ie=>(0,X.parseUpsampleAttributes)(ie,9),X.parseUpsampleAttributes=(ie,Z)=>{const Y=Z>=10,W=ie.attributes.getString("mode","nearest");if(W!=="nearest"&&W!=="linear"&&(Z<11||W!=="cubic"))throw new Error(`unrecognized mode: ${W}`);let R=[];Z<9&&(R=ie.attributes.getFloats("scales"),(0,X.scalesValidation)(R,W,Y));const U=ie.attributes.getFloat("extrapolation_value",0),K=Z>10?ie.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(K)===-1)throw new Error(`coordinate_transform_mode '${K}' is not supported`);const J=K==="tf_crop_and_resize",te=J,se=W==="nearest"&&Z>=11?ie.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(se)===-1)throw new Error(`nearest_mode '${se}' is not supported`);const le=ie.attributes.getFloat("cubic_coeff_a",-.75),ce=ie.attributes.getInt("exclude_outside",0)!==0;if(ce&&W!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const de=Z<11||W==="nearest"&&K==="asymmetric"&&se==="floor";let pe=0,fe=0,he=0;return Z>10?ie.inputs.length>2?(pe=1,fe=2,he=3):(fe=1,he=2):Z===9&&(fe=1),(0,ne.createAttributeWithCacheKey)({opset:Z,isResize:Y,mode:W,scales:R,extrapolationValue:U,coordinateTransformMode:K,useExtrapolation:te,needRoiInput:J,nearestMode:se,cubicCoefficientA:le,excludeOutside:ce,useNearest2xOptimization:de,roiInputIdx:pe,scalesInputIdx:fe,sizesInputIdx:he})};const ee=(ie,Z,Y)=>{const W=(0,Q.getGlsl)(ie.session.backend.glContext.version),[R,U]=ie.calculateTextureWidthAndHeight(Z[0].dims,ae.TextureType.unpacked),K=Z[0].dims.map((he,ye)=>Math.floor(he*Y.scales[ye])),[J,te]=ie.calculateTextureWidthAndHeight(K,ae.TextureType.unpacked),se=K.length,le=new Array(se),ce=new Array(se);let de=`
      int output_pitches[${se}];
      int input_pitches[${se}];
      `;for(let he=se-1;he>=0;he--)le[he]=he===se-1?1:le[he+1]*K[he+1],ce[he]=he===se-1?1:ce[he+1]*Z[0].dims[he+1],de+=`
        output_pitches[${he}] = ${le[he]};
        input_pitches[${he}] = ${ce[he]};
        `;const pe=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${R}, ${U});
        float value = getColorAsFloat(${W.texture2D}(X, coords));
        return value;
      }
      `,fe=Y.mode==="nearest"?`
    ${pe}
    float process(int indices[${se}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${J}, ${te});

      ${de}

      int d, m;
      for (int dim = 0; dim < ${se}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:se===4?`
    ${pe}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${J}, ${te});

      ${de}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${Z[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${pe}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${J}, ${te});

      ${de}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${Z[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},oe),{output:{dims:K,type:Z[0].type,textureType:ae.TextureType.unpacked},shaderSource:fe,variables:[{name:"scales",type:"int",arrayLength:Y.scales.length,data:Y.scales.map(he=>Math.ceil(he))}]})};X.validateInputs=(ie,Z)=>{if(!ie||Z.opset<9&&ie.length!==1||Z.opset>=9&&Z.opset<11&&ie.length!==2||Z.opset>=11&&ie.length<2)throw new Error("invalid inputs.");if(Z.scales.length>0&&ie[0].dims.length!==Z.scales.length)throw new Error("Invalid input shape.");if(ie[0].type==="string")throw new Error("Invalid input tensor types.")},X.scalesValidation=(ie,Z,Y)=>{if(Y){for(const W of ie)if(W<=0)throw new Error("Scale value should be greater than 0.")}else for(const W of ie)if(W<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(Z!=="linear"&&Z!=="cubic"||ie.length===2||ie.length===4&&ie[0]===1&&ie[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${Y?"Resize":"Upsample"} opeartor.`)}},2757:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.ProgramManager=void 0;const ne=re(2235),Q=re(1315),ae=re(8897),oe=re(6757);X.ProgramManager=class{constructor(ee,ie,Z){this.profiler=ee,this.glContext=ie,this.textureLayoutStrategy=Z,this.repo=new Map,this.attributesBound=!1}getArtifact(ee){return this.repo.get(ee)}setArtifact(ee,ie){this.repo.set(ee,ie)}run(ee,ie,Z){var Y;this.profiler.event("op",`ProgramManager.run ${(Y=ee.programInfo.name)!==null&&Y!==void 0?Y:"unknown kernel"}`,()=>{var W;const R=this.glContext.gl,U=ee.program;R.useProgram(U);try{this.bindOutput(Z),this.attributesBound||this.bindAttributes(ee.attribLocations),this.bindUniforms(ee.uniformLocations,(W=ee.programInfo.variables)!==null&&W!==void 0?W:[],ie)}catch(K){throw Q.Logger.error("ProgramManager",ee.programInfo.shaderSource),K}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(ee=>this.glContext.deleteProgram(ee.program))}build(ee,ie,Z){return this.profiler.event("backend","ProgramManager.build",()=>{const Y=new ae.GlslPreprocessor(this.glContext,ee,ie,Z),W=Y.preprocess(),R=this.compile(W);return{programInfo:ee,program:R,uniformLocations:this.getUniformLocations(R,Y.context.programInfo.inputNames,Y.context.programInfo.variables),attribLocations:this.getAttribLocations(R)}})}compile(ee){if(!this.vertexShader){Q.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const Y=(0,oe.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(Y,this.glContext.gl.VERTEX_SHADER)}ne.env.debug&&Q.Logger.verbose("ProrgramManager",`FragShader:
${ee}
`);const ie=this.glContext.compileShader(ee,this.glContext.gl.FRAGMENT_SHADER),Z=this.glContext.createProgram(this.vertexShader,ie);return this.glContext.deleteShader(ie),Z}bindOutput(ee){const ie=ee.width,Z=ee.height;Q.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${ie}/${Z}, shape=${ee.shape}, type=${ee.tensor.type}`),this.glContext.attachFramebuffer(ee.texture,ie,Z)}bindAttributes(ee){const ie=ee.position,Z=ee.textureCoord;this.glContext.setVertexAttributes(ie,Z),this.attributesBound=!0}bindUniforms(ee,ie,Z){var Y;const W=this.glContext.gl;let R=0;for(const{name:U,type:K,location:J,arrayLength:te}of ee){const se=(Y=ie.find(le=>le.name===U))===null||Y===void 0?void 0:Y.data;if(K!=="sampler2D"&&!se)throw new Error(`variable '${U}' does not have data defined in program info`);switch(K){case"sampler2D":this.bindTexture(Z[R],J,R),R++;break;case"float":te?W.uniform1fv(J,se):W.uniform1f(J,se);break;case"int":te?W.uniform1iv(J,se):W.uniform1i(J,se);break;default:throw new Error(`Uniform not implemented: ${K}`)}}}bindTexture(ee,ie,Z){this.glContext.bindTextureToUniform(ee.texture,Z,ie)}getAttribLocations(ee){return{position:this.getAttribLocation(ee,"position"),textureCoord:this.getAttribLocation(ee,"textureCoord")}}getUniformLocations(ee,ie,Z){const Y=[];if(ie)for(const W of ie)Y.push({name:W,type:"sampler2D",location:this.getUniformLocation(ee,W)});if(Z)for(const W of Z)Y.push(Object.assign(Object.assign({},W),{location:this.getUniformLocation(ee,W.name)}));return Y}getUniformLocation(ee,ie){const Z=this.glContext.gl.getUniformLocation(ee,ie);if(Z===null)throw new Error(`Uniform ${ie} not found.`);return Z}getAttribLocation(ee,ie){return this.glContext.gl.getAttribLocation(ee,ie)}}},2171:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.WebGLSessionHandler=void 0;const ne=re(1315),Q=re(5881),ae=re(7860),oe=re(4110),ee=re(2757),ie=re(7618),Z=re(5243);X.WebGLSessionHandler=class{constructor(Y,W){this.backend=Y,this.context=W,this.layoutStrategy=new ie.PreferLogicalStrategy(Y.glContext.maxTextureSize),this.programManager=new ee.ProgramManager(this.context.profiler,Y.glContext,this.layoutStrategy),this.textureManager=new Z.TextureManager(Y.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:Y.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=Y.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new ae.WebGLInferenceHandler(this)}onGraphInitialized(Y){const W=Y.getValues().filter(R=>R.from===-1&&R.tensor).map(R=>R.tensor.dataId);this.initializers=new Set(W)}isInitializer(Y){return!!this.initializers&&this.initializers.has(Y)}addInitializer(Y){this.initializers.add(Y)}getTextureData(Y,W){return W?this.packedTextureDataCache.get(Y):this.unpackedTextureDataCache.get(Y)}setTextureData(Y,W,R=!1){ne.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),R?this.packedTextureDataCache.set(Y,W):this.unpackedTextureDataCache.set(Y,W)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(Y=>this.textureManager.releaseTexture(Y,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(Y=>this.textureManager.releaseTexture(Y,!0)),this.unpackedTextureDataCache=new Map}resolve(Y,W,R){const U=(0,Q.resolveOperator)(Y,W,oe.WEBGL_OP_RESOLVE_RULES);return{impl:U.opImpl,context:U.opInit?U.opInit(Y,R):Y}}}},9622:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Uint8DataEncoder=X.RGBAFloatDataEncoder=X.RedFloat32DataEncoder=void 0;const ne=re(1315);X.RedFloat32DataEncoder=class{constructor(Q,ae=1){if(ae===1)this.internalFormat=Q.R32F,this.format=Q.RED,this.textureType=Q.FLOAT,this.channelSize=ae;else{if(ae!==4)throw new Error(`Invalid number of channels: ${ae}`);this.internalFormat=Q.RGBA32F,this.format=Q.RGBA,this.textureType=Q.FLOAT,this.channelSize=ae}}encode(Q,ae){let oe,ee;return Q.constructor!==Float32Array&&(ne.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),ee=new Float32Array(Q)),ae*this.channelSize>Q.length?(ne.Logger.warning("Encoder","Source data too small. Allocating larger array"),ee=Q,oe=this.allocate(ae*this.channelSize),ee.forEach((ie,Z)=>oe[Z]=ie)):(ee=Q,oe=ee),oe}allocate(Q){return new Float32Array(4*Q)}decode(Q,ae){return this.channelSize===1?Q.filter((oe,ee)=>ee%4==0).subarray(0,ae):Q.subarray(0,ae)}},X.RGBAFloatDataEncoder=class{constructor(Q,ae=1,oe){if(ae!==1&&ae!==4)throw new Error(`Invalid number of channels: ${ae}`);this.internalFormat=Q.RGBA,this.format=Q.RGBA,this.channelSize=ae,this.textureType=oe||Q.FLOAT}encode(Q,ae){let oe=Q;return this.channelSize===1&&(ne.Logger.verbose("Encoder","Exploding into a larger array"),oe=this.allocate(ae),Q.forEach((ee,ie)=>oe[4*ie]=ee)),oe}allocate(Q){return new Float32Array(4*Q)}decode(Q,ae){return this.channelSize===1?Q.filter((oe,ee)=>ee%4==0).subarray(0,ae):Q.subarray(0,ae)}},X.Uint8DataEncoder=class{constructor(Q,ae=1){if(this.channelSize=4,ae===1)this.internalFormat=Q.ALPHA,this.format=Q.ALPHA,this.textureType=Q.UNSIGNED_BYTE,this.channelSize=ae;else{if(ae!==4)throw new Error(`Invalid number of channels: ${ae}`);this.internalFormat=Q.RGBA,this.format=Q.RGBA,this.textureType=Q.UNSIGNED_BYTE,this.channelSize=ae}}encode(Q,ae){return new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength)}allocate(Q){return new Uint8Array(Q*this.channelSize)}decode(Q,ae){if(Q instanceof Uint8Array)return Q.subarray(0,ae);throw new Error(`Invalid array type: ${Q.constructor}`)}}},7618:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.getBatchDim=X.sizeToSquarishShape=X.getRowsCols=X.sizeFromShape=X.isInt=X.parseAxisParam=X.squeezeShape=X.PreferLogicalStrategy=X.AlwaysKeepOriginalSizeStrategy=void 0;const ne=re(1315),Q=re(7273);function ae(Y,W){const R=[],U=[],K=W!=null&&Array.isArray(W)&&W.length===0,J=W==null||K?null:oe(W,Y).sort();let te=0;for(let se=0;se<Y.length;++se){if(J!=null){if(J[te]===se&&Y[se]!==1)throw new Error(`Can't squeeze axis ${se} since its dim '${Y[se]}' is not 1`);(J[te]==null||J[te]>se)&&Y[se]===1&&(R.push(Y[se]),U.push(se)),J[te]<=se&&te++}Y[se]!==1&&(R.push(Y[se]),U.push(se))}return{newShape:R,keptDims:U}}function oe(Y,W){const R=W.length;return Y=Y==null?W.map((U,K)=>K):[].concat(Y),(0,Q.assert)(Y.every(U=>U>=-R&&U<R),()=>`All values in axis param must be in range [-${R}, ${R}) but got axis ${Y}`),(0,Q.assert)(Y.every(ee),()=>`All values in axis param must be integers but got axis ${Y}`),Y.map(U=>U<0?R+U:U)}function ee(Y){return Y%1==0}function ie(Y){if(Y.length===0)return 1;let W=Y[0];for(let R=1;R<Y.length;R++)W*=Y[R];return W}function Z(Y){const W=Math.ceil(Math.sqrt(Y));return[W,Math.ceil(Y/W)]}X.AlwaysKeepOriginalSizeStrategy=class{constructor(Y){this.maxTextureSize=Y}computeTextureWH(Y,W){if(Y.length===0)return[1,1];const R=this.maxTextureSize;if(W&&W.breakAxis!==void 0){const J=W.breakAxis>=Y.length?1:Y.slice(W.breakAxis).reduce((se,le)=>se*le),te=W.breakAxis<=0?1:Y.slice(0,W.breakAxis).reduce((se,le)=>se*le);if(!(J>R||te>R))return[J,te];ne.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${Y}, breakAxis:${W.breakAxis}`)}const U=Y.reduce((J,te)=>J*te);let K=Math.floor(Math.sqrt(U));for(;K<R&&K<U&&U%K!=0;K++);if(K>=R||U%K!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${Y}`);return[K,U/K]}},X.PreferLogicalStrategy=class{constructor(Y){this.maxTextureSize=Y}computeTextureWH(Y,W){const R=this.computeTexture(Y,W);return W&&W.isPacked&&(R[0]/=2,R[1]/=2),W&&W.reverseWH?[R[1],R[0]]:R}computeTexture(Y,W){const R=W&&W.isPacked;if(Y.length===0)return R?[2,2]:[1,1];let U=this.maxTextureSize;if(W&&W.breakAxis!==void 0){const te=W.breakAxis>=Y.length?1:Y.slice(W.breakAxis).reduce((le,ce)=>le*ce),se=W.breakAxis<=0?1:Y.slice(0,W.breakAxis).reduce((le,ce)=>le*ce);if(!(te>U||se>U))return[te,se];ne.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${Y}, breakAxis:${W.breakAxis}`)}let K=Y.slice(0);R&&(U*=2,K=K.map((te,se)=>se>=K.length-2?K[se]%2==0?K[se]:K[se]+1:K[se]),K.length===1&&(K=[2,K[0]])),K.length!==2&&(K=ae(K).newShape);const J=ie(K);return K.length<=1&&J<=U?[1,J]:K.length===2&&K[0]<=U&&K[1]<=U?K:K.length===3&&K[0]*K[1]<=U&&K[2]<=U?[K[0]*K[1],K[2]]:K.length===3&&K[0]<=U&&K[1]*K[2]<=U?[K[0],K[1]*K[2]]:K.length===4&&K[0]*K[1]*K[2]<=U&&K[3]<=U?[K[0]*K[1]*K[2],K[3]]:K.length===4&&K[0]<=U&&K[1]*K[2]*K[3]<=U?[K[0],K[1]*K[2]*K[3]]:R?Z(J/4).map(te=>2*te):Z(J)}},X.squeezeShape=ae,X.parseAxisParam=oe,X.isInt=ee,X.sizeFromShape=ie,X.getRowsCols=function(Y){if(Y.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[Y.length>1?Y[Y.length-2]:1,Y[Y.length-1]]},X.sizeToSquarishShape=Z,X.getBatchDim=function(Y,W=2){return ie(Y.slice(0,Y.length-W))}},3314:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createTextureLayoutFromShape=X.calculateTextureWidthAndHeight=X.createTextureLayoutFromTextureType=void 0;const ne=re(7273),Q=re(5639);X.createTextureLayoutFromTextureType=(ae,oe,ee)=>{const ie=ee===Q.TextureType.unpacked||ee===Q.TextureType.unpackedReversed?1:4,Z=ee===Q.TextureType.packed,Y=ee===Q.TextureType.unpackedReversed||ee===Q.TextureType.packed,W=ee===Q.TextureType.packedLastDimension?oe.length-1:void 0,R=ee===Q.TextureType.packedLastDimension?oe.map((U,K)=>K===oe.length-1?4*U:U):void 0;return(0,X.createTextureLayoutFromShape)(ae,oe,ie,R,{isPacked:Z,reverseWH:Y,breakAxis:W})},X.calculateTextureWidthAndHeight=(ae,oe,ee)=>{const ie=(0,X.createTextureLayoutFromTextureType)(ae,oe,ee);return[ie.width,ie.height]},X.createTextureLayoutFromShape=(ae,oe,ee=1,ie,Z)=>{const Y=!(!Z||!Z.isPacked),[W,R]=ae.computeTextureWH(Y&&ie||oe,Z),U=oe.length;let K=oe.slice(0);if(U===0&&(K=[1]),ee===1)ie=oe;else if(Y){if(ee!==4)throw new Error("a packed texture must be 4-channel");ie=oe,U>0&&(K[U-1]=Math.ceil(K[U-1]/2)),U>1&&(K[U-2]=Math.ceil(K[U-2]/2))}else if(!ie)throw new Error("Unpacked shape is needed when using channels > 1");return{width:W,height:R,channels:ee,isPacked:Y,shape:K,strides:ne.ShapeUtil.computeStrides(K),unpackedShape:ie,reversedWH:Z&&Z.reverseWH}}},5243:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.TextureManager=void 0;const ne=re(1315);X.TextureManager=class{constructor(Q,ae,oe,ee){this.glContext=Q,this.layoutStrategy=ae,this.profiler=oe,this.config=ee,this.pendingRead=new Map,ee.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(Q,ae,oe,ee){const ie=this.toEncoderType(Q),Z=this.glContext.getEncoder(ie,ae.channels||1,ee);if(ae.isPacked&&ee===1)throw new Error("not implemented");const Y=ae.width,W=ae.height;let R,U;if(this.config.reuseTextures){R=`${Y}x${W}_${Z.format}_${Z.internalFormat}_${Z.textureType}`,U=this.inUseTextures.get(R),U||(U=[],this.inUseTextures.set(R,U));const J=this.idleTextures.get(R);if(J&&J.length>0){const te=J.pop();return U.push(te),ee===1&&this.glContext.updateTexture(te,Y,W,Z,this.toTextureData(Q,oe)),te}}ne.Logger.verbose("TextureManager",`Creating new texture of size ${ae.width}x${ae.height}`);const K=this.glContext.allocateTexture(Y,W,Z,this.toTextureData(Q,oe));return this.config.reuseTextures&&(U.push(K),this.textureLookup.set(K,R)),K}readTexture(Q,ae,oe){return oe||(oe=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const ee=Q.shape.reduce((Z,Y)=>Z*Y)*oe,ie=this.glContext.readTexture(Q.texture,Q.width,Q.height,ee,this.toEncoderType(ae),oe);return this.toTensorData(ae,ie)})}async readTextureAsync(Q,ae,oe){const ee=Q.tensor.dataId;if(oe||(oe=1),this.pendingRead.has(ee)){const ie=this.pendingRead.get(ee);return new Promise(Z=>ie==null?void 0:ie.push(Z))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(ee,[]);const ie=Q.shape.reduce((R,U)=>R*U)*oe;await this.glContext.createAndWaitForFence();const Z=this.glContext.readTexture(Q.texture,Q.width,Q.height,ie,this.toEncoderType(ae),oe),Y=this.toTensorData(ae,Z),W=this.pendingRead.get(ee);return this.pendingRead.delete(ee),W==null||W.forEach(R=>R(Y)),Y})}readUint8TextureAsFloat(Q){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const ae=Q.shape.reduce((ee,ie)=>ee*ie),oe=this.glContext.readTexture(Q.texture,Q.width,Q.height,4*ae,"byte",4);return new Float32Array(oe.buffer,oe.byteOffset,ae)})}releaseTexture(Q,ae){let oe;if(this.config.reuseTextures&&(oe=this.textureLookup.get(Q.texture),oe)){ae&&this.textureLookup.delete(oe);const ee=this.inUseTextures.get(oe);if(ee){const ie=ee.indexOf(Q.texture);if(ie!==-1){ee.splice(ie,1);let Z=this.idleTextures.get(oe);Z||(Z=[],this.idleTextures.set(oe,Z)),Z.push(Q.texture)}}}oe&&!ae||(ne.Logger.verbose("TextureManager",`Deleting texture of size ${Q.width}x${Q.height}`),this.glContext.deleteTexture(Q.texture))}toTensorData(Q,ae){switch(Q){case"int16":return ae instanceof Int16Array?ae:Int16Array.from(ae);case"int32":return ae instanceof Int32Array?ae:Int32Array.from(ae);case"int8":return ae instanceof Int8Array?ae:Int8Array.from(ae);case"uint16":return ae instanceof Uint16Array?ae:Uint16Array.from(ae);case"uint32":return ae instanceof Uint32Array?ae:Uint32Array.from(ae);case"uint8":case"bool":return ae instanceof Uint8Array?ae:Uint8Array.from(ae);case"float32":return ae instanceof Float32Array?ae:Float32Array.from(ae);case"float64":return ae instanceof Float64Array?ae:Float64Array.from(ae);default:throw new Error(`TensorData type ${Q} is not supported`)}}toTextureData(Q,ae){if(ae)return ae instanceof Float32Array?ae:new Float32Array(ae)}toEncoderType(Q){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(ue,X)=>{var re;Object.defineProperty(X,"__esModule",{value:!0}),X.TextureType=void 0,(re=X.TextureType||(X.TextureType={}))[re.unpacked=0]="unpacked",re[re.unpackedReversed=1]="unpackedReversed",re[re.packed=2]="packed",re[re.downloadUint8AsFloat=3]="downloadUint8AsFloat",re[re.packedLastDimension=4]="packedLastDimension"},432:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.getGlChannels=X.getCoordsDataType=X.getSqueezedParams=X.squeezeInputShape=X.generateShaderFuncNameFromInputSamplerNameAtOutCoords=X.generateShaderFuncNameFromInputSamplerName=X.repeatedTry=X.getPackedShape=void 0;const ne=re(7273);X.getPackedShape=function(Q){const ae=Q.length;return Q.slice(0,ae-1).concat(Q[ae-1]/4)},X.repeatedTry=async function(Q,ae=ee=>0,oe){return new Promise((ee,ie)=>{let Z=0;const Y=()=>{if(Q())return void ee();Z++;const W=ae(Z);oe!=null&&Z>=oe?ie():setTimeout(Y,W)};Y()})},X.generateShaderFuncNameFromInputSamplerName=function(Q){return(0,ne.assert)(Q!==void 0&&Q.length!==0,()=>"empty string found for sampler name"),"get"+Q.charAt(0).toUpperCase()+Q.slice(1)},X.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(Q){return(0,ne.assert)(Q!==void 0&&Q.length!==0,()=>"empty string found for sampler name"),"get"+Q.charAt(0).toUpperCase()+Q.slice(1)+"AtOutCoords"},X.squeezeInputShape=function(Q,ae){let oe=JSON.parse(JSON.stringify(Q));return oe=ae,oe},X.getSqueezedParams=function(Q,ae){return ae.map(oe=>Q[oe]).join(", ")},X.getCoordsDataType=function(Q){if(Q<=1)return"int";if(Q===2)return"ivec2";if(Q===3)return"ivec3";if(Q===4)return"ivec4";if(Q===5)return"ivec5";if(Q===6)return"ivec6";throw Error(`GPU for rank ${Q} is not yet supported`)},X.getGlChannels=function(Q=6){return["x","y","z","w","u","v"].slice(0,Q)}},3389:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createNewWebGLContext=X.createWebGLContext=void 0;const ne=re(1315),Q=re(3524),ae={};function oe(ee,ie){let Z;const Y={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!ie||ie==="webgl2")&&(Z=ee.getContext("webgl2",Y),Z))try{return new Q.WebGLContext(Z,2)}catch(W){ne.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${W}`)}if((!ie||ie==="webgl")&&(Z=ee.getContext("webgl",Y)||ee.getContext("experimental-webgl",Y),Z))try{return new Q.WebGLContext(Z,1)}catch(W){ne.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${W}`)}throw new Error("WebGL is not supported")}X.createWebGLContext=function ee(ie){let Z;if(ie&&ie!=="webgl2"||!("webgl2"in ae)?ie&&ie!=="webgl"||!("webgl"in ae)||(Z=ae.webgl):Z=ae.webgl2,!Z)try{Z=oe(function(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}(),ie)}catch{Z=oe(function(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");const R=document.createElement("canvas");return R.width=1,R.height=1,R}(),ie)}ie=ie||Z.version===1?"webgl":"webgl2";const Y=Z.gl;return ae[ie]=Z,Y.isContextLost()?(delete ae[ie],ee(ie)):(Y.disable(Y.DEPTH_TEST),Y.disable(Y.STENCIL_TEST),Y.disable(Y.BLEND),Y.disable(Y.DITHER),Y.disable(Y.POLYGON_OFFSET_FILL),Y.disable(Y.SAMPLE_COVERAGE),Y.enable(Y.SCISSOR_TEST),Y.enable(Y.CULL_FACE),Y.cullFace(Y.BACK),Z)},X.createNewWebGLContext=oe},3524:function(ue,X,re){var ne=this&&this.__createBinding||(Object.create?function(Y,W,R,U){U===void 0&&(U=R);var K=Object.getOwnPropertyDescriptor(W,R);K&&!("get"in K?!W.__esModule:K.writable||K.configurable)||(K={enumerable:!0,get:function(){return W[R]}}),Object.defineProperty(Y,U,K)}:function(Y,W,R,U){U===void 0&&(U=R),Y[U]=W[R]}),Q=this&&this.__setModuleDefault||(Object.create?function(Y,W){Object.defineProperty(Y,"default",{enumerable:!0,value:W})}:function(Y,W){Y.default=W}),ae=this&&this.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var W={};if(Y!=null)for(var R in Y)R!=="default"&&Object.prototype.hasOwnProperty.call(Y,R)&&ne(W,Y,R);return Q(W,Y),W};Object.defineProperty(X,"__esModule",{value:!0}),X.WebGLContext=X.linearSearchLastTrue=void 0;const oe=re(2235),ee=ae(re(9622)),ie=re(432);function Z(Y){let W=0;for(;W<Y.length&&Y[W]();++W);return W-1}X.linearSearchLastTrue=Z,X.WebGLContext=class{constructor(Y,W){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=Y,this.version=W,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(Y,W,R,U){const K=this.gl,J=K.createTexture();K.bindTexture(K.TEXTURE_2D,J),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,K.NEAREST),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,K.NEAREST),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_S,K.CLAMP_TO_EDGE),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_T,K.CLAMP_TO_EDGE);const te=U?R.encode(U,Y*W):null;return K.texImage2D(K.TEXTURE_2D,0,R.internalFormat,Y,W,0,R.format,R.textureType,te),this.checkError(),J}updateTexture(Y,W,R,U,K){const J=this.gl;J.bindTexture(J.TEXTURE_2D,Y);const te=U.encode(K,W*R);J.texSubImage2D(J.TEXTURE_2D,0,0,0,W,R,U.format,U.textureType,te),this.checkError()}attachFramebuffer(Y,W,R){const U=this.gl;U.bindTexture(U.TEXTURE_2D,Y),U.bindFramebuffer(U.FRAMEBUFFER,this.framebuffer),U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,Y,0),this.checkError(),U.viewport(0,0,W,R),U.scissor(0,0,W,R)}readTexture(Y,W,R,U,K,J){const te=this.gl;J||(J=1),this.frameBufferBound||this.attachFramebuffer(Y,W,R);const se=this.getEncoder(K,J),le=se.allocate(W*R);return te.bindTexture(te.TEXTURE_2D,Y),te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Y,0),te.readPixels(0,0,W,R,te.RGBA,se.textureType,le),this.checkError(),se.decode(le,U)}isFramebufferReady(){return!0}getActiveTexture(){const Y=this.gl;return"TEXTURE"+(Y.getParameter(this.gl.ACTIVE_TEXTURE)-Y.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(Y,W){const R=this.gl;R.vertexAttribPointer(Y,3,R.FLOAT,!1,20,0),R.enableVertexAttribArray(Y),W!==-1&&(R.vertexAttribPointer(W,2,R.FLOAT,!1,20,12),R.enableVertexAttribArray(W)),this.checkError()}createProgram(Y,W){const R=this.gl,U=R.createProgram();return R.attachShader(U,Y),R.attachShader(U,W),R.linkProgram(U),U}compileShader(Y,W){const R=this.gl,U=R.createShader(W);if(!U)throw new Error(`createShader() returned null with type ${W}`);if(R.shaderSource(U,Y),R.compileShader(U),R.getShaderParameter(U,R.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${R.getShaderInfoLog(U)}
Shader source:
${Y}`);return U}deleteShader(Y){this.gl.deleteShader(Y)}bindTextureToUniform(Y,W,R){const U=this.gl;U.activeTexture(U.TEXTURE0+W),this.checkError(),U.bindTexture(U.TEXTURE_2D,Y),this.checkError(),U.uniform1i(R,W),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(oe.env.debug){const Y=this.gl,W=Y.getError();let R="";switch(W){case Y.NO_ERROR:return;case Y.INVALID_ENUM:R="INVALID_ENUM";break;case Y.INVALID_VALUE:R="INVALID_VALUE";break;case Y.INVALID_OPERATION:R="INVALID_OPERATION";break;case Y.INVALID_FRAMEBUFFER_OPERATION:R="INVALID_FRAMEBUFFER_OPERATION";break;case Y.OUT_OF_MEMORY:R="OUT_OF_MEMORY";break;case Y.CONTEXT_LOST_WEBGL:R="CONTEXT_LOST_WEBGL";break;default:R=`Unknown WebGL Error: ${W.toString(16)}`}throw new Error(R)}}deleteTexture(Y){this.gl.deleteTexture(Y)}deleteProgram(Y){this.gl.deleteProgram(Y)}getEncoder(Y,W,R=0){if(this.version===2)return new ee.RedFloat32DataEncoder(this.gl,W);switch(Y){case"float":return R===1||this.isRenderFloat32Supported?new ee.RGBAFloatDataEncoder(this.gl,W):new ee.RGBAFloatDataEncoder(this.gl,W,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new ee.Uint8DataEncoder(this.gl,W);default:throw new Error(`Invalid dataType: ${Y}`)}}clearActiveTextures(){const Y=this.gl;for(let W=0;W<this.maxTextureImageUnits;++W)Y.activeTexture(Y.TEXTURE0+W),Y.bindTexture(Y.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.deleteFramebuffer(this.framebuffer),Y.bindBuffer(Y.ARRAY_BUFFER,null),Y.deleteBuffer(this.vertexbuffer),Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER,null),Y.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const Y=this.gl,W=Y.createBuffer();if(!W)throw new Error("createBuffer() returned null");const R=this.createDefaultGeometry();return Y.bindBuffer(Y.ARRAY_BUFFER,W),Y.bufferData(Y.ARRAY_BUFFER,R,Y.STATIC_DRAW),this.checkError(),W}createFramebuffer(){const Y=this.gl.createFramebuffer();if(!Y)throw new Error("createFramebuffer returned null");return Y}queryVitalParameters(){const Y=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=Y.getParameter(Y.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=Y.getParameter(Y.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const Y=this.gl,W=Y.createTexture();Y.bindTexture(Y.TEXTURE_2D,W);const R=this.version===2?Y.RGBA32F:Y.RGBA;Y.texImage2D(Y.TEXTURE_2D,0,R,1,1,0,Y.RGBA,Y.FLOAT,null);const U=Y.createFramebuffer();Y.bindFramebuffer(Y.FRAMEBUFFER,U),Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,W,0);const K=Y.checkFramebufferStatus(Y.FRAMEBUFFER)===Y.FRAMEBUFFER_COMPLETE;return Y.bindTexture(Y.TEXTURE_2D,null),Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.deleteTexture(W),Y.deleteFramebuffer(U),K}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const Y=this.gl;let W,R,U,K,J;try{W=Y.createTexture(),R=Y.createFramebuffer(),Y.bindTexture(Y.TEXTURE_2D,W);const te=this.version===2?Y.RGBA32F:Y.RGBA;return Y.texImage2D(Y.TEXTURE_2D,0,te,1,1,0,Y.RGBA,Y.FLOAT,null),Y.bindFramebuffer(Y.FRAMEBUFFER,R),Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,W,0),Y.enable(Y.BLEND),U=Y.createShader(Y.VERTEX_SHADER),!!U&&(Y.shaderSource(U,"void main(){}"),Y.compileShader(U),K=Y.createShader(Y.FRAGMENT_SHADER),!!K&&(Y.shaderSource(K,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),Y.compileShader(K),J=Y.createProgram(),!!J&&(Y.attachShader(J,U),Y.attachShader(J,K),Y.linkProgram(J),Y.useProgram(J),Y.drawArrays(Y.POINTS,0,1),Y.getError()===Y.NO_ERROR)))}finally{Y.disable(Y.BLEND),J&&Y.deleteProgram(J),U&&Y.deleteShader(U),K&&Y.deleteShader(K),R&&(Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.deleteFramebuffer(R)),W&&(Y.bindTexture(Y.TEXTURE_2D,null),Y.deleteTexture(W))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const Y=this.gl,W=this.disjointTimerQueryWebgl2Extension,R=Y.createQuery();return Y.beginQuery(W.TIME_ELAPSED_EXT,R),R}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const Y=this.gl,W=this.disjointTimerQueryWebgl2Extension;Y.endQuery(W.TIME_ELAPSED_EXT)}}isTimerResultAvailable(Y){let W=!1,R=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const U=this.gl,K=this.disjointTimerQueryWebgl2Extension;W=U.getQueryParameter(Y,U.QUERY_RESULT_AVAILABLE),R=U.getParameter(K.GPU_DISJOINT_EXT)}return W&&!R}getTimerResult(Y){let W=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const R=this.gl;W=R.getQueryParameter(Y,R.QUERY_RESULT),R.deleteQuery(Y)}return W/1e6}async waitForQueryAndGetTime(Y){return await(0,ie.repeatedTry)(()=>this.isTimerResultAvailable(Y)),this.getTimerResult(Y)}async createAndWaitForFence(){const Y=this.createFence(this.gl);return this.pollFence(Y)}createFence(Y){let W;const R=Y,U=R.fenceSync(R.SYNC_GPU_COMMANDS_COMPLETE,0);return Y.flush(),W=U===null?()=>!0:()=>{const K=R.clientWaitSync(U,0,0);return K===R.ALREADY_SIGNALED||K===R.CONDITION_SATISFIED},{query:U,isFencePassed:W}}async pollFence(Y){return new Promise(W=>{this.addItemToPoll(()=>Y.isFencePassed(),()=>W())})}pollItems(){const Y=Z(this.itemsToPoll.map(W=>W.isDoneFn));for(let W=0;W<=Y;++W){const{resolveFn:R}=this.itemsToPoll[W];R()}this.itemsToPoll=this.itemsToPoll.slice(Y+1)}async addItemToPoll(Y,W){this.itemsToPoll.push({isDoneFn:Y,resolveFn:W}),this.itemsToPoll.length>1||await(0,ie.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},6496:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.ExecutionPlan=void 0;const ne=re(1315);class Q{constructor(oe,ee){this.op=oe,this.node=ee}}X.ExecutionPlan=class{constructor(ae,oe,ee){this.graph=ae,this.profiler=ee,this.initialize(oe)}initialize(ae){this.profiler.event("session","ExecutionPlan.initialize",()=>{const oe=this.graph.getNodes();if(oe.length!==ae.length)throw new Error("The size of nodes and OPs do not match.");this._ops=ae.map((ee,ie)=>new Q(ee,oe[ie])),this.reset(),this._starter=[],this._ops.forEach((ee,ie)=>{let Z=!0;for(const Y of ee.node.inputs)if(!this._values[Y]&&this.graph.getInputIndices().indexOf(Y)===-1){Z=!1;break}Z&&this._starter.push(ie)})})}reset(){this._values=this.graph.getValues().map(ae=>ae.tensor)}async execute(ae,oe){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const ee=ae.createInferenceHandler(),ie=this.graph.getInputIndices();if(oe.length!==ie.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${oe.length} expected: ${ie.length}`);oe.forEach((K,J)=>{const te=ie[J];this._values[te]=K});const Z=this._starter.slice(0),Y=this.graph.getValues(),W=this.graph.getNodes();let R=0;for(;R<Z.length;){const K=Z[R++],J=this._ops[K],te=J.node.inputs.map(de=>this._values[de]);if(te.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${J.node}`);const se=te;ne.Logger.verbose("ExecPlan",`Runing op:${J.node.name} (${se.map((de,pe)=>`'${J.node.inputs[pe]}': ${de.type}[${de.dims.join(",")}]`).join(", ")})`);const le=await this.profiler.event("node",J.node.name,async()=>J.op.impl(ee,se,J.op.context));if(le.length!==J.node.outputs.length)throw new Error("the size of output does not match model definition.");le.forEach((de,pe)=>{const fe=J.node.outputs[pe];if(this._values[fe])throw new Error(`output [${fe}] already has value: op:${J.node.name}`);this._values[fe]=de});const ce=new Set;le.forEach((de,pe)=>{const fe=J.node.outputs[pe];for(const he of Y[fe].to){const ye=W[he];let Te=!0;for(const xe of ye.inputs)if(!this._values[xe]){Te=!1;break}Te&&ce.add(he)}}),Z.push(...ce)}const U=[];for(let K=0;K<this.graph.getOutputIndices().length;K++){const J=this.graph.getOutputIndices()[K],te=this._values[J];if(te===void 0)throw new Error(`required output [${J}] does not have value`);J===0?await te.getData():te.data,U.push(te)}return ne.Logger.verbose("ExecPlan","disposing of inferenceHandler"),ee.dispose(),U})}}},4662:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Graph=void 0;const ne=re(6874),Q=re(5127),ae=re(2446),oe=re(9240),ee=re(7273);var ie=Q.onnxruntime.experimental.fbs;X.Graph={from:(R,U)=>new W(R,U)};class Z{constructor(U){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,U&&(this.type=ee.ProtoUtil.tensorValueTypeFromProto(U.type.tensorType))}get from(){return this._from}get to(){return this._to}}class Y{constructor(U,K){U instanceof ae.onnx.NodeProto?(this.name=U.name,this.opType=U.opType,this.attributes=new ne.Attribute(U.attribute)):U instanceof ie.Node&&(this.name=K??U.name(),this.opType=U.opType(),this.attributes=new ne.Attribute(ee.ProtoUtil.tensorAttributesFromORTFormat(U))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class W{constructor(U,K){if(!U)throw new TypeError("graph is empty");this.buildGraph(U),this.transformGraph(K),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(U){if(U instanceof ae.onnx.GraphProto)this.buildGraphFromOnnxFormat(U);else{if(!(U instanceof ie.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(U)}}buildGraphFromOnnxFormat(U){const K=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const J=new Map;if(!U.input)throw new Error("missing information in graph: input");const te=[];for(const se of U.input){if(K.has(se.name))throw new Error(`duplicated input name: ${se.name}`);const le=this._allData.push(new Z(se))-1;K.set(se.name,le),te.push(se.name)}if(!U.initializer)throw new Error("missing information in graph: initializer");for(const se of U.initializer){let le=K.get(se.name);if(le===void 0){const ce=new Z;ce.type={shape:{dims:ee.ProtoUtil.tensorDimsFromProto(se.dims)},tensorType:ee.ProtoUtil.tensorDataTypeFromProto(se.dataType)},le=this._allData.push(ce)-1,K.set(se.name,le)}this._allData[le]._from=-1,this._allData[le].tensor=oe.Tensor.fromProto(se)}for(let se=0;se<this._allData.length;se++)this._allData[se].tensor||(this._allInputIndices.push(se),this._allInputNames.push(te[se]));if(!U.output)throw new Error("missing information in graph: output");for(const se of U.output){if(K.has(se.name))throw new Error(`duplicated output name: ${se.name}`);const le=this._allData.push(new Z(se))-1;K.set(se.name,le),this._allOutputIndices.push(le),this._allOutputNames.push(se.name)}if(!U.node)throw new Error("missing information in graph: node");for(const se of U.node){if(!se.name)for(let ce=0;;ce++){const de=`unnamed_${se.opType}_${ce}`;if(!J.has(de)){se.name=de;break}}if(J.has(se.name))throw new Error(`duplicated node name: ${se.name}`);const le=this._nodes.push(new Y(se))-1;J.set(se.name,le)}for(let se=0;se<this._nodes.length;se++){const le=this._nodes[se],ce=U.node[se];if(!ce.output)throw new Error(`missing output for node: ${ce.name}`);for(const de of ce.output){let pe=K.get(de);if(pe===void 0&&(pe=this._allData.push(new Z)-1,K.set(de,pe)),le.outputs.push(pe),this._allData[pe]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${pe}`);if(this._allData[pe]._from=se,ce.opType==="Constant"){if(!ce.attribute||ce.attribute.length!==1||!ce.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!ce.output||ce.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");le.outputs.pop(),le.executeNode=!1,this._allData[pe]._from=-1,this._allData[pe].tensor=oe.Tensor.fromProto(ce.attribute[0].t)}}}for(let se=0;se<this._nodes.length;se++){const le=this._nodes[se],ce=U.node[se];if(!ce.input)throw new Error(`missing input for node: ${ce.name}`);for(const de of ce.input){const pe=K.get(de);if(pe===void 0){if(de===""&&(ce.input.length===3||ce.input.length===4)&&ce.opType==="Resize")continue;throw new Error(`unrecognized input '${de}' for node: ${ce.name}`)}le.inputs.push(pe),this._allData[pe]._to.push(se)}}return!0}buildGraphFromOrtFormat(U){var K,J,te;const se=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const le=new Map,ce=[];for(let de=0;de<U.inputsLength();de++){const pe=U.inputs(de);if(se.has(pe))throw new Error(`duplicated input name: ${pe}`);for(let fe=0;fe<U.nodeArgsLength();fe++)if(((K=U.nodeArgs(fe))===null||K===void 0?void 0:K.name())===pe){const he=new Z;if(((te=(J=U.nodeArgs(fe))===null||J===void 0?void 0:J.type())===null||te===void 0?void 0:te.valueType())!==ie.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const ye=U.nodeArgs(fe).type().value(new ie.TensorTypeAndShape),Te=ee.ProtoUtil.tensorDataTypeFromProto(ye.elemType()),xe=ye.shape(),Se=[];for(let be=0;be<xe.dimLength();be++)Se.push(ee.LongUtil.longToNumber(xe.dim(be).value().dimValue()));he.type={shape:{dims:Se},tensorType:Te};const Pe=this._allData.push(he)-1;se.set(pe,Pe),ce.push(pe)}}for(let de=0;de<U.initializersLength();de++){const pe=U.initializers(de);let fe=se.get(pe.name());if(fe===void 0){const he=new Z,ye=ee.ProtoUtil.tensorDimsFromORTFormat(pe),Te=ee.ProtoUtil.tensorDataTypeFromProto(pe.dataType());he.type={shape:{dims:ye},tensorType:Te},fe=this._allData.push(he)-1,se.set(pe.name(),fe)}this._allData[fe]._from=-1,this._allData[fe].tensor=oe.Tensor.fromOrtTensor(pe)}for(let de=0;de<this._allData.length;de++)this._allData[de].tensor||(this._allInputIndices.push(de),this._allInputNames.push(ce[de]));for(let de=0;de<U.outputsLength();de++){const pe=U.outputs(de);if(se.has(pe))throw new Error(`duplicated output name: ${pe}`);const fe=this._allData.push(new Z)-1;se.set(pe,fe),this._allOutputIndices.push(fe),this._allOutputNames.push(pe)}if(!U.nodes)throw new Error("missing information in graph: node");for(let de=0;de<U.nodesLength();de++){const pe=U.nodes(de);let fe=pe.name();if(!fe)for(let ye=0;fe=`unnamed_${pe.opType()}_${ye}`,le.has(fe);ye++);if(le.has(fe))throw new Error(`duplicated node name: ${fe}`);const he=this._nodes.push(new Y(pe,fe))-1;le.set(fe,he)}for(let de=0;de<this._nodes.length;de++){const pe=this._nodes[de],fe=U.nodes(de);if(fe==null)throw new Error(`No node exists at index ${de}`);if((fe==null?void 0:fe.outputsLength())===0)throw new Error(`missing output for node: ${fe.name}`);for(let he=0;he<(fe==null?void 0:fe.outputsLength());he++){const ye=fe==null?void 0:fe.outputs(he);let Te=se.get(ye);if(Te===void 0&&(Te=this._allData.push(new Z)-1,se.set(ye,Te)),pe.outputs.push(Te),this._allData[Te]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${Te}`);if(this._allData[Te]._from=de,fe.opType()==="Constant"){if(fe.attributesLength()!==1||!fe.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(fe.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");pe.outputs.pop(),pe.executeNode=!1,this._allData[Te]._from=-1,this._allData[Te].tensor=oe.Tensor.fromOrtTensor(fe.attributes(0).t())}}}for(let de=0;de<this._nodes.length;de++){const pe=this._nodes[de],fe=U.nodes(de);if(fe.inputsLength()===0)throw new Error(`missing input for node: ${fe.name}`);for(let he=0;he<fe.inputsLength();he++){const ye=fe.inputs(he),Te=se.get(ye);if(Te===void 0)throw new Error(`unrecognized input '${ye}' for node: ${fe.name()}`);pe.inputs.push(Te),this._allData[Te]._to.push(de)}}}checkIsAcyclic(){const U=new Set;this._allInputIndices.forEach(te=>{this._allData[te]._to.forEach(se=>{U.add(se)})});const K=Array.from(U),J=new Array(this._nodes.length).fill("white");for(;K.length>0;){const te=K.pop();J[te]==="gray"?J[te]="black":(K.push(te),J[te]="gray",this._nodes[te].outputs.forEach(se=>{const le=this._allData[se];if(le.tensor!==void 0)throw new Error("node outputs should not be initialized");if(le._from!==te)throw new Error("from property of the Value object doesn't match index of Node being processed");le._to.forEach(ce=>{if(J[ce]==="gray")throw new Error("model graph is cyclic");J[ce]==="white"&&K.push(ce)})}))}}transformGraph(U){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),U&&U.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let U=0;const K=new Array(this._nodes.length,0);let J=0;for(let te=0;te<this._nodes.length;te++)K[te]=J,this._nodes[te].executeNode?(J!==te&&(this._nodes[J]=this._nodes[te]),J++):this._nodes[te].outputs.forEach(se=>{this._allData[se]._from=-2});this._nodes.splice(J,this._nodes.length-J);for(let te=0;te<this._allData.length;te++){const se=this._allData[te];se._from!==void 0&&se._from!==-1&&se._from!==-2&&(se._from=K[se._from]);for(let le=0;le<se._to.length;le++){if(!(se._to[le]>=0))throw new Error("Trying to update a removed node");se._to[le]=K[se._to[le]]}}U=0;for(let te=0;te<this._allData.length;te++)if(this._allData[te].from!==-2||this._allOutputIndices.indexOf(te+U)!==-1){if(U>0){let se=-1;this._allData[te].from!==void 0&&this._allData[te].from!==-1?(se=this._nodes[this._allData[te].from].outputs.indexOf(te+U),se!==-1&&(this._nodes[this._allData[te].from].outputs[se]=te)):(se=this._allInputIndices.indexOf(te+U),se!==-1&&(this._allInputIndices[se]=te)),this._allData[te].to.forEach(le=>{se=this._nodes[le].inputs.indexOf(te+U),se!==-1&&(this._nodes[le].inputs[se]=te)}),this._allData[te].to.length===0&&(se=this._allOutputIndices.indexOf(te+U),se!==-1&&(this._allOutputIndices[se]=te))}}else U++,this._allData.splice(te,1),te--}deleteNode(U){const K=this._nodes[U];if(K.outputs.length>1){for(let ce=1;ce<K.outputs.length;ce++)if(this._allData[K.outputs[ce]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}K.executeNode=!1;const J=K.inputs[0],te=K.outputs[0],se=this._allData[te].to;for(let ce=0;ce<K.inputs.length;ce++){const de=this._allData[K.inputs[ce]].to.indexOf(U);if(de===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[K.inputs[ce]].to.splice(de,1)}this._allData[te]._to=[];const le=this._allOutputIndices.indexOf(te);if(le!==-1&&(this._allOutputIndices[le]=J),se&&se.length>0)for(const ce of se){const de=this._nodes[ce].inputs.indexOf(te);if(de===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[ce].inputs[de]=J,this._allData[J].to.push(ce)}}removeAllDropoutNodes(){let U=0;for(const K of this._nodes){if(K.opType==="Dropout"){if(K.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(K.outputs.length!==1&&K.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(K.outputs.length===2&&this._allData[K.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(U)}U++}}removeAllIdentityNodes(){let U=0;for(const K of this._nodes)K.opType==="Identity"&&this.deleteNode(U),U++}isActivation(U){switch(U.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const U of this._nodes)if(U.opType==="Conv"){const K=this._allData[U.outputs[0]]._to;if(K.length===1&&this.isActivation(this._nodes[K[0]])){const J=this._nodes[K[0]];if(J.opType==="Clip")if(J.inputs.length===1)try{U.attributes.set("activation_params","floats",[J.attributes.getFloat("min"),J.attributes.getFloat("max")])}catch{U.attributes.set("activation_params","floats",[ee.MIN_CLIP,ee.MAX_CLIP])}else{if(!(J.inputs.length>=3&&this._allData[J.inputs[1]].tensor!==void 0&&this._allData[J.inputs[2]].tensor!==void 0))continue;U.attributes.set("activation_params","floats",[this._allData[J.inputs[1]].tensor.floatData[0],this._allData[J.inputs[2]].tensor.floatData[0]])}U.attributes.set("activation","string",J.opType),this.deleteNode(K[0])}}}}},1315:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.now=X.Profiler=X.Logger=void 0;const re={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},ne={none:new class{log(Y,W,R){}},console:new class{log(Y,W,R){console.log(`${this.color(Y)} ${R?"\x1B[35m"+R+"\x1B[0m ":""}${W}`)}color(Y){switch(Y){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${Y}`)}}}},Q={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let ae={"":Q};function oe(Y,W,R,U){if(W===void 0)return K=Y,{verbose:oe.verbose.bind(null,K),info:oe.info.bind(null,K),warning:oe.warning.bind(null,K),error:oe.error.bind(null,K),fatal:oe.fatal.bind(null,K)};if(R===void 0)ee(Y,W);else if(typeof R=="number"&&U===void 0)ee(Y,W);else if(typeof R=="string"&&U===void 0)ee(Y,R,0,W);else{if(typeof R!="string"||typeof U!="number")throw new TypeError("input is valid");ee(Y,R,0,W)}var K}function ee(Y,W,R,U){const K=ae[U||""]||ae[""];re[Y]<re[K.minimalSeverity]||(K.logDateTime&&(W=`${new Date().toISOString()}|${W}`),K.logSourceLocation,ne[K.provider].log(Y,W,U))}(function(Y){function W(U){ae={},R("",U||{})}function R(U,K){if(U==="*")W(K);else{const J=ae[U]||Q;ae[U]={provider:K.provider||J.provider,minimalSeverity:K.minimalSeverity||J.minimalSeverity,logDateTime:K.logDateTime===void 0?J.logDateTime:K.logDateTime,logSourceLocation:K.logSourceLocation===void 0?J.logSourceLocation:K.logSourceLocation}}}Y.verbose=function(U,K){Y("verbose",U,K)},Y.info=function(U,K){Y("info",U,K)},Y.warning=function(U,K){Y("warning",U,K)},Y.error=function(U,K){Y("error",U,K)},Y.fatal=function(U,K){Y("fatal",U,K)},Y.reset=W,Y.set=R,Y.setWithEnv=function(U){const K={};U.logLevel&&(K.minimalSeverity=U.logLevel),R("",K)}})(oe||(oe={})),X.Logger=oe;class ie{constructor(W,R,U,K,J,te){this.category=W,this.name=R,this.startTime=U,this.endCallback=K,this.timer=J,this.ctx=te}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class Z{constructor(W,R,U,K){this.category=W,this.name=R,this.startTime=U,this.endTime=K}}X.Profiler=class{static create(Y){return Y===void 0?new this:new this(Y.maxNumberEvents,Y.flushBatchSize,Y.flushIntervalInMilliseconds)}constructor(Y,W,R){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=Y===void 0?1e4:Y,this._flushBatchSize=W===void 0?10:W,this._flushIntervalInMilliseconds=R===void 0?5e3:R}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,X.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(Y,W,R,U){const K=this._started?this.begin(Y,W,U):void 0;let J=!1;const te=R();if(te&&typeof te.then=="function")return J=!0,new Promise((se,le)=>{te.then(async ce=>{K&&await K.end(),se(ce)},async ce=>{K&&await K.end(),le(ce)})});if(!J&&K){const se=K.end();if(se&&typeof se.then=="function")return new Promise((le,ce)=>{se.then(()=>{le(te)},de=>{ce(de)})})}return te}begin(Y,W,R){if(!this._started)throw new Error("profiler is not started yet");if(R===void 0){const U=(0,X.now)();return this.flush(U),new ie(Y,W,U,K=>this.endSync(K))}{const U=R.beginTimer();return new ie(Y,W,0,async K=>this.end(K),U,R)}}async end(Y){const W=await Y.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Z(Y.category,Y.name,Y.startTime,W)),this.flush(W))}endSync(Y){const W=(0,X.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Z(Y.category,Y.name,Y.startTime,W)),this.flush(W))}logOneEvent(Y){X.Logger.verbose(`Profiler.${Y.category}`,`${(Y.endTime-Y.startTime).toFixed(2)}ms on event '${Y.name}' at ${Y.endTime.toFixed(2)}`)}flush(Y){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||Y-this._flushTime>=this._flushIntervalInMilliseconds){for(const W=this._flushPointer;this._flushPointer<W+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,X.now)()}}get started(){return this._started}},X.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Model=void 0;const ne=re(5686),Q=re(4662),ae=re(5127),oe=re(2446),ee=re(7273);var ie=ae.onnxruntime.experimental.fbs;X.Model=class{constructor(){}load(Z,Y,W){if(!W)try{return void this.loadFromOnnxFormat(Z,Y)}catch(R){if(W!==void 0)throw R}this.loadFromOrtFormat(Z,Y)}loadFromOnnxFormat(Z,Y){const W=oe.onnx.ModelProto.decode(Z);if(ee.LongUtil.longToNumber(W.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=W.opsetImport.map(R=>({domain:R.domain,version:ee.LongUtil.longToNumber(R.version)})),this._graph=Q.Graph.from(W.graph,Y)}loadFromOrtFormat(Z,Y){const W=new ne.flatbuffers.ByteBuffer(Z),R=ie.InferenceSession.getRootAsInferenceSession(W).model();if(ee.LongUtil.longToNumber(R.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let U=0;U<R.opsetImportLength();U++){const K=R.opsetImport(U);this._opsets.push({domain:K==null?void 0:K.domain(),version:ee.LongUtil.longToNumber(K.version())})}this._graph=Q.Graph.from(R.graph(),Y)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.FLOAT_TYPES=X.INT_TYPES=X.NUMBER_TYPES=void 0,X.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],X.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],X.FLOAT_TYPES=["float32","float64"]},5881:(ue,X)=>{function re(ne,Q){if(Q.endsWith("+")){const ae=Number.parseInt(Q.substring(0,Q.length-1),10);return!isNaN(ae)&&ae<=ne}if(Q.split("-").length===2){const ae=Q.split("-"),oe=Number.parseInt(ae[0],10),ee=Number.parseInt(ae[1],10);return!isNaN(oe)&&!isNaN(ee)&&oe<=ne&&ne<=ee}return Number.parseInt(Q,10)===ne}Object.defineProperty(X,"__esModule",{value:!0}),X.resolveOperator=void 0,X.resolveOperator=function(ne,Q,ae){for(const oe of ae){const ee=oe[0],ie=oe[1],Z=oe[2],Y=oe[3],W=oe[4];if(ne.opType===ee){for(const R of Q)if((R.domain===ie||R.domain==="ai.onnx"&&ie==="")&&re(R.version,Z))return{opImpl:Y,opInit:W}}}throw new TypeError(`cannot resolve operator '${ne.opType}' with opsets: ${Q.map(oe=>`${oe.domain||"ai.onnx"} v${oe.version}`).join(", ")}`)}},5127:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.onnxruntime=void 0;const ne=re(5686);var Q,ae;Q=X.onnxruntime||(X.onnxruntime={}),function(oe){(function(ee){ee[ee.UNDEFINED=0]="UNDEFINED",ee[ee.FLOAT=1]="FLOAT",ee[ee.INT=2]="INT",ee[ee.STRING=3]="STRING",ee[ee.TENSOR=4]="TENSOR",ee[ee.GRAPH=5]="GRAPH",ee[ee.FLOATS=6]="FLOATS",ee[ee.INTS=7]="INTS",ee[ee.STRINGS=8]="STRINGS",ee[ee.TENSORS=9]="TENSORS",ee[ee.GRAPHS=10]="GRAPHS",ee[ee.SPARSE_TENSOR=11]="SPARSE_TENSOR",ee[ee.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(oe.AttributeType||(oe.AttributeType={}))}((ae=Q.experimental||(Q.experimental={})).fbs||(ae.fbs={})),function(oe){(function(ee){(function(ie){(function(Z){Z[Z.UNKNOWN=0]="UNKNOWN",Z[Z.VALUE=1]="VALUE",Z[Z.PARAM=2]="PARAM"})(ie.DimensionValueType||(ie.DimensionValueType={}))})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){(function(Z){Z[Z.UNDEFINED=0]="UNDEFINED",Z[Z.FLOAT=1]="FLOAT",Z[Z.UINT8=2]="UINT8",Z[Z.INT8=3]="INT8",Z[Z.UINT16=4]="UINT16",Z[Z.INT16=5]="INT16",Z[Z.INT32=6]="INT32",Z[Z.INT64=7]="INT64",Z[Z.STRING=8]="STRING",Z[Z.BOOL=9]="BOOL",Z[Z.FLOAT16=10]="FLOAT16",Z[Z.DOUBLE=11]="DOUBLE",Z[Z.UINT32=12]="UINT32",Z[Z.UINT64=13]="UINT64",Z[Z.COMPLEX64=14]="COMPLEX64",Z[Z.COMPLEX128=15]="COMPLEX128",Z[Z.BFLOAT16=16]="BFLOAT16",Z[Z.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",Z[Z.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",Z[Z.FLOAT8E5M2=19]="FLOAT8E5M2",Z[Z.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"})(ie.TensorDataType||(ie.TensorDataType={}))})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){(function(Z){Z[Z.Primitive=0]="Primitive",Z[Z.Fused=1]="Fused"})(ie.NodeType||(ie.NodeType={}))})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){(function(Z){Z[Z.NONE=0]="NONE",Z[Z.tensor_type=1]="tensor_type",Z[Z.sequence_type=2]="sequence_type",Z[Z.map_type=3]="map_type"})(ie.TypeInfoValue||(ie.TypeInfoValue={}))})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsShape(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsShape(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}dim(W,R){let U=this.bb.__offset(this.bb_pos,4);return U?(R||new oe.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}dimLength(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.__vector_len(this.bb_pos+W):0}static startShape(W){W.startObject(1)}static addDim(W,R){W.addFieldOffset(0,R,0)}static createDimVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startDimVector(W,R){W.startVector(4,R,4)}static endShape(W){return W.endObject()}static createShape(W,R){return Z.startShape(W),Z.addDim(W,R),Z.endShape(W)}}ie.Shape=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsDimension(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsDimension(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}value(W){let R=this.bb.__offset(this.bb_pos,4);return R?(W||new oe.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}denotation(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__string(this.bb_pos+R,W):null}static startDimension(W){W.startObject(2)}static addValue(W,R){W.addFieldOffset(0,R,0)}static addDenotation(W,R){W.addFieldOffset(1,R,0)}static endDimension(W){return W.endObject()}static createDimension(W,R,U){return Z.startDimension(W),Z.addValue(W,R),Z.addDenotation(W,U),Z.endDimension(W)}}ie.Dimension=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsDimensionValue(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsDimensionValue(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}dimType(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.readInt8(this.bb_pos+W):oe.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.readInt64(this.bb_pos+W):this.bb.createLong(0,0)}dimParam(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__string(this.bb_pos+R,W):null}static startDimensionValue(W){W.startObject(3)}static addDimType(W,R){W.addFieldInt8(0,R,oe.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(W,R){W.addFieldInt64(1,R,W.createLong(0,0))}static addDimParam(W,R){W.addFieldOffset(2,R,0)}static endDimensionValue(W){return W.endObject()}static createDimensionValue(W,R,U,K){return Z.startDimensionValue(W),Z.addDimType(W,R),Z.addDimValue(W,U),Z.addDimParam(W,K),Z.endDimensionValue(W)}}ie.DimensionValue=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsTensorTypeAndShape(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsTensorTypeAndShape(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}elemType(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.readInt32(this.bb_pos+W):oe.experimental.fbs.TensorDataType.UNDEFINED}shape(W){let R=this.bb.__offset(this.bb_pos,6);return R?(W||new oe.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startTensorTypeAndShape(W){W.startObject(2)}static addElemType(W,R){W.addFieldInt32(0,R,oe.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(W,R){W.addFieldOffset(1,R,0)}static endTensorTypeAndShape(W){return W.endObject()}static createTensorTypeAndShape(W,R,U){return Z.startTensorTypeAndShape(W),Z.addElemType(W,R),Z.addShape(W,U),Z.endTensorTypeAndShape(W)}}ie.TensorTypeAndShape=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsMapType(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsMapType(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}keyType(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.readInt32(this.bb_pos+W):oe.experimental.fbs.TensorDataType.UNDEFINED}valueType(W){let R=this.bb.__offset(this.bb_pos,6);return R?(W||new oe.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startMapType(W){W.startObject(2)}static addKeyType(W,R){W.addFieldInt32(0,R,oe.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(W,R){W.addFieldOffset(1,R,0)}static endMapType(W){return W.endObject()}static createMapType(W,R,U){return Z.startMapType(W),Z.addKeyType(W,R),Z.addValueType(W,U),Z.endMapType(W)}}ie.MapType=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsSequenceType(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsSequenceType(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}elemType(W){let R=this.bb.__offset(this.bb_pos,4);return R?(W||new oe.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startSequenceType(W){W.startObject(1)}static addElemType(W,R){W.addFieldOffset(0,R,0)}static endSequenceType(W){return W.endObject()}static createSequenceType(W,R){return Z.startSequenceType(W),Z.addElemType(W,R),Z.endSequenceType(W)}}ie.SequenceType=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(ee.fbs||(ee.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(ie,Z){return this.bb_pos=ie,this.bb=Z,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(ie,Z,Y,W){return ie.prep(4,12),ie.writeInt32(W),ie.writeInt32(Y),ie.writeInt32(Z),ie.offset()}}})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsNodeEdge(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsNodeEdge(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}nodeIndex(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.readUint32(this.bb_pos+W):0}inputEdges(W,R){let U=this.bb.__offset(this.bb_pos,6);return U?(R||new oe.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+U)+12*W,this.bb):null}inputEdgesLength(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.__vector_len(this.bb_pos+W):0}outputEdges(W,R){let U=this.bb.__offset(this.bb_pos,8);return U?(R||new oe.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+U)+12*W,this.bb):null}outputEdgesLength(){let W=this.bb.__offset(this.bb_pos,8);return W?this.bb.__vector_len(this.bb_pos+W):0}static startNodeEdge(W){W.startObject(3)}static addNodeIndex(W,R){W.addFieldInt32(0,R,0)}static addInputEdges(W,R){W.addFieldOffset(1,R,0)}static startInputEdgesVector(W,R){W.startVector(12,R,4)}static addOutputEdges(W,R){W.addFieldOffset(2,R,0)}static startOutputEdgesVector(W,R){W.startVector(12,R,4)}static endNodeEdge(W){return W.endObject()}static createNodeEdge(W,R,U,K){return Z.startNodeEdge(W),Z.addNodeIndex(W,R),Z.addInputEdges(W,U),Z.addOutputEdges(W,K),Z.endNodeEdge(W)}}ie.NodeEdge=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsNode(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsNode(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}name(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}docString(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__string(this.bb_pos+R,W):null}domain(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__string(this.bb_pos+R,W):null}sinceVersion(){let W=this.bb.__offset(this.bb_pos,10);return W?this.bb.readInt32(this.bb_pos+W):0}index(){let W=this.bb.__offset(this.bb_pos,12);return W?this.bb.readUint32(this.bb_pos+W):0}opType(W){let R=this.bb.__offset(this.bb_pos,14);return R?this.bb.__string(this.bb_pos+R,W):null}type(){let W=this.bb.__offset(this.bb_pos,16);return W?this.bb.readInt32(this.bb_pos+W):oe.experimental.fbs.NodeType.Primitive}executionProviderType(W){let R=this.bb.__offset(this.bb_pos,18);return R?this.bb.__string(this.bb_pos+R,W):null}inputs(W,R){let U=this.bb.__offset(this.bb_pos,20);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}inputsLength(){let W=this.bb.__offset(this.bb_pos,20);return W?this.bb.__vector_len(this.bb_pos+W):0}outputs(W,R){let U=this.bb.__offset(this.bb_pos,22);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}outputsLength(){let W=this.bb.__offset(this.bb_pos,22);return W?this.bb.__vector_len(this.bb_pos+W):0}attributes(W,R){let U=this.bb.__offset(this.bb_pos,24);return U?(R||new oe.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}attributesLength(){let W=this.bb.__offset(this.bb_pos,24);return W?this.bb.__vector_len(this.bb_pos+W):0}inputArgCounts(W){let R=this.bb.__offset(this.bb_pos,26);return R?this.bb.readInt32(this.bb.__vector(this.bb_pos+R)+4*W):0}inputArgCountsLength(){let W=this.bb.__offset(this.bb_pos,26);return W?this.bb.__vector_len(this.bb_pos+W):0}inputArgCountsArray(){let W=this.bb.__offset(this.bb_pos,26);return W?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+W),this.bb.__vector_len(this.bb_pos+W)):null}implicitInputs(W,R){let U=this.bb.__offset(this.bb_pos,28);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}implicitInputsLength(){let W=this.bb.__offset(this.bb_pos,28);return W?this.bb.__vector_len(this.bb_pos+W):0}static startNode(W){W.startObject(13)}static addName(W,R){W.addFieldOffset(0,R,0)}static addDocString(W,R){W.addFieldOffset(1,R,0)}static addDomain(W,R){W.addFieldOffset(2,R,0)}static addSinceVersion(W,R){W.addFieldInt32(3,R,0)}static addIndex(W,R){W.addFieldInt32(4,R,0)}static addOpType(W,R){W.addFieldOffset(5,R,0)}static addType(W,R){W.addFieldInt32(6,R,oe.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(W,R){W.addFieldOffset(7,R,0)}static addInputs(W,R){W.addFieldOffset(8,R,0)}static createInputsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startInputsVector(W,R){W.startVector(4,R,4)}static addOutputs(W,R){W.addFieldOffset(9,R,0)}static createOutputsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startOutputsVector(W,R){W.startVector(4,R,4)}static addAttributes(W,R){W.addFieldOffset(10,R,0)}static createAttributesVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startAttributesVector(W,R){W.startVector(4,R,4)}static addInputArgCounts(W,R){W.addFieldOffset(11,R,0)}static createInputArgCountsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addInt32(R[U]);return W.endVector()}static startInputArgCountsVector(W,R){W.startVector(4,R,4)}static addImplicitInputs(W,R){W.addFieldOffset(12,R,0)}static createImplicitInputsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startImplicitInputsVector(W,R){W.startVector(4,R,4)}static endNode(W){return W.endObject()}static createNode(W,R,U,K,J,te,se,le,ce,de,pe,fe,he,ye){return Z.startNode(W),Z.addName(W,R),Z.addDocString(W,U),Z.addDomain(W,K),Z.addSinceVersion(W,J),Z.addIndex(W,te),Z.addOpType(W,se),Z.addType(W,le),Z.addExecutionProviderType(W,ce),Z.addInputs(W,de),Z.addOutputs(W,pe),Z.addAttributes(W,fe),Z.addInputArgCounts(W,he),Z.addImplicitInputs(W,ye),Z.endNode(W)}}ie.Node=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsValueInfo(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsValueInfo(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}name(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}docString(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__string(this.bb_pos+R,W):null}type(W){let R=this.bb.__offset(this.bb_pos,8);return R?(W||new oe.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startValueInfo(W){W.startObject(3)}static addName(W,R){W.addFieldOffset(0,R,0)}static addDocString(W,R){W.addFieldOffset(1,R,0)}static addType(W,R){W.addFieldOffset(2,R,0)}static endValueInfo(W){return W.endObject()}static createValueInfo(W,R,U,K){return Z.startValueInfo(W),Z.addName(W,R),Z.addDocString(W,U),Z.addType(W,K),Z.endValueInfo(W)}}ie.ValueInfo=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsTypeInfo(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsTypeInfo(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}denotation(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}valueType(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.readUint8(this.bb_pos+W):oe.experimental.fbs.TypeInfoValue.NONE}value(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__union(W,this.bb_pos+R):null}static startTypeInfo(W){W.startObject(3)}static addDenotation(W,R){W.addFieldOffset(0,R,0)}static addValueType(W,R){W.addFieldInt8(1,R,oe.experimental.fbs.TypeInfoValue.NONE)}static addValue(W,R){W.addFieldOffset(2,R,0)}static endTypeInfo(W){return W.endObject()}static createTypeInfo(W,R,U,K){return Z.startTypeInfo(W),Z.addDenotation(W,R),Z.addValueType(W,U),Z.addValue(W,K),Z.endTypeInfo(W)}}ie.TypeInfo=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsOperatorSetId(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsOperatorSetId(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}domain(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}version(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.readInt64(this.bb_pos+W):this.bb.createLong(0,0)}static startOperatorSetId(W){W.startObject(2)}static addDomain(W,R){W.addFieldOffset(0,R,0)}static addVersion(W,R){W.addFieldInt64(1,R,W.createLong(0,0))}static endOperatorSetId(W){return W.endObject()}static createOperatorSetId(W,R,U){return Z.startOperatorSetId(W),Z.addDomain(W,R),Z.addVersion(W,U),Z.endOperatorSetId(W)}}ie.OperatorSetId=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsTensor(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsTensor(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}name(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}docString(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__string(this.bb_pos+R,W):null}dims(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.readInt64(this.bb.__vector(this.bb_pos+R)+8*W):this.bb.createLong(0,0)}dimsLength(){let W=this.bb.__offset(this.bb_pos,8);return W?this.bb.__vector_len(this.bb_pos+W):0}dataType(){let W=this.bb.__offset(this.bb_pos,10);return W?this.bb.readInt32(this.bb_pos+W):oe.experimental.fbs.TensorDataType.UNDEFINED}rawData(W){let R=this.bb.__offset(this.bb_pos,12);return R?this.bb.readUint8(this.bb.__vector(this.bb_pos+R)+W):0}rawDataLength(){let W=this.bb.__offset(this.bb_pos,12);return W?this.bb.__vector_len(this.bb_pos+W):0}rawDataArray(){let W=this.bb.__offset(this.bb_pos,12);return W?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+W),this.bb.__vector_len(this.bb_pos+W)):null}stringData(W,R){let U=this.bb.__offset(this.bb_pos,14);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}stringDataLength(){let W=this.bb.__offset(this.bb_pos,14);return W?this.bb.__vector_len(this.bb_pos+W):0}static startTensor(W){W.startObject(6)}static addName(W,R){W.addFieldOffset(0,R,0)}static addDocString(W,R){W.addFieldOffset(1,R,0)}static addDims(W,R){W.addFieldOffset(2,R,0)}static createDimsVector(W,R){W.startVector(8,R.length,8);for(let U=R.length-1;U>=0;U--)W.addInt64(R[U]);return W.endVector()}static startDimsVector(W,R){W.startVector(8,R,8)}static addDataType(W,R){W.addFieldInt32(3,R,oe.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(W,R){W.addFieldOffset(4,R,0)}static createRawDataVector(W,R){W.startVector(1,R.length,1);for(let U=R.length-1;U>=0;U--)W.addInt8(R[U]);return W.endVector()}static startRawDataVector(W,R){W.startVector(1,R,1)}static addStringData(W,R){W.addFieldOffset(5,R,0)}static createStringDataVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startStringDataVector(W,R){W.startVector(4,R,4)}static endTensor(W){return W.endObject()}static createTensor(W,R,U,K,J,te,se){return Z.startTensor(W),Z.addName(W,R),Z.addDocString(W,U),Z.addDims(W,K),Z.addDataType(W,J),Z.addRawData(W,te),Z.addStringData(W,se),Z.endTensor(W)}}ie.Tensor=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsSparseTensor(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsSparseTensor(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}values(W){let R=this.bb.__offset(this.bb_pos,4);return R?(W||new oe.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}indices(W){let R=this.bb.__offset(this.bb_pos,6);return R?(W||new oe.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}dims(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.readInt64(this.bb.__vector(this.bb_pos+R)+8*W):this.bb.createLong(0,0)}dimsLength(){let W=this.bb.__offset(this.bb_pos,8);return W?this.bb.__vector_len(this.bb_pos+W):0}static startSparseTensor(W){W.startObject(3)}static addValues(W,R){W.addFieldOffset(0,R,0)}static addIndices(W,R){W.addFieldOffset(1,R,0)}static addDims(W,R){W.addFieldOffset(2,R,0)}static createDimsVector(W,R){W.startVector(8,R.length,8);for(let U=R.length-1;U>=0;U--)W.addInt64(R[U]);return W.endVector()}static startDimsVector(W,R){W.startVector(8,R,8)}static endSparseTensor(W){return W.endObject()}static createSparseTensor(W,R,U,K){return Z.startSparseTensor(W),Z.addValues(W,R),Z.addIndices(W,U),Z.addDims(W,K),Z.endSparseTensor(W)}}ie.SparseTensor=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsAttribute(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsAttribute(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}name(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}docString(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__string(this.bb_pos+R,W):null}type(){let W=this.bb.__offset(this.bb_pos,8);return W?this.bb.readInt32(this.bb_pos+W):oe.experimental.fbs.AttributeType.UNDEFINED}f(){let W=this.bb.__offset(this.bb_pos,10);return W?this.bb.readFloat32(this.bb_pos+W):0}i(){let W=this.bb.__offset(this.bb_pos,12);return W?this.bb.readInt64(this.bb_pos+W):this.bb.createLong(0,0)}s(W){let R=this.bb.__offset(this.bb_pos,14);return R?this.bb.__string(this.bb_pos+R,W):null}t(W){let R=this.bb.__offset(this.bb_pos,16);return R?(W||new oe.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}g(W){let R=this.bb.__offset(this.bb_pos,18);return R?(W||new oe.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}floats(W){let R=this.bb.__offset(this.bb_pos,20);return R?this.bb.readFloat32(this.bb.__vector(this.bb_pos+R)+4*W):0}floatsLength(){let W=this.bb.__offset(this.bb_pos,20);return W?this.bb.__vector_len(this.bb_pos+W):0}floatsArray(){let W=this.bb.__offset(this.bb_pos,20);return W?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+W),this.bb.__vector_len(this.bb_pos+W)):null}ints(W){let R=this.bb.__offset(this.bb_pos,22);return R?this.bb.readInt64(this.bb.__vector(this.bb_pos+R)+8*W):this.bb.createLong(0,0)}intsLength(){let W=this.bb.__offset(this.bb_pos,22);return W?this.bb.__vector_len(this.bb_pos+W):0}strings(W,R){let U=this.bb.__offset(this.bb_pos,24);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}stringsLength(){let W=this.bb.__offset(this.bb_pos,24);return W?this.bb.__vector_len(this.bb_pos+W):0}tensors(W,R){let U=this.bb.__offset(this.bb_pos,26);return U?(R||new oe.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}tensorsLength(){let W=this.bb.__offset(this.bb_pos,26);return W?this.bb.__vector_len(this.bb_pos+W):0}graphs(W,R){let U=this.bb.__offset(this.bb_pos,28);return U?(R||new oe.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}graphsLength(){let W=this.bb.__offset(this.bb_pos,28);return W?this.bb.__vector_len(this.bb_pos+W):0}static startAttribute(W){W.startObject(13)}static addName(W,R){W.addFieldOffset(0,R,0)}static addDocString(W,R){W.addFieldOffset(1,R,0)}static addType(W,R){W.addFieldInt32(2,R,oe.experimental.fbs.AttributeType.UNDEFINED)}static addF(W,R){W.addFieldFloat32(3,R,0)}static addI(W,R){W.addFieldInt64(4,R,W.createLong(0,0))}static addS(W,R){W.addFieldOffset(5,R,0)}static addT(W,R){W.addFieldOffset(6,R,0)}static addG(W,R){W.addFieldOffset(7,R,0)}static addFloats(W,R){W.addFieldOffset(8,R,0)}static createFloatsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addFloat32(R[U]);return W.endVector()}static startFloatsVector(W,R){W.startVector(4,R,4)}static addInts(W,R){W.addFieldOffset(9,R,0)}static createIntsVector(W,R){W.startVector(8,R.length,8);for(let U=R.length-1;U>=0;U--)W.addInt64(R[U]);return W.endVector()}static startIntsVector(W,R){W.startVector(8,R,8)}static addStrings(W,R){W.addFieldOffset(10,R,0)}static createStringsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startStringsVector(W,R){W.startVector(4,R,4)}static addTensors(W,R){W.addFieldOffset(11,R,0)}static createTensorsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startTensorsVector(W,R){W.startVector(4,R,4)}static addGraphs(W,R){W.addFieldOffset(12,R,0)}static createGraphsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startGraphsVector(W,R){W.startVector(4,R,4)}static endAttribute(W){return W.endObject()}static createAttribute(W,R,U,K,J,te,se,le,ce,de,pe,fe,he,ye){return Z.startAttribute(W),Z.addName(W,R),Z.addDocString(W,U),Z.addType(W,K),Z.addF(W,J),Z.addI(W,te),Z.addS(W,se),Z.addT(W,le),Z.addG(W,ce),Z.addFloats(W,de),Z.addInts(W,pe),Z.addStrings(W,fe),Z.addTensors(W,he),Z.addGraphs(W,ye),Z.endAttribute(W)}}ie.Attribute=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsGraph(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsGraph(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}initializers(W,R){let U=this.bb.__offset(this.bb_pos,4);return U?(R||new oe.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}initializersLength(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.__vector_len(this.bb_pos+W):0}nodeArgs(W,R){let U=this.bb.__offset(this.bb_pos,6);return U?(R||new oe.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}nodeArgsLength(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.__vector_len(this.bb_pos+W):0}nodes(W,R){let U=this.bb.__offset(this.bb_pos,8);return U?(R||new oe.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}nodesLength(){let W=this.bb.__offset(this.bb_pos,8);return W?this.bb.__vector_len(this.bb_pos+W):0}maxNodeIndex(){let W=this.bb.__offset(this.bb_pos,10);return W?this.bb.readUint32(this.bb_pos+W):0}nodeEdges(W,R){let U=this.bb.__offset(this.bb_pos,12);return U?(R||new oe.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}nodeEdgesLength(){let W=this.bb.__offset(this.bb_pos,12);return W?this.bb.__vector_len(this.bb_pos+W):0}inputs(W,R){let U=this.bb.__offset(this.bb_pos,14);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}inputsLength(){let W=this.bb.__offset(this.bb_pos,14);return W?this.bb.__vector_len(this.bb_pos+W):0}outputs(W,R){let U=this.bb.__offset(this.bb_pos,16);return U?this.bb.__string(this.bb.__vector(this.bb_pos+U)+4*W,R):null}outputsLength(){let W=this.bb.__offset(this.bb_pos,16);return W?this.bb.__vector_len(this.bb_pos+W):0}sparseInitializers(W,R){let U=this.bb.__offset(this.bb_pos,18);return U?(R||new oe.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}sparseInitializersLength(){let W=this.bb.__offset(this.bb_pos,18);return W?this.bb.__vector_len(this.bb_pos+W):0}static startGraph(W){W.startObject(8)}static addInitializers(W,R){W.addFieldOffset(0,R,0)}static createInitializersVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startInitializersVector(W,R){W.startVector(4,R,4)}static addNodeArgs(W,R){W.addFieldOffset(1,R,0)}static createNodeArgsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startNodeArgsVector(W,R){W.startVector(4,R,4)}static addNodes(W,R){W.addFieldOffset(2,R,0)}static createNodesVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startNodesVector(W,R){W.startVector(4,R,4)}static addMaxNodeIndex(W,R){W.addFieldInt32(3,R,0)}static addNodeEdges(W,R){W.addFieldOffset(4,R,0)}static createNodeEdgesVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startNodeEdgesVector(W,R){W.startVector(4,R,4)}static addInputs(W,R){W.addFieldOffset(5,R,0)}static createInputsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startInputsVector(W,R){W.startVector(4,R,4)}static addOutputs(W,R){W.addFieldOffset(6,R,0)}static createOutputsVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startOutputsVector(W,R){W.startVector(4,R,4)}static addSparseInitializers(W,R){W.addFieldOffset(7,R,0)}static createSparseInitializersVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startSparseInitializersVector(W,R){W.startVector(4,R,4)}static endGraph(W){return W.endObject()}static createGraph(W,R,U,K,J,te,se,le,ce){return Z.startGraph(W),Z.addInitializers(W,R),Z.addNodeArgs(W,U),Z.addNodes(W,K),Z.addMaxNodeIndex(W,J),Z.addNodeEdges(W,te),Z.addInputs(W,se),Z.addOutputs(W,le),Z.addSparseInitializers(W,ce),Z.endGraph(W)}}ie.Graph=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsModel(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsModel(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}irVersion(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.readInt64(this.bb_pos+W):this.bb.createLong(0,0)}opsetImport(W,R){let U=this.bb.__offset(this.bb_pos,6);return U?(R||new oe.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}opsetImportLength(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.__vector_len(this.bb_pos+W):0}producerName(W){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__string(this.bb_pos+R,W):null}producerVersion(W){let R=this.bb.__offset(this.bb_pos,10);return R?this.bb.__string(this.bb_pos+R,W):null}domain(W){let R=this.bb.__offset(this.bb_pos,12);return R?this.bb.__string(this.bb_pos+R,W):null}modelVersion(){let W=this.bb.__offset(this.bb_pos,14);return W?this.bb.readInt64(this.bb_pos+W):this.bb.createLong(0,0)}docString(W){let R=this.bb.__offset(this.bb_pos,16);return R?this.bb.__string(this.bb_pos+R,W):null}graph(W){let R=this.bb.__offset(this.bb_pos,18);return R?(W||new oe.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}graphDocString(W){let R=this.bb.__offset(this.bb_pos,20);return R?this.bb.__string(this.bb_pos+R,W):null}static startModel(W){W.startObject(9)}static addIrVersion(W,R){W.addFieldInt64(0,R,W.createLong(0,0))}static addOpsetImport(W,R){W.addFieldOffset(1,R,0)}static createOpsetImportVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startOpsetImportVector(W,R){W.startVector(4,R,4)}static addProducerName(W,R){W.addFieldOffset(2,R,0)}static addProducerVersion(W,R){W.addFieldOffset(3,R,0)}static addDomain(W,R){W.addFieldOffset(4,R,0)}static addModelVersion(W,R){W.addFieldInt64(5,R,W.createLong(0,0))}static addDocString(W,R){W.addFieldOffset(6,R,0)}static addGraph(W,R){W.addFieldOffset(7,R,0)}static addGraphDocString(W,R){W.addFieldOffset(8,R,0)}static endModel(W){return W.endObject()}static createModel(W,R,U,K,J,te,se,le,ce,de){return Z.startModel(W),Z.addIrVersion(W,R),Z.addOpsetImport(W,U),Z.addProducerName(W,K),Z.addProducerVersion(W,J),Z.addDomain(W,te),Z.addModelVersion(W,se),Z.addDocString(W,le),Z.addGraph(W,ce),Z.addGraphDocString(W,de),Z.endModel(W)}}ie.Model=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsKernelCreateInfos(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsKernelCreateInfos(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}nodeIndices(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readUint32(this.bb.__vector(this.bb_pos+R)+4*W):0}nodeIndicesLength(){let W=this.bb.__offset(this.bb_pos,4);return W?this.bb.__vector_len(this.bb_pos+W):0}nodeIndicesArray(){let W=this.bb.__offset(this.bb_pos,4);return W?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+W),this.bb.__vector_len(this.bb_pos+W)):null}kernelDefHashes(W){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.readUint64(this.bb.__vector(this.bb_pos+R)+8*W):this.bb.createLong(0,0)}kernelDefHashesLength(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.__vector_len(this.bb_pos+W):0}static startKernelCreateInfos(W){W.startObject(2)}static addNodeIndices(W,R){W.addFieldOffset(0,R,0)}static createNodeIndicesVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addInt32(R[U]);return W.endVector()}static startNodeIndicesVector(W,R){W.startVector(4,R,4)}static addKernelDefHashes(W,R){W.addFieldOffset(1,R,0)}static createKernelDefHashesVector(W,R){W.startVector(8,R.length,8);for(let U=R.length-1;U>=0;U--)W.addInt64(R[U]);return W.endVector()}static startKernelDefHashesVector(W,R){W.startVector(8,R,8)}static endKernelCreateInfos(W){return W.endObject()}static createKernelCreateInfos(W,R,U){return Z.startKernelCreateInfos(W),Z.addNodeIndices(W,R),Z.addKernelDefHashes(W,U),Z.endKernelCreateInfos(W)}}ie.KernelCreateInfos=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsSubGraphSessionState(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsSubGraphSessionState(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}graphId(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}sessionState(W){let R=this.bb.__offset(this.bb_pos,6);return R?(W||new oe.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startSubGraphSessionState(W){W.startObject(2)}static addGraphId(W,R){W.addFieldOffset(0,R,0)}static addSessionState(W,R){W.addFieldOffset(1,R,0)}static endSubGraphSessionState(W){let R=W.endObject();return W.requiredField(R,4),R}static createSubGraphSessionState(W,R,U){return Z.startSubGraphSessionState(W),Z.addGraphId(W,R),Z.addSessionState(W,U),Z.endSubGraphSessionState(W)}}ie.SubGraphSessionState=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsSessionState(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsSessionState(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}kernels(W){let R=this.bb.__offset(this.bb_pos,4);return R?(W||new oe.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}subGraphSessionStates(W,R){let U=this.bb.__offset(this.bb_pos,6);return U?(R||new oe.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+U)+4*W),this.bb):null}subGraphSessionStatesLength(){let W=this.bb.__offset(this.bb_pos,6);return W?this.bb.__vector_len(this.bb_pos+W):0}static startSessionState(W){W.startObject(2)}static addKernels(W,R){W.addFieldOffset(0,R,0)}static addSubGraphSessionStates(W,R){W.addFieldOffset(1,R,0)}static createSubGraphSessionStatesVector(W,R){W.startVector(4,R.length,4);for(let U=R.length-1;U>=0;U--)W.addOffset(R[U]);return W.endVector()}static startSubGraphSessionStatesVector(W,R){W.startVector(4,R,4)}static endSessionState(W){return W.endObject()}static createSessionState(W,R,U){return Z.startSessionState(W),Z.addKernels(W,R),Z.addSubGraphSessionStates(W,U),Z.endSessionState(W)}}ie.SessionState=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={})),function(oe){(function(ee){(function(ie){class Z{constructor(){this.bb=null,this.bb_pos=0}__init(W,R){return this.bb_pos=W,this.bb=R,this}static getRootAsInferenceSession(W,R){return(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static getSizePrefixedRootAsInferenceSession(W,R){return W.setPosition(W.position()+ne.flatbuffers.SIZE_PREFIX_LENGTH),(R||new Z).__init(W.readInt32(W.position())+W.position(),W)}static bufferHasIdentifier(W){return W.__has_identifier("ORTM")}ortVersion(W){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.__string(this.bb_pos+R,W):null}model(W){let R=this.bb.__offset(this.bb_pos,6);return R?(W||new oe.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}sessionState(W){let R=this.bb.__offset(this.bb_pos,8);return R?(W||new oe.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+R),this.bb):null}static startInferenceSession(W){W.startObject(3)}static addOrtVersion(W,R){W.addFieldOffset(0,R,0)}static addModel(W,R){W.addFieldOffset(1,R,0)}static addSessionState(W,R){W.addFieldOffset(2,R,0)}static endInferenceSession(W){return W.endObject()}static finishInferenceSessionBuffer(W,R){W.finish(R,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(W,R){W.finish(R,"ORTM",!0)}static createInferenceSession(W,R,U,K){return Z.startInferenceSession(W),Z.addOrtVersion(W,R),Z.addModel(W,U),Z.addSessionState(W,K),Z.endInferenceSession(W)}}ie.InferenceSession=Z})(ee.fbs||(ee.fbs={}))})(oe.experimental||(oe.experimental={}))}(X.onnxruntime||(X.onnxruntime={}))},1723:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.OnnxjsSessionHandler=void 0;const ne=re(2235),Q=re(9240);X.OnnxjsSessionHandler=class{constructor(ae){this.session=ae,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(ae,oe,ee){const ie=new Map;for(const W in ae)if(Object.hasOwnProperty.call(ae,W)){const R=ae[W];ie.set(W,new Q.Tensor(R.dims,R.type,void 0,void 0,R.data))}const Z=await this.session.run(ie),Y={};return Z.forEach((W,R)=>{Y[R]=new ne.Tensor(W.type,W.data,W.dims)}),Y}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Session=void 0;const ne=re(7067),Q=re(1296),ae=re(1975),oe=re(6496),ee=re(1315),ie=re(1745);X.Session=class{constructor(Z={}){this._initialized=!1,this.backendHint=Z.backendHint,this.profiler=ee.Profiler.create(Z.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(Z,Y,W){await this.profiler.event("session","Session.loadModel",async()=>{const R=await(0,ae.resolveBackend)(this.backendHint);if(this.sessionHandler=R.createSessionHandler(this.context),this._model=new ie.Model,typeof Z=="string"){const U=Z.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){const K=await(0,Q.promisify)(ne.readFile)(Z);this.initialize(K,U)}else{const K=await fetch(Z),J=await K.arrayBuffer();this.initialize(new Uint8Array(J),U)}}else if(ArrayBuffer.isView(Z))this.initialize(Z);else{const U=new Uint8Array(Z,Y||0,W||Z.byteLength);this.initialize(U)}})}initialize(Z,Y){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const W=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(Z,W,Y),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new oe.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(Z){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const Y=this.normalizeAndValidateInputs(Z),W=await this._executionPlan.execute(this.sessionHandler,Y);return this.createOutput(W)})}normalizeAndValidateInputs(Z){const Y=this._model.graph.getInputNames();if(Array.isArray(Z)){if(Z.length!==Y.length)throw new Error(`incorrect input array length: expected ${Y.length} but got ${Z.length}`)}else{if(Z.size!==Y.length)throw new Error(`incorrect input map size: expected ${Y.length} but got ${Z.size}`);const W=new Array(Z.size);let R=0;for(let U=0;U<Y.length;++U){const K=Z.get(Y[U]);if(!K)throw new Error(`missing input tensor for: '${name}'`);W[R++]=K}Z=W}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,Z,!1);else{const W=this._model.graph.getInputIndices(),R=this._model.graph.getValues(),U=new Array(W.length);for(let K=0;K<W.length;++K){const J=R[W[K]];U[K]=J.type.shape.dims,this.context.graphInputTypes.push(J.type.tensorType),this.context.graphInputDims.push(Z[K].dims)}this.validateInputTensorDims(U,Z,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,Z),Z}validateInputTensorTypes(Z,Y){for(let W=0;W<Y.length;W++){const R=Z[W],U=Y[W].type;if(R!==U)throw new Error(`input tensor[${W}] check failed: expected type '${R}' but got ${U}`)}}validateInputTensorDims(Z,Y,W){for(let R=0;R<Y.length;R++){const U=Z[R],K=Y[R].dims;if(!this.compareTensorDims(U,K,W))throw new Error(`input tensor[${R}] check failed: expected shape '[${U.join(",")}]' but got [${K.join(",")}]`)}}compareTensorDims(Z,Y,W){if(Z.length!==Y.length)return!1;for(let R=0;R<Z.length;++R)if(Z[R]!==Y[R]&&(!W||Z[R]!==0))return!1;return!0}createOutput(Z){const Y=this._model.graph.getOutputNames();if(Z.length!==Y.length)throw new Error("expected number of outputs do not match number of generated outputs");const W=new Map;for(let R=0;R<Y.length;++R)W.set(Y[R],Z[R]);return W}initializeOps(Z){const Y=Z.getNodes();this._ops=new Array(Y.length);for(let W=0;W<Y.length;W++)this._ops[W]=this.sessionHandler.resolve(Y[W],this._model.opsets,Z)}}},9240:function(ue,X,re){var ne=this&&this.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(X,"__esModule",{value:!0}),X.Tensor=void 0;const Q=re(3442),ae=ne(re(1583)),oe=re(5127),ee=re(2446),ie=re(7273);var Z=oe.onnxruntime.experimental.fbs;class Y{get data(){if(this.cache===void 0){const te=this.dataProvider(this.dataId);if(te.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=te}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(te){return this.data[ie.ShapeUtil.indicesToOffset(te,this.strides)]}set(te,se){this.data[ie.ShapeUtil.indicesToOffset(te,this.strides)]=se}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=ie.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(te,se,le,ce,de,pe=Q.Guid.create()){this.dims=te,this.type=se,this.dataProvider=le,this.asyncDataProvider=ce,this.cache=de,this.dataId=pe,this.size=ie.ShapeUtil.validateDimsAndCalcSize(te);const fe=this.size,he=le===void 0&&ce===void 0&&de===void 0;if(de!==void 0&&de.length!==fe)throw new RangeError("Input dims doesn't match data length.");if(se==="string"){if(!(de===void 0||Array.isArray(de)&&de.every(ye=>typeof ye=="string")))throw new TypeError("cache should be a string array");he&&(this.cache=new Array(fe))}else{if(de!==void 0){const ye=R(se);if(!(de instanceof ye))throw new TypeError(`cache should be type ${ye.name}`)}if(he){const ye=new ArrayBuffer(fe*function(Te){switch(Te){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${Te}`)}}(se));this.cache=function(Te,xe){return new(R(xe))(Te)}(ye,se)}}}static fromProto(te){if(!te)throw new Error("cannot construct Value from an empty tensor");const se=ie.ProtoUtil.tensorDataTypeFromProto(te.dataType),le=ie.ProtoUtil.tensorDimsFromProto(te.dims),ce=new Y(le,se);if(se==="string")te.stringData.forEach((de,pe)=>{ce.data[pe]=(0,ie.decodeUtf8String)(de)});else if(te.rawData&&typeof te.rawData.byteLength=="number"&&te.rawData.byteLength>0){const de=ce.data,pe=new DataView(te.rawData.buffer,te.rawData.byteOffset,te.rawData.byteLength),fe=W(te.dataType),he=te.rawData.byteLength/fe;if(te.rawData.byteLength%fe!=0)throw new Error("invalid buffer length");if(de.length!==he)throw new Error("buffer length mismatch");for(let ye=0;ye<he;ye++){const Te=K(pe,te.dataType,ye*fe);de[ye]=Te}}else{let de;switch(te.dataType){case ee.onnx.TensorProto.DataType.FLOAT:de=te.floatData;break;case ee.onnx.TensorProto.DataType.INT32:case ee.onnx.TensorProto.DataType.INT16:case ee.onnx.TensorProto.DataType.UINT16:case ee.onnx.TensorProto.DataType.INT8:case ee.onnx.TensorProto.DataType.UINT8:case ee.onnx.TensorProto.DataType.BOOL:de=te.int32Data;break;case ee.onnx.TensorProto.DataType.INT64:de=te.int64Data;break;case ee.onnx.TensorProto.DataType.DOUBLE:de=te.doubleData;break;case ee.onnx.TensorProto.DataType.UINT32:case ee.onnx.TensorProto.DataType.UINT64:de=te.uint64Data;break;default:throw new Error("unspecific error")}if(de==null)throw new Error("failed to populate data from a tensorproto value");const pe=ce.data;if(pe.length!==de.length)throw new Error("array length mismatch");for(let fe=0;fe<de.length;fe++){const he=de[fe];ae.default.isLong(he)?pe[fe]=U(he,te.dataType):pe[fe]=he}}return ce}static fromData(te,se,le){return new Y(se,le,void 0,void 0,te)}static fromOrtTensor(te){if(!te)throw new Error("cannot construct Value from an empty tensor");const se=ie.ProtoUtil.tensorDimsFromORTFormat(te),le=ie.ProtoUtil.tensorDataTypeFromProto(te.dataType()),ce=new Y(se,le);if(le==="string")for(let de=0;de<te.stringDataLength();de++)ce.data[de]=te.stringData(de);else if(te.rawDataArray()&&typeof te.rawDataLength()=="number"&&te.rawDataLength()>0){const de=ce.data,pe=new DataView(te.rawDataArray().buffer,te.rawDataArray().byteOffset,te.rawDataLength()),fe=W(te.dataType()),he=te.rawDataLength()/fe;if(te.rawDataLength()%fe!=0)throw new Error("invalid buffer length");if(de.length!==he)throw new Error("buffer length mismatch");for(let ye=0;ye<he;ye++){const Te=K(pe,te.dataType(),ye*fe);de[ye]=Te}}return ce}}function W(J){switch(J){case ee.onnx.TensorProto.DataType.UINT8:case ee.onnx.TensorProto.DataType.INT8:case ee.onnx.TensorProto.DataType.BOOL:return 1;case ee.onnx.TensorProto.DataType.UINT16:case ee.onnx.TensorProto.DataType.INT16:return 2;case ee.onnx.TensorProto.DataType.FLOAT:case ee.onnx.TensorProto.DataType.INT32:case ee.onnx.TensorProto.DataType.UINT32:return 4;case ee.onnx.TensorProto.DataType.INT64:case ee.onnx.TensorProto.DataType.DOUBLE:case ee.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${ee.onnx.TensorProto.DataType[J]}`)}}function R(J){switch(J){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function U(J,te){if(te===ee.onnx.TensorProto.DataType.INT64||te===Z.TensorDataType.INT64){if(J.greaterThanOrEqual(2147483648)||J.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(te!==ee.onnx.TensorProto.DataType.UINT32&&te!==Z.TensorDataType.UINT32&&te!==ee.onnx.TensorProto.DataType.UINT64&&te!==Z.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${ee.onnx.TensorProto.DataType[te]}`);if(J.greaterThanOrEqual(4294967296)||J.lessThan(0))throw new TypeError("uint64 is not supported")}return J.toNumber()}function K(J,te,se){switch(te){case ee.onnx.TensorProto.DataType.BOOL:case ee.onnx.TensorProto.DataType.UINT8:return J.getUint8(se);case ee.onnx.TensorProto.DataType.INT8:return J.getInt8(se);case ee.onnx.TensorProto.DataType.UINT16:return J.getUint16(se,!0);case ee.onnx.TensorProto.DataType.INT16:return J.getInt16(se,!0);case ee.onnx.TensorProto.DataType.FLOAT:return J.getFloat32(se,!0);case ee.onnx.TensorProto.DataType.INT32:return J.getInt32(se,!0);case ee.onnx.TensorProto.DataType.UINT32:return J.getUint32(se,!0);case ee.onnx.TensorProto.DataType.INT64:return U(ae.default.fromBits(J.getUint32(se,!0),J.getUint32(se+4,!0),!1),te);case ee.onnx.TensorProto.DataType.DOUBLE:return J.getFloat64(se,!0);case ee.onnx.TensorProto.DataType.UINT64:return U(ae.default.fromBits(J.getUint32(se,!0),J.getUint32(se+4,!0),!0),te);default:throw new Error(`cannot read from DataView for type ${ee.onnx.TensorProto.DataType[te]}`)}}X.Tensor=Y},7273:function(ue,X,re){var ne=this&&this.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(X,"__esModule",{value:!0}),X.decodeUtf8String=X.MAX_CLIP=X.MIN_CLIP=X.PoolConvUtil=X.ReduceUtil=X.SplitUtil=X.MathUtil=X.ShapeUtil=X.LongUtil=X.ProtoUtil=X.GemmUtil=X.arrayCopyHelper=X.BroadcastUtil=X.MatMulUtil=X.ArrayUtil=X.assert=X.checkInputsShape=void 0;const Q=re(5686),ae=ne(re(1583)),oe=re(2446),ee=re(9240);X.checkInputsShape=function(te,...se){if(!te||te.length!==se.length)return!1;for(let le=0;le<te.length;le++)if(!te[le].dims||te[le].dims.length!==se[le])return!1;return!0},X.assert=function(te,se){if(!te)throw new Error(typeof se=="string"?se:se())},X.ArrayUtil=class{static arraysEqual(te,se){if(te.length!==se.length)return!1;for(let le=0;le<te.length;le++)if(te[le]!==se[le])return!1;return!0}};class ie{static preprocessInputShapes(se,le){return[se.length===1?[1,se[0]]:se,le.length===1?[le[0],1]:le]}static postprocessOutputShape(se,le,ce){le===1&&se.splice(se.length-2,1),ce===1&&se.pop()}static calcMatMulShape(se,le){return se[1]!==le[0]?void 0:[se[0],le[1]]}}X.MatMulUtil=ie;class Z{static calcShape(se,le,ce=!1){const de=se.length,pe=le.length;if(de===0)return le;if(pe===0)return se;const fe=Math.max(se.length,le.length),he=new Array(fe);if(ce){if(de<2||pe<2)return;const ye=ie.calcMatMulShape([se[de-2],se[de-1]],[le[pe-2],le[pe-1]]);if(ye===void 0)return;[he[fe-2],he[fe-1]]=ye}for(let ye=ce?3:1;ye<=fe;ye++){const Te=de-ye<0?1:se[de-ye],xe=pe-ye<0?1:le[pe-ye];if(Te!==xe&&Te>1&&xe>1)return;he[fe-ye]=Math.max(Te,xe)}return he}static index(se,le){const ce=new Array(le.length);return Z.fillIndex(se,le,ce),ce}static fillIndex(se,le,ce){const de=se.length-le.length;for(let pe=0;pe<le.length;pe++)ce[pe]=se[de+pe]%le[pe]}static calc(se,le,ce,de,pe){const fe=Z.calcShape(se.dims,le.dims);if(fe){if(de&&!R.areEqual(fe,se.dims))return;const he=R.size(fe),ye=de?se:new ee.Tensor(fe,pe||se.type);if(fe.length===0)ye.set([],ce(se.get([]),le.get([])));else{const Te=new Array(fe.length),xe=new Array(se.dims.length),Se=new Array(le.dims.length);let Pe,be=0,Ce=0,me=!1,we=!1;se.dims.length===0&&(be=se.get([]),me=!0),le.dims.length===0&&(Ce=le.get([]),we=!0);for(let Ae=0;Ae<he;Ae++){Pe=Ae;for(let Le=fe.length-1;Le>=0;Le--)Te[Le]=Pe%fe[Le],Pe=Math.floor(Pe/fe[Le]);me||(Z.fillIndex(Te,se.dims,xe),be=se.get(xe)),we||(Z.fillIndex(Te,le.dims,Se),Ce=le.get(Se)),ye.set(Te,ce(be,Ce))}}return ye}}static isValidBroadcast(se,le){const ce=se.length,de=le.length;if(ce>de)return!1;for(let pe=1;pe<=ce;pe++)if(se[ce-pe]!==1&&se[ce-pe]!==le[de-pe])return!1;return!0}static getBroadcastDims(se,le){const ce=se.length,de=[];for(let pe=0;pe<ce;pe++){const fe=ce-1-pe,he=se[fe]||1;(le[le.length-1-pe]||1)>1&&he===1&&de.unshift(fe)}return de}}X.BroadcastUtil=Z,X.arrayCopyHelper=function(te,se,le,ce,de){if(ce<0||ce>=se.length)throw new Error("sourceIndex out of bounds");if(le<0||le>=te.length)throw new Error("targetIndex out of bounds");if(ce+de>se.length)throw new Error("source indices to be copied are outside bounds");if(le+de>te.length)throw new Error("target array is too small to hold result");for(let pe=0;pe<de;pe++)te[le+pe]=se[ce+pe]},X.GemmUtil=class{static getShapeOfGemmResult(te,se,le,ce,de){if(te.length!==2||le.length!==2)throw new Error("shape need to be of size 2");let pe,fe,he;se?(pe=te[1],fe=te[0]):(pe=te[0],fe=te[1]);let ye=-1;if(ce?(he=le[0],ye=1):(he=le[1],ye=0),le[ye]!==fe)throw new Error("dimension mismatch");if(pe<=0||he<=0||fe<=0)throw new Error("invalid shape specified");if(de&&!Z.isValidBroadcast(de,[pe,he]))throw new Error("gemm: invalid bias shape for broadcast");return[pe,he,fe]}};class Y{static tensorDataTypeFromProto(se){switch(se){case oe.onnx.TensorProto.DataType.INT8:return"int8";case oe.onnx.TensorProto.DataType.UINT8:return"uint8";case oe.onnx.TensorProto.DataType.BOOL:return"bool";case oe.onnx.TensorProto.DataType.INT16:return"int16";case oe.onnx.TensorProto.DataType.UINT16:return"uint16";case oe.onnx.TensorProto.DataType.INT32:return"int32";case oe.onnx.TensorProto.DataType.UINT32:return"uint32";case oe.onnx.TensorProto.DataType.FLOAT:return"float32";case oe.onnx.TensorProto.DataType.DOUBLE:return"float64";case oe.onnx.TensorProto.DataType.STRING:return"string";case oe.onnx.TensorProto.DataType.INT64:return"int32";case oe.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${oe.onnx.TensorProto.DataType[se]}`)}}static tensorDataTypeStringToEnum(se){switch(se){case"int8":return oe.onnx.TensorProto.DataType.INT8;case"uint8":return oe.onnx.TensorProto.DataType.UINT8;case"bool":return oe.onnx.TensorProto.DataType.BOOL;case"int16":return oe.onnx.TensorProto.DataType.INT16;case"uint16":return oe.onnx.TensorProto.DataType.UINT16;case"int32":return oe.onnx.TensorProto.DataType.INT32;case"uint32":return oe.onnx.TensorProto.DataType.UINT32;case"float32":return oe.onnx.TensorProto.DataType.FLOAT;case"float64":return oe.onnx.TensorProto.DataType.DOUBLE;case"string":return oe.onnx.TensorProto.DataType.STRING;case"int64":return oe.onnx.TensorProto.DataType.INT64;case"uint64":return oe.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${se}`)}}static tensorDimsFromProto(se){return se.map(le=>ae.default.isLong(le)?le.toNumber():le)}static tensorValueTypeFromProto(se){return{tensorType:Y.tensorDataTypeFromProto(se.elemType),shape:{dims:Y.tensorDimsFromProto(se.shape.dim.map(le=>le.dimValue))}}}static tensorDimsFromORTFormat(se){const le=[];for(let ce=0;ce<se.dimsLength();ce++)le.push(W.longToNumber(se.dims(ce)));return le}static tensorAttributesFromORTFormat(se){const le=[];for(let ce=0;ce<se.attributesLength();ce++)le.push(se.attributes(ce));return le}}X.ProtoUtil=Y;class W{static longToNumber(se,le){return ae.default.isLong(se)?se.toNumber():se instanceof Q.flatbuffers.Long?ae.default.fromValue({low:se.low,high:se.high,unsigned:le!=null&&le}).toNumber():se}static isLong(se){return ae.default.isLong(se)||se instanceof Q.flatbuffers.Long}}X.LongUtil=W;class R{static size(se){return R.getSizeFromDimensionRange(se,0,se.length)}static sizeFromDimension(se,le){if(le<0||le>se.length)throw new Error(`invalid dimension of ${le} for sizeFromDimension as Tensor has ${se.length} dimensions.`);return R.getSizeFromDimensionRange(se,le,se.length)}static sizeToDimension(se,le){if(le<0||le>se.length)throw new Error(`invalid dimension of ${le} for sizeToDimension as Tensor has ${se.length} dimensions.`);return R.getSizeFromDimensionRange(se,0,le)}static getSizeFromDimensionRange(se,le,ce){let de=1;for(let pe=le;pe<ce;pe++){if(se[pe]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");de*=se[pe]}return de}static computeStrides(se){const le=se.length;if(le===0)return[];if(le===1)return[1];const ce=new Array(le);ce[le-1]=1,ce[le-2]=se[le-1];for(let de=le-3;de>=0;--de)ce[de]=ce[de+1]*se[de+1];return ce}static transpose(se){return se.slice().reverse()}static indicesToOffset(se,le,ce){ce===void 0&&(ce=se.length);let de=0;for(let pe=0;pe<ce;++pe)de+=le[pe]*se[pe];return de}static offsetToIndices(se,le){const ce=le.length;if(ce===0)return[];if(ce===1)return[se*le[0]];const de=new Array(le.length);for(let pe=0;pe<de.length-1;++pe)de[pe]=Math.floor(se/le[pe]),se-=de[pe]*le[pe];return de[de.length-1]=se,de}static normalizeAxis(se,le){if(se<-le&&se>=le)throw new Error("unsupported axis for this operation.");return se<0?se+le:se}static normalizeAxes(se,le){return se.map(ce=>this.normalizeAxis(ce,le))}static incrementIndex(se,le,ce){if(le.length===0||se.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(ce===void 0)ce=le.length;else if(ce<=0||ce>le.length)throw new Error("Incorrect axis to increment on");for(let de=ce-1;de>=0&&(se[de]++,!(se[de]<le[de]));--de)se[de]=0}static calculateReshapedDims(se,le){if(le.length===0){if(se.length===0||R.size(se)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const ce=le.length,de=new Array(ce);let pe=-1,fe=1;for(let ye=0;ye<ce;ye++){if(le[ye]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(le[ye]===-1){if(pe!==-1)throw new Error("at most one dimension in shape hints can be -1");pe=ye}else{if(le[ye]===0){if(ye>=se.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");de[ye]=se[ye]}else de[ye]=le[ye];fe*=de[ye]}}const he=R.size(se);if(pe!==-1){if(he%fe!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${se}] Output shape: [${le}]`);de[pe]=he/fe}else if(fe!==he)throw new Error("reshapedDims and originalDims don't have matching sizes");return de}static sortBasedOnPerm(se,le){return le?le.map(ce=>se[ce]):se.slice().reverse()}static padShape(se,le){const ce=se.length;return se.map((de,pe)=>de+le[pe]+le[pe+ce])}static areEqual(se,le){return se.length===le.length&&se.every((ce,de)=>ce===le[de])}static validateDimsAndCalcSize(se){if(se.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let le=1;for(const ce of se){if(!Number.isInteger(ce))throw new TypeError(`Invalid shape: ${ce} is not an integer`);if(ce<0||ce>2147483647)throw new TypeError(`Invalid shape: length ${ce} is not allowed`);le*=ce}return le}static flattenShape(se,le){le<0&&(le+=se.length);const ce=se.reduce((pe,fe)=>pe*fe,1),de=se.slice(le).reduce((pe,fe)=>pe*fe,1);return[ce/de,de]}static squeezeShape(se,le){const ce=new Array;le=R.normalizeAxes(le,se.length);for(let de=0;de<se.length;de++){const pe=le.indexOf(de)>=0;if(pe&&se[de]!==1)throw new Error("squeeze an axis of size different than 1");(le.length===0&&se[de]>1||le.length>0&&!pe)&&ce.push(se[de])}return ce}static unsqueezeShape(se,le){const ce=new Array(se.length+le.length);ce.fill(0);for(let pe=0;pe<le.length;pe++){const fe=R.normalizeAxis(le[pe],ce.length);if(fe>=ce.length)throw new Error("'axes' has an out of range axis");if(ce[fe]!==0)throw new Error("'axes' has a duplicate axis");ce[fe]=1}let de=0;for(let pe=0;pe<ce.length;pe++)ce[pe]===0&&(ce[pe]=se[de++]);if(de!==se.length)throw new Error("the unsqueezed dimension could not be established");return ce}}X.ShapeUtil=R,X.MathUtil=class{static sqr(te,se,le,ce,de){if(ce<0||ce>=se.length)throw new Error("sourceIndex out of bounds");if(le<0||le>=te.length)throw new Error("targetIndex out of bounds");if(ce+de>se.length)throw new Error("source indices to be copied are outside bounds");if(le+de>te.length)throw new Error("target array is too small to hold result");for(let pe=0;pe<de;pe++)te[le+pe]+=Math.pow(se[ce+pe],2)}static axpy(te,se,le,ce,de,pe){if(ce<0||ce>=se.length)throw new Error("sourceIndex out of bounds");if(le<0||le>=te.length)throw new Error("targetIndex out of bounds");if(ce+de>se.length)throw new Error("source indices to be copied are outside bounds");if(le+de>te.length)throw new Error("target array is too small to hold result");for(let fe=0;fe<de;fe++)te[le+fe]+=pe*se[ce+fe]}static powx(te,se,le,ce,de,pe){if(ce<0||ce>=se.length)throw new Error("sourceIndex out of bounds");if(le<0||le>=te.length)throw new Error("targetIndex out of bounds");if(ce+de>se.length)throw new Error("source indices to be copied are outside bounds");if(le+de>te.length)throw new Error("target array is too small to hold result");for(let fe=0;fe<de;fe++)te[le+fe]=Math.pow(se[ce+fe],pe)}static mul(te,se,le,ce,de){if(ce<0||ce>=se.length)throw new Error("sourceIndex out of bounds");if(le<0||le>=te.length)throw new Error("targetIndex out of bounds");if(ce+de>se.length)throw new Error("source indices to be copied are outside bounds");if(le+de>te.length)throw new Error("target array is too small to hold result");for(let pe=0;pe<de;pe++)te[le+pe]=se[ce+pe]*te[le+pe]}};class U{static splitShape(se,le,ce,de){if(ce.length===0){if(!de)throw new Error("need to know number of outputs when the 'split' attribute is not specified");U.determineSplit(se[le],de,ce)}const pe=[],fe=[0];for(let he=0;he<ce.length;++he){he!==0&&fe.push(fe[he-1]+ce[he-1]);const ye=se.slice();ye[le]=ce[he],pe.push(ye)}return[pe,fe]}static determineSplit(se,le,ce){if(se%le!=0)throw new Error("cannot split tensor to equal sized parts");for(let de=0;de<le;++de)ce.push(se/le)}}X.SplitUtil=U;class K{static calcReduce(se,le,ce,de,pe){const fe=se.dims.slice(0);le.length===0&&fe.forEach((be,Ce)=>le.push(Ce));const he=K.calcReduceShape(fe,le,!0),ye=R.size(he),Te=new ee.Tensor(he,se.type),xe=R.computeStrides(he),Se=R.computeStrides(fe),Pe=new Array(fe.length);for(let be=0;be<ye;be++){const Ce=R.offsetToIndices(be,xe);Z.fillIndex(Ce,fe,Pe),Te.set(Ce,K.calcReduceByAxis(se.numberData,le,fe,0,R.indicesToOffset(Pe,Se),de,pe))}return ce?Te:new ee.Tensor(K.calcReduceShape(fe,le,ce),Te.type,void 0,void 0,Te.data,Te.dataId)}static calcReduceByAxis(se,le,ce,de,pe,fe,he){let ye=0;if(de>=le.length)return fe(se[pe]);const Te=le[de],xe=Te>=ce.length?1:R.size(ce.slice(Te+1));for(let Se=0;Se<ce[Te];Se++)ye=Se===0?K.calcReduceByAxis(se,le,ce,de+1,pe,fe,he):he(ye,K.calcReduceByAxis(se,le,ce,de+1,pe,fe,he)),pe+=xe;return ye}static calcReduceShape(se,le,ce){const de=se.slice();for(let pe=0;pe<le.length;pe++)de[le[pe]]=ce?1:0;return de.filter(pe=>pe!==0)}}X.ReduceUtil=K;class J{static adjustPoolAttributes(se,le,ce,de,pe,fe){if(!se&&ce.length!==le.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(se)for(let he=0;he<le.length-2;he++)he>=ce.length?ce.push(le[he+2]):ce[he]=le[he+2];for(let he=0;he<ce.length;he++)if(he<de.length){if(de[he]<0)throw new Error("strides should be greater than or equal to 1")}else de.push(1);for(let he=0;he<ce.length;he++)if(he<pe.length){if(pe[he]<0)throw new Error("dilations should be greater than or equal to 1")}else pe.push(1);for(let he=0;he<2*ce.length;he++)if(he<fe.length){if(fe[he]<0)throw new Error("pad should be greater than or equal to 1")}else fe.push(0);for(let he=0;he<ce.length;he++){if(ce[he]<=0)throw new Error("kernel shapes need to be greater than 0");if(fe[he]>=ce[he]||fe[he+ce.length]>=ce[he])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(se,le,ce,de,pe,fe){if(fe){if(pe.length!==2*(se.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(le.length!==se.length-2)throw new Error("length of strides should be the length of data dimensions");if(de.length!==se.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let he=0;he<se.length-2;he++)J.adjustPadAndReturnShape(se[he+2],le[he],ce[he],de[he],pe,he,he+se.length-2,fe)}}static computePoolOutputShape(se,le,ce,de,pe,fe,he){if(le.length<=0)throw new Error("input shape must be of size greater than 0");const ye=[le[0],le[1]];return J.computeShapeHelper(se,le,ye,ce,de,pe,fe,he),ye}static computeConvOutputShape(se,le,ce,de,pe,fe,he){if(se.length<=0||le.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const ye=[se[0],le[0]];return J.computeShapeHelper(!1,se,ye,ce,de,pe,fe,he),ye}static computeShapeHelper(se,le,ce,de,pe,fe,he,ye){if(se)for(let Te=0;Te<le.length-2;Te++)ce.push(1);else for(let Te=0;Te<le.length-2;Te++)ce.push(J.adjustPadAndReturnShape(le[Te+2],de[Te],pe[Te],fe[Te],he,Te,Te+le.length-2,ye))}static adjustPadAndReturnShape(se,le,ce,de,pe,fe,he,ye){const Te=ce*(de-1)+1;if(!ye||ye==="NOTSET")return Math.floor((se+pe[fe]+pe[he]-Te)/le+1);switch(ye){case"VALID":return pe[fe]=0,pe[he]=0,Math.floor((se-Te)/le+1);case"SAME_LOWER":case"SAME_UPPER":if(ce!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const xe=((se+le-1)/le-1)*le+de-se;return pe[fe]=Math.floor(ye==="SAME_LOWER"?(xe+1)/2:xe/2),pe[he]=xe-pe[fe],Math.floor((se+xe-de)/le+1)}default:throw new Error("Unsupported AutoPad type")}}}X.PoolConvUtil=J,X.MIN_CLIP=-34028234663852886e22,X.MAX_CLIP=34028234663852886e22,X.decodeUtf8String=function(te){return new TextDecoder().decode(te)}},8408:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.version=void 0,X.version="1.16.3"},9544:function(ue,X,re){var ne,Q=this&&this.__createBinding||(Object.create?function(xe,Se,Pe,be){be===void 0&&(be=Pe);var Ce=Object.getOwnPropertyDescriptor(Se,Pe);Ce&&!("get"in Ce?!Se.__esModule:Ce.writable||Ce.configurable)||(Ce={enumerable:!0,get:function(){return Se[Pe]}}),Object.defineProperty(xe,be,Ce)}:function(xe,Se,Pe,be){be===void 0&&(be=Pe),xe[be]=Se[Pe]}),ae=this&&this.__setModuleDefault||(Object.create?function(xe,Se){Object.defineProperty(xe,"default",{enumerable:!0,value:Se})}:function(xe,Se){xe.default=Se}),oe=this&&this.__importStar||function(xe){if(xe&&xe.__esModule)return xe;var Se={};if(xe!=null)for(var Pe in xe)Pe!=="default"&&Object.prototype.hasOwnProperty.call(xe,Pe)&&Q(Se,xe,Pe);return ae(Se,xe),Se};Object.defineProperty(X,"__esModule",{value:!0}),X.endProfiling=X.run=X.releaseSession=X.createSession=X.createSessionFinalize=X.createSessionAllocate=X.initializeRuntime=X.initializeWebAssemblyInstance=void 0;const ee=re(2235),ie=oe(re(1259)),Z=re(263),Y=()=>!!ee.env.wasm.proxy&&typeof document<"u";let W,R,U,K=!1,J=!1,te=!1;const se=[],le=[],ce=[],de=[],pe=[],fe=[],he=()=>{if(K||!J||te||!W)throw new Error("worker not ready")},ye=xe=>{switch(xe.data.type){case"init-wasm":K=!1,xe.data.err?(te=!0,R[1](xe.data.err)):(J=!0,R[0]());break;case"init-ort":xe.data.err?U[1](xe.data.err):U[0]();break;case"create_allocate":xe.data.err?se.shift()[1](xe.data.err):se.shift()[0](xe.data.out);break;case"create_finalize":xe.data.err?le.shift()[1](xe.data.err):le.shift()[0](xe.data.out);break;case"create":xe.data.err?ce.shift()[1](xe.data.err):ce.shift()[0](xe.data.out);break;case"release":xe.data.err?de.shift()[1](xe.data.err):de.shift()[0]();break;case"run":xe.data.err?pe.shift()[1](xe.data.err):pe.shift()[0](xe.data.out);break;case"end-profiling":xe.data.err?fe.shift()[1](xe.data.err):fe.shift()[0]()}},Te=typeof document<"u"?(ne=document==null?void 0:document.currentScript)===null||ne===void 0?void 0:ne.src:void 0;X.initializeWebAssemblyInstance=async()=>{if(Y()){if(J)return;if(K)throw new Error("multiple calls to 'initWasm()' detected.");if(te)throw new Error("previous call to 'initWasm()' failed.");return K=!0,ee.env.wasm.wasmPaths===void 0&&Te&&Te.indexOf("blob:")!==0&&(ee.env.wasm.wasmPaths=Te.substr(0,+Te.lastIndexOf("/")+1)),new Promise((xe,Se)=>{W==null||W.terminate(),W=re(8050).Z(),W.onmessage=ye,R=[xe,Se];const Pe={type:"init-wasm",in:ee.env.wasm};W.postMessage(Pe)})}return(0,Z.initializeWebAssembly)(ee.env.wasm)},X.initializeRuntime=async xe=>{if(Y())return he(),new Promise((Se,Pe)=>{U=[Se,Pe];const be={type:"init-ort",in:xe};W.postMessage(be)});await ie.initRuntime(xe)},X.createSessionAllocate=async xe=>Y()?(he(),new Promise((Se,Pe)=>{se.push([Se,Pe]);const be={type:"create_allocate",in:{model:xe}};W.postMessage(be,[xe.buffer])})):ie.createSessionAllocate(xe),X.createSessionFinalize=async(xe,Se)=>Y()?(he(),new Promise((Pe,be)=>{le.push([Pe,be]);const Ce={type:"create_finalize",in:{modeldata:xe,options:Se}};W.postMessage(Ce)})):ie.createSessionFinalize(xe,Se),X.createSession=async(xe,Se)=>Y()?(he(),new Promise((Pe,be)=>{ce.push([Pe,be]);const Ce={type:"create",in:{model:xe,options:Se}};W.postMessage(Ce,[xe.buffer])})):ie.createSession(xe,Se),X.releaseSession=async xe=>{if(Y())return he(),new Promise((Se,Pe)=>{de.push([Se,Pe]);const be={type:"release",in:xe};W.postMessage(be)});ie.releaseSession(xe)},X.run=async(xe,Se,Pe,be,Ce)=>Y()?(he(),new Promise((me,we)=>{pe.push([me,we]);const Ae={type:"run",in:{sessionId:xe,inputIndices:Se,inputs:Pe,outputIndices:be,options:Ce}};W.postMessage(Ae,ie.extractTransferableBuffers(Pe))})):ie.run(xe,Se,Pe,be,Ce),X.endProfiling=async xe=>{if(Y())return he(),new Promise((Se,Pe)=>{fe.push([Se,Pe]);const be={type:"end-profiling",in:xe};W.postMessage(be)});ie.endProfiling(xe)}},7918:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.setRunOptions=void 0;const ne=re(263),Q=re(1497);X.setRunOptions=ae=>{const oe=(0,ne.getInstance)();let ee=0;const ie=[],Z=ae||{};try{if((ae==null?void 0:ae.logSeverityLevel)===void 0)Z.logSeverityLevel=2;else if(typeof ae.logSeverityLevel!="number"||!Number.isInteger(ae.logSeverityLevel)||ae.logSeverityLevel<0||ae.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${ae.logSeverityLevel}`);if((ae==null?void 0:ae.logVerbosityLevel)===void 0)Z.logVerbosityLevel=0;else if(typeof ae.logVerbosityLevel!="number"||!Number.isInteger(ae.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${ae.logVerbosityLevel}`);(ae==null?void 0:ae.terminate)===void 0&&(Z.terminate=!1);let Y=0;return(ae==null?void 0:ae.tag)!==void 0&&(Y=(0,Q.allocWasmString)(ae.tag,ie)),ee=oe._OrtCreateRunOptions(Z.logSeverityLevel,Z.logVerbosityLevel,!!Z.terminate,Y),ee===0&&(0,Q.checkLastError)("Can't create run options."),(ae==null?void 0:ae.extra)!==void 0&&(0,Q.iterateExtraOptions)(ae.extra,"",new WeakSet,(W,R)=>{const U=(0,Q.allocWasmString)(W,ie),K=(0,Q.allocWasmString)(R,ie);oe._OrtAddRunConfigEntry(ee,U,K)!==0&&(0,Q.checkLastError)(`Can't set a run config entry: ${W} - ${R}.`)}),[ee,ie]}catch(Y){throw ee!==0&&oe._OrtReleaseRunOptions(ee),ie.forEach(W=>oe._free(W)),Y}}},6640:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.OnnxruntimeWebAssemblySessionHandler=void 0;const ne=re(2806),Q=re(2235),ae=re(2850),oe=re(9544);let ee;X.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(ie){const Z=await fetch(ie);if(Z.status!==200)throw new Error(`failed to load model: ${ie}`);const Y=await Z.arrayBuffer();return(0,oe.createSessionAllocate)(new Uint8Array(Y))}async loadModel(ie,Z){if(ee||(await(0,oe.initializeRuntime)(Q.env),ee=!0),typeof ie=="string")if(typeof process<"u"&&process.versions&&process.versions.node){const Y=await(0,ae.promisify)(ne.readFile)(ie);[this.sessionId,this.inputNames,this.outputNames]=await(0,oe.createSession)(Y,Z)}else{const Y=await this.createSessionAllocate(ie);[this.sessionId,this.inputNames,this.outputNames]=await(0,oe.createSessionFinalize)(Y,Z)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,oe.createSession)(ie,Z)}async dispose(){return(0,oe.releaseSession)(this.sessionId)}async run(ie,Z,Y){const W=[],R=[];Object.entries(ie).forEach(te=>{const se=te[0],le=te[1],ce=this.inputNames.indexOf(se);if(ce===-1)throw new Error(`invalid input '${se}'`);W.push(le),R.push(ce)});const U=[];Object.entries(Z).forEach(te=>{const se=te[0],le=this.outputNames.indexOf(se);if(le===-1)throw new Error(`invalid output '${se}'`);U.push(le)});const K=await(0,oe.run)(this.sessionId,R,W.map(te=>[te.type,te.dims,te.data]),U,Y),J={};for(let te=0;te<K.length;te++)J[this.outputNames[U[te]]]=new Q.Tensor(K[te][0],K[te][2],K[te][1]);return J}startProfiling(){}endProfiling(){(0,oe.endProfiling)(this.sessionId)}}},7622:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.setSessionOptions=void 0;const ne=re(263),Q=re(1497);X.setSessionOptions=ae=>{var oe,ee,ie,Z;const Y=(0,ne.getInstance)();let W=0;const R=[],U=ae||{};(K=>{K.extra||(K.extra={}),K.extra.session||(K.extra.session={});const J=K.extra.session;J.use_ort_model_bytes_directly||(J.use_ort_model_bytes_directly="1"),K.executionProviders&&K.executionProviders.some(te=>(typeof te=="string"?te:te.name)==="webgpu")&&(K.enableMemPattern=!1)})(U);try{const K=(de=>{switch(de){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${de}`)}})((oe=U.graphOptimizationLevel)!==null&&oe!==void 0?oe:"all"),J=(de=>{switch(de){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${de}`)}})((ee=U.executionMode)!==null&&ee!==void 0?ee:"sequential"),te=typeof U.logId=="string"?(0,Q.allocWasmString)(U.logId,R):0,se=(ie=U.logSeverityLevel)!==null&&ie!==void 0?ie:2;if(!Number.isInteger(se)||se<0||se>4)throw new Error(`log serverity level is not valid: ${se}`);const le=(Z=U.logVerbosityLevel)!==null&&Z!==void 0?Z:0;if(!Number.isInteger(le)||le<0||le>4)throw new Error(`log verbosity level is not valid: ${le}`);const ce=typeof U.optimizedModelFilePath=="string"?(0,Q.allocWasmString)(U.optimizedModelFilePath,R):0;return W=Y._OrtCreateSessionOptions(K,!!U.enableCpuMemArena,!!U.enableMemPattern,J,!!U.enableProfiling,0,te,se,le,ce),W===0&&(0,Q.checkLastError)("Can't create session options."),U.executionProviders&&((de,pe,fe)=>{for(const he of pe){let ye=typeof he=="string"?he:he.name;switch(ye){case"xnnpack":ye="XNNPACK";break;case"webnn":if(ye="WEBNN",typeof he!="string"){const xe=he;if(xe!=null&&xe.deviceType){const Se=(0,Q.allocWasmString)("deviceType",fe),Pe=(0,Q.allocWasmString)(xe.deviceType,fe);(0,ne.getInstance)()._OrtAddSessionConfigEntry(de,Se,Pe)!==0&&(0,Q.checkLastError)(`Can't set a session config entry: 'deviceType' - ${xe.deviceType}.`)}if(xe!=null&&xe.powerPreference){const Se=(0,Q.allocWasmString)("powerPreference",fe),Pe=(0,Q.allocWasmString)(xe.powerPreference,fe);(0,ne.getInstance)()._OrtAddSessionConfigEntry(de,Se,Pe)!==0&&(0,Q.checkLastError)(`Can't set a session config entry: 'powerPreference' - ${xe.powerPreference}.`)}}break;case"webgpu":ye="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${ye}`)}const Te=(0,Q.allocWasmString)(ye,fe);(0,ne.getInstance)()._OrtAppendExecutionProvider(de,Te)!==0&&(0,Q.checkLastError)(`Can't append execution provider: ${ye}.`)}})(W,U.executionProviders,R),U.extra!==void 0&&(0,Q.iterateExtraOptions)(U.extra,"",new WeakSet,(de,pe)=>{const fe=(0,Q.allocWasmString)(de,R),he=(0,Q.allocWasmString)(pe,R);Y._OrtAddSessionConfigEntry(W,fe,he)!==0&&(0,Q.checkLastError)(`Can't set a session config entry: ${de} - ${pe}.`)}),[W,R]}catch(K){throw W!==0&&Y._OrtReleaseSessionOptions(W),R.forEach(J=>Y._free(J)),K}}},7917:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.logLevelStringToEnum=X.tensorTypeToTypedArrayConstructor=X.getTensorElementSize=X.tensorDataTypeEnumToString=X.tensorDataTypeStringToEnum=void 0,X.tensorDataTypeStringToEnum=re=>{switch(re){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${re}`)}},X.tensorDataTypeEnumToString=re=>{switch(re){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${re}`)}},X.getTensorElementSize=re=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][re],X.tensorTypeToTypedArrayConstructor=re=>{switch(re){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${re}`)}},X.logLevelStringToEnum=re=>{switch(re){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${re}`)}}},1259:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.extractTransferableBuffers=X.endProfiling=X.run=X.releaseSession=X.createSession=X.createSessionFinalize=X.createSessionAllocate=X.initRuntime=void 0;const ne=re(7918),Q=re(7622),ae=re(7917),oe=re(263),ee=re(1497);X.initRuntime=async Z=>{var Y,W;Y=Z.wasm.numThreads,W=(0,ae.logLevelStringToEnum)(Z.logLevel),(0,oe.getInstance)()._OrtInit(Y,W)!==0&&(0,ee.checkLastError)("Can't initialize onnxruntime.")};const ie=new Map;X.createSessionAllocate=Z=>{const Y=(0,oe.getInstance)(),W=Y._malloc(Z.byteLength);if(W===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${Z.byteLength}.`);return Y.HEAPU8.set(Z,W),[W,Z.byteLength]},X.createSessionFinalize=(Z,Y)=>{const W=(0,oe.getInstance)();let R=0,U=0,K=[];const J=[],te=[];try{[U,K]=(0,Q.setSessionOptions)(Y),R=W._OrtCreateSession(Z[0],Z[1],U),R===0&&(0,ee.checkLastError)("Can't create a session.");const[se,le]=(pe=>{const fe=(0,oe.getInstance)(),he=fe.stackSave();try{const ye=fe.stackAlloc(8);return fe._OrtGetInputOutputCount(pe,ye,ye+4)!==0&&(0,ee.checkLastError)("Can't get session input/output count."),[fe.HEAP32[ye/4],fe.HEAP32[ye/4+1]]}finally{fe.stackRestore(he)}})(R),ce=[],de=[];for(let pe=0;pe<se;pe++){const fe=W._OrtGetInputName(R,pe);fe===0&&(0,ee.checkLastError)("Can't get an input name."),J.push(fe),ce.push(W.UTF8ToString(fe))}for(let pe=0;pe<le;pe++){const fe=W._OrtGetOutputName(R,pe);fe===0&&(0,ee.checkLastError)("Can't get an output name."),te.push(fe),de.push(W.UTF8ToString(fe))}return ie.set(R,[R,J,te]),[R,ce,de]}catch(se){throw J.forEach(le=>W._OrtFree(le)),te.forEach(le=>W._OrtFree(le)),R!==0&&W._OrtReleaseSession(R),se}finally{W._free(Z[0]),U!==0&&W._OrtReleaseSessionOptions(U),K.forEach(se=>W._free(se))}},X.createSession=(Z,Y)=>{const W=(0,X.createSessionAllocate)(Z);return(0,X.createSessionFinalize)(W,Y)},X.releaseSession=Z=>{const Y=(0,oe.getInstance)(),W=ie.get(Z);if(!W)throw new Error(`cannot release session. invalid session id: ${Z}`);const[R,U,K]=W;U.forEach(J=>Y._OrtFree(J)),K.forEach(J=>Y._OrtFree(J)),Y._OrtReleaseSession(R),ie.delete(Z)},X.run=async(Z,Y,W,R,U)=>{const K=(0,oe.getInstance)(),J=ie.get(Z);if(!J)throw new Error(`cannot run inference. invalid session id: ${Z}`);const[te,se,le]=J,ce=Y.length,de=R.length;let pe=0,fe=[];const he=[],ye=[];try{[pe,fe]=(0,ne.setRunOptions)(U);for(let Ce=0;Ce<ce;Ce++){const me=W[Ce][0],we=W[Ce][1],Ae=W[Ce][2];let Le,Fe;if(Array.isArray(Ae)){Fe=4*Ae.length,Le=K._malloc(Fe),ye.push(Le);let Ve=Le/4;for(let Ge=0;Ge<Ae.length;Ge++){if(typeof Ae[Ge]!="string")throw new TypeError(`tensor data at index ${Ge} is not a string`);K.HEAPU32[Ve++]=(0,ee.allocWasmString)(Ae[Ge],ye)}}else Fe=Ae.byteLength,Le=K._malloc(Fe),ye.push(Le),K.HEAPU8.set(new Uint8Array(Ae.buffer,Ae.byteOffset,Fe),Le);const Be=K.stackSave(),je=K.stackAlloc(4*we.length);try{let Ve=je/4;we.forEach(We=>K.HEAP32[Ve++]=We);const Ge=K._OrtCreateTensor((0,ae.tensorDataTypeStringToEnum)(me),Le,Fe,je,we.length);Ge===0&&(0,ee.checkLastError)(`Can't create tensor for input[${Ce}].`),he.push(Ge)}finally{K.stackRestore(Be)}}const Te=K.stackSave(),xe=K.stackAlloc(4*ce),Se=K.stackAlloc(4*ce),Pe=K.stackAlloc(4*de),be=K.stackAlloc(4*de);try{let Ce=xe/4,me=Se/4,we=Pe/4,Ae=be/4;for(let je=0;je<ce;je++)K.HEAPU32[Ce++]=he[je],K.HEAPU32[me++]=se[Y[je]];for(let je=0;je<de;je++)K.HEAPU32[we++]=0,K.HEAPU32[Ae++]=le[R[je]];let Le=K._OrtRun(te,Se,xe,ce,be,de,Pe,pe);const Fe=K.jsepRunPromise;Fe&&Fe.then!==void 0&&(Le=await Fe);const Be=[];Le!==0&&(0,ee.checkLastError)("failed to call OrtRun().");for(let je=0;je<de;je++){const Ve=K.HEAPU32[Pe/4+je],Ge=K.stackSave(),We=K.stackAlloc(16);let Ke,Ye=0;try{Le=K._OrtGetTensorData(Ve,We,We+4,We+8,We+12),Le!==0&&(0,ee.checkLastError)(`Can't access output tensor data on index ${je}.`);let Qe=We/4;const at=K.HEAPU32[Qe++];Ye=K.HEAPU32[Qe++];const ft=K.HEAPU32[Qe++],Ot=K.HEAPU32[Qe++],st=[];for(let et=0;et<Ot;et++)st.push(K.HEAPU32[ft/4+et]);K._OrtFree(ft);const Tt=st.length===0?1:st.reduce((et,ut)=>et*ut);if(Ke=(0,ae.tensorDataTypeEnumToString)(at),Ke==="string"){const et=[];let ut=Ye/4;for(let mt=0;mt<Tt;mt++){const ht=K.HEAPU32[ut++],bt=mt===Tt-1?void 0:K.HEAPU32[ut]-ht;et.push(K.UTF8ToString(ht,bt))}Be.push([Ke,st,et])}else{const et=new((0,ae.tensorTypeToTypedArrayConstructor)(Ke))(Tt);new Uint8Array(et.buffer,et.byteOffset,et.byteLength).set(K.HEAPU8.subarray(Ye,Ye+et.byteLength)),Be.push([Ke,st,et])}}finally{K.stackRestore(Ge),Ke==="string"&&Ye&&K._free(Ye),K._OrtReleaseTensor(Ve)}}return Be}finally{K.stackRestore(Te)}}finally{he.forEach(Te=>K._OrtReleaseTensor(Te)),ye.forEach(Te=>K._free(Te)),pe!==0&&K._OrtReleaseRunOptions(pe),fe.forEach(Te=>K._free(Te))}},X.endProfiling=Z=>{const Y=(0,oe.getInstance)(),W=ie.get(Z);if(!W)throw new Error("invalid session id");const R=W[0],U=Y._OrtEndProfiling(R);U===0&&(0,ee.checkLastError)("Can't get an profile file name."),Y._OrtFree(U)},X.extractTransferableBuffers=Z=>{const Y=[];for(const W of Z){const R=W[2];!Array.isArray(R)&&R.buffer&&Y.push(R.buffer)}return Y}},263:function(ue,X,re){var ne=this&&this.__createBinding||(Object.create?function(U,K,J,te){te===void 0&&(te=J);var se=Object.getOwnPropertyDescriptor(K,J);se&&!("get"in se?!K.__esModule:se.writable||se.configurable)||(se={enumerable:!0,get:function(){return K[J]}}),Object.defineProperty(U,te,se)}:function(U,K,J,te){te===void 0&&(te=J),U[te]=K[J]}),Q=this&&this.__setModuleDefault||(Object.create?function(U,K){Object.defineProperty(U,"default",{enumerable:!0,value:K})}:function(U,K){U.default=K}),ae=this&&this.__importStar||function(U){if(U&&U.__esModule)return U;var K={};if(U!=null)for(var J in U)J!=="default"&&Object.prototype.hasOwnProperty.call(U,J)&&ne(K,U,J);return Q(K,U),K};Object.defineProperty(X,"__esModule",{value:!0}),X.dispose=X.getInstance=X.initializeWebAssembly=void 0;const oe=ae(re(6449)),ee=re(932),ie=re(3474);let Z,Y=!1,W=!1,R=!1;X.initializeWebAssembly=async U=>{if(Y)return Promise.resolve();if(W)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(R)throw new Error("previous call to 'initializeWebAssembly()' failed.");W=!0;const K=U.initTimeout,J=U.numThreads,te=U.simd,se=J>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),le=te&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),ce=U.wasmPaths,de=typeof ce=="string"?ce:void 0,pe=((Te,xe)=>xe?Te?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":Te?"ort-wasm-simd.wasm":"ort-wasm.wasm")(le,se),fe=typeof ce=="object"?ce[pe]:void 0;let he=!1;const ye=[];if(K>0&&ye.push(new Promise(Te=>{setTimeout(()=>{he=!0,Te()},K)})),ye.push(new Promise((Te,xe)=>{const Se=se?ie:ee,Pe={locateFile:(be,Ce)=>se&&be.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([re(4154)],{type:"text/javascript"})):be.endsWith(".wasm")?fe||(de??Ce)+pe:Ce+be};if(se)if(typeof Blob>"u")Pe.mainScriptUrlOrBlob=oe.join(__dirname,"ort-wasm-threaded.js");else{const be=`var ortWasmThreaded=(function(){var _scriptDir;return ${Se.toString()}})();`;Pe.mainScriptUrlOrBlob=new Blob([be],{type:"text/javascript"})}Se(Pe).then(be=>{W=!1,Y=!0,Z=be,Te()},be=>{W=!1,R=!0,xe(be)})})),await Promise.race(ye),he)throw new Error(`WebAssembly backend initializing failed due to timeout: ${K}ms`)},X.getInstance=()=>{if(Y&&Z)return Z;throw new Error("WebAssembly is not initialized yet.")},X.dispose=()=>{var U;!Y||W||R||(W=!0,(U=Z.PThread)===null||U===void 0||U.terminateAllThreads(),Z=void 0,W=!1,Y=!1,R=!0)}},1497:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.checkLastError=X.iterateExtraOptions=X.allocWasmString=void 0;const ne=re(263);X.allocWasmString=(Q,ae)=>{const oe=(0,ne.getInstance)(),ee=oe.lengthBytesUTF8(Q)+1,ie=oe._malloc(ee);return oe.stringToUTF8(Q,ie,ee),ae.push(ie),ie},X.iterateExtraOptions=(Q,ae,oe,ee)=>{if(typeof Q=="object"&&Q!==null){if(oe.has(Q))throw new Error("Circular reference in options");oe.add(Q)}Object.entries(Q).forEach(([ie,Z])=>{const Y=ae?ae+ie:ie;if(typeof Z=="object")(0,X.iterateExtraOptions)(Z,Y+".",oe,ee);else if(typeof Z=="string"||typeof Z=="number")ee(Y,Z.toString());else{if(typeof Z!="boolean")throw new Error("Can't handle extra config type: "+typeof Z);ee(Y,Z?"1":"0")}})},X.checkLastError=Q=>{const ae=(0,ne.getInstance)(),oe=ae.stackSave();try{const ee=ae.stackAlloc(8);ae._OrtGetLastError(ee,ee+4);const ie=ae.HEAP32[ee/4],Z=ae.HEAPU32[ee/4+1],Y=Z?ae.UTF8ToString(Z):"";throw new Error(`${Q} ERROR_CODE: ${ie}, ERROR_MESSAGE: ${Y}`)}finally{ae.stackRestore(oe)}}},8050:(ue,X,re)=>{re.d(X,{Z:()=>ae});var ne=re(6614),Q=re.n(ne);function ae(){return Q()('/*!\n* ONNX Runtime Web v1.16.3\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const n=r(263),a=r(497);t.setRunOptions=e=>{const t=(0,n.getInstance)();let r=0;const o=[],i=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))i.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))i.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(i.terminate=!1);let n=0;return void 0!==(null==e?void 0:e.tag)&&(n=(0,a.allocWasmString)(e.tag,o)),r=t._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,n),0===r&&(0,a.checkLastError)("Can\'t create run options."),void 0!==(null==e?void 0:e.extra)&&(0,a.iterateExtraOptions)(e.extra,"",new WeakSet,((e,n)=>{const i=(0,a.allocWasmString)(e,o),s=(0,a.allocWasmString)(n,o);0!==t._OrtAddRunConfigEntry(r,i,s)&&(0,a.checkLastError)(`Can\'t set a run config entry: ${e} - ${n}.`)})),[r,o]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),o.forEach((e=>t._free(e))),e}}},622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const n=r(263),a=r(497);t.setSessionOptions=e=>{var t,r,o,i;const s=(0,n.getInstance)();let u=0;const c=[],l=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(l);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=l.graphOptimizationLevel)&&void 0!==t?t:"all"),f=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(r=l.executionMode)&&void 0!==r?r:"sequential"),d="string"==typeof l.logId?(0,a.allocWasmString)(l.logId,c):0,p=null!==(o=l.logSeverityLevel)&&void 0!==o?o:2;if(!Number.isInteger(p)||p<0||p>4)throw new Error(`log serverity level is not valid: ${p}`);const g=null!==(i=l.logVerbosityLevel)&&void 0!==i?i:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof l.optimizedModelFilePath?(0,a.allocWasmString)(l.optimizedModelFilePath,c):0;return u=s._OrtCreateSessionOptions(e,!!l.enableCpuMemArena,!!l.enableMemPattern,f,!!l.enableProfiling,0,d,p,g,h),0===u&&(0,a.checkLastError)("Can\'t create session options."),l.executionProviders&&((e,t,r)=>{for(const o of t){let t="string"==typeof o?o:o.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof o){const t=o;if(null==t?void 0:t.deviceType){const o=(0,a.allocWasmString)("deviceType",r),i=(0,a.allocWasmString)(t.deviceType,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'deviceType\' - ${t.deviceType}.`)}if(null==t?void 0:t.powerPreference){const o=(0,a.allocWasmString)("powerPreference",r),i=(0,a.allocWasmString)(t.powerPreference,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'powerPreference\' - ${t.powerPreference}.`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`)}const i=(0,a.allocWasmString)(t,r);0!==(0,n.getInstance)()._OrtAppendExecutionProvider(e,i)&&(0,a.checkLastError)(`Can\'t append execution provider: ${t}.`)}})(u,l.executionProviders,c),void 0!==l.extra&&(0,a.iterateExtraOptions)(l.extra,"",new WeakSet,((e,t)=>{const r=(0,a.allocWasmString)(e,c),n=(0,a.allocWasmString)(t,c);0!==s._OrtAddSessionConfigEntry(u,r,n)&&(0,a.checkLastError)(`Can\'t set a session config entry: ${e} - ${t}.`)})),[u,c]}catch(e){throw 0!==u&&s._OrtReleaseSessionOptions(u),c.forEach((e=>s._free(e))),e}}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const n=r(918),a=r(622),o=r(917),i=r(263),s=r(497);t.initRuntime=async e=>{var t,r;t=e.wasm.numThreads,r=(0,o.logLevelStringToEnum)(e.logLevel),0!==(0,i.getInstance)()._OrtInit(t,r)&&(0,s.checkLastError)("Can\'t initialize onnxruntime.")};const u=new Map;t.createSessionAllocate=e=>{const t=(0,i.getInstance)(),r=t._malloc(e.byteLength);if(0===r)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},t.createSessionFinalize=(e,t)=>{const r=(0,i.getInstance)();let n=0,o=0,c=[];const l=[],f=[];try{[o,c]=(0,a.setSessionOptions)(t),n=r._OrtCreateSession(e[0],e[1],o),0===n&&(0,s.checkLastError)("Can\'t create a session.");const[d,p]=(e=>{const t=(0,i.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,r,r+4)&&(0,s.checkLastError)("Can\'t get session input/output count."),[t.HEAP32[r/4],t.HEAP32[r/4+1]]}finally{t.stackRestore(r)}})(n),g=[],h=[];for(let e=0;e<d;e++){const t=r._OrtGetInputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an input name."),l.push(t),g.push(r.UTF8ToString(t))}for(let e=0;e<p;e++){const t=r._OrtGetOutputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an output name."),f.push(t),h.push(r.UTF8ToString(t))}return u.set(n,[n,l,f]),[n,g,h]}catch(e){throw l.forEach((e=>r._OrtFree(e))),f.forEach((e=>r._OrtFree(e))),0!==n&&r._OrtReleaseSession(n),e}finally{r._free(e[0]),0!==o&&r._OrtReleaseSessionOptions(o),c.forEach((e=>r._free(e)))}},t.createSession=(e,r)=>{const n=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(n,r)},t.releaseSession=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);const[n,a,o]=r;a.forEach((e=>t._OrtFree(e))),o.forEach((e=>t._OrtFree(e))),t._OrtReleaseSession(n),u.delete(e)},t.run=async(e,t,r,a,c)=>{const l=(0,i.getInstance)(),f=u.get(e);if(!f)throw new Error(`cannot run inference. invalid session id: ${e}`);const[d,p,g]=f,h=t.length,m=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,n.setRunOptions)(c);for(let e=0;e<h;e++){const t=r[e][0],n=r[e][1],a=r[e][2];let i,u;if(Array.isArray(a)){u=4*a.length,i=l._malloc(u),w.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,s.allocWasmString)(a[t],w)}}else u=a.byteLength,i=l._malloc(u),w.push(i),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),i);const c=l.stackSave(),f=l.stackAlloc(4*n.length);try{let r=f/4;n.forEach((e=>l.HEAP32[r++]=e));const a=l._OrtCreateTensor((0,o.tensorDataTypeStringToEnum)(t),i,u,f,n.length);0===a&&(0,s.checkLastError)(`Can\'t create tensor for input[${e}].`),b.push(a)}finally{l.stackRestore(c)}}const e=l.stackSave(),i=l.stackAlloc(4*h),u=l.stackAlloc(4*h),f=l.stackAlloc(4*m),_=l.stackAlloc(4*m);try{let e=i/4,r=u/4,n=f/4,c=_/4;for(let n=0;n<h;n++)l.HEAPU32[e++]=b[n],l.HEAPU32[r++]=p[t[n]];for(let e=0;e<m;e++)l.HEAPU32[n++]=0,l.HEAPU32[c++]=g[a[e]];let v=l._OrtRun(d,u,i,h,_,m,f,y);const w=l.jsepRunPromise;w&&void 0!==w.then&&(v=await w);const O=[];0!==v&&(0,s.checkLastError)("failed to call OrtRun().");for(let e=0;e<m;e++){const t=l.HEAPU32[f/4+e],r=l.stackSave(),n=l.stackAlloc(16);let a,i=0;try{v=l._OrtGetTensorData(t,n,n+4,n+8,n+12),0!==v&&(0,s.checkLastError)(`Can\'t access output tensor data on index ${e}.`);let r=n/4;const u=l.HEAPU32[r++];i=l.HEAPU32[r++];const c=l.HEAPU32[r++],f=l.HEAPU32[r++],d=[];for(let e=0;e<f;e++)d.push(l.HEAPU32[c/4+e]);l._OrtFree(c);const p=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=(0,o.tensorDataTypeEnumToString)(u),"string"===a){const e=[];let t=i/4;for(let r=0;r<p;r++){const n=l.HEAPU32[t++],a=r===p-1?void 0:l.HEAPU32[t]-n;e.push(l.UTF8ToString(n,a))}O.push([a,d,e])}else{const e=new((0,o.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(i,i+e.byteLength)),O.push([a,d,e])}}finally{l.stackRestore(r),"string"===a&&i&&l._free(i),l._OrtReleaseTensor(t)}}return O}finally{l.stackRestore(e)}}finally{b.forEach((e=>l._OrtReleaseTensor(e))),w.forEach((e=>l._free(e))),0!==y&&l._OrtReleaseRunOptions(y),v.forEach((e=>l._free(e)))}},t.endProfiling=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error("invalid session id");const n=r[0],a=t._OrtEndProfiling(n);0===a&&(0,s.checkLastError)("Can\'t get an profile file name."),t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const r of e){const e=r[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(r(449)),s=r(932),u=r(474);let c,l=!1,f=!1,d=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,n=e.numThreads,a=e.simd,o=n>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),p=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g=e.wasmPaths,h="string"==typeof g?g:void 0,m=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(p,o),y="object"==typeof g?g[m]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const n=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([r(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=h?h:t)+m:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join(__dirname,"ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${n.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,d=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||d||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,d=!0)}},497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkLastError=t.iterateExtraOptions=t.allocWasmString=void 0;const n=r(263);t.allocWasmString=(e,t)=>{const r=(0,n.getInstance)(),a=r.lengthBytesUTF8(e)+1,o=r._malloc(a);return r.stringToUTF8(e,o,a),t.push(o),o},t.iterateExtraOptions=(e,r,n,a)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((([e,o])=>{const i=r?r+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",n,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))},t.checkLastError=e=>{const t=(0,n.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);t._OrtGetLastError(r,r+4);const n=t.HEAP32[r/4],a=t.HEAPU32[r/4+1],o=a?t.UTF8ToString(a):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${o}`)}finally{t.stackRestore(r)}}},474:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){function t(){return k.buffer!=x.buffer&&Y(),x}function n(){return k.buffer!=x.buffer&&Y(),I}function a(){return k.buffer!=x.buffer&&Y(),U}function o(){return k.buffer!=x.buffer&&Y(),L}function i(){return k.buffer!=x.buffer&&Y(),W}var s,u,c=e;c.ready=new Promise(((e,t)=>{s=e,u=t}));var l,f,d,p=Object.assign({},c),g="./this.program",h=(e,t)=>{throw t},m="object"==typeof window,y="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b=c.ENVIRONMENT_IS_PTHREAD||!1,w="";function _(e){return c.locateFile?c.locateFile(e,w):w+e}if(v){var O=r(384),S=r(908);let t;w=y?S.dirname(w)+"/":__dirname+"/",l=(e,t)=>(e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFileSync(e,t?void 0:"utf8")),d=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!c.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),h=(e,t)=>{throw process.exitCode=e,t},c.inspect=()=>"[Emscripten Module object]";try{t=r(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}global.Worker=t.Worker}else(m||y)&&(y?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),_scriptDir&&(w=_scriptDir),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}));v&&"undefined"==typeof performance&&(global.performance=r(953).performance);var E=console.log.bind(console),A=console.error.bind(console);v&&(E=(...e)=>O.writeSync(1,e.join(" ")+"\\n"),A=(...e)=>O.writeSync(2,e.join(" ")+"\\n"));var T,M=c.print||E,R=c.printErr||A;Object.assign(c,p),p=null,c.thisProgram&&(g=c.thisProgram),c.quit&&(h=c.quit),c.wasmBinary&&(T=c.wasmBinary);var F=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&te("no native wasm support detected");var k,C,P,D,x,I,U,L,W,H=!1;function Y(){var e=k.buffer;c.HEAP8=x=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=U=new Int32Array(e),c.HEAPU8=I=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=L=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=W=new Float64Array(e)}var j=c.INITIAL_MEMORY||16777216;if(5242880<=j||te("INITIAL_MEMORY should be larger than STACK_SIZE, was "+j+"! (STACK_SIZE=5242880)"),b)k=c.wasmMemory;else if(c.wasmMemory)k=c.wasmMemory;else if(!((k=new WebAssembly.Memory({initial:j/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw R("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),v&&R("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Y(),j=k.buffer.byteLength;var z,G=[],N=[],B=[],$=0;function q(){return F||0<$}var V,J,X=0,K=null,Z=null;function Q(){X++,c.monitorRunDependencies&&c.monitorRunDependencies(X)}function ee(){if(X--,c.monitorRunDependencies&&c.monitorRunDependencies(X),0==X&&(null!==K&&(clearInterval(K),K=null),Z)){var e=Z;Z=null,e()}}function te(e){throw c.onAbort&&c.onAbort(e),R(e="Aborted("+e+")"),H=!0,D=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}function re(e){return e.startsWith("data:application/octet-stream;base64,")}function ne(e){if(e==V&&T)return new Uint8Array(T);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}function ae(e,t,r){return function(e){if(!T&&(m||y)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>ne(e)));if(f)return new Promise(((t,r)=>{f(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>ne(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{R("failed to asynchronously prepare wasm: "+e),te(e)}))}function oe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function ie(e){e.terminate(),e.onmessage=()=>{}}function se(e){(e=ge.Fa[e])||te(),ge.fb(e)}function ue(e){var t=ge.Za();if(!t)return 6;ge.Ia.push(t),ge.Fa[e.Ha]=t,t.Ha=e.Ha;var r={cmd:"run",start_routine:e.gb,arg:e.Ya,pthread_ptr:e.Ha};return v&&t.unref(),t.postMessage(r,e.mb),0}re(V="ort-wasm-threaded.wasm")||(V=_(V));var ce="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,le=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&ce)return ce.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},fe=(e,t)=>(e>>>=0)?le(n(),e,t):"";function de(e){if(b)return qe(1,1,e);D=e,q()||(ge.hb(),c.onExit&&c.onExit(e),H=!0),h(e,new oe(e))}var pe=e=>{if(D=e,b)throw me(e),"unwind";de(e)},ge={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){b?ge.ab():ge.$a()},$a:function(){G.unshift((()=>{Q(),ge.bb((()=>ee()))}))},ab:function(){ge.receiveObjectTransfer=ge.eb,ge.threadInitTLS=ge.Sa,ge.setExitStatus=ge.Ra,F=!1},Ra:function(e){D=e},rb:["$terminateWorker"],hb:function(){for(var e of ge.Ia)ie(e);for(e of ge.La)ie(e);ge.La=[],ge.Ia=[],ge.Fa=[]},fb:function(e){var t=e.Ha;delete ge.Fa[t],ge.La.push(e),ge.Ia.splice(ge.Ia.indexOf(e),1),e.Ha=0,yt(t)},eb:function(){},Sa:function(){ge.Ta.forEach((e=>e()))},cb:e=>new Promise((t=>{e.onmessage=r=>{var n=(r=r.data).cmd;if(r.targetThread&&r.targetThread!=dt()){var a=ge.Fa[r.qb];a?a.postMessage(r,r.transferList):R(\'Internal error! Worker sent a message "\'+n+\'" to target pthread \'+r.targetThread+", but that thread no longer exists!")}else"checkMailbox"===n?He():"spawnThread"===n?ue(r):"cleanupThread"===n?se(r.thread):"killThread"===n?(r=r.thread,n=ge.Fa[r],delete ge.Fa[r],ie(n),yt(r),ge.Ia.splice(ge.Ia.indexOf(n),1),n.Ha=0):"cancelThread"===n?ge.Fa[r.thread].postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,t(e)):"alert"===n?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?e.postMessage(r):"callHandler"===n?c[r.handler](...r.args):n&&R("worker sent an unknown command "+n)},e.onerror=e=>{throw R("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},v&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})));var r,n=[];for(r of["onExit","onAbort","print","printErr"])c.hasOwnProperty(r)&&n.push(r);e.postMessage({cmd:"load",handlers:n,urlOrBlob:c.mainScriptUrlOrBlob||_scriptDir,wasmMemory:k,wasmModule:P})})),bb:function(e){e()},Xa:function(){var e=_("ort-wasm-threaded.worker.js");e=new Worker(e),ge.La.push(e)},Za:function(){return 0==ge.La.length&&(ge.Xa(),ge.cb(ge.La[0])),ge.La.pop()}};c.PThread=ge;var he=e=>{for(;0<e.length;)e.shift()(c)};function me(e){if(b)return qe(2,0,e);pe(e)}c.establishStackSpace=function(){var e=dt(),t=a()[e+52>>2>>>0];e=a()[e+56>>2>>>0],_t(t,t-e),St(t)};var ye=[];function ve(e){this.Oa=e-24,this.Wa=function(e){o()[this.Oa+4>>2>>>0]=e},this.Va=function(e){o()[this.Oa+8>>2>>>0]=e},this.Pa=function(e,t){this.Ua(),this.Wa(e),this.Va(t)},this.Ua=function(){o()[this.Oa+16>>2>>>0]=0}}function be(e,t,r,n){return b?qe(3,1,e,t,r,n):we(e,t,r,n)}function we(e,t,r,n){if(e>>>=0,t>>>=0,r>>>=0,n>>>=0,"undefined"==typeof SharedArrayBuffer)return R("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return b&&0===a.length?be(e,t,r,n):(e={gb:r,Ha:e,Ya:n,mb:a},b?(e.ob="spawnThread",postMessage(e,a),0):ue(e))}function _e(e,t,r){return b?qe(4,1,e,t,r):0}function Oe(e,t){if(b)return qe(5,1,e,t)}c.invokeEntryPoint=function(e,t){var r=ye[e];r||(e>=ye.length&&(ye.length=e+1),ye[e]=r=z.get(e)),e=r(t),q()?ge.Ra(e):vt(e)};var Se=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},Ee=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Ae=(e,t,r)=>Ee(e,n(),t,r);function Te(e,t){if(b)return qe(6,1,e,t)}function Me(e,t,r){if(b)return qe(7,1,e,t,r)}function Re(e,t,r){return b?qe(8,1,e,t,r):0}function Fe(e,t){if(b)return qe(9,1,e,t)}function ke(e,t,r){if(b)return qe(10,1,e,t,r)}function Ce(e,t,r,n){if(b)return qe(11,1,e,t,r,n)}function Pe(e,t,r,n){if(b)return qe(12,1,e,t,r,n)}function De(e,t,r,n){if(b)return qe(13,1,e,t,r,n)}function xe(e){if(b)return qe(14,1,e)}function Ie(e,t){if(b)return qe(15,1,e,t)}function Ue(e,t,r){if(b)return qe(16,1,e,t,r)}var Le=e=>{if(!H)try{if(e(),!q())try{b?vt(D):pe(D)}catch(e){e instanceof oe||"unwind"==e||h(1,e)}}catch(e){e instanceof oe||"unwind"==e||h(1,e)}};function We(e){e>>>=0,"function"==typeof Atomics.nb&&(Atomics.nb(a(),e>>2,e).value.then(He),e+=128,Atomics.store(a(),e>>2,1))}function He(){var e=dt();e&&(We(e),Le((()=>bt())))}c.__emscripten_thread_mailbox_await=We,c.checkMailbox=He;var Ye=e=>0==e%4&&(0!=e%100||0==e%400),je=[0,31,60,91,121,152,182,213,244,274,305,335],ze=[0,31,59,90,120,151,181,212,243,273,304,334];function Ge(e,t,r,n,a,o,i,s){return b?qe(17,1,e,t,r,n,a,o,i,s):-52}function Ne(e,t,r,n,a,o,i){if(b)return qe(18,1,e,t,r,n,a,o,i)}var Be=e=>{var t=Se(e)+1,r=pt(t);return r&&Ae(e,r,t),r},$e=e=>{var t=Ot();return e=e(),St(t),e};function qe(e,t){var r=arguments.length-2,n=arguments;return $e((()=>{for(var a=Et(8*r),o=a>>3,s=0;s<r;s++){var u=n[2+s];i()[o+s>>>0]=u}return mt(e,r,a,t)}))}var Ve,Je=[],Xe={},Ke=()=>{if(!Ve){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ve=r}return Ve};function Ze(e,r){if(b)return qe(19,1,e,r);e>>>=0,r>>>=0;var n=0;return Ke().forEach((function(a,i){var s=r+n;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,n+=a.length+1})),0}function Qe(e,t){if(b)return qe(20,1,e,t);e>>>=0,t>>>=0;var r=Ke();o()[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),o()[t>>2>>>0]=n,0}function et(e){return b?qe(21,1,e):52}function tt(e,t,r,n){return b?qe(22,1,e,t,r,n):52}function rt(e,t,r,n,a){return b?qe(23,1,e,t,r,n,a):70}var nt=[null,[],[]];function at(e,t,r,a){if(b)return qe(24,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var i=0,s=0;s<r;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=n()[u+l>>>0],d=nt[e];0===f||10===f?((1===e?M:R)(le(d,0)),d.length=0):d.push(f)}i+=c}return o()[a>>2>>>0]=i,0}var ot=e=>(ot=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(v)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}te("initRandomDevice")})())(e),it=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31],ut=(e,r)=>{t().set(e,r>>>0)};function ct(e,t,r,n){function o(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function i(e,t){return o(e,t,"0")}function s(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Ja;for(e=new Date(new Date(e.Ka+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Ye(e.getFullYear())?it:st)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),r=u(r),0>=s(t,e)?0>=s(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,n>>>=0;var l=a()[n+40>>2>>>0];for(var f in n={kb:a()[n>>2>>>0],jb:a()[n+4>>2>>>0],Ma:a()[n+8>>2>>>0],Qa:a()[n+12>>2>>>0],Na:a()[n+16>>2>>>0],Ka:a()[n+20>>2>>>0],Ga:a()[n+24>>2>>>0],Ja:a()[n+28>>2>>>0],sb:a()[n+32>>2>>>0],ib:a()[n+36>>2>>>0],lb:l?fe(l):""},r=fe(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),l[f]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(f in l={"%a":e=>d[e.Ga].substring(0,3),"%A":e=>d[e.Ga],"%b":e=>p[e.Na].substring(0,3),"%B":e=>p[e.Na],"%C":e=>i((e.Ka+1900)/100|0,2),"%d":e=>i(e.Qa,2),"%e":e=>o(e.Qa,2," "),"%g":e=>c(e).toString().substring(2),"%G":e=>c(e),"%H":e=>i(e.Ma,2),"%I":e=>(0==(e=e.Ma)?e=12:12<e&&(e-=12),i(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Na-1;t+=(Ye(e.Ka+1900)?it:st)[r++]);return i(e.Qa+t,3)},"%m":e=>i(e.Na+1,2),"%M":e=>i(e.jb,2),"%n":()=>"\\n","%p":e=>0<=e.Ma&&12>e.Ma?"AM":"PM","%S":e=>i(e.kb,2),"%t":()=>"\\t","%u":e=>e.Ga||7,"%U":e=>i(Math.floor((e.Ja+7-e.Ga)/7),2),"%V":e=>{var t=Math.floor((e.Ja+7-(e.Ga+6)%7)/7);if(2>=(e.Ga+371-e.Ja-2)%7&&t++,t)53==t&&(4==(r=(e.Ga+371-e.Ja)%7)||3==r&&Ye(e.Ka)||(t=1));else{t=52;var r=(e.Ga+7-e.Ja-1)%7;(4==r||5==r&&Ye(e.Ka%400-1))&&t++}return i(t,2)},"%w":e=>e.Ga,"%W":e=>i(Math.floor((e.Ja+7-(e.Ga+6)%7)/7),2),"%y":e=>(e.Ka+1900).toString().substring(2),"%Y":e=>e.Ka+1900,"%z":e=>{var t=0<=(e=e.ib);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.lb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),l)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),l[f](n)));return f=function(e){var t=Array(Se(e)+1);return Ee(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),f.length>t?0:(ut(f,e),f.length-1)}ge.Pa();var lt=[null,de,me,be,_e,Oe,Te,Me,Re,Fe,ke,Ce,Pe,De,xe,Ie,Ue,Ge,Ne,Ze,Qe,et,tt,rt,at],ft={b:function(e,t,r){throw new ve(e>>>=0).Pa(t>>>0,r>>>0),e},N:function(e){gt(e>>>0,!y,1,!m,131072,!1),ge.Sa()},k:function(e){e>>>=0,b?postMessage({cmd:"cleanupThread",thread:e}):se(e)},I:we,h:_e,T:Oe,E:Te,G:Me,U:Re,R:Fe,J:ke,Q:Ce,o:Pe,F:De,C:xe,S:Ie,D:Ue,q:()=>!0,A:function(e,t){(e>>>=0)==t>>>0?setTimeout((()=>He())):b?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=ge.Fa[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:We,p:function(e){v&&ge.Fa[e>>>0].ref()},t:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getUTCSeconds(),a()[r+4>>2>>>0]=e.getUTCMinutes(),a()[r+8>>2>>>0]=e.getUTCHours(),a()[r+12>>2>>>0]=e.getUTCDate(),a()[r+16>>2>>>0]=e.getUTCMonth(),a()[r+20>>2>>>0]=e.getUTCFullYear()-1900,a()[r+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[r+28>>2>>>0]=e},u:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getSeconds(),a()[r+4>>2>>>0]=e.getMinutes(),a()[r+8>>2>>>0]=e.getHours(),a()[r+12>>2>>>0]=e.getDate(),a()[r+16>>2>>>0]=e.getMonth(),a()[r+20>>2>>>0]=e.getFullYear()-1900,a()[r+24>>2>>>0]=e.getDay(),t=(Ye(e.getFullYear())?je:ze)[e.getMonth()]+e.getDate()-1|0,a()[r+28>>2>>>0]=t,a()[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t)),a()[r+32>>2>>>0]=e},v:function(e){e>>>=0;var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),r=a()[e+32>>2>>>0],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(i,o);return 0>r?a()[e+32>>2>>>0]=Number(o!=i&&s==n):0<r!=(s==n)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<r?s:o)-n))),a()[e+24>>2>>>0]=t.getDay(),r=(Ye(t.getFullYear())?je:ze)[t.getMonth()]+t.getDate()-1|0,a()[e+28>>2>>>0]=r,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,wt((J=e,1<=+Math.abs(J)?0<J?+Math.floor(J/4294967296)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)),e>>>0},r:Ge,s:Ne,z:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}e>>>=0,t>>>=0,r>>>=0;var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);o()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=n(s),t=n(u),e=Be(e),t=Be(t),c<i?(o()[r>>2>>>0]=e,o()[r+4>>2>>>0]=t):(o()[r>>2>>>0]=t,o()[r+4>>2>>>0]=e)},c:()=>{te("")},l:function(){},i:function(){return Date.now()},V:()=>{throw $+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return v?r(993).cpus().length:navigator.hardwareConcurrency},K:function(e,t,r,n){for(ge.pb=t>>>0,Je.length=r,t=n>>>0>>3,n=0;n<r;n++)Je[n]=i()[t+n>>>0];return lt[e].apply(null,Je)},y:function(e){e>>>=0;var t=n().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a);e:{o=o.min.call(o,4294901760,a+(65536-a%65536)%65536)-k.buffer.byteLength+65535>>>16;try{k.grow(o),Y();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},O:Ze,P:Qe,j:pe,g:et,n:tt,w:rt,m:at,x:function(e,t){return e>>>=0,t>>>=0,ot(n().subarray(e>>>0,e+t>>>0)),0},a:k||c.wasmMemory,H:ct,d:function(e,t,r,n){return ct(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e,t){return e=e.exports,C=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.pthread_self=t(e.pthread_self),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),ge.Ta.push(C.sa),z=C.ta,N.unshift(C.W),P=t,ee(),e}var t={a:ft};if(Q(),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(e){R("Module.instantiateWasm callback failed with error: "+e),u(e)}(function(e,t){var r=V;return T||"function"!=typeof WebAssembly.instantiateStreaming||re(r)||r.startsWith("file://")||v||"function"!=typeof fetch?ae(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return R("wasm streaming compile failed: "+n),R("falling back to ArrayBuffer instantiation"),ae(r,e,t)}))))})(t,(function(t){e(t.instance,t.module)})).catch(u)}(),c._OrtInit=(e,t)=>(c._OrtInit=C.X)(e,t),c._OrtGetLastError=(e,t)=>(c._OrtGetLastError=C.Y)(e,t),c._OrtCreateSessionOptions=(e,t,r,n,a,o,i,s,u,l)=>(c._OrtCreateSessionOptions=C.Z)(e,t,r,n,a,o,i,s,u,l),c._OrtAppendExecutionProvider=(e,t)=>(c._OrtAppendExecutionProvider=C._)(e,t),c._OrtAddSessionConfigEntry=(e,t,r)=>(c._OrtAddSessionConfigEntry=C.$)(e,t,r),c._OrtReleaseSessionOptions=e=>(c._OrtReleaseSessionOptions=C.aa)(e),c._OrtCreateSession=(e,t,r)=>(c._OrtCreateSession=C.ba)(e,t,r),c._OrtReleaseSession=e=>(c._OrtReleaseSession=C.ca)(e),c._OrtGetInputOutputCount=(e,t,r)=>(c._OrtGetInputOutputCount=C.da)(e,t,r),c._OrtGetInputName=(e,t)=>(c._OrtGetInputName=C.ea)(e,t),c._OrtGetOutputName=(e,t)=>(c._OrtGetOutputName=C.fa)(e,t),c._OrtFree=e=>(c._OrtFree=C.ga)(e),c._OrtCreateTensor=(e,t,r,n,a)=>(c._OrtCreateTensor=C.ha)(e,t,r,n,a),c._OrtGetTensorData=(e,t,r,n,a)=>(c._OrtGetTensorData=C.ia)(e,t,r,n,a),c._OrtReleaseTensor=e=>(c._OrtReleaseTensor=C.ja)(e),c._OrtCreateRunOptions=(e,t,r,n)=>(c._OrtCreateRunOptions=C.ka)(e,t,r,n),c._OrtAddRunConfigEntry=(e,t,r)=>(c._OrtAddRunConfigEntry=C.la)(e,t,r),c._OrtReleaseRunOptions=e=>(c._OrtReleaseRunOptions=C.ma)(e),c._OrtRun=(e,t,r,n,a,o,i,s)=>(c._OrtRun=C.na)(e,t,r,n,a,o,i,s),c._OrtEndProfiling=e=>(c._OrtEndProfiling=C.oa)(e);var dt=c._pthread_self=()=>(dt=c._pthread_self=C.pa)(),pt=c._malloc=e=>(pt=c._malloc=C.qa)(e);c._free=e=>(c._free=C.ra)(e),c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=C.sa)();var gt=c.__emscripten_thread_init=(e,t,r,n,a,o)=>(gt=c.__emscripten_thread_init=C.ua)(e,t,r,n,a,o);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=C.va)();var ht,mt=(e,t,r,n)=>(mt=C.wa)(e,t,r,n),yt=e=>(yt=C.xa)(e),vt=c.__emscripten_thread_exit=e=>(vt=c.__emscripten_thread_exit=C.ya)(e),bt=c.__emscripten_check_mailbox=()=>(bt=c.__emscripten_check_mailbox=C.za)(),wt=e=>(wt=C.Aa)(e),_t=(e,t)=>(_t=C.Ba)(e,t),Ot=()=>(Ot=C.Ca)(),St=e=>(St=C.Da)(e),Et=e=>(Et=C.Ea)(e);function At(){function e(){if(!ht&&(ht=!0,c.calledRun=!0,!H)&&(b||he(N),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!b)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();B.unshift(e)}he(B)}}if(!(0<X))if(b)s(c),b||he(N),startWorker(c);else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)G.unshift(c.preRun.shift());he(G),0<X||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}if(c.keepRuntimeAlive=q,c.wasmMemory=k,c.stackAlloc=Et,c.stackSave=Ot,c.stackRestore=St,c.UTF8ToString=fe,c.stringToUTF8=Ae,c.lengthBytesUTF8=Se,c.ExitStatus=oe,c.PThread=ge,Z=function e(){ht||At(),ht||(Z=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return At(),e.ready});e.exports=n},932:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){var t,n,a=e;a.ready=new Promise(((e,r)=>{t=e,n=r}));var o,i,s,u=Object.assign({},a),c="./this.program",l=(e,t)=>{throw t},f="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,g="";if(p){var h=r(384),m=r(908);g=d?m.dirname(g)+"/":__dirname+"/",o=(e,t)=>(e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!a.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),l=(e,t)=>{throw process.exitCode=e,t},a.inspect=()=>"[Emscripten Module object]"}else(f||d)&&(d?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),_scriptDir&&(g=_scriptDir),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var y,v=a.print||console.log.bind(console),b=a.printErr||console.error.bind(console);Object.assign(a,u),u=null,a.thisProgram&&(c=a.thisProgram),a.quit&&(l=a.quit),a.wasmBinary&&(y=a.wasmBinary);var w=a.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var _,O,S,E,A,T,M=!1;function R(){var e=_.buffer;a.HEAP8=S=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU8=E=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=T=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var F=[],k=[],C=[];function P(){var e=a.preRun.shift();F.unshift(e)}var D,x,I=0,U=null,L=null;function W(e){throw a.onAbort&&a.onAbort(e),b(e="Aborted("+e+")"),M=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}function H(e){return e.startsWith("data:application/octet-stream;base64,")}if(!H(D="ort-wasm.wasm")){var Y=D;D=a.locateFile?a.locateFile(Y,g):g+Y}function j(e){if(e==D&&y)return new Uint8Array(y);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}function z(e,t,r){return function(e){if(!y&&(f||d)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>j(e)));if(i)return new Promise(((t,r)=>{i(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>j(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{b("failed to asynchronously prepare wasm: "+e),W(e)}))}function G(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var N=e=>{for(;0<e.length;)e.shift()(a)};function B(e){this.qa=e-24,this.va=function(e){T[this.qa+4>>2>>>0]=e},this.ua=function(e){T[this.qa+8>>2>>>0]=e},this.sa=function(e,t){this.ta(),this.va(e),this.ua(t)},this.ta=function(){T[this.qa+16>>2>>>0]=0}}var $,q="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,V=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&q)return q.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},J=(e,t)=>(e>>>=0)?V(E,e,t):"",X=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},K=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Z=e=>0==e%4&&(0!=e%100||0==e%400),Q=[0,31,60,91,121,152,182,213,244,274,305,335],ee=[0,31,59,90,120,151,181,212,243,273,304,334],te=e=>{var t=X(e)+1,r=le(t);return r&&K(e,E,r,t),r},re={},ne=()=>{if(!$){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(e in re)void 0===re[e]?delete t[e]:t[e]=re[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);$=r}return $},ae=[null,[],[]],oe=e=>(oe=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);if(p)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}W("initRandomDevice")})())(e),ie=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ue(e,t,r,n){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.ma;for(e=new Date(new Date(e.na+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Z(e.getFullYear())?ie:se)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0;var c=A[40+(n>>>=0)>>2>>>0];for(var l in n={ya:A[n>>2>>>0],xa:A[n+4>>2>>>0],oa:A[n+8>>2>>>0],ra:A[n+12>>2>>>0],pa:A[n+16>>2>>>0],na:A[n+20>>2>>>0],ha:A[n+24>>2>>>0],ma:A[n+28>>2>>>0],Aa:A[n+32>>2>>>0],wa:A[n+36>>2>>>0],za:c?J(c):""},r=J(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in c={"%a":e=>f[e.ha].substring(0,3),"%A":e=>f[e.ha],"%b":e=>d[e.pa].substring(0,3),"%B":e=>d[e.pa],"%C":e=>o((e.na+1900)/100|0,2),"%d":e=>o(e.ra,2),"%e":e=>a(e.ra,2," "),"%g":e=>u(e).toString().substring(2),"%G":e=>u(e),"%H":e=>o(e.oa,2),"%I":e=>(0==(e=e.oa)?e=12:12<e&&(e-=12),o(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.pa-1;t+=(Z(e.na+1900)?ie:se)[r++]);return o(e.ra+t,3)},"%m":e=>o(e.pa+1,2),"%M":e=>o(e.xa,2),"%n":()=>"\\n","%p":e=>0<=e.oa&&12>e.oa?"AM":"PM","%S":e=>o(e.ya,2),"%t":()=>"\\t","%u":e=>e.ha||7,"%U":e=>o(Math.floor((e.ma+7-e.ha)/7),2),"%V":e=>{var t=Math.floor((e.ma+7-(e.ha+6)%7)/7);if(2>=(e.ha+371-e.ma-2)%7&&t++,t)53==t&&(4==(r=(e.ha+371-e.ma)%7)||3==r&&Z(e.na)||(t=1));else{t=52;var r=(e.ha+7-e.ma-1)%7;(4==r||5==r&&Z(e.na%400-1))&&t++}return o(t,2)},"%w":e=>e.ha,"%W":e=>o(Math.floor((e.ma+7-(e.ha+6)%7)/7),2),"%y":e=>(e.na+1900).toString().substring(2),"%Y":e=>e.na+1900,"%z":e=>{var t=0<=(e=e.wa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.za,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),c)r.includes(l)&&(r=r.replace(new RegExp(l,"g"),c[l](n)));return l=function(e){var t=Array(X(e)+1);return K(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),l.length>t?0:(S.set(l,e>>>0),l.length-1)}var ce={a:function(e,t,r){throw new B(e>>>=0).sa(t>>>0,r>>>0),e},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getUTCSeconds(),A[r+4>>2>>>0]=e.getUTCMinutes(),A[r+8>>2>>>0]=e.getUTCHours(),A[r+12>>2>>>0]=e.getUTCDate(),A[r+16>>2>>>0]=e.getUTCMonth(),A[r+20>>2>>>0]=e.getUTCFullYear()-1900,A[r+24>>2>>>0]=e.getUTCDay(),A[r+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getSeconds(),A[r+4>>2>>>0]=e.getMinutes(),A[r+8>>2>>>0]=e.getHours(),A[r+12>>2>>>0]=e.getDate(),A[r+16>>2>>>0]=e.getMonth(),A[r+20>>2>>>0]=e.getFullYear()-1900,A[r+24>>2>>>0]=e.getDay(),A[r+28>>2>>>0]=(Z(e.getFullYear())?Q:ee)[e.getMonth()]+e.getDate()-1|0,A[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();A[r+32>>2>>>0]=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t))},p:function(e){e>>>=0;var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),r=A[e+32>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>r?A[e+32>>2>>>0]=Number(a!=o&&i==n):0<r!=(i==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?i:a)-n))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(Z(t.getFullYear())?Q:ee)[t.getMonth()]+t.getDate()-1|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),A[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,de((x=e,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)),e>>>0},l:function(){return-52},m:function(){},u:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}r>>>=0;var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();T[e>>>0>>2>>>0]=60*Math.max(a,s),A[t>>>0>>2>>>0]=Number(a!=s),e=n(o),t=n(i),e=te(e),t=te(t),s<a?(T[r>>2>>>0]=e,T[r+4>>2>>>0]=t):(T[r>>2>>>0]=t,T[r+4>>2>>>0]=e)},d:()=>{W("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(e,t,r){return t>>>=0,E.copyWithin(e>>>0>>>0,t>>>0,t+(r>>>0)>>>0)},t:function(e){e>>>=0;var t=E.length;if(4294901760<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math;n=Math.max(e,n);e:{a=a.min.call(a,4294901760,n+(65536-n%65536)%65536)-_.buffer.byteLength+65535>>>16;try{_.grow(a),R();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){e>>>=0,t>>>=0;var r=0;return ne().forEach((function(n,a){var o=t+r;for(a=T[e+4*a>>2>>>0]=o,o=0;o<n.length;++o)S[a++>>0>>>0]=n.charCodeAt(o);S[a>>0>>>0]=0,r+=n.length+1})),0},E:function(e,t){e>>>=0,t>>>=0;var r=ne();T[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),T[t>>2>>>0]=n,0},s:e=>{w||(a.onExit&&a.onExit(e),M=!0),l(e,new G(e))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;for(var a=0,o=0;o<r;o++){var i=T[t>>2>>>0],s=T[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=E[i+u>>>0],l=ae[e];0===c||10===c?((1===e?v:b)(V(l,0)),l.length=0):l.push(c)}a+=s}return T[n>>2>>>0]=a,0},r:function(e,t){return e>>>=0,oe(E.subarray(e>>>0,e+(t>>>0)>>>0)),0},C:ue,c:function(e,t,r,n){return ue(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e){if(e=e.exports,O=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),_=O.L,R(),k.unshift(O.M),I--,a.monitorRunDependencies&&a.monitorRunDependencies(I),0==I&&(null!==U&&(clearInterval(U),U=null),L)){var t=L;L=null,t()}return e}var t={a:ce};if(I++,a.monitorRunDependencies&&a.monitorRunDependencies(I),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(e){b("Module.instantiateWasm callback failed with error: "+e),n(e)}(function(e,t){var r=D;return y||"function"!=typeof WebAssembly.instantiateStreaming||H(r)||r.startsWith("file://")||p||"function"!=typeof fetch?z(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return b("wasm streaming compile failed: "+n),b("falling back to ArrayBuffer instantiation"),z(r,e,t)}))))})(t,(function(t){e(t.instance)})).catch(n)}(),a._OrtInit=(e,t)=>(a._OrtInit=O.N)(e,t),a._OrtGetLastError=(e,t)=>(a._OrtGetLastError=O.O)(e,t),a._OrtCreateSessionOptions=(e,t,r,n,o,i,s,u,c,l)=>(a._OrtCreateSessionOptions=O.P)(e,t,r,n,o,i,s,u,c,l),a._OrtAppendExecutionProvider=(e,t)=>(a._OrtAppendExecutionProvider=O.Q)(e,t),a._OrtAddSessionConfigEntry=(e,t,r)=>(a._OrtAddSessionConfigEntry=O.R)(e,t,r),a._OrtReleaseSessionOptions=e=>(a._OrtReleaseSessionOptions=O.S)(e),a._OrtCreateSession=(e,t,r)=>(a._OrtCreateSession=O.T)(e,t,r),a._OrtReleaseSession=e=>(a._OrtReleaseSession=O.U)(e),a._OrtGetInputOutputCount=(e,t,r)=>(a._OrtGetInputOutputCount=O.V)(e,t,r),a._OrtGetInputName=(e,t)=>(a._OrtGetInputName=O.W)(e,t),a._OrtGetOutputName=(e,t)=>(a._OrtGetOutputName=O.X)(e,t),a._OrtFree=e=>(a._OrtFree=O.Y)(e),a._OrtCreateTensor=(e,t,r,n,o)=>(a._OrtCreateTensor=O.Z)(e,t,r,n,o),a._OrtGetTensorData=(e,t,r,n,o)=>(a._OrtGetTensorData=O._)(e,t,r,n,o),a._OrtReleaseTensor=e=>(a._OrtReleaseTensor=O.$)(e),a._OrtCreateRunOptions=(e,t,r,n)=>(a._OrtCreateRunOptions=O.aa)(e,t,r,n),a._OrtAddRunConfigEntry=(e,t,r)=>(a._OrtAddRunConfigEntry=O.ba)(e,t,r),a._OrtReleaseRunOptions=e=>(a._OrtReleaseRunOptions=O.ca)(e),a._OrtRun=(e,t,r,n,o,i,s,u)=>(a._OrtRun=O.da)(e,t,r,n,o,i,s,u),a._OrtEndProfiling=e=>(a._OrtEndProfiling=O.ea)(e);var le=a._malloc=e=>(le=a._malloc=O.fa)(e);a._free=e=>(a._free=O.ga)(e);var fe,de=e=>(de=O.ia)(e),pe=()=>(pe=O.ja)(),ge=e=>(ge=O.ka)(e),he=e=>(he=O.la)(e);function me(){function e(){if(!fe&&(fe=!0,a.calledRun=!0,!M)){if(N(k),t(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var e=a.postRun.shift();C.unshift(e)}N(C)}}if(!(0<I)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)P();N(F),0<I||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),e()}),1)):e())}}if(a.stackAlloc=he,a.stackSave=pe,a.stackRestore=ge,a.UTF8ToString=J,a.stringToUTF8=(e,t,r)=>K(e,E,t,r),a.lengthBytesUTF8=X,L=function e(){fe||me(),fe||(L=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return me(),e.ready});e.exports=n},154:e=>{"use strict";e.exports=\'"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(()=>{"use strict";const e=r(259),t=r(263);self.onmessage=r=>{switch(r.data.type){case"init-wasm":try{(0,t.initializeWebAssembly)(r.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})))}catch(e){postMessage({type:"init-wasm",err:e})}break;case"init-ort":try{(0,e.initRuntime)(r.data.in).then((()=>postMessage({type:"init-ort"})),(e=>postMessage({type:"init-ort",err:e}))),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=r.data.in,n=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:n})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:n}=r.data.in,a=(0,e.createSessionFinalize)(t,n);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:n}=r.data.in,a=(0,e.createSession)(t,n);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=r.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:n,inputs:a,outputIndices:o,options:i}=r.data.in;(0,e.run)(t,n,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=r.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:ue=>{ue.exports=function(X,re,ne,Q){var ae=self||window;try{try{var oe;try{oe=new ae.Blob([X])}catch{(oe=new(ae.BlobBuilder||ae.WebKitBlobBuilder||ae.MozBlobBuilder||ae.MSBlobBuilder)).append(X),oe=oe.getBlob()}var ee=ae.URL||ae.webkitURL,ie=ee.createObjectURL(oe),Z=new ae[re](ie,ne);return ee.revokeObjectURL(ie),Z}catch{return new ae[re]("data:application/javascript,".concat(encodeURIComponent(X)),ne)}}catch{if(!Q)throw Error("Inline worker is not supported");return new ae[re](Q,ne)}}},2446:(ue,X,re)=>{var ne,Q,ae,oe=re(2100),ee=oe.Reader,ie=oe.Writer,Z=oe.util,Y=oe.roots.default||(oe.roots.default={});Y.onnx=((ae={}).Version=(ne={},(Q=Object.create(ne))[ne[0]="_START_VERSION"]=0,Q[ne[1]="IR_VERSION_2017_10_10"]=1,Q[ne[2]="IR_VERSION_2017_10_30"]=2,Q[ne[3]="IR_VERSION_2017_11_3"]=3,Q[ne[4]="IR_VERSION_2019_1_22"]=4,Q[ne[5]="IR_VERSION_2019_3_18"]=5,Q[ne[6]="IR_VERSION_2019_9_19"]=6,Q[ne[7]="IR_VERSION_2020_5_8"]=7,Q[ne[8]="IR_VERSION_2021_7_30"]=8,Q[ne[9]="IR_VERSION"]=9,Q),ae.AttributeProto=function(){function W(R){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.name="",W.prototype.refAttrName="",W.prototype.docString="",W.prototype.type=0,W.prototype.f=0,W.prototype.i=Z.Long?Z.Long.fromBits(0,0,!1):0,W.prototype.s=Z.newBuffer([]),W.prototype.t=null,W.prototype.g=null,W.prototype.sparseTensor=null,W.prototype.tp=null,W.prototype.floats=Z.emptyArray,W.prototype.ints=Z.emptyArray,W.prototype.strings=Z.emptyArray,W.prototype.tensors=Z.emptyArray,W.prototype.graphs=Z.emptyArray,W.prototype.sparseTensors=Z.emptyArray,W.prototype.typeProtos=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ie.create()),R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(10).string(R.name),R.f!=null&&Object.hasOwnProperty.call(R,"f")&&U.uint32(21).float(R.f),R.i!=null&&Object.hasOwnProperty.call(R,"i")&&U.uint32(24).int64(R.i),R.s!=null&&Object.hasOwnProperty.call(R,"s")&&U.uint32(34).bytes(R.s),R.t!=null&&Object.hasOwnProperty.call(R,"t")&&Y.onnx.TensorProto.encode(R.t,U.uint32(42).fork()).ldelim(),R.g!=null&&Object.hasOwnProperty.call(R,"g")&&Y.onnx.GraphProto.encode(R.g,U.uint32(50).fork()).ldelim(),R.floats!=null&&R.floats.length){U.uint32(58).fork();for(var K=0;K<R.floats.length;++K)U.float(R.floats[K]);U.ldelim()}if(R.ints!=null&&R.ints.length){for(U.uint32(66).fork(),K=0;K<R.ints.length;++K)U.int64(R.ints[K]);U.ldelim()}if(R.strings!=null&&R.strings.length)for(K=0;K<R.strings.length;++K)U.uint32(74).bytes(R.strings[K]);if(R.tensors!=null&&R.tensors.length)for(K=0;K<R.tensors.length;++K)Y.onnx.TensorProto.encode(R.tensors[K],U.uint32(82).fork()).ldelim();if(R.graphs!=null&&R.graphs.length)for(K=0;K<R.graphs.length;++K)Y.onnx.GraphProto.encode(R.graphs[K],U.uint32(90).fork()).ldelim();if(R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(106).string(R.docString),R.tp!=null&&Object.hasOwnProperty.call(R,"tp")&&Y.onnx.TypeProto.encode(R.tp,U.uint32(114).fork()).ldelim(),R.typeProtos!=null&&R.typeProtos.length)for(K=0;K<R.typeProtos.length;++K)Y.onnx.TypeProto.encode(R.typeProtos[K],U.uint32(122).fork()).ldelim();if(R.type!=null&&Object.hasOwnProperty.call(R,"type")&&U.uint32(160).int32(R.type),R.refAttrName!=null&&Object.hasOwnProperty.call(R,"refAttrName")&&U.uint32(170).string(R.refAttrName),R.sparseTensor!=null&&Object.hasOwnProperty.call(R,"sparseTensor")&&Y.onnx.SparseTensorProto.encode(R.sparseTensor,U.uint32(178).fork()).ldelim(),R.sparseTensors!=null&&R.sparseTensors.length)for(K=0;K<R.sparseTensors.length;++K)Y.onnx.SparseTensorProto.encode(R.sparseTensors[K],U.uint32(186).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.AttributeProto;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:J.name=R.string();break;case 21:J.refAttrName=R.string();break;case 13:J.docString=R.string();break;case 20:J.type=R.int32();break;case 2:J.f=R.float();break;case 3:J.i=R.int64();break;case 4:J.s=R.bytes();break;case 5:J.t=Y.onnx.TensorProto.decode(R,R.uint32());break;case 6:J.g=Y.onnx.GraphProto.decode(R,R.uint32());break;case 22:J.sparseTensor=Y.onnx.SparseTensorProto.decode(R,R.uint32());break;case 14:J.tp=Y.onnx.TypeProto.decode(R,R.uint32());break;case 7:if(J.floats&&J.floats.length||(J.floats=[]),(7&te)==2)for(var se=R.uint32()+R.pos;R.pos<se;)J.floats.push(R.float());else J.floats.push(R.float());break;case 8:if(J.ints&&J.ints.length||(J.ints=[]),(7&te)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.ints.push(R.int64());else J.ints.push(R.int64());break;case 9:J.strings&&J.strings.length||(J.strings=[]),J.strings.push(R.bytes());break;case 10:J.tensors&&J.tensors.length||(J.tensors=[]),J.tensors.push(Y.onnx.TensorProto.decode(R,R.uint32()));break;case 11:J.graphs&&J.graphs.length||(J.graphs=[]),J.graphs.push(Y.onnx.GraphProto.decode(R,R.uint32()));break;case 23:J.sparseTensors&&J.sparseTensors.length||(J.sparseTensors=[]),J.sparseTensors.push(Y.onnx.SparseTensorProto.decode(R,R.uint32()));break;case 15:J.typeProtos&&J.typeProtos.length||(J.typeProtos=[]),J.typeProtos.push(Y.onnx.TypeProto.decode(R,R.uint32()));break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.refAttrName!=null&&R.hasOwnProperty("refAttrName")&&!Z.isString(R.refAttrName))return"refAttrName: string expected";if(R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString))return"docString: string expected";if(R.type!=null&&R.hasOwnProperty("type"))switch(R.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:}if(R.f!=null&&R.hasOwnProperty("f")&&typeof R.f!="number")return"f: number expected";if(R.i!=null&&R.hasOwnProperty("i")&&!(Z.isInteger(R.i)||R.i&&Z.isInteger(R.i.low)&&Z.isInteger(R.i.high)))return"i: integer|Long expected";if(R.s!=null&&R.hasOwnProperty("s")&&!(R.s&&typeof R.s.length=="number"||Z.isString(R.s)))return"s: buffer expected";if(R.t!=null&&R.hasOwnProperty("t")&&(K=Y.onnx.TensorProto.verify(R.t)))return"t."+K;if(R.g!=null&&R.hasOwnProperty("g")&&(K=Y.onnx.GraphProto.verify(R.g)))return"g."+K;if(R.sparseTensor!=null&&R.hasOwnProperty("sparseTensor")&&(K=Y.onnx.SparseTensorProto.verify(R.sparseTensor)))return"sparseTensor."+K;if(R.tp!=null&&R.hasOwnProperty("tp")&&(K=Y.onnx.TypeProto.verify(R.tp)))return"tp."+K;if(R.floats!=null&&R.hasOwnProperty("floats")){if(!Array.isArray(R.floats))return"floats: array expected";for(var U=0;U<R.floats.length;++U)if(typeof R.floats[U]!="number")return"floats: number[] expected"}if(R.ints!=null&&R.hasOwnProperty("ints")){if(!Array.isArray(R.ints))return"ints: array expected";for(U=0;U<R.ints.length;++U)if(!(Z.isInteger(R.ints[U])||R.ints[U]&&Z.isInteger(R.ints[U].low)&&Z.isInteger(R.ints[U].high)))return"ints: integer|Long[] expected"}if(R.strings!=null&&R.hasOwnProperty("strings")){if(!Array.isArray(R.strings))return"strings: array expected";for(U=0;U<R.strings.length;++U)if(!(R.strings[U]&&typeof R.strings[U].length=="number"||Z.isString(R.strings[U])))return"strings: buffer[] expected"}if(R.tensors!=null&&R.hasOwnProperty("tensors")){if(!Array.isArray(R.tensors))return"tensors: array expected";for(U=0;U<R.tensors.length;++U)if(K=Y.onnx.TensorProto.verify(R.tensors[U]))return"tensors."+K}if(R.graphs!=null&&R.hasOwnProperty("graphs")){if(!Array.isArray(R.graphs))return"graphs: array expected";for(U=0;U<R.graphs.length;++U)if(K=Y.onnx.GraphProto.verify(R.graphs[U]))return"graphs."+K}if(R.sparseTensors!=null&&R.hasOwnProperty("sparseTensors")){if(!Array.isArray(R.sparseTensors))return"sparseTensors: array expected";for(U=0;U<R.sparseTensors.length;++U)if(K=Y.onnx.SparseTensorProto.verify(R.sparseTensors[U]))return"sparseTensors."+K}if(R.typeProtos!=null&&R.hasOwnProperty("typeProtos")){if(!Array.isArray(R.typeProtos))return"typeProtos: array expected";for(U=0;U<R.typeProtos.length;++U){var K;if(K=Y.onnx.TypeProto.verify(R.typeProtos[U]))return"typeProtos."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.AttributeProto)return R;var U=new Y.onnx.AttributeProto;switch(R.name!=null&&(U.name=String(R.name)),R.refAttrName!=null&&(U.refAttrName=String(R.refAttrName)),R.docString!=null&&(U.docString=String(R.docString)),R.type){default:if(typeof R.type=="number"){U.type=R.type;break}break;case"UNDEFINED":case 0:U.type=0;break;case"FLOAT":case 1:U.type=1;break;case"INT":case 2:U.type=2;break;case"STRING":case 3:U.type=3;break;case"TENSOR":case 4:U.type=4;break;case"GRAPH":case 5:U.type=5;break;case"SPARSE_TENSOR":case 11:U.type=11;break;case"TYPE_PROTO":case 13:U.type=13;break;case"FLOATS":case 6:U.type=6;break;case"INTS":case 7:U.type=7;break;case"STRINGS":case 8:U.type=8;break;case"TENSORS":case 9:U.type=9;break;case"GRAPHS":case 10:U.type=10;break;case"SPARSE_TENSORS":case 12:U.type=12;break;case"TYPE_PROTOS":case 14:U.type=14}if(R.f!=null&&(U.f=Number(R.f)),R.i!=null&&(Z.Long?(U.i=Z.Long.fromValue(R.i)).unsigned=!1:typeof R.i=="string"?U.i=parseInt(R.i,10):typeof R.i=="number"?U.i=R.i:typeof R.i=="object"&&(U.i=new Z.LongBits(R.i.low>>>0,R.i.high>>>0).toNumber())),R.s!=null&&(typeof R.s=="string"?Z.base64.decode(R.s,U.s=Z.newBuffer(Z.base64.length(R.s)),0):R.s.length>=0&&(U.s=R.s)),R.t!=null){if(typeof R.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");U.t=Y.onnx.TensorProto.fromObject(R.t)}if(R.g!=null){if(typeof R.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");U.g=Y.onnx.GraphProto.fromObject(R.g)}if(R.sparseTensor!=null){if(typeof R.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");U.sparseTensor=Y.onnx.SparseTensorProto.fromObject(R.sparseTensor)}if(R.tp!=null){if(typeof R.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");U.tp=Y.onnx.TypeProto.fromObject(R.tp)}if(R.floats){if(!Array.isArray(R.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");U.floats=[];for(var K=0;K<R.floats.length;++K)U.floats[K]=Number(R.floats[K])}if(R.ints){if(!Array.isArray(R.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(U.ints=[],K=0;K<R.ints.length;++K)Z.Long?(U.ints[K]=Z.Long.fromValue(R.ints[K])).unsigned=!1:typeof R.ints[K]=="string"?U.ints[K]=parseInt(R.ints[K],10):typeof R.ints[K]=="number"?U.ints[K]=R.ints[K]:typeof R.ints[K]=="object"&&(U.ints[K]=new Z.LongBits(R.ints[K].low>>>0,R.ints[K].high>>>0).toNumber())}if(R.strings){if(!Array.isArray(R.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(U.strings=[],K=0;K<R.strings.length;++K)typeof R.strings[K]=="string"?Z.base64.decode(R.strings[K],U.strings[K]=Z.newBuffer(Z.base64.length(R.strings[K])),0):R.strings[K].length>=0&&(U.strings[K]=R.strings[K])}if(R.tensors){if(!Array.isArray(R.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(U.tensors=[],K=0;K<R.tensors.length;++K){if(typeof R.tensors[K]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");U.tensors[K]=Y.onnx.TensorProto.fromObject(R.tensors[K])}}if(R.graphs){if(!Array.isArray(R.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(U.graphs=[],K=0;K<R.graphs.length;++K){if(typeof R.graphs[K]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");U.graphs[K]=Y.onnx.GraphProto.fromObject(R.graphs[K])}}if(R.sparseTensors){if(!Array.isArray(R.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");for(U.sparseTensors=[],K=0;K<R.sparseTensors.length;++K){if(typeof R.sparseTensors[K]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");U.sparseTensors[K]=Y.onnx.SparseTensorProto.fromObject(R.sparseTensors[K])}}if(R.typeProtos){if(!Array.isArray(R.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");for(U.typeProtos=[],K=0;K<R.typeProtos.length;++K){if(typeof R.typeProtos[K]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");U.typeProtos[K]=Y.onnx.TypeProto.fromObject(R.typeProtos[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.floats=[],K.ints=[],K.strings=[],K.tensors=[],K.graphs=[],K.typeProtos=[],K.sparseTensors=[]),U.defaults){if(K.name="",K.f=0,Z.Long){var J=new Z.Long(0,0,!1);K.i=U.longs===String?J.toString():U.longs===Number?J.toNumber():J}else K.i=U.longs===String?"0":0;U.bytes===String?K.s="":(K.s=[],U.bytes!==Array&&(K.s=Z.newBuffer(K.s))),K.t=null,K.g=null,K.docString="",K.tp=null,K.type=U.enums===String?"UNDEFINED":0,K.refAttrName="",K.sparseTensor=null}if(R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.f!=null&&R.hasOwnProperty("f")&&(K.f=U.json&&!isFinite(R.f)?String(R.f):R.f),R.i!=null&&R.hasOwnProperty("i")&&(typeof R.i=="number"?K.i=U.longs===String?String(R.i):R.i:K.i=U.longs===String?Z.Long.prototype.toString.call(R.i):U.longs===Number?new Z.LongBits(R.i.low>>>0,R.i.high>>>0).toNumber():R.i),R.s!=null&&R.hasOwnProperty("s")&&(K.s=U.bytes===String?Z.base64.encode(R.s,0,R.s.length):U.bytes===Array?Array.prototype.slice.call(R.s):R.s),R.t!=null&&R.hasOwnProperty("t")&&(K.t=Y.onnx.TensorProto.toObject(R.t,U)),R.g!=null&&R.hasOwnProperty("g")&&(K.g=Y.onnx.GraphProto.toObject(R.g,U)),R.floats&&R.floats.length){K.floats=[];for(var te=0;te<R.floats.length;++te)K.floats[te]=U.json&&!isFinite(R.floats[te])?String(R.floats[te]):R.floats[te]}if(R.ints&&R.ints.length)for(K.ints=[],te=0;te<R.ints.length;++te)typeof R.ints[te]=="number"?K.ints[te]=U.longs===String?String(R.ints[te]):R.ints[te]:K.ints[te]=U.longs===String?Z.Long.prototype.toString.call(R.ints[te]):U.longs===Number?new Z.LongBits(R.ints[te].low>>>0,R.ints[te].high>>>0).toNumber():R.ints[te];if(R.strings&&R.strings.length)for(K.strings=[],te=0;te<R.strings.length;++te)K.strings[te]=U.bytes===String?Z.base64.encode(R.strings[te],0,R.strings[te].length):U.bytes===Array?Array.prototype.slice.call(R.strings[te]):R.strings[te];if(R.tensors&&R.tensors.length)for(K.tensors=[],te=0;te<R.tensors.length;++te)K.tensors[te]=Y.onnx.TensorProto.toObject(R.tensors[te],U);if(R.graphs&&R.graphs.length)for(K.graphs=[],te=0;te<R.graphs.length;++te)K.graphs[te]=Y.onnx.GraphProto.toObject(R.graphs[te],U);if(R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.tp!=null&&R.hasOwnProperty("tp")&&(K.tp=Y.onnx.TypeProto.toObject(R.tp,U)),R.typeProtos&&R.typeProtos.length)for(K.typeProtos=[],te=0;te<R.typeProtos.length;++te)K.typeProtos[te]=Y.onnx.TypeProto.toObject(R.typeProtos[te],U);if(R.type!=null&&R.hasOwnProperty("type")&&(K.type=U.enums===String?Y.onnx.AttributeProto.AttributeType[R.type]===void 0?R.type:Y.onnx.AttributeProto.AttributeType[R.type]:R.type),R.refAttrName!=null&&R.hasOwnProperty("refAttrName")&&(K.refAttrName=R.refAttrName),R.sparseTensor!=null&&R.hasOwnProperty("sparseTensor")&&(K.sparseTensor=Y.onnx.SparseTensorProto.toObject(R.sparseTensor,U)),R.sparseTensors&&R.sparseTensors.length)for(K.sparseTensors=[],te=0;te<R.sparseTensors.length;++te)K.sparseTensors[te]=Y.onnx.SparseTensorProto.toObject(R.sparseTensors[te],U);return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.AttributeProto"},W.AttributeType=function(){var R={},U=Object.create(R);return U[R[0]="UNDEFINED"]=0,U[R[1]="FLOAT"]=1,U[R[2]="INT"]=2,U[R[3]="STRING"]=3,U[R[4]="TENSOR"]=4,U[R[5]="GRAPH"]=5,U[R[11]="SPARSE_TENSOR"]=11,U[R[13]="TYPE_PROTO"]=13,U[R[6]="FLOATS"]=6,U[R[7]="INTS"]=7,U[R[8]="STRINGS"]=8,U[R[9]="TENSORS"]=9,U[R[10]="GRAPHS"]=10,U[R[12]="SPARSE_TENSORS"]=12,U[R[14]="TYPE_PROTOS"]=14,U}(),W}(),ae.ValueInfoProto=function(){function W(R){if(R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.name="",W.prototype.type=null,W.prototype.docString="",W.create=function(R){return new W(R)},W.encode=function(R,U){return U||(U=ie.create()),R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(10).string(R.name),R.type!=null&&Object.hasOwnProperty.call(R,"type")&&Y.onnx.TypeProto.encode(R.type,U.uint32(18).fork()).ldelim(),R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(26).string(R.docString),U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.ValueInfoProto;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:J.name=R.string();break;case 2:J.type=Y.onnx.TypeProto.decode(R,R.uint32());break;case 3:J.docString=R.string();break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.type!=null&&R.hasOwnProperty("type")){var U=Y.onnx.TypeProto.verify(R.type);if(U)return"type."+U}return R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString)?"docString: string expected":null},W.fromObject=function(R){if(R instanceof Y.onnx.ValueInfoProto)return R;var U=new Y.onnx.ValueInfoProto;if(R.name!=null&&(U.name=String(R.name)),R.type!=null){if(typeof R.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");U.type=Y.onnx.TypeProto.fromObject(R.type)}return R.docString!=null&&(U.docString=String(R.docString)),U},W.toObject=function(R,U){U||(U={});var K={};return U.defaults&&(K.name="",K.type=null,K.docString=""),R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.type!=null&&R.hasOwnProperty("type")&&(K.type=Y.onnx.TypeProto.toObject(R.type,U)),R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.ValueInfoProto"},W}(),ae.NodeProto=function(){function W(R){if(this.input=[],this.output=[],this.attribute=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.input=Z.emptyArray,W.prototype.output=Z.emptyArray,W.prototype.name="",W.prototype.opType="",W.prototype.domain="",W.prototype.attribute=Z.emptyArray,W.prototype.docString="",W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ie.create()),R.input!=null&&R.input.length)for(var K=0;K<R.input.length;++K)U.uint32(10).string(R.input[K]);if(R.output!=null&&R.output.length)for(K=0;K<R.output.length;++K)U.uint32(18).string(R.output[K]);if(R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(26).string(R.name),R.opType!=null&&Object.hasOwnProperty.call(R,"opType")&&U.uint32(34).string(R.opType),R.attribute!=null&&R.attribute.length)for(K=0;K<R.attribute.length;++K)Y.onnx.AttributeProto.encode(R.attribute[K],U.uint32(42).fork()).ldelim();return R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(50).string(R.docString),R.domain!=null&&Object.hasOwnProperty.call(R,"domain")&&U.uint32(58).string(R.domain),U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.NodeProto;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:J.input&&J.input.length||(J.input=[]),J.input.push(R.string());break;case 2:J.output&&J.output.length||(J.output=[]),J.output.push(R.string());break;case 3:J.name=R.string();break;case 4:J.opType=R.string();break;case 7:J.domain=R.string();break;case 5:J.attribute&&J.attribute.length||(J.attribute=[]),J.attribute.push(Y.onnx.AttributeProto.decode(R,R.uint32()));break;case 6:J.docString=R.string();break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.input!=null&&R.hasOwnProperty("input")){if(!Array.isArray(R.input))return"input: array expected";for(var U=0;U<R.input.length;++U)if(!Z.isString(R.input[U]))return"input: string[] expected"}if(R.output!=null&&R.hasOwnProperty("output")){if(!Array.isArray(R.output))return"output: array expected";for(U=0;U<R.output.length;++U)if(!Z.isString(R.output[U]))return"output: string[] expected"}if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.opType!=null&&R.hasOwnProperty("opType")&&!Z.isString(R.opType))return"opType: string expected";if(R.domain!=null&&R.hasOwnProperty("domain")&&!Z.isString(R.domain))return"domain: string expected";if(R.attribute!=null&&R.hasOwnProperty("attribute")){if(!Array.isArray(R.attribute))return"attribute: array expected";for(U=0;U<R.attribute.length;++U){var K=Y.onnx.AttributeProto.verify(R.attribute[U]);if(K)return"attribute."+K}}return R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString)?"docString: string expected":null},W.fromObject=function(R){if(R instanceof Y.onnx.NodeProto)return R;var U=new Y.onnx.NodeProto;if(R.input){if(!Array.isArray(R.input))throw TypeError(".onnx.NodeProto.input: array expected");U.input=[];for(var K=0;K<R.input.length;++K)U.input[K]=String(R.input[K])}if(R.output){if(!Array.isArray(R.output))throw TypeError(".onnx.NodeProto.output: array expected");for(U.output=[],K=0;K<R.output.length;++K)U.output[K]=String(R.output[K])}if(R.name!=null&&(U.name=String(R.name)),R.opType!=null&&(U.opType=String(R.opType)),R.domain!=null&&(U.domain=String(R.domain)),R.attribute){if(!Array.isArray(R.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(U.attribute=[],K=0;K<R.attribute.length;++K){if(typeof R.attribute[K]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");U.attribute[K]=Y.onnx.AttributeProto.fromObject(R.attribute[K])}}return R.docString!=null&&(U.docString=String(R.docString)),U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.input=[],K.output=[],K.attribute=[]),U.defaults&&(K.name="",K.opType="",K.docString="",K.domain=""),R.input&&R.input.length){K.input=[];for(var J=0;J<R.input.length;++J)K.input[J]=R.input[J]}if(R.output&&R.output.length)for(K.output=[],J=0;J<R.output.length;++J)K.output[J]=R.output[J];if(R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.opType!=null&&R.hasOwnProperty("opType")&&(K.opType=R.opType),R.attribute&&R.attribute.length)for(K.attribute=[],J=0;J<R.attribute.length;++J)K.attribute[J]=Y.onnx.AttributeProto.toObject(R.attribute[J],U);return R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.domain!=null&&R.hasOwnProperty("domain")&&(K.domain=R.domain),K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.NodeProto"},W}(),ae.TrainingInfoProto=function(){function W(R){if(this.initializationBinding=[],this.updateBinding=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.initialization=null,W.prototype.algorithm=null,W.prototype.initializationBinding=Z.emptyArray,W.prototype.updateBinding=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ie.create()),R.initialization!=null&&Object.hasOwnProperty.call(R,"initialization")&&Y.onnx.GraphProto.encode(R.initialization,U.uint32(10).fork()).ldelim(),R.algorithm!=null&&Object.hasOwnProperty.call(R,"algorithm")&&Y.onnx.GraphProto.encode(R.algorithm,U.uint32(18).fork()).ldelim(),R.initializationBinding!=null&&R.initializationBinding.length)for(var K=0;K<R.initializationBinding.length;++K)Y.onnx.StringStringEntryProto.encode(R.initializationBinding[K],U.uint32(26).fork()).ldelim();if(R.updateBinding!=null&&R.updateBinding.length)for(K=0;K<R.updateBinding.length;++K)Y.onnx.StringStringEntryProto.encode(R.updateBinding[K],U.uint32(34).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.TrainingInfoProto;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:J.initialization=Y.onnx.GraphProto.decode(R,R.uint32());break;case 2:J.algorithm=Y.onnx.GraphProto.decode(R,R.uint32());break;case 3:J.initializationBinding&&J.initializationBinding.length||(J.initializationBinding=[]),J.initializationBinding.push(Y.onnx.StringStringEntryProto.decode(R,R.uint32()));break;case 4:J.updateBinding&&J.updateBinding.length||(J.updateBinding=[]),J.updateBinding.push(Y.onnx.StringStringEntryProto.decode(R,R.uint32()));break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.initialization!=null&&R.hasOwnProperty("initialization")&&(K=Y.onnx.GraphProto.verify(R.initialization)))return"initialization."+K;if(R.algorithm!=null&&R.hasOwnProperty("algorithm")&&(K=Y.onnx.GraphProto.verify(R.algorithm)))return"algorithm."+K;if(R.initializationBinding!=null&&R.hasOwnProperty("initializationBinding")){if(!Array.isArray(R.initializationBinding))return"initializationBinding: array expected";for(var U=0;U<R.initializationBinding.length;++U)if(K=Y.onnx.StringStringEntryProto.verify(R.initializationBinding[U]))return"initializationBinding."+K}if(R.updateBinding!=null&&R.hasOwnProperty("updateBinding")){if(!Array.isArray(R.updateBinding))return"updateBinding: array expected";for(U=0;U<R.updateBinding.length;++U){var K;if(K=Y.onnx.StringStringEntryProto.verify(R.updateBinding[U]))return"updateBinding."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.TrainingInfoProto)return R;var U=new Y.onnx.TrainingInfoProto;if(R.initialization!=null){if(typeof R.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");U.initialization=Y.onnx.GraphProto.fromObject(R.initialization)}if(R.algorithm!=null){if(typeof R.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");U.algorithm=Y.onnx.GraphProto.fromObject(R.algorithm)}if(R.initializationBinding){if(!Array.isArray(R.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");U.initializationBinding=[];for(var K=0;K<R.initializationBinding.length;++K){if(typeof R.initializationBinding[K]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");U.initializationBinding[K]=Y.onnx.StringStringEntryProto.fromObject(R.initializationBinding[K])}}if(R.updateBinding){if(!Array.isArray(R.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");for(U.updateBinding=[],K=0;K<R.updateBinding.length;++K){if(typeof R.updateBinding[K]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");U.updateBinding[K]=Y.onnx.StringStringEntryProto.fromObject(R.updateBinding[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.initializationBinding=[],K.updateBinding=[]),U.defaults&&(K.initialization=null,K.algorithm=null),R.initialization!=null&&R.hasOwnProperty("initialization")&&(K.initialization=Y.onnx.GraphProto.toObject(R.initialization,U)),R.algorithm!=null&&R.hasOwnProperty("algorithm")&&(K.algorithm=Y.onnx.GraphProto.toObject(R.algorithm,U)),R.initializationBinding&&R.initializationBinding.length){K.initializationBinding=[];for(var J=0;J<R.initializationBinding.length;++J)K.initializationBinding[J]=Y.onnx.StringStringEntryProto.toObject(R.initializationBinding[J],U)}if(R.updateBinding&&R.updateBinding.length)for(K.updateBinding=[],J=0;J<R.updateBinding.length;++J)K.updateBinding[J]=Y.onnx.StringStringEntryProto.toObject(R.updateBinding[J],U);return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.TrainingInfoProto"},W}(),ae.ModelProto=function(){function W(R){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.irVersion=Z.Long?Z.Long.fromBits(0,0,!1):0,W.prototype.opsetImport=Z.emptyArray,W.prototype.producerName="",W.prototype.producerVersion="",W.prototype.domain="",W.prototype.modelVersion=Z.Long?Z.Long.fromBits(0,0,!1):0,W.prototype.docString="",W.prototype.graph=null,W.prototype.metadataProps=Z.emptyArray,W.prototype.trainingInfo=Z.emptyArray,W.prototype.functions=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ie.create()),R.irVersion!=null&&Object.hasOwnProperty.call(R,"irVersion")&&U.uint32(8).int64(R.irVersion),R.producerName!=null&&Object.hasOwnProperty.call(R,"producerName")&&U.uint32(18).string(R.producerName),R.producerVersion!=null&&Object.hasOwnProperty.call(R,"producerVersion")&&U.uint32(26).string(R.producerVersion),R.domain!=null&&Object.hasOwnProperty.call(R,"domain")&&U.uint32(34).string(R.domain),R.modelVersion!=null&&Object.hasOwnProperty.call(R,"modelVersion")&&U.uint32(40).int64(R.modelVersion),R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(50).string(R.docString),R.graph!=null&&Object.hasOwnProperty.call(R,"graph")&&Y.onnx.GraphProto.encode(R.graph,U.uint32(58).fork()).ldelim(),R.opsetImport!=null&&R.opsetImport.length)for(var K=0;K<R.opsetImport.length;++K)Y.onnx.OperatorSetIdProto.encode(R.opsetImport[K],U.uint32(66).fork()).ldelim();if(R.metadataProps!=null&&R.metadataProps.length)for(K=0;K<R.metadataProps.length;++K)Y.onnx.StringStringEntryProto.encode(R.metadataProps[K],U.uint32(114).fork()).ldelim();if(R.trainingInfo!=null&&R.trainingInfo.length)for(K=0;K<R.trainingInfo.length;++K)Y.onnx.TrainingInfoProto.encode(R.trainingInfo[K],U.uint32(162).fork()).ldelim();if(R.functions!=null&&R.functions.length)for(K=0;K<R.functions.length;++K)Y.onnx.FunctionProto.encode(R.functions[K],U.uint32(202).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.ModelProto;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:J.irVersion=R.int64();break;case 8:J.opsetImport&&J.opsetImport.length||(J.opsetImport=[]),J.opsetImport.push(Y.onnx.OperatorSetIdProto.decode(R,R.uint32()));break;case 2:J.producerName=R.string();break;case 3:J.producerVersion=R.string();break;case 4:J.domain=R.string();break;case 5:J.modelVersion=R.int64();break;case 6:J.docString=R.string();break;case 7:J.graph=Y.onnx.GraphProto.decode(R,R.uint32());break;case 14:J.metadataProps&&J.metadataProps.length||(J.metadataProps=[]),J.metadataProps.push(Y.onnx.StringStringEntryProto.decode(R,R.uint32()));break;case 20:J.trainingInfo&&J.trainingInfo.length||(J.trainingInfo=[]),J.trainingInfo.push(Y.onnx.TrainingInfoProto.decode(R,R.uint32()));break;case 25:J.functions&&J.functions.length||(J.functions=[]),J.functions.push(Y.onnx.FunctionProto.decode(R,R.uint32()));break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.irVersion!=null&&R.hasOwnProperty("irVersion")&&!(Z.isInteger(R.irVersion)||R.irVersion&&Z.isInteger(R.irVersion.low)&&Z.isInteger(R.irVersion.high)))return"irVersion: integer|Long expected";if(R.opsetImport!=null&&R.hasOwnProperty("opsetImport")){if(!Array.isArray(R.opsetImport))return"opsetImport: array expected";for(var U=0;U<R.opsetImport.length;++U)if(K=Y.onnx.OperatorSetIdProto.verify(R.opsetImport[U]))return"opsetImport."+K}if(R.producerName!=null&&R.hasOwnProperty("producerName")&&!Z.isString(R.producerName))return"producerName: string expected";if(R.producerVersion!=null&&R.hasOwnProperty("producerVersion")&&!Z.isString(R.producerVersion))return"producerVersion: string expected";if(R.domain!=null&&R.hasOwnProperty("domain")&&!Z.isString(R.domain))return"domain: string expected";if(R.modelVersion!=null&&R.hasOwnProperty("modelVersion")&&!(Z.isInteger(R.modelVersion)||R.modelVersion&&Z.isInteger(R.modelVersion.low)&&Z.isInteger(R.modelVersion.high)))return"modelVersion: integer|Long expected";if(R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString))return"docString: string expected";if(R.graph!=null&&R.hasOwnProperty("graph")&&(K=Y.onnx.GraphProto.verify(R.graph)))return"graph."+K;if(R.metadataProps!=null&&R.hasOwnProperty("metadataProps")){if(!Array.isArray(R.metadataProps))return"metadataProps: array expected";for(U=0;U<R.metadataProps.length;++U)if(K=Y.onnx.StringStringEntryProto.verify(R.metadataProps[U]))return"metadataProps."+K}if(R.trainingInfo!=null&&R.hasOwnProperty("trainingInfo")){if(!Array.isArray(R.trainingInfo))return"trainingInfo: array expected";for(U=0;U<R.trainingInfo.length;++U)if(K=Y.onnx.TrainingInfoProto.verify(R.trainingInfo[U]))return"trainingInfo."+K}if(R.functions!=null&&R.hasOwnProperty("functions")){if(!Array.isArray(R.functions))return"functions: array expected";for(U=0;U<R.functions.length;++U){var K;if(K=Y.onnx.FunctionProto.verify(R.functions[U]))return"functions."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.ModelProto)return R;var U=new Y.onnx.ModelProto;if(R.irVersion!=null&&(Z.Long?(U.irVersion=Z.Long.fromValue(R.irVersion)).unsigned=!1:typeof R.irVersion=="string"?U.irVersion=parseInt(R.irVersion,10):typeof R.irVersion=="number"?U.irVersion=R.irVersion:typeof R.irVersion=="object"&&(U.irVersion=new Z.LongBits(R.irVersion.low>>>0,R.irVersion.high>>>0).toNumber())),R.opsetImport){if(!Array.isArray(R.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");U.opsetImport=[];for(var K=0;K<R.opsetImport.length;++K){if(typeof R.opsetImport[K]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");U.opsetImport[K]=Y.onnx.OperatorSetIdProto.fromObject(R.opsetImport[K])}}if(R.producerName!=null&&(U.producerName=String(R.producerName)),R.producerVersion!=null&&(U.producerVersion=String(R.producerVersion)),R.domain!=null&&(U.domain=String(R.domain)),R.modelVersion!=null&&(Z.Long?(U.modelVersion=Z.Long.fromValue(R.modelVersion)).unsigned=!1:typeof R.modelVersion=="string"?U.modelVersion=parseInt(R.modelVersion,10):typeof R.modelVersion=="number"?U.modelVersion=R.modelVersion:typeof R.modelVersion=="object"&&(U.modelVersion=new Z.LongBits(R.modelVersion.low>>>0,R.modelVersion.high>>>0).toNumber())),R.docString!=null&&(U.docString=String(R.docString)),R.graph!=null){if(typeof R.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");U.graph=Y.onnx.GraphProto.fromObject(R.graph)}if(R.metadataProps){if(!Array.isArray(R.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(U.metadataProps=[],K=0;K<R.metadataProps.length;++K){if(typeof R.metadataProps[K]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");U.metadataProps[K]=Y.onnx.StringStringEntryProto.fromObject(R.metadataProps[K])}}if(R.trainingInfo){if(!Array.isArray(R.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");for(U.trainingInfo=[],K=0;K<R.trainingInfo.length;++K){if(typeof R.trainingInfo[K]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");U.trainingInfo[K]=Y.onnx.TrainingInfoProto.fromObject(R.trainingInfo[K])}}if(R.functions){if(!Array.isArray(R.functions))throw TypeError(".onnx.ModelProto.functions: array expected");for(U.functions=[],K=0;K<R.functions.length;++K){if(typeof R.functions[K]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");U.functions[K]=Y.onnx.FunctionProto.fromObject(R.functions[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.opsetImport=[],K.metadataProps=[],K.trainingInfo=[],K.functions=[]),U.defaults){if(Z.Long){var J=new Z.Long(0,0,!1);K.irVersion=U.longs===String?J.toString():U.longs===Number?J.toNumber():J}else K.irVersion=U.longs===String?"0":0;K.producerName="",K.producerVersion="",K.domain="",Z.Long?(J=new Z.Long(0,0,!1),K.modelVersion=U.longs===String?J.toString():U.longs===Number?J.toNumber():J):K.modelVersion=U.longs===String?"0":0,K.docString="",K.graph=null}if(R.irVersion!=null&&R.hasOwnProperty("irVersion")&&(typeof R.irVersion=="number"?K.irVersion=U.longs===String?String(R.irVersion):R.irVersion:K.irVersion=U.longs===String?Z.Long.prototype.toString.call(R.irVersion):U.longs===Number?new Z.LongBits(R.irVersion.low>>>0,R.irVersion.high>>>0).toNumber():R.irVersion),R.producerName!=null&&R.hasOwnProperty("producerName")&&(K.producerName=R.producerName),R.producerVersion!=null&&R.hasOwnProperty("producerVersion")&&(K.producerVersion=R.producerVersion),R.domain!=null&&R.hasOwnProperty("domain")&&(K.domain=R.domain),R.modelVersion!=null&&R.hasOwnProperty("modelVersion")&&(typeof R.modelVersion=="number"?K.modelVersion=U.longs===String?String(R.modelVersion):R.modelVersion:K.modelVersion=U.longs===String?Z.Long.prototype.toString.call(R.modelVersion):U.longs===Number?new Z.LongBits(R.modelVersion.low>>>0,R.modelVersion.high>>>0).toNumber():R.modelVersion),R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.graph!=null&&R.hasOwnProperty("graph")&&(K.graph=Y.onnx.GraphProto.toObject(R.graph,U)),R.opsetImport&&R.opsetImport.length){K.opsetImport=[];for(var te=0;te<R.opsetImport.length;++te)K.opsetImport[te]=Y.onnx.OperatorSetIdProto.toObject(R.opsetImport[te],U)}if(R.metadataProps&&R.metadataProps.length)for(K.metadataProps=[],te=0;te<R.metadataProps.length;++te)K.metadataProps[te]=Y.onnx.StringStringEntryProto.toObject(R.metadataProps[te],U);if(R.trainingInfo&&R.trainingInfo.length)for(K.trainingInfo=[],te=0;te<R.trainingInfo.length;++te)K.trainingInfo[te]=Y.onnx.TrainingInfoProto.toObject(R.trainingInfo[te],U);if(R.functions&&R.functions.length)for(K.functions=[],te=0;te<R.functions.length;++te)K.functions[te]=Y.onnx.FunctionProto.toObject(R.functions[te],U);return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.ModelProto"},W}(),ae.StringStringEntryProto=function(){function W(R){if(R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.key="",W.prototype.value="",W.create=function(R){return new W(R)},W.encode=function(R,U){return U||(U=ie.create()),R.key!=null&&Object.hasOwnProperty.call(R,"key")&&U.uint32(10).string(R.key),R.value!=null&&Object.hasOwnProperty.call(R,"value")&&U.uint32(18).string(R.value),U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.StringStringEntryProto;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:J.key=R.string();break;case 2:J.value=R.string();break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){return typeof R!="object"||R===null?"object expected":R.key!=null&&R.hasOwnProperty("key")&&!Z.isString(R.key)?"key: string expected":R.value!=null&&R.hasOwnProperty("value")&&!Z.isString(R.value)?"value: string expected":null},W.fromObject=function(R){if(R instanceof Y.onnx.StringStringEntryProto)return R;var U=new Y.onnx.StringStringEntryProto;return R.key!=null&&(U.key=String(R.key)),R.value!=null&&(U.value=String(R.value)),U},W.toObject=function(R,U){U||(U={});var K={};return U.defaults&&(K.key="",K.value=""),R.key!=null&&R.hasOwnProperty("key")&&(K.key=R.key),R.value!=null&&R.hasOwnProperty("value")&&(K.value=R.value),K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.StringStringEntryProto"},W}(),ae.TensorAnnotation=function(){function W(R){if(this.quantParameterTensorNames=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.tensorName="",W.prototype.quantParameterTensorNames=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ie.create()),R.tensorName!=null&&Object.hasOwnProperty.call(R,"tensorName")&&U.uint32(10).string(R.tensorName),R.quantParameterTensorNames!=null&&R.quantParameterTensorNames.length)for(var K=0;K<R.quantParameterTensorNames.length;++K)Y.onnx.StringStringEntryProto.encode(R.quantParameterTensorNames[K],U.uint32(18).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.TensorAnnotation;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:J.tensorName=R.string();break;case 2:J.quantParameterTensorNames&&J.quantParameterTensorNames.length||(J.quantParameterTensorNames=[]),J.quantParameterTensorNames.push(Y.onnx.StringStringEntryProto.decode(R,R.uint32()));break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.tensorName!=null&&R.hasOwnProperty("tensorName")&&!Z.isString(R.tensorName))return"tensorName: string expected";if(R.quantParameterTensorNames!=null&&R.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(R.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var U=0;U<R.quantParameterTensorNames.length;++U){var K=Y.onnx.StringStringEntryProto.verify(R.quantParameterTensorNames[U]);if(K)return"quantParameterTensorNames."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.TensorAnnotation)return R;var U=new Y.onnx.TensorAnnotation;if(R.tensorName!=null&&(U.tensorName=String(R.tensorName)),R.quantParameterTensorNames){if(!Array.isArray(R.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");U.quantParameterTensorNames=[];for(var K=0;K<R.quantParameterTensorNames.length;++K){if(typeof R.quantParameterTensorNames[K]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");U.quantParameterTensorNames[K]=Y.onnx.StringStringEntryProto.fromObject(R.quantParameterTensorNames[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.quantParameterTensorNames=[]),U.defaults&&(K.tensorName=""),R.tensorName!=null&&R.hasOwnProperty("tensorName")&&(K.tensorName=R.tensorName),R.quantParameterTensorNames&&R.quantParameterTensorNames.length){K.quantParameterTensorNames=[];for(var J=0;J<R.quantParameterTensorNames.length;++J)K.quantParameterTensorNames[J]=Y.onnx.StringStringEntryProto.toObject(R.quantParameterTensorNames[J],U)}return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.TensorAnnotation"},W}(),ae.GraphProto=function(){function W(R){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.node=Z.emptyArray,W.prototype.name="",W.prototype.initializer=Z.emptyArray,W.prototype.sparseInitializer=Z.emptyArray,W.prototype.docString="",W.prototype.input=Z.emptyArray,W.prototype.output=Z.emptyArray,W.prototype.valueInfo=Z.emptyArray,W.prototype.quantizationAnnotation=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ie.create()),R.node!=null&&R.node.length)for(var K=0;K<R.node.length;++K)Y.onnx.NodeProto.encode(R.node[K],U.uint32(10).fork()).ldelim();if(R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(18).string(R.name),R.initializer!=null&&R.initializer.length)for(K=0;K<R.initializer.length;++K)Y.onnx.TensorProto.encode(R.initializer[K],U.uint32(42).fork()).ldelim();if(R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(82).string(R.docString),R.input!=null&&R.input.length)for(K=0;K<R.input.length;++K)Y.onnx.ValueInfoProto.encode(R.input[K],U.uint32(90).fork()).ldelim();if(R.output!=null&&R.output.length)for(K=0;K<R.output.length;++K)Y.onnx.ValueInfoProto.encode(R.output[K],U.uint32(98).fork()).ldelim();if(R.valueInfo!=null&&R.valueInfo.length)for(K=0;K<R.valueInfo.length;++K)Y.onnx.ValueInfoProto.encode(R.valueInfo[K],U.uint32(106).fork()).ldelim();if(R.quantizationAnnotation!=null&&R.quantizationAnnotation.length)for(K=0;K<R.quantizationAnnotation.length;++K)Y.onnx.TensorAnnotation.encode(R.quantizationAnnotation[K],U.uint32(114).fork()).ldelim();if(R.sparseInitializer!=null&&R.sparseInitializer.length)for(K=0;K<R.sparseInitializer.length;++K)Y.onnx.SparseTensorProto.encode(R.sparseInitializer[K],U.uint32(122).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.GraphProto;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:J.node&&J.node.length||(J.node=[]),J.node.push(Y.onnx.NodeProto.decode(R,R.uint32()));break;case 2:J.name=R.string();break;case 5:J.initializer&&J.initializer.length||(J.initializer=[]),J.initializer.push(Y.onnx.TensorProto.decode(R,R.uint32()));break;case 15:J.sparseInitializer&&J.sparseInitializer.length||(J.sparseInitializer=[]),J.sparseInitializer.push(Y.onnx.SparseTensorProto.decode(R,R.uint32()));break;case 10:J.docString=R.string();break;case 11:J.input&&J.input.length||(J.input=[]),J.input.push(Y.onnx.ValueInfoProto.decode(R,R.uint32()));break;case 12:J.output&&J.output.length||(J.output=[]),J.output.push(Y.onnx.ValueInfoProto.decode(R,R.uint32()));break;case 13:J.valueInfo&&J.valueInfo.length||(J.valueInfo=[]),J.valueInfo.push(Y.onnx.ValueInfoProto.decode(R,R.uint32()));break;case 14:J.quantizationAnnotation&&J.quantizationAnnotation.length||(J.quantizationAnnotation=[]),J.quantizationAnnotation.push(Y.onnx.TensorAnnotation.decode(R,R.uint32()));break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.node!=null&&R.hasOwnProperty("node")){if(!Array.isArray(R.node))return"node: array expected";for(var U=0;U<R.node.length;++U)if(K=Y.onnx.NodeProto.verify(R.node[U]))return"node."+K}if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.initializer!=null&&R.hasOwnProperty("initializer")){if(!Array.isArray(R.initializer))return"initializer: array expected";for(U=0;U<R.initializer.length;++U)if(K=Y.onnx.TensorProto.verify(R.initializer[U]))return"initializer."+K}if(R.sparseInitializer!=null&&R.hasOwnProperty("sparseInitializer")){if(!Array.isArray(R.sparseInitializer))return"sparseInitializer: array expected";for(U=0;U<R.sparseInitializer.length;++U)if(K=Y.onnx.SparseTensorProto.verify(R.sparseInitializer[U]))return"sparseInitializer."+K}if(R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString))return"docString: string expected";if(R.input!=null&&R.hasOwnProperty("input")){if(!Array.isArray(R.input))return"input: array expected";for(U=0;U<R.input.length;++U)if(K=Y.onnx.ValueInfoProto.verify(R.input[U]))return"input."+K}if(R.output!=null&&R.hasOwnProperty("output")){if(!Array.isArray(R.output))return"output: array expected";for(U=0;U<R.output.length;++U)if(K=Y.onnx.ValueInfoProto.verify(R.output[U]))return"output."+K}if(R.valueInfo!=null&&R.hasOwnProperty("valueInfo")){if(!Array.isArray(R.valueInfo))return"valueInfo: array expected";for(U=0;U<R.valueInfo.length;++U)if(K=Y.onnx.ValueInfoProto.verify(R.valueInfo[U]))return"valueInfo."+K}if(R.quantizationAnnotation!=null&&R.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(R.quantizationAnnotation))return"quantizationAnnotation: array expected";for(U=0;U<R.quantizationAnnotation.length;++U){var K;if(K=Y.onnx.TensorAnnotation.verify(R.quantizationAnnotation[U]))return"quantizationAnnotation."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.GraphProto)return R;var U=new Y.onnx.GraphProto;if(R.node){if(!Array.isArray(R.node))throw TypeError(".onnx.GraphProto.node: array expected");U.node=[];for(var K=0;K<R.node.length;++K){if(typeof R.node[K]!="object")throw TypeError(".onnx.GraphProto.node: object expected");U.node[K]=Y.onnx.NodeProto.fromObject(R.node[K])}}if(R.name!=null&&(U.name=String(R.name)),R.initializer){if(!Array.isArray(R.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(U.initializer=[],K=0;K<R.initializer.length;++K){if(typeof R.initializer[K]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");U.initializer[K]=Y.onnx.TensorProto.fromObject(R.initializer[K])}}if(R.sparseInitializer){if(!Array.isArray(R.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");for(U.sparseInitializer=[],K=0;K<R.sparseInitializer.length;++K){if(typeof R.sparseInitializer[K]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");U.sparseInitializer[K]=Y.onnx.SparseTensorProto.fromObject(R.sparseInitializer[K])}}if(R.docString!=null&&(U.docString=String(R.docString)),R.input){if(!Array.isArray(R.input))throw TypeError(".onnx.GraphProto.input: array expected");for(U.input=[],K=0;K<R.input.length;++K){if(typeof R.input[K]!="object")throw TypeError(".onnx.GraphProto.input: object expected");U.input[K]=Y.onnx.ValueInfoProto.fromObject(R.input[K])}}if(R.output){if(!Array.isArray(R.output))throw TypeError(".onnx.GraphProto.output: array expected");for(U.output=[],K=0;K<R.output.length;++K){if(typeof R.output[K]!="object")throw TypeError(".onnx.GraphProto.output: object expected");U.output[K]=Y.onnx.ValueInfoProto.fromObject(R.output[K])}}if(R.valueInfo){if(!Array.isArray(R.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(U.valueInfo=[],K=0;K<R.valueInfo.length;++K){if(typeof R.valueInfo[K]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");U.valueInfo[K]=Y.onnx.ValueInfoProto.fromObject(R.valueInfo[K])}}if(R.quantizationAnnotation){if(!Array.isArray(R.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(U.quantizationAnnotation=[],K=0;K<R.quantizationAnnotation.length;++K){if(typeof R.quantizationAnnotation[K]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");U.quantizationAnnotation[K]=Y.onnx.TensorAnnotation.fromObject(R.quantizationAnnotation[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.node=[],K.initializer=[],K.input=[],K.output=[],K.valueInfo=[],K.quantizationAnnotation=[],K.sparseInitializer=[]),U.defaults&&(K.name="",K.docString=""),R.node&&R.node.length){K.node=[];for(var J=0;J<R.node.length;++J)K.node[J]=Y.onnx.NodeProto.toObject(R.node[J],U)}if(R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.initializer&&R.initializer.length)for(K.initializer=[],J=0;J<R.initializer.length;++J)K.initializer[J]=Y.onnx.TensorProto.toObject(R.initializer[J],U);if(R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.input&&R.input.length)for(K.input=[],J=0;J<R.input.length;++J)K.input[J]=Y.onnx.ValueInfoProto.toObject(R.input[J],U);if(R.output&&R.output.length)for(K.output=[],J=0;J<R.output.length;++J)K.output[J]=Y.onnx.ValueInfoProto.toObject(R.output[J],U);if(R.valueInfo&&R.valueInfo.length)for(K.valueInfo=[],J=0;J<R.valueInfo.length;++J)K.valueInfo[J]=Y.onnx.ValueInfoProto.toObject(R.valueInfo[J],U);if(R.quantizationAnnotation&&R.quantizationAnnotation.length)for(K.quantizationAnnotation=[],J=0;J<R.quantizationAnnotation.length;++J)K.quantizationAnnotation[J]=Y.onnx.TensorAnnotation.toObject(R.quantizationAnnotation[J],U);if(R.sparseInitializer&&R.sparseInitializer.length)for(K.sparseInitializer=[],J=0;J<R.sparseInitializer.length;++J)K.sparseInitializer[J]=Y.onnx.SparseTensorProto.toObject(R.sparseInitializer[J],U);return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.GraphProto"},W}(),ae.TensorProto=function(){function W(R){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.dims=Z.emptyArray,W.prototype.dataType=0,W.prototype.segment=null,W.prototype.floatData=Z.emptyArray,W.prototype.int32Data=Z.emptyArray,W.prototype.stringData=Z.emptyArray,W.prototype.int64Data=Z.emptyArray,W.prototype.name="",W.prototype.docString="",W.prototype.rawData=Z.newBuffer([]),W.prototype.externalData=Z.emptyArray,W.prototype.dataLocation=0,W.prototype.doubleData=Z.emptyArray,W.prototype.uint64Data=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ie.create()),R.dims!=null&&R.dims.length){U.uint32(10).fork();for(var K=0;K<R.dims.length;++K)U.int64(R.dims[K]);U.ldelim()}if(R.dataType!=null&&Object.hasOwnProperty.call(R,"dataType")&&U.uint32(16).int32(R.dataType),R.segment!=null&&Object.hasOwnProperty.call(R,"segment")&&Y.onnx.TensorProto.Segment.encode(R.segment,U.uint32(26).fork()).ldelim(),R.floatData!=null&&R.floatData.length){for(U.uint32(34).fork(),K=0;K<R.floatData.length;++K)U.float(R.floatData[K]);U.ldelim()}if(R.int32Data!=null&&R.int32Data.length){for(U.uint32(42).fork(),K=0;K<R.int32Data.length;++K)U.int32(R.int32Data[K]);U.ldelim()}if(R.stringData!=null&&R.stringData.length)for(K=0;K<R.stringData.length;++K)U.uint32(50).bytes(R.stringData[K]);if(R.int64Data!=null&&R.int64Data.length){for(U.uint32(58).fork(),K=0;K<R.int64Data.length;++K)U.int64(R.int64Data[K]);U.ldelim()}if(R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(66).string(R.name),R.rawData!=null&&Object.hasOwnProperty.call(R,"rawData")&&U.uint32(74).bytes(R.rawData),R.doubleData!=null&&R.doubleData.length){for(U.uint32(82).fork(),K=0;K<R.doubleData.length;++K)U.double(R.doubleData[K]);U.ldelim()}if(R.uint64Data!=null&&R.uint64Data.length){for(U.uint32(90).fork(),K=0;K<R.uint64Data.length;++K)U.uint64(R.uint64Data[K]);U.ldelim()}if(R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(98).string(R.docString),R.externalData!=null&&R.externalData.length)for(K=0;K<R.externalData.length;++K)Y.onnx.StringStringEntryProto.encode(R.externalData[K],U.uint32(106).fork()).ldelim();return R.dataLocation!=null&&Object.hasOwnProperty.call(R,"dataLocation")&&U.uint32(112).int32(R.dataLocation),U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.TensorProto;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:if(J.dims&&J.dims.length||(J.dims=[]),(7&te)==2)for(var se=R.uint32()+R.pos;R.pos<se;)J.dims.push(R.int64());else J.dims.push(R.int64());break;case 2:J.dataType=R.int32();break;case 3:J.segment=Y.onnx.TensorProto.Segment.decode(R,R.uint32());break;case 4:if(J.floatData&&J.floatData.length||(J.floatData=[]),(7&te)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.floatData.push(R.float());else J.floatData.push(R.float());break;case 5:if(J.int32Data&&J.int32Data.length||(J.int32Data=[]),(7&te)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.int32Data.push(R.int32());else J.int32Data.push(R.int32());break;case 6:J.stringData&&J.stringData.length||(J.stringData=[]),J.stringData.push(R.bytes());break;case 7:if(J.int64Data&&J.int64Data.length||(J.int64Data=[]),(7&te)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.int64Data.push(R.int64());else J.int64Data.push(R.int64());break;case 8:J.name=R.string();break;case 12:J.docString=R.string();break;case 9:J.rawData=R.bytes();break;case 13:J.externalData&&J.externalData.length||(J.externalData=[]),J.externalData.push(Y.onnx.StringStringEntryProto.decode(R,R.uint32()));break;case 14:J.dataLocation=R.int32();break;case 10:if(J.doubleData&&J.doubleData.length||(J.doubleData=[]),(7&te)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.doubleData.push(R.double());else J.doubleData.push(R.double());break;case 11:if(J.uint64Data&&J.uint64Data.length||(J.uint64Data=[]),(7&te)==2)for(se=R.uint32()+R.pos;R.pos<se;)J.uint64Data.push(R.uint64());else J.uint64Data.push(R.uint64());break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.dims!=null&&R.hasOwnProperty("dims")){if(!Array.isArray(R.dims))return"dims: array expected";for(var U=0;U<R.dims.length;++U)if(!(Z.isInteger(R.dims[U])||R.dims[U]&&Z.isInteger(R.dims[U].low)&&Z.isInteger(R.dims[U].high)))return"dims: integer|Long[] expected"}if(R.dataType!=null&&R.hasOwnProperty("dataType")&&!Z.isInteger(R.dataType))return"dataType: integer expected";if(R.segment!=null&&R.hasOwnProperty("segment")&&(K=Y.onnx.TensorProto.Segment.verify(R.segment)))return"segment."+K;if(R.floatData!=null&&R.hasOwnProperty("floatData")){if(!Array.isArray(R.floatData))return"floatData: array expected";for(U=0;U<R.floatData.length;++U)if(typeof R.floatData[U]!="number")return"floatData: number[] expected"}if(R.int32Data!=null&&R.hasOwnProperty("int32Data")){if(!Array.isArray(R.int32Data))return"int32Data: array expected";for(U=0;U<R.int32Data.length;++U)if(!Z.isInteger(R.int32Data[U]))return"int32Data: integer[] expected"}if(R.stringData!=null&&R.hasOwnProperty("stringData")){if(!Array.isArray(R.stringData))return"stringData: array expected";for(U=0;U<R.stringData.length;++U)if(!(R.stringData[U]&&typeof R.stringData[U].length=="number"||Z.isString(R.stringData[U])))return"stringData: buffer[] expected"}if(R.int64Data!=null&&R.hasOwnProperty("int64Data")){if(!Array.isArray(R.int64Data))return"int64Data: array expected";for(U=0;U<R.int64Data.length;++U)if(!(Z.isInteger(R.int64Data[U])||R.int64Data[U]&&Z.isInteger(R.int64Data[U].low)&&Z.isInteger(R.int64Data[U].high)))return"int64Data: integer|Long[] expected"}if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString))return"docString: string expected";if(R.rawData!=null&&R.hasOwnProperty("rawData")&&!(R.rawData&&typeof R.rawData.length=="number"||Z.isString(R.rawData)))return"rawData: buffer expected";if(R.externalData!=null&&R.hasOwnProperty("externalData")){if(!Array.isArray(R.externalData))return"externalData: array expected";for(U=0;U<R.externalData.length;++U){var K;if(K=Y.onnx.StringStringEntryProto.verify(R.externalData[U]))return"externalData."+K}}if(R.dataLocation!=null&&R.hasOwnProperty("dataLocation"))switch(R.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(R.doubleData!=null&&R.hasOwnProperty("doubleData")){if(!Array.isArray(R.doubleData))return"doubleData: array expected";for(U=0;U<R.doubleData.length;++U)if(typeof R.doubleData[U]!="number")return"doubleData: number[] expected"}if(R.uint64Data!=null&&R.hasOwnProperty("uint64Data")){if(!Array.isArray(R.uint64Data))return"uint64Data: array expected";for(U=0;U<R.uint64Data.length;++U)if(!(Z.isInteger(R.uint64Data[U])||R.uint64Data[U]&&Z.isInteger(R.uint64Data[U].low)&&Z.isInteger(R.uint64Data[U].high)))return"uint64Data: integer|Long[] expected"}return null},W.fromObject=function(R){if(R instanceof Y.onnx.TensorProto)return R;var U=new Y.onnx.TensorProto;if(R.dims){if(!Array.isArray(R.dims))throw TypeError(".onnx.TensorProto.dims: array expected");U.dims=[];for(var K=0;K<R.dims.length;++K)Z.Long?(U.dims[K]=Z.Long.fromValue(R.dims[K])).unsigned=!1:typeof R.dims[K]=="string"?U.dims[K]=parseInt(R.dims[K],10):typeof R.dims[K]=="number"?U.dims[K]=R.dims[K]:typeof R.dims[K]=="object"&&(U.dims[K]=new Z.LongBits(R.dims[K].low>>>0,R.dims[K].high>>>0).toNumber())}if(R.dataType!=null&&(U.dataType=0|R.dataType),R.segment!=null){if(typeof R.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");U.segment=Y.onnx.TensorProto.Segment.fromObject(R.segment)}if(R.floatData){if(!Array.isArray(R.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(U.floatData=[],K=0;K<R.floatData.length;++K)U.floatData[K]=Number(R.floatData[K])}if(R.int32Data){if(!Array.isArray(R.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(U.int32Data=[],K=0;K<R.int32Data.length;++K)U.int32Data[K]=0|R.int32Data[K]}if(R.stringData){if(!Array.isArray(R.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(U.stringData=[],K=0;K<R.stringData.length;++K)typeof R.stringData[K]=="string"?Z.base64.decode(R.stringData[K],U.stringData[K]=Z.newBuffer(Z.base64.length(R.stringData[K])),0):R.stringData[K].length>=0&&(U.stringData[K]=R.stringData[K])}if(R.int64Data){if(!Array.isArray(R.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(U.int64Data=[],K=0;K<R.int64Data.length;++K)Z.Long?(U.int64Data[K]=Z.Long.fromValue(R.int64Data[K])).unsigned=!1:typeof R.int64Data[K]=="string"?U.int64Data[K]=parseInt(R.int64Data[K],10):typeof R.int64Data[K]=="number"?U.int64Data[K]=R.int64Data[K]:typeof R.int64Data[K]=="object"&&(U.int64Data[K]=new Z.LongBits(R.int64Data[K].low>>>0,R.int64Data[K].high>>>0).toNumber())}if(R.name!=null&&(U.name=String(R.name)),R.docString!=null&&(U.docString=String(R.docString)),R.rawData!=null&&(typeof R.rawData=="string"?Z.base64.decode(R.rawData,U.rawData=Z.newBuffer(Z.base64.length(R.rawData)),0):R.rawData.length>=0&&(U.rawData=R.rawData)),R.externalData){if(!Array.isArray(R.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(U.externalData=[],K=0;K<R.externalData.length;++K){if(typeof R.externalData[K]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");U.externalData[K]=Y.onnx.StringStringEntryProto.fromObject(R.externalData[K])}}switch(R.dataLocation){default:if(typeof R.dataLocation=="number"){U.dataLocation=R.dataLocation;break}break;case"DEFAULT":case 0:U.dataLocation=0;break;case"EXTERNAL":case 1:U.dataLocation=1}if(R.doubleData){if(!Array.isArray(R.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(U.doubleData=[],K=0;K<R.doubleData.length;++K)U.doubleData[K]=Number(R.doubleData[K])}if(R.uint64Data){if(!Array.isArray(R.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(U.uint64Data=[],K=0;K<R.uint64Data.length;++K)Z.Long?(U.uint64Data[K]=Z.Long.fromValue(R.uint64Data[K])).unsigned=!0:typeof R.uint64Data[K]=="string"?U.uint64Data[K]=parseInt(R.uint64Data[K],10):typeof R.uint64Data[K]=="number"?U.uint64Data[K]=R.uint64Data[K]:typeof R.uint64Data[K]=="object"&&(U.uint64Data[K]=new Z.LongBits(R.uint64Data[K].low>>>0,R.uint64Data[K].high>>>0).toNumber(!0))}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.dims=[],K.floatData=[],K.int32Data=[],K.stringData=[],K.int64Data=[],K.doubleData=[],K.uint64Data=[],K.externalData=[]),U.defaults&&(K.dataType=0,K.segment=null,K.name="",U.bytes===String?K.rawData="":(K.rawData=[],U.bytes!==Array&&(K.rawData=Z.newBuffer(K.rawData))),K.docString="",K.dataLocation=U.enums===String?"DEFAULT":0),R.dims&&R.dims.length){K.dims=[];for(var J=0;J<R.dims.length;++J)typeof R.dims[J]=="number"?K.dims[J]=U.longs===String?String(R.dims[J]):R.dims[J]:K.dims[J]=U.longs===String?Z.Long.prototype.toString.call(R.dims[J]):U.longs===Number?new Z.LongBits(R.dims[J].low>>>0,R.dims[J].high>>>0).toNumber():R.dims[J]}if(R.dataType!=null&&R.hasOwnProperty("dataType")&&(K.dataType=R.dataType),R.segment!=null&&R.hasOwnProperty("segment")&&(K.segment=Y.onnx.TensorProto.Segment.toObject(R.segment,U)),R.floatData&&R.floatData.length)for(K.floatData=[],J=0;J<R.floatData.length;++J)K.floatData[J]=U.json&&!isFinite(R.floatData[J])?String(R.floatData[J]):R.floatData[J];if(R.int32Data&&R.int32Data.length)for(K.int32Data=[],J=0;J<R.int32Data.length;++J)K.int32Data[J]=R.int32Data[J];if(R.stringData&&R.stringData.length)for(K.stringData=[],J=0;J<R.stringData.length;++J)K.stringData[J]=U.bytes===String?Z.base64.encode(R.stringData[J],0,R.stringData[J].length):U.bytes===Array?Array.prototype.slice.call(R.stringData[J]):R.stringData[J];if(R.int64Data&&R.int64Data.length)for(K.int64Data=[],J=0;J<R.int64Data.length;++J)typeof R.int64Data[J]=="number"?K.int64Data[J]=U.longs===String?String(R.int64Data[J]):R.int64Data[J]:K.int64Data[J]=U.longs===String?Z.Long.prototype.toString.call(R.int64Data[J]):U.longs===Number?new Z.LongBits(R.int64Data[J].low>>>0,R.int64Data[J].high>>>0).toNumber():R.int64Data[J];if(R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.rawData!=null&&R.hasOwnProperty("rawData")&&(K.rawData=U.bytes===String?Z.base64.encode(R.rawData,0,R.rawData.length):U.bytes===Array?Array.prototype.slice.call(R.rawData):R.rawData),R.doubleData&&R.doubleData.length)for(K.doubleData=[],J=0;J<R.doubleData.length;++J)K.doubleData[J]=U.json&&!isFinite(R.doubleData[J])?String(R.doubleData[J]):R.doubleData[J];if(R.uint64Data&&R.uint64Data.length)for(K.uint64Data=[],J=0;J<R.uint64Data.length;++J)typeof R.uint64Data[J]=="number"?K.uint64Data[J]=U.longs===String?String(R.uint64Data[J]):R.uint64Data[J]:K.uint64Data[J]=U.longs===String?Z.Long.prototype.toString.call(R.uint64Data[J]):U.longs===Number?new Z.LongBits(R.uint64Data[J].low>>>0,R.uint64Data[J].high>>>0).toNumber(!0):R.uint64Data[J];if(R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.externalData&&R.externalData.length)for(K.externalData=[],J=0;J<R.externalData.length;++J)K.externalData[J]=Y.onnx.StringStringEntryProto.toObject(R.externalData[J],U);return R.dataLocation!=null&&R.hasOwnProperty("dataLocation")&&(K.dataLocation=U.enums===String?Y.onnx.TensorProto.DataLocation[R.dataLocation]===void 0?R.dataLocation:Y.onnx.TensorProto.DataLocation[R.dataLocation]:R.dataLocation),K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.TensorProto"},W.DataType=function(){var R={},U=Object.create(R);return U[R[0]="UNDEFINED"]=0,U[R[1]="FLOAT"]=1,U[R[2]="UINT8"]=2,U[R[3]="INT8"]=3,U[R[4]="UINT16"]=4,U[R[5]="INT16"]=5,U[R[6]="INT32"]=6,U[R[7]="INT64"]=7,U[R[8]="STRING"]=8,U[R[9]="BOOL"]=9,U[R[10]="FLOAT16"]=10,U[R[11]="DOUBLE"]=11,U[R[12]="UINT32"]=12,U[R[13]="UINT64"]=13,U[R[14]="COMPLEX64"]=14,U[R[15]="COMPLEX128"]=15,U[R[16]="BFLOAT16"]=16,U[R[17]="FLOAT8E4M3FN"]=17,U[R[18]="FLOAT8E4M3FNUZ"]=18,U[R[19]="FLOAT8E5M2"]=19,U[R[20]="FLOAT8E5M2FNUZ"]=20,U}(),W.Segment=function(){function R(U){if(U)for(var K=Object.keys(U),J=0;J<K.length;++J)U[K[J]]!=null&&(this[K[J]]=U[K[J]])}return R.prototype.begin=Z.Long?Z.Long.fromBits(0,0,!1):0,R.prototype.end=Z.Long?Z.Long.fromBits(0,0,!1):0,R.create=function(U){return new R(U)},R.encode=function(U,K){return K||(K=ie.create()),U.begin!=null&&Object.hasOwnProperty.call(U,"begin")&&K.uint32(8).int64(U.begin),U.end!=null&&Object.hasOwnProperty.call(U,"end")&&K.uint32(16).int64(U.end),K},R.encodeDelimited=function(U,K){return this.encode(U,K).ldelim()},R.decode=function(U,K){U instanceof ee||(U=ee.create(U));for(var J=K===void 0?U.len:U.pos+K,te=new Y.onnx.TensorProto.Segment;U.pos<J;){var se=U.uint32();switch(se>>>3){case 1:te.begin=U.int64();break;case 2:te.end=U.int64();break;default:U.skipType(7&se)}}return te},R.decodeDelimited=function(U){return U instanceof ee||(U=new ee(U)),this.decode(U,U.uint32())},R.verify=function(U){return typeof U!="object"||U===null?"object expected":U.begin!=null&&U.hasOwnProperty("begin")&&!(Z.isInteger(U.begin)||U.begin&&Z.isInteger(U.begin.low)&&Z.isInteger(U.begin.high))?"begin: integer|Long expected":U.end!=null&&U.hasOwnProperty("end")&&!(Z.isInteger(U.end)||U.end&&Z.isInteger(U.end.low)&&Z.isInteger(U.end.high))?"end: integer|Long expected":null},R.fromObject=function(U){if(U instanceof Y.onnx.TensorProto.Segment)return U;var K=new Y.onnx.TensorProto.Segment;return U.begin!=null&&(Z.Long?(K.begin=Z.Long.fromValue(U.begin)).unsigned=!1:typeof U.begin=="string"?K.begin=parseInt(U.begin,10):typeof U.begin=="number"?K.begin=U.begin:typeof U.begin=="object"&&(K.begin=new Z.LongBits(U.begin.low>>>0,U.begin.high>>>0).toNumber())),U.end!=null&&(Z.Long?(K.end=Z.Long.fromValue(U.end)).unsigned=!1:typeof U.end=="string"?K.end=parseInt(U.end,10):typeof U.end=="number"?K.end=U.end:typeof U.end=="object"&&(K.end=new Z.LongBits(U.end.low>>>0,U.end.high>>>0).toNumber())),K},R.toObject=function(U,K){K||(K={});var J={};if(K.defaults){if(Z.Long){var te=new Z.Long(0,0,!1);J.begin=K.longs===String?te.toString():K.longs===Number?te.toNumber():te}else J.begin=K.longs===String?"0":0;Z.Long?(te=new Z.Long(0,0,!1),J.end=K.longs===String?te.toString():K.longs===Number?te.toNumber():te):J.end=K.longs===String?"0":0}return U.begin!=null&&U.hasOwnProperty("begin")&&(typeof U.begin=="number"?J.begin=K.longs===String?String(U.begin):U.begin:J.begin=K.longs===String?Z.Long.prototype.toString.call(U.begin):K.longs===Number?new Z.LongBits(U.begin.low>>>0,U.begin.high>>>0).toNumber():U.begin),U.end!=null&&U.hasOwnProperty("end")&&(typeof U.end=="number"?J.end=K.longs===String?String(U.end):U.end:J.end=K.longs===String?Z.Long.prototype.toString.call(U.end):K.longs===Number?new Z.LongBits(U.end.low>>>0,U.end.high>>>0).toNumber():U.end),J},R.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},R.getTypeUrl=function(U){return U===void 0&&(U="type.googleapis.com"),U+"/onnx.TensorProto.Segment"},R}(),W.DataLocation=function(){var R={},U=Object.create(R);return U[R[0]="DEFAULT"]=0,U[R[1]="EXTERNAL"]=1,U}(),W}(),ae.SparseTensorProto=function(){function W(R){if(this.dims=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.values=null,W.prototype.indices=null,W.prototype.dims=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ie.create()),R.values!=null&&Object.hasOwnProperty.call(R,"values")&&Y.onnx.TensorProto.encode(R.values,U.uint32(10).fork()).ldelim(),R.indices!=null&&Object.hasOwnProperty.call(R,"indices")&&Y.onnx.TensorProto.encode(R.indices,U.uint32(18).fork()).ldelim(),R.dims!=null&&R.dims.length){U.uint32(26).fork();for(var K=0;K<R.dims.length;++K)U.int64(R.dims[K]);U.ldelim()}return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.SparseTensorProto;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:J.values=Y.onnx.TensorProto.decode(R,R.uint32());break;case 2:J.indices=Y.onnx.TensorProto.decode(R,R.uint32());break;case 3:if(J.dims&&J.dims.length||(J.dims=[]),(7&te)==2)for(var se=R.uint32()+R.pos;R.pos<se;)J.dims.push(R.int64());else J.dims.push(R.int64());break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";var U;if(R.values!=null&&R.hasOwnProperty("values")&&(U=Y.onnx.TensorProto.verify(R.values)))return"values."+U;if(R.indices!=null&&R.hasOwnProperty("indices")&&(U=Y.onnx.TensorProto.verify(R.indices)))return"indices."+U;if(R.dims!=null&&R.hasOwnProperty("dims")){if(!Array.isArray(R.dims))return"dims: array expected";for(var K=0;K<R.dims.length;++K)if(!(Z.isInteger(R.dims[K])||R.dims[K]&&Z.isInteger(R.dims[K].low)&&Z.isInteger(R.dims[K].high)))return"dims: integer|Long[] expected"}return null},W.fromObject=function(R){if(R instanceof Y.onnx.SparseTensorProto)return R;var U=new Y.onnx.SparseTensorProto;if(R.values!=null){if(typeof R.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");U.values=Y.onnx.TensorProto.fromObject(R.values)}if(R.indices!=null){if(typeof R.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");U.indices=Y.onnx.TensorProto.fromObject(R.indices)}if(R.dims){if(!Array.isArray(R.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");U.dims=[];for(var K=0;K<R.dims.length;++K)Z.Long?(U.dims[K]=Z.Long.fromValue(R.dims[K])).unsigned=!1:typeof R.dims[K]=="string"?U.dims[K]=parseInt(R.dims[K],10):typeof R.dims[K]=="number"?U.dims[K]=R.dims[K]:typeof R.dims[K]=="object"&&(U.dims[K]=new Z.LongBits(R.dims[K].low>>>0,R.dims[K].high>>>0).toNumber())}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.dims=[]),U.defaults&&(K.values=null,K.indices=null),R.values!=null&&R.hasOwnProperty("values")&&(K.values=Y.onnx.TensorProto.toObject(R.values,U)),R.indices!=null&&R.hasOwnProperty("indices")&&(K.indices=Y.onnx.TensorProto.toObject(R.indices,U)),R.dims&&R.dims.length){K.dims=[];for(var J=0;J<R.dims.length;++J)typeof R.dims[J]=="number"?K.dims[J]=U.longs===String?String(R.dims[J]):R.dims[J]:K.dims[J]=U.longs===String?Z.Long.prototype.toString.call(R.dims[J]):U.longs===Number?new Z.LongBits(R.dims[J].low>>>0,R.dims[J].high>>>0).toNumber():R.dims[J]}return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.SparseTensorProto"},W}(),ae.TensorShapeProto=function(){function W(R){if(this.dim=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.dim=Z.emptyArray,W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ie.create()),R.dim!=null&&R.dim.length)for(var K=0;K<R.dim.length;++K)Y.onnx.TensorShapeProto.Dimension.encode(R.dim[K],U.uint32(10).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.TensorShapeProto;R.pos<K;){var te=R.uint32();te>>>3==1?(J.dim&&J.dim.length||(J.dim=[]),J.dim.push(Y.onnx.TensorShapeProto.Dimension.decode(R,R.uint32()))):R.skipType(7&te)}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.dim!=null&&R.hasOwnProperty("dim")){if(!Array.isArray(R.dim))return"dim: array expected";for(var U=0;U<R.dim.length;++U){var K=Y.onnx.TensorShapeProto.Dimension.verify(R.dim[U]);if(K)return"dim."+K}}return null},W.fromObject=function(R){if(R instanceof Y.onnx.TensorShapeProto)return R;var U=new Y.onnx.TensorShapeProto;if(R.dim){if(!Array.isArray(R.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");U.dim=[];for(var K=0;K<R.dim.length;++K){if(typeof R.dim[K]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");U.dim[K]=Y.onnx.TensorShapeProto.Dimension.fromObject(R.dim[K])}}return U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.dim=[]),R.dim&&R.dim.length){K.dim=[];for(var J=0;J<R.dim.length;++J)K.dim[J]=Y.onnx.TensorShapeProto.Dimension.toObject(R.dim[J],U)}return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.TensorShapeProto"},W.Dimension=function(){function R(K){if(K)for(var J=Object.keys(K),te=0;te<J.length;++te)K[J[te]]!=null&&(this[J[te]]=K[J[te]])}var U;return R.prototype.dimValue=null,R.prototype.dimParam=null,R.prototype.denotation="",Object.defineProperty(R.prototype,"value",{get:Z.oneOfGetter(U=["dimValue","dimParam"]),set:Z.oneOfSetter(U)}),R.create=function(K){return new R(K)},R.encode=function(K,J){return J||(J=ie.create()),K.dimValue!=null&&Object.hasOwnProperty.call(K,"dimValue")&&J.uint32(8).int64(K.dimValue),K.dimParam!=null&&Object.hasOwnProperty.call(K,"dimParam")&&J.uint32(18).string(K.dimParam),K.denotation!=null&&Object.hasOwnProperty.call(K,"denotation")&&J.uint32(26).string(K.denotation),J},R.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},R.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var te=J===void 0?K.len:K.pos+J,se=new Y.onnx.TensorShapeProto.Dimension;K.pos<te;){var le=K.uint32();switch(le>>>3){case 1:se.dimValue=K.int64();break;case 2:se.dimParam=K.string();break;case 3:se.denotation=K.string();break;default:K.skipType(7&le)}}return se},R.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},R.verify=function(K){if(typeof K!="object"||K===null)return"object expected";var J={};if(K.dimValue!=null&&K.hasOwnProperty("dimValue")&&(J.value=1,!(Z.isInteger(K.dimValue)||K.dimValue&&Z.isInteger(K.dimValue.low)&&Z.isInteger(K.dimValue.high))))return"dimValue: integer|Long expected";if(K.dimParam!=null&&K.hasOwnProperty("dimParam")){if(J.value===1)return"value: multiple values";if(J.value=1,!Z.isString(K.dimParam))return"dimParam: string expected"}return K.denotation!=null&&K.hasOwnProperty("denotation")&&!Z.isString(K.denotation)?"denotation: string expected":null},R.fromObject=function(K){if(K instanceof Y.onnx.TensorShapeProto.Dimension)return K;var J=new Y.onnx.TensorShapeProto.Dimension;return K.dimValue!=null&&(Z.Long?(J.dimValue=Z.Long.fromValue(K.dimValue)).unsigned=!1:typeof K.dimValue=="string"?J.dimValue=parseInt(K.dimValue,10):typeof K.dimValue=="number"?J.dimValue=K.dimValue:typeof K.dimValue=="object"&&(J.dimValue=new Z.LongBits(K.dimValue.low>>>0,K.dimValue.high>>>0).toNumber())),K.dimParam!=null&&(J.dimParam=String(K.dimParam)),K.denotation!=null&&(J.denotation=String(K.denotation)),J},R.toObject=function(K,J){J||(J={});var te={};return J.defaults&&(te.denotation=""),K.dimValue!=null&&K.hasOwnProperty("dimValue")&&(typeof K.dimValue=="number"?te.dimValue=J.longs===String?String(K.dimValue):K.dimValue:te.dimValue=J.longs===String?Z.Long.prototype.toString.call(K.dimValue):J.longs===Number?new Z.LongBits(K.dimValue.low>>>0,K.dimValue.high>>>0).toNumber():K.dimValue,J.oneofs&&(te.value="dimValue")),K.dimParam!=null&&K.hasOwnProperty("dimParam")&&(te.dimParam=K.dimParam,J.oneofs&&(te.value="dimParam")),K.denotation!=null&&K.hasOwnProperty("denotation")&&(te.denotation=K.denotation),te},R.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},R.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TensorShapeProto.Dimension"},R}(),W}(),ae.TypeProto=function(){function W(U){if(U)for(var K=Object.keys(U),J=0;J<K.length;++J)U[K[J]]!=null&&(this[K[J]]=U[K[J]])}var R;return W.prototype.tensorType=null,W.prototype.sequenceType=null,W.prototype.mapType=null,W.prototype.optionalType=null,W.prototype.sparseTensorType=null,W.prototype.denotation="",Object.defineProperty(W.prototype,"value",{get:Z.oneOfGetter(R=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:Z.oneOfSetter(R)}),W.create=function(U){return new W(U)},W.encode=function(U,K){return K||(K=ie.create()),U.tensorType!=null&&Object.hasOwnProperty.call(U,"tensorType")&&Y.onnx.TypeProto.Tensor.encode(U.tensorType,K.uint32(10).fork()).ldelim(),U.sequenceType!=null&&Object.hasOwnProperty.call(U,"sequenceType")&&Y.onnx.TypeProto.Sequence.encode(U.sequenceType,K.uint32(34).fork()).ldelim(),U.mapType!=null&&Object.hasOwnProperty.call(U,"mapType")&&Y.onnx.TypeProto.Map.encode(U.mapType,K.uint32(42).fork()).ldelim(),U.denotation!=null&&Object.hasOwnProperty.call(U,"denotation")&&K.uint32(50).string(U.denotation),U.sparseTensorType!=null&&Object.hasOwnProperty.call(U,"sparseTensorType")&&Y.onnx.TypeProto.SparseTensor.encode(U.sparseTensorType,K.uint32(66).fork()).ldelim(),U.optionalType!=null&&Object.hasOwnProperty.call(U,"optionalType")&&Y.onnx.TypeProto.Optional.encode(U.optionalType,K.uint32(74).fork()).ldelim(),K},W.encodeDelimited=function(U,K){return this.encode(U,K).ldelim()},W.decode=function(U,K){U instanceof ee||(U=ee.create(U));for(var J=K===void 0?U.len:U.pos+K,te=new Y.onnx.TypeProto;U.pos<J;){var se=U.uint32();switch(se>>>3){case 1:te.tensorType=Y.onnx.TypeProto.Tensor.decode(U,U.uint32());break;case 4:te.sequenceType=Y.onnx.TypeProto.Sequence.decode(U,U.uint32());break;case 5:te.mapType=Y.onnx.TypeProto.Map.decode(U,U.uint32());break;case 9:te.optionalType=Y.onnx.TypeProto.Optional.decode(U,U.uint32());break;case 8:te.sparseTensorType=Y.onnx.TypeProto.SparseTensor.decode(U,U.uint32());break;case 6:te.denotation=U.string();break;default:U.skipType(7&se)}}return te},W.decodeDelimited=function(U){return U instanceof ee||(U=new ee(U)),this.decode(U,U.uint32())},W.verify=function(U){if(typeof U!="object"||U===null)return"object expected";var K={};if(U.tensorType!=null&&U.hasOwnProperty("tensorType")&&(K.value=1,J=Y.onnx.TypeProto.Tensor.verify(U.tensorType)))return"tensorType."+J;if(U.sequenceType!=null&&U.hasOwnProperty("sequenceType")){if(K.value===1)return"value: multiple values";if(K.value=1,J=Y.onnx.TypeProto.Sequence.verify(U.sequenceType))return"sequenceType."+J}if(U.mapType!=null&&U.hasOwnProperty("mapType")){if(K.value===1)return"value: multiple values";if(K.value=1,J=Y.onnx.TypeProto.Map.verify(U.mapType))return"mapType."+J}if(U.optionalType!=null&&U.hasOwnProperty("optionalType")){if(K.value===1)return"value: multiple values";if(K.value=1,J=Y.onnx.TypeProto.Optional.verify(U.optionalType))return"optionalType."+J}if(U.sparseTensorType!=null&&U.hasOwnProperty("sparseTensorType")){if(K.value===1)return"value: multiple values";var J;if(K.value=1,J=Y.onnx.TypeProto.SparseTensor.verify(U.sparseTensorType))return"sparseTensorType."+J}return U.denotation!=null&&U.hasOwnProperty("denotation")&&!Z.isString(U.denotation)?"denotation: string expected":null},W.fromObject=function(U){if(U instanceof Y.onnx.TypeProto)return U;var K=new Y.onnx.TypeProto;if(U.tensorType!=null){if(typeof U.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");K.tensorType=Y.onnx.TypeProto.Tensor.fromObject(U.tensorType)}if(U.sequenceType!=null){if(typeof U.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");K.sequenceType=Y.onnx.TypeProto.Sequence.fromObject(U.sequenceType)}if(U.mapType!=null){if(typeof U.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");K.mapType=Y.onnx.TypeProto.Map.fromObject(U.mapType)}if(U.optionalType!=null){if(typeof U.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");K.optionalType=Y.onnx.TypeProto.Optional.fromObject(U.optionalType)}if(U.sparseTensorType!=null){if(typeof U.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");K.sparseTensorType=Y.onnx.TypeProto.SparseTensor.fromObject(U.sparseTensorType)}return U.denotation!=null&&(K.denotation=String(U.denotation)),K},W.toObject=function(U,K){K||(K={});var J={};return K.defaults&&(J.denotation=""),U.tensorType!=null&&U.hasOwnProperty("tensorType")&&(J.tensorType=Y.onnx.TypeProto.Tensor.toObject(U.tensorType,K),K.oneofs&&(J.value="tensorType")),U.sequenceType!=null&&U.hasOwnProperty("sequenceType")&&(J.sequenceType=Y.onnx.TypeProto.Sequence.toObject(U.sequenceType,K),K.oneofs&&(J.value="sequenceType")),U.mapType!=null&&U.hasOwnProperty("mapType")&&(J.mapType=Y.onnx.TypeProto.Map.toObject(U.mapType,K),K.oneofs&&(J.value="mapType")),U.denotation!=null&&U.hasOwnProperty("denotation")&&(J.denotation=U.denotation),U.sparseTensorType!=null&&U.hasOwnProperty("sparseTensorType")&&(J.sparseTensorType=Y.onnx.TypeProto.SparseTensor.toObject(U.sparseTensorType,K),K.oneofs&&(J.value="sparseTensorType")),U.optionalType!=null&&U.hasOwnProperty("optionalType")&&(J.optionalType=Y.onnx.TypeProto.Optional.toObject(U.optionalType,K),K.oneofs&&(J.value="optionalType")),J},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(U){return U===void 0&&(U="type.googleapis.com"),U+"/onnx.TypeProto"},W.Tensor=function(){function U(K){if(K)for(var J=Object.keys(K),te=0;te<J.length;++te)K[J[te]]!=null&&(this[J[te]]=K[J[te]])}return U.prototype.elemType=0,U.prototype.shape=null,U.create=function(K){return new U(K)},U.encode=function(K,J){return J||(J=ie.create()),K.elemType!=null&&Object.hasOwnProperty.call(K,"elemType")&&J.uint32(8).int32(K.elemType),K.shape!=null&&Object.hasOwnProperty.call(K,"shape")&&Y.onnx.TensorShapeProto.encode(K.shape,J.uint32(18).fork()).ldelim(),J},U.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},U.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var te=J===void 0?K.len:K.pos+J,se=new Y.onnx.TypeProto.Tensor;K.pos<te;){var le=K.uint32();switch(le>>>3){case 1:se.elemType=K.int32();break;case 2:se.shape=Y.onnx.TensorShapeProto.decode(K,K.uint32());break;default:K.skipType(7&le)}}return se},U.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},U.verify=function(K){if(typeof K!="object"||K===null)return"object expected";if(K.elemType!=null&&K.hasOwnProperty("elemType")&&!Z.isInteger(K.elemType))return"elemType: integer expected";if(K.shape!=null&&K.hasOwnProperty("shape")){var J=Y.onnx.TensorShapeProto.verify(K.shape);if(J)return"shape."+J}return null},U.fromObject=function(K){if(K instanceof Y.onnx.TypeProto.Tensor)return K;var J=new Y.onnx.TypeProto.Tensor;if(K.elemType!=null&&(J.elemType=0|K.elemType),K.shape!=null){if(typeof K.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");J.shape=Y.onnx.TensorShapeProto.fromObject(K.shape)}return J},U.toObject=function(K,J){J||(J={});var te={};return J.defaults&&(te.elemType=0,te.shape=null),K.elemType!=null&&K.hasOwnProperty("elemType")&&(te.elemType=K.elemType),K.shape!=null&&K.hasOwnProperty("shape")&&(te.shape=Y.onnx.TensorShapeProto.toObject(K.shape,J)),te},U.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},U.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TypeProto.Tensor"},U}(),W.Sequence=function(){function U(K){if(K)for(var J=Object.keys(K),te=0;te<J.length;++te)K[J[te]]!=null&&(this[J[te]]=K[J[te]])}return U.prototype.elemType=null,U.create=function(K){return new U(K)},U.encode=function(K,J){return J||(J=ie.create()),K.elemType!=null&&Object.hasOwnProperty.call(K,"elemType")&&Y.onnx.TypeProto.encode(K.elemType,J.uint32(10).fork()).ldelim(),J},U.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},U.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var te=J===void 0?K.len:K.pos+J,se=new Y.onnx.TypeProto.Sequence;K.pos<te;){var le=K.uint32();le>>>3==1?se.elemType=Y.onnx.TypeProto.decode(K,K.uint32()):K.skipType(7&le)}return se},U.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},U.verify=function(K){if(typeof K!="object"||K===null)return"object expected";if(K.elemType!=null&&K.hasOwnProperty("elemType")){var J=Y.onnx.TypeProto.verify(K.elemType);if(J)return"elemType."+J}return null},U.fromObject=function(K){if(K instanceof Y.onnx.TypeProto.Sequence)return K;var J=new Y.onnx.TypeProto.Sequence;if(K.elemType!=null){if(typeof K.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");J.elemType=Y.onnx.TypeProto.fromObject(K.elemType)}return J},U.toObject=function(K,J){J||(J={});var te={};return J.defaults&&(te.elemType=null),K.elemType!=null&&K.hasOwnProperty("elemType")&&(te.elemType=Y.onnx.TypeProto.toObject(K.elemType,J)),te},U.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},U.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TypeProto.Sequence"},U}(),W.Map=function(){function U(K){if(K)for(var J=Object.keys(K),te=0;te<J.length;++te)K[J[te]]!=null&&(this[J[te]]=K[J[te]])}return U.prototype.keyType=0,U.prototype.valueType=null,U.create=function(K){return new U(K)},U.encode=function(K,J){return J||(J=ie.create()),K.keyType!=null&&Object.hasOwnProperty.call(K,"keyType")&&J.uint32(8).int32(K.keyType),K.valueType!=null&&Object.hasOwnProperty.call(K,"valueType")&&Y.onnx.TypeProto.encode(K.valueType,J.uint32(18).fork()).ldelim(),J},U.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},U.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var te=J===void 0?K.len:K.pos+J,se=new Y.onnx.TypeProto.Map;K.pos<te;){var le=K.uint32();switch(le>>>3){case 1:se.keyType=K.int32();break;case 2:se.valueType=Y.onnx.TypeProto.decode(K,K.uint32());break;default:K.skipType(7&le)}}return se},U.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},U.verify=function(K){if(typeof K!="object"||K===null)return"object expected";if(K.keyType!=null&&K.hasOwnProperty("keyType")&&!Z.isInteger(K.keyType))return"keyType: integer expected";if(K.valueType!=null&&K.hasOwnProperty("valueType")){var J=Y.onnx.TypeProto.verify(K.valueType);if(J)return"valueType."+J}return null},U.fromObject=function(K){if(K instanceof Y.onnx.TypeProto.Map)return K;var J=new Y.onnx.TypeProto.Map;if(K.keyType!=null&&(J.keyType=0|K.keyType),K.valueType!=null){if(typeof K.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");J.valueType=Y.onnx.TypeProto.fromObject(K.valueType)}return J},U.toObject=function(K,J){J||(J={});var te={};return J.defaults&&(te.keyType=0,te.valueType=null),K.keyType!=null&&K.hasOwnProperty("keyType")&&(te.keyType=K.keyType),K.valueType!=null&&K.hasOwnProperty("valueType")&&(te.valueType=Y.onnx.TypeProto.toObject(K.valueType,J)),te},U.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},U.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TypeProto.Map"},U}(),W.Optional=function(){function U(K){if(K)for(var J=Object.keys(K),te=0;te<J.length;++te)K[J[te]]!=null&&(this[J[te]]=K[J[te]])}return U.prototype.elemType=null,U.create=function(K){return new U(K)},U.encode=function(K,J){return J||(J=ie.create()),K.elemType!=null&&Object.hasOwnProperty.call(K,"elemType")&&Y.onnx.TypeProto.encode(K.elemType,J.uint32(10).fork()).ldelim(),J},U.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},U.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var te=J===void 0?K.len:K.pos+J,se=new Y.onnx.TypeProto.Optional;K.pos<te;){var le=K.uint32();le>>>3==1?se.elemType=Y.onnx.TypeProto.decode(K,K.uint32()):K.skipType(7&le)}return se},U.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},U.verify=function(K){if(typeof K!="object"||K===null)return"object expected";if(K.elemType!=null&&K.hasOwnProperty("elemType")){var J=Y.onnx.TypeProto.verify(K.elemType);if(J)return"elemType."+J}return null},U.fromObject=function(K){if(K instanceof Y.onnx.TypeProto.Optional)return K;var J=new Y.onnx.TypeProto.Optional;if(K.elemType!=null){if(typeof K.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");J.elemType=Y.onnx.TypeProto.fromObject(K.elemType)}return J},U.toObject=function(K,J){J||(J={});var te={};return J.defaults&&(te.elemType=null),K.elemType!=null&&K.hasOwnProperty("elemType")&&(te.elemType=Y.onnx.TypeProto.toObject(K.elemType,J)),te},U.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},U.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TypeProto.Optional"},U}(),W.SparseTensor=function(){function U(K){if(K)for(var J=Object.keys(K),te=0;te<J.length;++te)K[J[te]]!=null&&(this[J[te]]=K[J[te]])}return U.prototype.elemType=0,U.prototype.shape=null,U.create=function(K){return new U(K)},U.encode=function(K,J){return J||(J=ie.create()),K.elemType!=null&&Object.hasOwnProperty.call(K,"elemType")&&J.uint32(8).int32(K.elemType),K.shape!=null&&Object.hasOwnProperty.call(K,"shape")&&Y.onnx.TensorShapeProto.encode(K.shape,J.uint32(18).fork()).ldelim(),J},U.encodeDelimited=function(K,J){return this.encode(K,J).ldelim()},U.decode=function(K,J){K instanceof ee||(K=ee.create(K));for(var te=J===void 0?K.len:K.pos+J,se=new Y.onnx.TypeProto.SparseTensor;K.pos<te;){var le=K.uint32();switch(le>>>3){case 1:se.elemType=K.int32();break;case 2:se.shape=Y.onnx.TensorShapeProto.decode(K,K.uint32());break;default:K.skipType(7&le)}}return se},U.decodeDelimited=function(K){return K instanceof ee||(K=new ee(K)),this.decode(K,K.uint32())},U.verify=function(K){if(typeof K!="object"||K===null)return"object expected";if(K.elemType!=null&&K.hasOwnProperty("elemType")&&!Z.isInteger(K.elemType))return"elemType: integer expected";if(K.shape!=null&&K.hasOwnProperty("shape")){var J=Y.onnx.TensorShapeProto.verify(K.shape);if(J)return"shape."+J}return null},U.fromObject=function(K){if(K instanceof Y.onnx.TypeProto.SparseTensor)return K;var J=new Y.onnx.TypeProto.SparseTensor;if(K.elemType!=null&&(J.elemType=0|K.elemType),K.shape!=null){if(typeof K.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");J.shape=Y.onnx.TensorShapeProto.fromObject(K.shape)}return J},U.toObject=function(K,J){J||(J={});var te={};return J.defaults&&(te.elemType=0,te.shape=null),K.elemType!=null&&K.hasOwnProperty("elemType")&&(te.elemType=K.elemType),K.shape!=null&&K.hasOwnProperty("shape")&&(te.shape=Y.onnx.TensorShapeProto.toObject(K.shape,J)),te},U.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},U.getTypeUrl=function(K){return K===void 0&&(K="type.googleapis.com"),K+"/onnx.TypeProto.SparseTensor"},U}(),W}(),ae.OperatorSetIdProto=function(){function W(R){if(R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.domain="",W.prototype.version=Z.Long?Z.Long.fromBits(0,0,!1):0,W.create=function(R){return new W(R)},W.encode=function(R,U){return U||(U=ie.create()),R.domain!=null&&Object.hasOwnProperty.call(R,"domain")&&U.uint32(10).string(R.domain),R.version!=null&&Object.hasOwnProperty.call(R,"version")&&U.uint32(16).int64(R.version),U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.OperatorSetIdProto;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:J.domain=R.string();break;case 2:J.version=R.int64();break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){return typeof R!="object"||R===null?"object expected":R.domain!=null&&R.hasOwnProperty("domain")&&!Z.isString(R.domain)?"domain: string expected":R.version!=null&&R.hasOwnProperty("version")&&!(Z.isInteger(R.version)||R.version&&Z.isInteger(R.version.low)&&Z.isInteger(R.version.high))?"version: integer|Long expected":null},W.fromObject=function(R){if(R instanceof Y.onnx.OperatorSetIdProto)return R;var U=new Y.onnx.OperatorSetIdProto;return R.domain!=null&&(U.domain=String(R.domain)),R.version!=null&&(Z.Long?(U.version=Z.Long.fromValue(R.version)).unsigned=!1:typeof R.version=="string"?U.version=parseInt(R.version,10):typeof R.version=="number"?U.version=R.version:typeof R.version=="object"&&(U.version=new Z.LongBits(R.version.low>>>0,R.version.high>>>0).toNumber())),U},W.toObject=function(R,U){U||(U={});var K={};if(U.defaults)if(K.domain="",Z.Long){var J=new Z.Long(0,0,!1);K.version=U.longs===String?J.toString():U.longs===Number?J.toNumber():J}else K.version=U.longs===String?"0":0;return R.domain!=null&&R.hasOwnProperty("domain")&&(K.domain=R.domain),R.version!=null&&R.hasOwnProperty("version")&&(typeof R.version=="number"?K.version=U.longs===String?String(R.version):R.version:K.version=U.longs===String?Z.Long.prototype.toString.call(R.version):U.longs===Number?new Z.LongBits(R.version.low>>>0,R.version.high>>>0).toNumber():R.version),K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.OperatorSetIdProto"},W}(),ae.OperatorStatus=function(){var W={},R=Object.create(W);return R[W[0]="EXPERIMENTAL"]=0,R[W[1]="STABLE"]=1,R}(),ae.FunctionProto=function(){function W(R){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],R)for(var U=Object.keys(R),K=0;K<U.length;++K)R[U[K]]!=null&&(this[U[K]]=R[U[K]])}return W.prototype.name="",W.prototype.input=Z.emptyArray,W.prototype.output=Z.emptyArray,W.prototype.attribute=Z.emptyArray,W.prototype.attributeProto=Z.emptyArray,W.prototype.node=Z.emptyArray,W.prototype.docString="",W.prototype.opsetImport=Z.emptyArray,W.prototype.domain="",W.create=function(R){return new W(R)},W.encode=function(R,U){if(U||(U=ie.create()),R.name!=null&&Object.hasOwnProperty.call(R,"name")&&U.uint32(10).string(R.name),R.input!=null&&R.input.length)for(var K=0;K<R.input.length;++K)U.uint32(34).string(R.input[K]);if(R.output!=null&&R.output.length)for(K=0;K<R.output.length;++K)U.uint32(42).string(R.output[K]);if(R.attribute!=null&&R.attribute.length)for(K=0;K<R.attribute.length;++K)U.uint32(50).string(R.attribute[K]);if(R.node!=null&&R.node.length)for(K=0;K<R.node.length;++K)Y.onnx.NodeProto.encode(R.node[K],U.uint32(58).fork()).ldelim();if(R.docString!=null&&Object.hasOwnProperty.call(R,"docString")&&U.uint32(66).string(R.docString),R.opsetImport!=null&&R.opsetImport.length)for(K=0;K<R.opsetImport.length;++K)Y.onnx.OperatorSetIdProto.encode(R.opsetImport[K],U.uint32(74).fork()).ldelim();if(R.domain!=null&&Object.hasOwnProperty.call(R,"domain")&&U.uint32(82).string(R.domain),R.attributeProto!=null&&R.attributeProto.length)for(K=0;K<R.attributeProto.length;++K)Y.onnx.AttributeProto.encode(R.attributeProto[K],U.uint32(90).fork()).ldelim();return U},W.encodeDelimited=function(R,U){return this.encode(R,U).ldelim()},W.decode=function(R,U){R instanceof ee||(R=ee.create(R));for(var K=U===void 0?R.len:R.pos+U,J=new Y.onnx.FunctionProto;R.pos<K;){var te=R.uint32();switch(te>>>3){case 1:J.name=R.string();break;case 4:J.input&&J.input.length||(J.input=[]),J.input.push(R.string());break;case 5:J.output&&J.output.length||(J.output=[]),J.output.push(R.string());break;case 6:J.attribute&&J.attribute.length||(J.attribute=[]),J.attribute.push(R.string());break;case 11:J.attributeProto&&J.attributeProto.length||(J.attributeProto=[]),J.attributeProto.push(Y.onnx.AttributeProto.decode(R,R.uint32()));break;case 7:J.node&&J.node.length||(J.node=[]),J.node.push(Y.onnx.NodeProto.decode(R,R.uint32()));break;case 8:J.docString=R.string();break;case 9:J.opsetImport&&J.opsetImport.length||(J.opsetImport=[]),J.opsetImport.push(Y.onnx.OperatorSetIdProto.decode(R,R.uint32()));break;case 10:J.domain=R.string();break;default:R.skipType(7&te)}}return J},W.decodeDelimited=function(R){return R instanceof ee||(R=new ee(R)),this.decode(R,R.uint32())},W.verify=function(R){if(typeof R!="object"||R===null)return"object expected";if(R.name!=null&&R.hasOwnProperty("name")&&!Z.isString(R.name))return"name: string expected";if(R.input!=null&&R.hasOwnProperty("input")){if(!Array.isArray(R.input))return"input: array expected";for(var U=0;U<R.input.length;++U)if(!Z.isString(R.input[U]))return"input: string[] expected"}if(R.output!=null&&R.hasOwnProperty("output")){if(!Array.isArray(R.output))return"output: array expected";for(U=0;U<R.output.length;++U)if(!Z.isString(R.output[U]))return"output: string[] expected"}if(R.attribute!=null&&R.hasOwnProperty("attribute")){if(!Array.isArray(R.attribute))return"attribute: array expected";for(U=0;U<R.attribute.length;++U)if(!Z.isString(R.attribute[U]))return"attribute: string[] expected"}if(R.attributeProto!=null&&R.hasOwnProperty("attributeProto")){if(!Array.isArray(R.attributeProto))return"attributeProto: array expected";for(U=0;U<R.attributeProto.length;++U)if(K=Y.onnx.AttributeProto.verify(R.attributeProto[U]))return"attributeProto."+K}if(R.node!=null&&R.hasOwnProperty("node")){if(!Array.isArray(R.node))return"node: array expected";for(U=0;U<R.node.length;++U)if(K=Y.onnx.NodeProto.verify(R.node[U]))return"node."+K}if(R.docString!=null&&R.hasOwnProperty("docString")&&!Z.isString(R.docString))return"docString: string expected";if(R.opsetImport!=null&&R.hasOwnProperty("opsetImport")){if(!Array.isArray(R.opsetImport))return"opsetImport: array expected";for(U=0;U<R.opsetImport.length;++U){var K;if(K=Y.onnx.OperatorSetIdProto.verify(R.opsetImport[U]))return"opsetImport."+K}}return R.domain!=null&&R.hasOwnProperty("domain")&&!Z.isString(R.domain)?"domain: string expected":null},W.fromObject=function(R){if(R instanceof Y.onnx.FunctionProto)return R;var U=new Y.onnx.FunctionProto;if(R.name!=null&&(U.name=String(R.name)),R.input){if(!Array.isArray(R.input))throw TypeError(".onnx.FunctionProto.input: array expected");U.input=[];for(var K=0;K<R.input.length;++K)U.input[K]=String(R.input[K])}if(R.output){if(!Array.isArray(R.output))throw TypeError(".onnx.FunctionProto.output: array expected");for(U.output=[],K=0;K<R.output.length;++K)U.output[K]=String(R.output[K])}if(R.attribute){if(!Array.isArray(R.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");for(U.attribute=[],K=0;K<R.attribute.length;++K)U.attribute[K]=String(R.attribute[K])}if(R.attributeProto){if(!Array.isArray(R.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");for(U.attributeProto=[],K=0;K<R.attributeProto.length;++K){if(typeof R.attributeProto[K]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");U.attributeProto[K]=Y.onnx.AttributeProto.fromObject(R.attributeProto[K])}}if(R.node){if(!Array.isArray(R.node))throw TypeError(".onnx.FunctionProto.node: array expected");for(U.node=[],K=0;K<R.node.length;++K){if(typeof R.node[K]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");U.node[K]=Y.onnx.NodeProto.fromObject(R.node[K])}}if(R.docString!=null&&(U.docString=String(R.docString)),R.opsetImport){if(!Array.isArray(R.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");for(U.opsetImport=[],K=0;K<R.opsetImport.length;++K){if(typeof R.opsetImport[K]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");U.opsetImport[K]=Y.onnx.OperatorSetIdProto.fromObject(R.opsetImport[K])}}return R.domain!=null&&(U.domain=String(R.domain)),U},W.toObject=function(R,U){U||(U={});var K={};if((U.arrays||U.defaults)&&(K.input=[],K.output=[],K.attribute=[],K.node=[],K.opsetImport=[],K.attributeProto=[]),U.defaults&&(K.name="",K.docString="",K.domain=""),R.name!=null&&R.hasOwnProperty("name")&&(K.name=R.name),R.input&&R.input.length){K.input=[];for(var J=0;J<R.input.length;++J)K.input[J]=R.input[J]}if(R.output&&R.output.length)for(K.output=[],J=0;J<R.output.length;++J)K.output[J]=R.output[J];if(R.attribute&&R.attribute.length)for(K.attribute=[],J=0;J<R.attribute.length;++J)K.attribute[J]=R.attribute[J];if(R.node&&R.node.length)for(K.node=[],J=0;J<R.node.length;++J)K.node[J]=Y.onnx.NodeProto.toObject(R.node[J],U);if(R.docString!=null&&R.hasOwnProperty("docString")&&(K.docString=R.docString),R.opsetImport&&R.opsetImport.length)for(K.opsetImport=[],J=0;J<R.opsetImport.length;++J)K.opsetImport[J]=Y.onnx.OperatorSetIdProto.toObject(R.opsetImport[J],U);if(R.domain!=null&&R.hasOwnProperty("domain")&&(K.domain=R.domain),R.attributeProto&&R.attributeProto.length)for(K.attributeProto=[],J=0;J<R.attributeProto.length;++J)K.attributeProto[J]=Y.onnx.AttributeProto.toObject(R.attributeProto[J],U);return K},W.prototype.toJSON=function(){return this.constructor.toObject(this,oe.util.toJSONOptions)},W.getTypeUrl=function(R){return R===void 0&&(R="type.googleapis.com"),R+"/onnx.FunctionProto"},W}(),ae),ue.exports=Y},3474:(ue,X,re)=>{var ne,Q=(ne=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(ne=ne||__filename),function(ae={}){function oe(){return Le.buffer!=Ve.buffer&&at(),Ve}function ee(){return Le.buffer!=Ve.buffer&&at(),Ge}function ie(){return Le.buffer!=Ve.buffer&&at(),We}function Z(){return Le.buffer!=Ve.buffer&&at(),Ke}function Y(){return Le.buffer!=Ve.buffer&&at(),Ye}var W,R,U=ae;U.ready=new Promise((ge,_e)=>{W=ge,R=_e});var K,J,te,se=Object.assign({},U),le="./this.program",ce=(ge,_e)=>{throw _e},de=typeof window=="object",pe=typeof importScripts=="function",fe=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",he=U.ENVIRONMENT_IS_PTHREAD||!1,ye="";function Te(ge){return U.locateFile?U.locateFile(ge,ye):ye+ge}if(fe){var xe=re(1384),Se=re(908);let ge;ye=pe?Se.dirname(ye)+"/":__dirname+"/",K=(_e,Oe)=>(_e=_e.startsWith("file://")?new URL(_e):Se.normalize(_e),xe.readFileSync(_e,Oe?void 0:"utf8")),te=_e=>((_e=K(_e,!0)).buffer||(_e=new Uint8Array(_e)),_e),J=(_e,Oe,Ie,$e=!0)=>{_e=_e.startsWith("file://")?new URL(_e):Se.normalize(_e),xe.readFile(_e,$e?void 0:"utf8",(Ue,qe)=>{Ue?Ie(Ue):Oe($e?qe.buffer:qe)})},!U.thisProgram&&1<process.argv.length&&(le=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),ce=(_e,Oe)=>{throw process.exitCode=_e,Oe},U.inspect=()=>"[Emscripten Module object]";try{ge=re(9925)}catch(_e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),_e}commonjsGlobal.Worker=ge.Worker}else(de||pe)&&(pe?ye=self.location.href:typeof document<"u"&&document.currentScript&&(ye=document.currentScript.src),ne&&(ye=ne),ye=ye.indexOf("blob:")!==0?ye.substr(0,ye.replace(/[?#].*/,"").lastIndexOf("/")+1):"",fe||(K=ge=>{var _e=new XMLHttpRequest;return _e.open("GET",ge,!1),_e.send(null),_e.responseText},pe&&(te=ge=>{var _e=new XMLHttpRequest;return _e.open("GET",ge,!1),_e.responseType="arraybuffer",_e.send(null),new Uint8Array(_e.response)}),J=(ge,_e,Oe)=>{var Ie=new XMLHttpRequest;Ie.open("GET",ge,!0),Ie.responseType="arraybuffer",Ie.onload=()=>{Ie.status==200||Ie.status==0&&Ie.response?_e(Ie.response):Oe()},Ie.onerror=Oe,Ie.send(null)}));fe&&typeof performance>"u"&&(commonjsGlobal.performance=re(6953).performance);var Pe=console.log.bind(console),be=console.error.bind(console);fe&&(Pe=(...ge)=>xe.writeSync(1,ge.join(" ")+`
`),be=(...ge)=>xe.writeSync(2,ge.join(" ")+`
`));var Ce,me=U.print||Pe,we=U.printErr||be;Object.assign(U,se),se=null,U.thisProgram&&(le=U.thisProgram),U.quit&&(ce=U.quit),U.wasmBinary&&(Ce=U.wasmBinary);var Ae=U.noExitRuntime||!0;typeof WebAssembly!="object"&&gt("no native wasm support detected");var Le,Fe,Be,je,Ve,Ge,We,Ke,Ye,Qe=!1;function at(){var ge=Le.buffer;U.HEAP8=Ve=new Int8Array(ge),U.HEAP16=new Int16Array(ge),U.HEAP32=We=new Int32Array(ge),U.HEAPU8=Ge=new Uint8Array(ge),U.HEAPU16=new Uint16Array(ge),U.HEAPU32=Ke=new Uint32Array(ge),U.HEAPF32=new Float32Array(ge),U.HEAPF64=Ye=new Float64Array(ge)}var ft=U.INITIAL_MEMORY||16777216;if(5242880<=ft||gt("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ft+"! (STACK_SIZE=5242880)"),he)Le=U.wasmMemory;else if(U.wasmMemory)Le=U.wasmMemory;else if(!((Le=new WebAssembly.Memory({initial:ft/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw we("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),fe&&we("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");at(),ft=Le.buffer.byteLength;var Ot,st=[],Tt=[],et=[],ut=0;function mt(){return Ae||0<ut}var ht,bt,wt=0,yt=null;function It(){wt++,U.monitorRunDependencies&&U.monitorRunDependencies(wt)}function Et(){if(wt--,U.monitorRunDependencies&&U.monitorRunDependencies(wt),wt==0&&yt){var ge=yt;yt=null,ge()}}function gt(ge){throw U.onAbort&&U.onAbort(ge),we(ge="Aborted("+ge+")"),Qe=!0,je=1,ge=new WebAssembly.RuntimeError(ge+". Build with -sASSERTIONS for more info."),R(ge),ge}function St(ge){return ge.startsWith("data:application/octet-stream;base64,")}function Ft(ge){if(ge==ht&&Ce)return new Uint8Array(Ce);if(te)return te(ge);throw"both async and sync fetching of the wasm failed"}function Gt(ge,_e,Oe){return function(Ie){if(!Ce&&(de||pe)){if(typeof fetch=="function"&&!Ie.startsWith("file://"))return fetch(Ie,{credentials:"same-origin"}).then($e=>{if(!$e.ok)throw"failed to load wasm binary file at '"+Ie+"'";return $e.arrayBuffer()}).catch(()=>Ft(Ie));if(J)return new Promise(($e,Ue)=>{J(Ie,qe=>$e(new Uint8Array(qe)),Ue)})}return Promise.resolve().then(()=>Ft(Ie))}(ge).then(Ie=>WebAssembly.instantiate(Ie,_e)).then(Ie=>Ie).then(Oe,Ie=>{we("failed to asynchronously prepare wasm: "+Ie),gt(Ie)})}function Dt(ge){this.name="ExitStatus",this.message=`Program terminated with exit(${ge})`,this.status=ge}function kt(ge){ge.terminate(),ge.onmessage=()=>{}}function Lt(ge){(ge=He.Fa[ge])||gt(),He.fb(ge)}function Mt(ge){var _e=He.Za();if(!_e)return 6;He.Ia.push(_e),He.Fa[ge.Ha]=_e,_e.Ha=ge.Ha;var Oe={cmd:"run",start_routine:ge.gb,arg:ge.Ya,pthread_ptr:ge.Ha};return fe&&_e.unref(),_e.postMessage(Oe,ge.mb),0}St(ht="ort-wasm-threaded.wasm")||(ht=Te(ht));var Ht=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,jt=(ge,_e,Oe)=>{var Ie=(_e>>>=0)+Oe;for(Oe=_e;ge[Oe]&&!(Oe>=Ie);)++Oe;if(16<Oe-_e&&ge.buffer&&Ht)return Ht.decode(ge.buffer instanceof SharedArrayBuffer?ge.slice(_e,Oe):ge.subarray(_e,Oe));for(Ie="";_e<Oe;){var $e=ge[_e++];if(128&$e){var Ue=63&ge[_e++];if((224&$e)==192)Ie+=String.fromCharCode((31&$e)<<6|Ue);else{var qe=63&ge[_e++];65536>($e=(240&$e)==224?(15&$e)<<12|Ue<<6|qe:(7&$e)<<18|Ue<<12|qe<<6|63&ge[_e++])?Ie+=String.fromCharCode($e):($e-=65536,Ie+=String.fromCharCode(55296|$e>>10,56320|1023&$e))}}else Ie+=String.fromCharCode($e)}return Ie},Pt=(ge,_e)=>(ge>>>=0)?jt(ee(),ge,_e):"";function Ut(ge){if(he)return nt(1,1,ge);je=ge,mt()||(He.hb(),U.onExit&&U.onExit(ge),Qe=!0),ce(ge,new Dt(ge))}var Rt=ge=>{if(je=ge,he)throw Bt(ge),"unwind";Ut(ge)},He={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){he?He.ab():He.$a()},$a:function(){st.unshift(()=>{It(),He.bb(()=>Et())})},ab:function(){He.receiveObjectTransfer=He.eb,He.threadInitTLS=He.Sa,He.setExitStatus=He.Ra,Ae=!1},Ra:function(ge){je=ge},rb:["$terminateWorker"],hb:function(){for(var ge of He.Ia)kt(ge);for(ge of He.La)kt(ge);He.La=[],He.Ia=[],He.Fa=[]},fb:function(ge){var _e=ge.Ha;delete He.Fa[_e],He.La.push(ge),He.Ia.splice(He.Ia.indexOf(ge),1),ge.Ha=0,tn(_e)},eb:function(){},Sa:function(){He.Ta.forEach(ge=>ge())},cb:ge=>new Promise(_e=>{ge.onmessage=$e=>{var Ue=($e=$e.data).cmd;if($e.targetThread&&$e.targetThread!=Kt()){var qe=He.Fa[$e.qb];qe?qe.postMessage($e,$e.transferList):we('Internal error! Worker sent a message "'+Ue+'" to target pthread '+$e.targetThread+", but that thread no longer exists!")}else Ue==="checkMailbox"?Wt():Ue==="spawnThread"?Mt($e):Ue==="cleanupThread"?Lt($e.thread):Ue==="killThread"?($e=$e.thread,Ue=He.Fa[$e],delete He.Fa[$e],kt(Ue),tn($e),He.Ia.splice(He.Ia.indexOf(Ue),1),Ue.Ha=0):Ue==="cancelThread"?He.Fa[$e.thread].postMessage({cmd:"cancel"}):Ue==="loaded"?(ge.loaded=!0,_e(ge)):Ue==="alert"?alert("Thread "+$e.threadId+": "+$e.text):$e.target==="setimmediate"?ge.postMessage($e):Ue==="callHandler"?U[$e.handler](...$e.args):Ue&&we("worker sent an unknown command "+Ue)},ge.onerror=$e=>{throw we("worker sent an error! "+$e.filename+":"+$e.lineno+": "+$e.message),$e},fe&&(ge.on("message",function($e){ge.onmessage({data:$e})}),ge.on("error",function($e){ge.onerror($e)}));var Oe,Ie=[];for(Oe of["onExit","onAbort","print","printErr"])U.hasOwnProperty(Oe)&&Ie.push(Oe);ge.postMessage({cmd:"load",handlers:Ie,urlOrBlob:U.mainScriptUrlOrBlob||ne,wasmMemory:Le,wasmModule:Be})}),bb:function(ge){ge()},Xa:function(){var ge=Te("ort-wasm-threaded.worker.js");ge=new Worker(ge),He.La.push(ge)},Za:function(){return He.La.length==0&&(He.Xa(),He.cb(He.La[0])),He.La.pop()}};U.PThread=He;var Ct=ge=>{for(;0<ge.length;)ge.shift()(U)};function Bt(ge){if(he)return nt(2,0,ge);Rt(ge)}U.establishStackSpace=function(){var ge=Kt(),_e=ie()[ge+52>>2>>>0];ge=ie()[ge+56>>2>>>0],In(_e,_e-ge),Yt(_e)};var ve=[];function Ee(ge){this.Oa=ge-24,this.Wa=function(_e){Z()[this.Oa+4>>2>>>0]=_e},this.Va=function(_e){Z()[this.Oa+8>>2>>>0]=_e},this.Pa=function(_e,Oe){this.Ua(),this.Wa(_e),this.Va(Oe)},this.Ua=function(){Z()[this.Oa+16>>2>>>0]=0}}function De(ge,_e,Oe,Ie){return he?nt(3,1,ge,_e,Oe,Ie):Ne(ge,_e,Oe,Ie)}function Ne(ge,_e,Oe,Ie){if(ge>>>=0,_e>>>=0,Oe>>>=0,Ie>>>=0,typeof SharedArrayBuffer>"u")return we("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var $e=[];return he&&$e.length===0?De(ge,_e,Oe,Ie):(ge={gb:Oe,Ha:ge,Ya:Ie,mb:$e},he?(ge.ob="spawnThread",postMessage(ge,$e),0):Mt(ge))}function Me(ge,_e,Oe){return he?nt(4,1,ge,_e,Oe):0}function ze(ge,_e){if(he)return nt(5,1,ge,_e)}U.invokeEntryPoint=function(ge,_e){var Oe=ve[ge];Oe||(ge>=ve.length&&(ve.length=ge+1),ve[ge]=Oe=Ot.get(ge)),ge=Oe(_e),mt()?He.Ra(ge):nn(ge)};var Xe=ge=>{for(var _e=0,Oe=0;Oe<ge.length;++Oe){var Ie=ge.charCodeAt(Oe);127>=Ie?_e++:2047>=Ie?_e+=2:55296<=Ie&&57343>=Ie?(_e+=4,++Oe):_e+=3}return _e},it=(ge,_e,Oe,Ie)=>{if(!(0<Ie))return 0;var $e=Oe>>>=0;Ie=Oe+Ie-1;for(var Ue=0;Ue<ge.length;++Ue){var qe=ge.charCodeAt(Ue);if(55296<=qe&&57343>=qe&&(qe=65536+((1023&qe)<<10)|1023&ge.charCodeAt(++Ue)),127>=qe){if(Oe>=Ie)break;_e[Oe++>>>0]=qe}else{if(2047>=qe){if(Oe+1>=Ie)break;_e[Oe++>>>0]=192|qe>>6}else{if(65535>=qe){if(Oe+2>=Ie)break;_e[Oe++>>>0]=224|qe>>12}else{if(Oe+3>=Ie)break;_e[Oe++>>>0]=240|qe>>18,_e[Oe++>>>0]=128|qe>>12&63}_e[Oe++>>>0]=128|qe>>6&63}_e[Oe++>>>0]=128|63&qe}}return _e[Oe>>>0]=0,Oe-$e},lt=(ge,_e,Oe)=>it(ge,ee(),_e,Oe);function pt(ge,_e){if(he)return nt(6,1,ge,_e)}function ct(ge,_e,Oe){if(he)return nt(7,1,ge,_e,Oe)}function Vt(ge,_e,Oe){return he?nt(8,1,ge,_e,Oe):0}function zt(ge,_e){if(he)return nt(9,1,ge,_e)}function ke(ge,_e,Oe){if(he)return nt(10,1,ge,_e,Oe)}function Je(ge,_e,Oe,Ie){if(he)return nt(11,1,ge,_e,Oe,Ie)}function tt(ge,_e,Oe,Ie){if(he)return nt(12,1,ge,_e,Oe,Ie)}function At(ge,_e,Oe,Ie){if(he)return nt(13,1,ge,_e,Oe,Ie)}function qt(ge){if(he)return nt(14,1,ge)}function an(ge,_e){if(he)return nt(15,1,ge,_e)}function sn(ge,_e,Oe){if(he)return nt(16,1,ge,_e,Oe)}var Rn=ge=>{if(!Qe)try{if(ge(),!mt())try{he?nn(je):Rt(je)}catch(_e){_e instanceof Dt||_e=="unwind"||ce(1,_e)}}catch(_e){_e instanceof Dt||_e=="unwind"||ce(1,_e)}};function Jt(ge){ge>>>=0,typeof Atomics.nb=="function"&&(Atomics.nb(ie(),ge>>2,ge).value.then(Wt),ge+=128,Atomics.store(ie(),ge>>2,1))}function Wt(){var ge=Kt();ge&&(Jt(ge),Rn(()=>En()))}U.__emscripten_thread_mailbox_await=Jt,U.checkMailbox=Wt;var Nt=ge=>ge%4==0&&(ge%100!=0||ge%400==0),un=[0,31,60,91,121,152,182,213,244,274,305,335],ln=[0,31,59,90,120,151,181,212,243,273,304,334];function cn(ge,_e,Oe,Ie,$e,Ue,qe,rt){return he?nt(17,1,ge,_e,Oe,Ie,$e,Ue,qe,rt):-52}function dn(ge,_e,Oe,Ie,$e,Ue,qe){if(he)return nt(18,1,ge,_e,Oe,Ie,$e,Ue,qe)}var pn=ge=>{var _e=Xe(ge)+1,Oe=On(_e);return Oe&&lt(ge,Oe,_e),Oe},Nn=ge=>{var _e=rn();return ge=ge(),Yt(_e),ge};function nt(ge,_e){var Oe=arguments.length-2,Ie=arguments;return Nn(()=>{for(var $e=on(8*Oe),Ue=$e>>3,qe=0;qe<Oe;qe++){var rt=Ie[2+qe];Y()[Ue+qe>>>0]=rt}return An(ge,Oe,$e,_e)})}var Zt,Qt=[],en={},fn=()=>{if(!Zt){var ge,_e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:le||"./this.program"};for(ge in en)en[ge]===void 0?delete _e[ge]:_e[ge]=en[ge];var Oe=[];for(ge in _e)Oe.push(`${ge}=${_e[ge]}`);Zt=Oe}return Zt};function hn(ge,_e){if(he)return nt(19,1,ge,_e);ge>>>=0,_e>>>=0;var Oe=0;return fn().forEach(function(Ie,$e){var Ue=_e+Oe;for($e=Z()[ge+4*$e>>2>>>0]=Ue,Ue=0;Ue<Ie.length;++Ue)oe()[$e++>>0>>>0]=Ie.charCodeAt(Ue);oe()[$e>>0>>>0]=0,Oe+=Ie.length+1}),0}function gn(ge,_e){if(he)return nt(20,1,ge,_e);ge>>>=0,_e>>>=0;var Oe=fn();Z()[ge>>2>>>0]=Oe.length;var Ie=0;return Oe.forEach(function($e){Ie+=$e.length+1}),Z()[_e>>2>>>0]=Ie,0}function mn(ge){return he?nt(21,1,ge):52}function bn(ge,_e,Oe,Ie){return he?nt(22,1,ge,_e,Oe,Ie):52}function yn(ge,_e,Oe,Ie,$e){return he?nt(23,1,ge,_e,Oe,Ie,$e):70}var Fn=[null,[],[]];function _n(ge,_e,Oe,Ie){if(he)return nt(24,1,ge,_e,Oe,Ie);_e>>>=0,Oe>>>=0,Ie>>>=0;for(var $e=0,Ue=0;Ue<Oe;Ue++){var qe=Z()[_e>>2>>>0],rt=Z()[_e+4>>2>>>0];_e+=8;for(var xt=0;xt<rt;xt++){var dt=ee()[qe+xt>>>0],_t=Fn[ge];dt===0||dt===10?((ge===1?me:we)(jt(_t,0)),_t.length=0):_t.push(dt)}$e+=rt}return Z()[Ie>>2>>>0]=$e,0}var vn=ge=>(vn=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return Ie=>(Ie.set(crypto.getRandomValues(new Uint8Array(Ie.byteLength))),Ie);if(fe)try{var _e=re(760);if(_e.randomFillSync)return Ie=>_e.randomFillSync(Ie);var Oe=_e.randomBytes;return Ie=>(Ie.set(Oe(Ie.byteLength)),Ie)}catch{}gt("initRandomDevice")})())(ge),wn=[31,29,31,30,31,30,31,31,30,31,30,31],Tn=[31,28,31,30,31,30,31,31,30,31,30,31],Ln=(ge,_e)=>{oe().set(ge,_e>>>0)};function xn(ge,_e,Oe,Ie){function $e(Re,Ze,ot){for(Re=typeof Re=="number"?Re.toString():Re||"";Re.length<Ze;)Re=ot[0]+Re;return Re}function Ue(Re,Ze){return $e(Re,Ze,"0")}function qe(Re,Ze){function ot(kn){return 0>kn?-1:0<kn?1:0}var $t;return($t=ot(Re.getFullYear()-Ze.getFullYear()))===0&&($t=ot(Re.getMonth()-Ze.getMonth()))===0&&($t=ot(Re.getDate()-Ze.getDate())),$t}function rt(Re){switch(Re.getDay()){case 0:return new Date(Re.getFullYear()-1,11,29);case 1:return Re;case 2:return new Date(Re.getFullYear(),0,3);case 3:return new Date(Re.getFullYear(),0,2);case 4:return new Date(Re.getFullYear(),0,1);case 5:return new Date(Re.getFullYear()-1,11,31);case 6:return new Date(Re.getFullYear()-1,11,30)}}function xt(Re){var Ze=Re.Ja;for(Re=new Date(new Date(Re.Ka+1900,0,1).getTime());0<Ze;){var ot=Re.getMonth(),$t=(Nt(Re.getFullYear())?wn:Tn)[ot];if(!(Ze>$t-Re.getDate())){Re.setDate(Re.getDate()+Ze);break}Ze-=$t-Re.getDate()+1,Re.setDate(1),11>ot?Re.setMonth(ot+1):(Re.setMonth(0),Re.setFullYear(Re.getFullYear()+1))}return ot=new Date(Re.getFullYear()+1,0,4),Ze=rt(new Date(Re.getFullYear(),0,4)),ot=rt(ot),0>=qe(Ze,Re)?0>=qe(ot,Re)?Re.getFullYear()+1:Re.getFullYear():Re.getFullYear()-1}ge>>>=0,_e>>>=0,Oe>>>=0,Ie>>>=0;var dt=ie()[Ie+40>>2>>>0];for(var _t in Ie={kb:ie()[Ie>>2>>>0],jb:ie()[Ie+4>>2>>>0],Ma:ie()[Ie+8>>2>>>0],Qa:ie()[Ie+12>>2>>>0],Na:ie()[Ie+16>>2>>>0],Ka:ie()[Ie+20>>2>>>0],Ga:ie()[Ie+24>>2>>>0],Ja:ie()[Ie+28>>2>>>0],sb:ie()[Ie+32>>2>>>0],ib:ie()[Ie+36>>2>>>0],lb:dt?Pt(dt):""},Oe=Pt(Oe),dt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Oe=Oe.replace(new RegExp(_t,"g"),dt[_t]);var Cn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),$n="January February March April May June July August September October November December".split(" ");for(_t in dt={"%a":Re=>Cn[Re.Ga].substring(0,3),"%A":Re=>Cn[Re.Ga],"%b":Re=>$n[Re.Na].substring(0,3),"%B":Re=>$n[Re.Na],"%C":Re=>Ue((Re.Ka+1900)/100|0,2),"%d":Re=>Ue(Re.Qa,2),"%e":Re=>$e(Re.Qa,2," "),"%g":Re=>xt(Re).toString().substring(2),"%G":Re=>xt(Re),"%H":Re=>Ue(Re.Ma,2),"%I":Re=>((Re=Re.Ma)==0?Re=12:12<Re&&(Re-=12),Ue(Re,2)),"%j":Re=>{for(var Ze=0,ot=0;ot<=Re.Na-1;Ze+=(Nt(Re.Ka+1900)?wn:Tn)[ot++]);return Ue(Re.Qa+Ze,3)},"%m":Re=>Ue(Re.Na+1,2),"%M":Re=>Ue(Re.jb,2),"%n":()=>`
`,"%p":Re=>0<=Re.Ma&&12>Re.Ma?"AM":"PM","%S":Re=>Ue(Re.kb,2),"%t":()=>"	","%u":Re=>Re.Ga||7,"%U":Re=>Ue(Math.floor((Re.Ja+7-Re.Ga)/7),2),"%V":Re=>{var Ze=Math.floor((Re.Ja+7-(Re.Ga+6)%7)/7);if(2>=(Re.Ga+371-Re.Ja-2)%7&&Ze++,Ze)Ze==53&&((ot=(Re.Ga+371-Re.Ja)%7)==4||ot==3&&Nt(Re.Ka)||(Ze=1));else{Ze=52;var ot=(Re.Ga+7-Re.Ja-1)%7;(ot==4||ot==5&&Nt(Re.Ka%400-1))&&Ze++}return Ue(Ze,2)},"%w":Re=>Re.Ga,"%W":Re=>Ue(Math.floor((Re.Ja+7-(Re.Ga+6)%7)/7),2),"%y":Re=>(Re.Ka+1900).toString().substring(2),"%Y":Re=>Re.Ka+1900,"%z":Re=>{var Ze=0<=(Re=Re.ib);return Re=Math.abs(Re)/60,(Ze?"+":"-")+("0000"+(Re/60*100+Re%60)).slice(-4)},"%Z":Re=>Re.lb,"%%":()=>"%"},Oe=Oe.replace(/%%/g,"\0\0"),dt)Oe.includes(_t)&&(Oe=Oe.replace(new RegExp(_t,"g"),dt[_t](Ie)));return _t=function(Re){var Ze=Array(Xe(Re)+1);return it(Re,Ze,0,Ze.length),Ze}(Oe=Oe.replace(/\0\0/g,"%")),_t.length>_e?0:(Ln(_t,ge),_t.length-1)}He.Pa();var Mn=[null,Ut,Bt,De,Me,ze,pt,ct,Vt,zt,ke,Je,tt,At,qt,an,sn,cn,dn,hn,gn,mn,bn,yn,_n],jn={b:function(ge,_e,Oe){throw new Ee(ge>>>=0).Pa(_e>>>0,Oe>>>0),ge},N:function(ge){Sn(ge>>>0,!pe,1,!de,131072,!1),He.Sa()},k:function(ge){ge>>>=0,he?postMessage({cmd:"cleanupThread",thread:ge}):Lt(ge)},I:Ne,h:Me,T:ze,E:pt,G:ct,U:Vt,R:zt,J:ke,Q:Je,o:tt,F:At,C:qt,S:an,D:sn,q:()=>!0,A:function(ge,_e){(ge>>>=0)==_e>>>0?setTimeout(()=>Wt()):he?postMessage({targetThread:ge,cmd:"checkMailbox"}):(ge=He.Fa[ge])&&ge.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:Jt,p:function(ge){fe&&He.Fa[ge>>>0].ref()},t:function(ge,_e,Oe){ge=_e+2097152>>>0<4194305-!!ge?(ge>>>0)+4294967296*_e:NaN,Oe>>>=0,ge=new Date(1e3*ge),ie()[Oe>>2>>>0]=ge.getUTCSeconds(),ie()[Oe+4>>2>>>0]=ge.getUTCMinutes(),ie()[Oe+8>>2>>>0]=ge.getUTCHours(),ie()[Oe+12>>2>>>0]=ge.getUTCDate(),ie()[Oe+16>>2>>>0]=ge.getUTCMonth(),ie()[Oe+20>>2>>>0]=ge.getUTCFullYear()-1900,ie()[Oe+24>>2>>>0]=ge.getUTCDay(),ge=(ge.getTime()-Date.UTC(ge.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,ie()[Oe+28>>2>>>0]=ge},u:function(ge,_e,Oe){ge=_e+2097152>>>0<4194305-!!ge?(ge>>>0)+4294967296*_e:NaN,Oe>>>=0,ge=new Date(1e3*ge),ie()[Oe>>2>>>0]=ge.getSeconds(),ie()[Oe+4>>2>>>0]=ge.getMinutes(),ie()[Oe+8>>2>>>0]=ge.getHours(),ie()[Oe+12>>2>>>0]=ge.getDate(),ie()[Oe+16>>2>>>0]=ge.getMonth(),ie()[Oe+20>>2>>>0]=ge.getFullYear()-1900,ie()[Oe+24>>2>>>0]=ge.getDay(),_e=(Nt(ge.getFullYear())?un:ln)[ge.getMonth()]+ge.getDate()-1|0,ie()[Oe+28>>2>>>0]=_e,ie()[Oe+36>>2>>>0]=-60*ge.getTimezoneOffset(),_e=new Date(ge.getFullYear(),6,1).getTimezoneOffset();var Ie=new Date(ge.getFullYear(),0,1).getTimezoneOffset();ge=0|(_e!=Ie&&ge.getTimezoneOffset()==Math.min(Ie,_e)),ie()[Oe+32>>2>>>0]=ge},v:function(ge){ge>>>=0;var _e=new Date(ie()[ge+20>>2>>>0]+1900,ie()[ge+16>>2>>>0],ie()[ge+12>>2>>>0],ie()[ge+8>>2>>>0],ie()[ge+4>>2>>>0],ie()[ge>>2>>>0],0),Oe=ie()[ge+32>>2>>>0],Ie=_e.getTimezoneOffset(),$e=new Date(_e.getFullYear(),6,1).getTimezoneOffset(),Ue=new Date(_e.getFullYear(),0,1).getTimezoneOffset(),qe=Math.min(Ue,$e);return 0>Oe?ie()[ge+32>>2>>>0]=+($e!=Ue&&qe==Ie):0<Oe!=(qe==Ie)&&($e=Math.max(Ue,$e),_e.setTime(_e.getTime()+6e4*((0<Oe?qe:$e)-Ie))),ie()[ge+24>>2>>>0]=_e.getDay(),Oe=(Nt(_e.getFullYear())?un:ln)[_e.getMonth()]+_e.getDate()-1|0,ie()[ge+28>>2>>>0]=Oe,ie()[ge>>2>>>0]=_e.getSeconds(),ie()[ge+4>>2>>>0]=_e.getMinutes(),ie()[ge+8>>2>>>0]=_e.getHours(),ie()[ge+12>>2>>>0]=_e.getDate(),ie()[ge+16>>2>>>0]=_e.getMonth(),ie()[ge+20>>2>>>0]=_e.getYear(),ge=_e.getTime()/1e3,Pn((bt=ge,1<=+Math.abs(bt)?0<bt?+Math.floor(bt/4294967296)>>>0:~~+Math.ceil((bt-+(~~bt>>>0))/4294967296)>>>0:0)),ge>>>0},r:cn,s:dn,z:function(ge,_e,Oe){function Ie(dt){return(dt=dt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?dt[1]:"GMT"}ge>>>=0,_e>>>=0,Oe>>>=0;var $e=new Date().getFullYear(),Ue=new Date($e,0,1),qe=new Date($e,6,1);$e=Ue.getTimezoneOffset();var rt=qe.getTimezoneOffset(),xt=Math.max($e,rt);Z()[ge>>2>>>0]=60*xt,ie()[_e>>2>>>0]=+($e!=rt),ge=Ie(Ue),_e=Ie(qe),ge=pn(ge),_e=pn(_e),rt<$e?(Z()[Oe>>2>>>0]=ge,Z()[Oe+4>>2>>>0]=_e):(Z()[Oe>>2>>>0]=_e,Z()[Oe+4>>2>>>0]=ge)},c:()=>{gt("")},l:function(){},i:function(){return Date.now()},V:()=>{throw ut+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return fe?re(3993).cpus().length:navigator.hardwareConcurrency},K:function(ge,_e,Oe,Ie){for(He.pb=_e>>>0,Qt.length=Oe,_e=Ie>>>0>>3,Ie=0;Ie<Oe;Ie++)Qt[Ie]=Y()[_e+Ie>>>0];return Mn[ge].apply(null,Qt)},y:function(ge){ge>>>=0;var _e=ee().length;if(ge<=_e||4294901760<ge)return!1;for(var Oe=1;4>=Oe;Oe*=2){var Ie=_e*(1+.2/Oe);Ie=Math.min(Ie,ge+100663296);var $e=Math;Ie=Math.max(ge,Ie);e:{$e=$e.min.call($e,4294901760,Ie+(65536-Ie%65536)%65536)-Le.buffer.byteLength+65535>>>16;try{Le.grow($e),at();var Ue=1;break e}catch{}Ue=void 0}if(Ue)return!0}return!1},O:hn,P:gn,j:Rt,g:mn,n:bn,w:yn,m:_n,x:function(ge,_e){return ge>>>=0,_e>>>=0,vn(ee().subarray(ge>>>0,ge+_e>>>0)),0},a:Le||U.wasmMemory,H:xn,d:function(ge,_e,Oe,Ie){return xn(ge>>>0,_e>>>0,Oe>>>0,Ie>>>0)}};(function(){function ge(Oe,Ie){return Oe=Oe.exports,Fe=Oe=function($e){var Ue=rt=>()=>rt()>>>0,qe=rt=>xt=>rt(xt)>>>0;return($e=Object.assign({},$e)).__errno_location=Ue($e.__errno_location),$e.pthread_self=Ue($e.pthread_self),$e.malloc=qe($e.malloc),$e.stackSave=Ue($e.stackSave),$e.stackAlloc=qe($e.stackAlloc),$e}(Oe),He.Ta.push(Fe.sa),Ot=Fe.ta,Tt.unshift(Fe.W),Be=Ie,Et(),Oe}var _e={a:jn};if(It(),U.instantiateWasm)try{return U.instantiateWasm(_e,ge)}catch(Oe){we("Module.instantiateWasm callback failed with error: "+Oe),R(Oe)}(function(Oe,Ie){var $e=ht;return Ce||typeof WebAssembly.instantiateStreaming!="function"||St($e)||$e.startsWith("file://")||fe||typeof fetch!="function"?Gt($e,Oe,Ie):fetch($e,{credentials:"same-origin"}).then(Ue=>WebAssembly.instantiateStreaming(Ue,Oe).then(Ie,function(qe){return we("wasm streaming compile failed: "+qe),we("falling back to ArrayBuffer instantiation"),Gt($e,Oe,Ie)}))})(_e,function(Oe){ge(Oe.instance,Oe.module)}).catch(R)})(),U._OrtInit=(ge,_e)=>(U._OrtInit=Fe.X)(ge,_e),U._OrtGetLastError=(ge,_e)=>(U._OrtGetLastError=Fe.Y)(ge,_e),U._OrtCreateSessionOptions=(ge,_e,Oe,Ie,$e,Ue,qe,rt,xt,dt)=>(U._OrtCreateSessionOptions=Fe.Z)(ge,_e,Oe,Ie,$e,Ue,qe,rt,xt,dt),U._OrtAppendExecutionProvider=(ge,_e)=>(U._OrtAppendExecutionProvider=Fe._)(ge,_e),U._OrtAddSessionConfigEntry=(ge,_e,Oe)=>(U._OrtAddSessionConfigEntry=Fe.$)(ge,_e,Oe),U._OrtReleaseSessionOptions=ge=>(U._OrtReleaseSessionOptions=Fe.aa)(ge),U._OrtCreateSession=(ge,_e,Oe)=>(U._OrtCreateSession=Fe.ba)(ge,_e,Oe),U._OrtReleaseSession=ge=>(U._OrtReleaseSession=Fe.ca)(ge),U._OrtGetInputOutputCount=(ge,_e,Oe)=>(U._OrtGetInputOutputCount=Fe.da)(ge,_e,Oe),U._OrtGetInputName=(ge,_e)=>(U._OrtGetInputName=Fe.ea)(ge,_e),U._OrtGetOutputName=(ge,_e)=>(U._OrtGetOutputName=Fe.fa)(ge,_e),U._OrtFree=ge=>(U._OrtFree=Fe.ga)(ge),U._OrtCreateTensor=(ge,_e,Oe,Ie,$e)=>(U._OrtCreateTensor=Fe.ha)(ge,_e,Oe,Ie,$e),U._OrtGetTensorData=(ge,_e,Oe,Ie,$e)=>(U._OrtGetTensorData=Fe.ia)(ge,_e,Oe,Ie,$e),U._OrtReleaseTensor=ge=>(U._OrtReleaseTensor=Fe.ja)(ge),U._OrtCreateRunOptions=(ge,_e,Oe,Ie)=>(U._OrtCreateRunOptions=Fe.ka)(ge,_e,Oe,Ie),U._OrtAddRunConfigEntry=(ge,_e,Oe)=>(U._OrtAddRunConfigEntry=Fe.la)(ge,_e,Oe),U._OrtReleaseRunOptions=ge=>(U._OrtReleaseRunOptions=Fe.ma)(ge),U._OrtRun=(ge,_e,Oe,Ie,$e,Ue,qe,rt)=>(U._OrtRun=Fe.na)(ge,_e,Oe,Ie,$e,Ue,qe,rt),U._OrtEndProfiling=ge=>(U._OrtEndProfiling=Fe.oa)(ge);var Kt=U._pthread_self=()=>(Kt=U._pthread_self=Fe.pa)(),On=U._malloc=ge=>(On=U._malloc=Fe.qa)(ge);U._free=ge=>(U._free=Fe.ra)(ge),U.__emscripten_tls_init=()=>(U.__emscripten_tls_init=Fe.sa)();var Sn=U.__emscripten_thread_init=(ge,_e,Oe,Ie,$e,Ue)=>(Sn=U.__emscripten_thread_init=Fe.ua)(ge,_e,Oe,Ie,$e,Ue);U.__emscripten_thread_crashed=()=>(U.__emscripten_thread_crashed=Fe.va)();var Xt,An=(ge,_e,Oe,Ie)=>(An=Fe.wa)(ge,_e,Oe,Ie),tn=ge=>(tn=Fe.xa)(ge),nn=U.__emscripten_thread_exit=ge=>(nn=U.__emscripten_thread_exit=Fe.ya)(ge),En=U.__emscripten_check_mailbox=()=>(En=U.__emscripten_check_mailbox=Fe.za)(),Pn=ge=>(Pn=Fe.Aa)(ge),In=(ge,_e)=>(In=Fe.Ba)(ge,_e),rn=()=>(rn=Fe.Ca)(),Yt=ge=>(Yt=Fe.Da)(ge),on=ge=>(on=Fe.Ea)(ge);function Dn(){function ge(){if(!Xt&&(Xt=!0,U.calledRun=!0,!Qe)&&(he||Ct(Tt),W(U),U.onRuntimeInitialized&&U.onRuntimeInitialized(),!he)){if(U.postRun)for(typeof U.postRun=="function"&&(U.postRun=[U.postRun]);U.postRun.length;){var _e=U.postRun.shift();et.unshift(_e)}Ct(et)}}if(!(0<wt))if(he)W(U),he||Ct(Tt),startWorker(U);else{if(U.preRun)for(typeof U.preRun=="function"&&(U.preRun=[U.preRun]);U.preRun.length;)st.unshift(U.preRun.shift());Ct(st),0<wt||(U.setStatus?(U.setStatus("Running..."),setTimeout(function(){setTimeout(function(){U.setStatus("")},1),ge()},1)):ge())}}if(U.keepRuntimeAlive=mt,U.wasmMemory=Le,U.stackAlloc=on,U.stackSave=rn,U.stackRestore=Yt,U.UTF8ToString=Pt,U.stringToUTF8=lt,U.lengthBytesUTF8=Xe,U.ExitStatus=Dt,U.PThread=He,yt=function ge(){Xt||Dn(),Xt||(yt=ge)},U.preInit)for(typeof U.preInit=="function"&&(U.preInit=[U.preInit]);0<U.preInit.length;)U.preInit.pop()();return Dn(),ae.ready});ue.exports=Q},932:(ue,X,re)=>{var ne,Q=(ne=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(ne=ne||__filename),function(ae={}){var oe,ee,ie=ae;ie.ready=new Promise((ve,Ee)=>{oe=ve,ee=Ee});var Z,Y,W,R=Object.assign({},ie),U="./this.program",K=(ve,Ee)=>{throw Ee},J=typeof window=="object",te=typeof importScripts=="function",se=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",le="";if(se){var ce=re(1384),de=re(908);le=te?de.dirname(le)+"/":__dirname+"/",Z=(ve,Ee)=>(ve=ve.startsWith("file://")?new URL(ve):de.normalize(ve),ce.readFileSync(ve,Ee?void 0:"utf8")),W=ve=>((ve=Z(ve,!0)).buffer||(ve=new Uint8Array(ve)),ve),Y=(ve,Ee,De,Ne=!0)=>{ve=ve.startsWith("file://")?new URL(ve):de.normalize(ve),ce.readFile(ve,Ne?void 0:"utf8",(Me,ze)=>{Me?De(Me):Ee(Ne?ze.buffer:ze)})},!ie.thisProgram&&1<process.argv.length&&(U=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),K=(ve,Ee)=>{throw process.exitCode=ve,Ee},ie.inspect=()=>"[Emscripten Module object]"}else(J||te)&&(te?le=self.location.href:typeof document<"u"&&document.currentScript&&(le=document.currentScript.src),ne&&(le=ne),le=le.indexOf("blob:")!==0?le.substr(0,le.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Z=ve=>{var Ee=new XMLHttpRequest;return Ee.open("GET",ve,!1),Ee.send(null),Ee.responseText},te&&(W=ve=>{var Ee=new XMLHttpRequest;return Ee.open("GET",ve,!1),Ee.responseType="arraybuffer",Ee.send(null),new Uint8Array(Ee.response)}),Y=(ve,Ee,De)=>{var Ne=new XMLHttpRequest;Ne.open("GET",ve,!0),Ne.responseType="arraybuffer",Ne.onload=()=>{Ne.status==200||Ne.status==0&&Ne.response?Ee(Ne.response):De()},Ne.onerror=De,Ne.send(null)});var pe,fe=ie.print||console.log.bind(console),he=ie.printErr||console.error.bind(console);Object.assign(ie,R),R=null,ie.thisProgram&&(U=ie.thisProgram),ie.quit&&(K=ie.quit),ie.wasmBinary&&(pe=ie.wasmBinary);var ye=ie.noExitRuntime||!0;typeof WebAssembly!="object"&&Ke("no native wasm support detected");var Te,xe,Se,Pe,be,Ce,me=!1;function we(){var ve=Te.buffer;ie.HEAP8=Se=new Int8Array(ve),ie.HEAP16=new Int16Array(ve),ie.HEAP32=be=new Int32Array(ve),ie.HEAPU8=Pe=new Uint8Array(ve),ie.HEAPU16=new Uint16Array(ve),ie.HEAPU32=Ce=new Uint32Array(ve),ie.HEAPF32=new Float32Array(ve),ie.HEAPF64=new Float64Array(ve)}var Ae=[],Le=[],Fe=[];function Be(){var ve=ie.preRun.shift();Ae.unshift(ve)}var je,Ve,Ge=0,We=null;function Ke(ve){throw ie.onAbort&&ie.onAbort(ve),he(ve="Aborted("+ve+")"),me=!0,ve=new WebAssembly.RuntimeError(ve+". Build with -sASSERTIONS for more info."),ee(ve),ve}function Ye(ve){return ve.startsWith("data:application/octet-stream;base64,")}if(!Ye(je="ort-wasm.wasm")){var Qe=je;je=ie.locateFile?ie.locateFile(Qe,le):le+Qe}function at(ve){if(ve==je&&pe)return new Uint8Array(pe);if(W)return W(ve);throw"both async and sync fetching of the wasm failed"}function ft(ve,Ee,De){return function(Ne){if(!pe&&(J||te)){if(typeof fetch=="function"&&!Ne.startsWith("file://"))return fetch(Ne,{credentials:"same-origin"}).then(Me=>{if(!Me.ok)throw"failed to load wasm binary file at '"+Ne+"'";return Me.arrayBuffer()}).catch(()=>at(Ne));if(Y)return new Promise((Me,ze)=>{Y(Ne,Xe=>Me(new Uint8Array(Xe)),ze)})}return Promise.resolve().then(()=>at(Ne))}(ve).then(Ne=>WebAssembly.instantiate(Ne,Ee)).then(Ne=>Ne).then(De,Ne=>{he("failed to asynchronously prepare wasm: "+Ne),Ke(Ne)})}function Ot(ve){this.name="ExitStatus",this.message=`Program terminated with exit(${ve})`,this.status=ve}var st=ve=>{for(;0<ve.length;)ve.shift()(ie)};function Tt(ve){this.qa=ve-24,this.va=function(Ee){Ce[this.qa+4>>2>>>0]=Ee},this.ua=function(Ee){Ce[this.qa+8>>2>>>0]=Ee},this.sa=function(Ee,De){this.ta(),this.va(Ee),this.ua(De)},this.ta=function(){Ce[this.qa+16>>2>>>0]=0}}var et,ut=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,mt=(ve,Ee,De)=>{var Ne=(Ee>>>=0)+De;for(De=Ee;ve[De]&&!(De>=Ne);)++De;if(16<De-Ee&&ve.buffer&&ut)return ut.decode(ve.subarray(Ee,De));for(Ne="";Ee<De;){var Me=ve[Ee++];if(128&Me){var ze=63&ve[Ee++];if((224&Me)==192)Ne+=String.fromCharCode((31&Me)<<6|ze);else{var Xe=63&ve[Ee++];65536>(Me=(240&Me)==224?(15&Me)<<12|ze<<6|Xe:(7&Me)<<18|ze<<12|Xe<<6|63&ve[Ee++])?Ne+=String.fromCharCode(Me):(Me-=65536,Ne+=String.fromCharCode(55296|Me>>10,56320|1023&Me))}}else Ne+=String.fromCharCode(Me)}return Ne},ht=(ve,Ee)=>(ve>>>=0)?mt(Pe,ve,Ee):"",bt=ve=>{for(var Ee=0,De=0;De<ve.length;++De){var Ne=ve.charCodeAt(De);127>=Ne?Ee++:2047>=Ne?Ee+=2:55296<=Ne&&57343>=Ne?(Ee+=4,++De):Ee+=3}return Ee},wt=(ve,Ee,De,Ne)=>{if(!(0<Ne))return 0;var Me=De>>>=0;Ne=De+Ne-1;for(var ze=0;ze<ve.length;++ze){var Xe=ve.charCodeAt(ze);if(55296<=Xe&&57343>=Xe&&(Xe=65536+((1023&Xe)<<10)|1023&ve.charCodeAt(++ze)),127>=Xe){if(De>=Ne)break;Ee[De++>>>0]=Xe}else{if(2047>=Xe){if(De+1>=Ne)break;Ee[De++>>>0]=192|Xe>>6}else{if(65535>=Xe){if(De+2>=Ne)break;Ee[De++>>>0]=224|Xe>>12}else{if(De+3>=Ne)break;Ee[De++>>>0]=240|Xe>>18,Ee[De++>>>0]=128|Xe>>12&63}Ee[De++>>>0]=128|Xe>>6&63}Ee[De++>>>0]=128|63&Xe}}return Ee[De>>>0]=0,De-Me},yt=ve=>ve%4==0&&(ve%100!=0||ve%400==0),It=[0,31,60,91,121,152,182,213,244,274,305,335],Et=[0,31,59,90,120,151,181,212,243,273,304,334],gt=ve=>{var Ee=bt(ve)+1,De=jt(Ee);return De&&wt(ve,Pe,De,Ee),De},St={},Ft=()=>{if(!et){var ve,Ee={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:U||"./this.program"};for(ve in St)St[ve]===void 0?delete Ee[ve]:Ee[ve]=St[ve];var De=[];for(ve in Ee)De.push(`${ve}=${Ee[ve]}`);et=De}return et},Gt=[null,[],[]],Dt=ve=>(Dt=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return Ne=>crypto.getRandomValues(Ne);if(se)try{var Ee=re(760);if(Ee.randomFillSync)return Ne=>Ee.randomFillSync(Ne);var De=Ee.randomBytes;return Ne=>(Ne.set(De(Ne.byteLength)),Ne)}catch{}Ke("initRandomDevice")})())(ve),kt=[31,29,31,30,31,30,31,31,30,31,30,31],Lt=[31,28,31,30,31,30,31,31,30,31,30,31];function Mt(ve,Ee,De,Ne){function Me(ke,Je,tt){for(ke=typeof ke=="number"?ke.toString():ke||"";ke.length<Je;)ke=tt[0]+ke;return ke}function ze(ke,Je){return Me(ke,Je,"0")}function Xe(ke,Je){function tt(qt){return 0>qt?-1:0<qt?1:0}var At;return(At=tt(ke.getFullYear()-Je.getFullYear()))===0&&(At=tt(ke.getMonth()-Je.getMonth()))===0&&(At=tt(ke.getDate()-Je.getDate())),At}function it(ke){switch(ke.getDay()){case 0:return new Date(ke.getFullYear()-1,11,29);case 1:return ke;case 2:return new Date(ke.getFullYear(),0,3);case 3:return new Date(ke.getFullYear(),0,2);case 4:return new Date(ke.getFullYear(),0,1);case 5:return new Date(ke.getFullYear()-1,11,31);case 6:return new Date(ke.getFullYear()-1,11,30)}}function lt(ke){var Je=ke.ma;for(ke=new Date(new Date(ke.na+1900,0,1).getTime());0<Je;){var tt=ke.getMonth(),At=(yt(ke.getFullYear())?kt:Lt)[tt];if(!(Je>At-ke.getDate())){ke.setDate(ke.getDate()+Je);break}Je-=At-ke.getDate()+1,ke.setDate(1),11>tt?ke.setMonth(tt+1):(ke.setMonth(0),ke.setFullYear(ke.getFullYear()+1))}return tt=new Date(ke.getFullYear()+1,0,4),Je=it(new Date(ke.getFullYear(),0,4)),tt=it(tt),0>=Xe(Je,ke)?0>=Xe(tt,ke)?ke.getFullYear()+1:ke.getFullYear():ke.getFullYear()-1}ve>>>=0,Ee>>>=0,De>>>=0;var pt=be[40+(Ne>>>=0)>>2>>>0];for(var ct in Ne={ya:be[Ne>>2>>>0],xa:be[Ne+4>>2>>>0],oa:be[Ne+8>>2>>>0],ra:be[Ne+12>>2>>>0],pa:be[Ne+16>>2>>>0],na:be[Ne+20>>2>>>0],ha:be[Ne+24>>2>>>0],ma:be[Ne+28>>2>>>0],Aa:be[Ne+32>>2>>>0],wa:be[Ne+36>>2>>>0],za:pt?ht(pt):""},De=ht(De),pt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})De=De.replace(new RegExp(ct,"g"),pt[ct]);var Vt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),zt="January February March April May June July August September October November December".split(" ");for(ct in pt={"%a":ke=>Vt[ke.ha].substring(0,3),"%A":ke=>Vt[ke.ha],"%b":ke=>zt[ke.pa].substring(0,3),"%B":ke=>zt[ke.pa],"%C":ke=>ze((ke.na+1900)/100|0,2),"%d":ke=>ze(ke.ra,2),"%e":ke=>Me(ke.ra,2," "),"%g":ke=>lt(ke).toString().substring(2),"%G":ke=>lt(ke),"%H":ke=>ze(ke.oa,2),"%I":ke=>((ke=ke.oa)==0?ke=12:12<ke&&(ke-=12),ze(ke,2)),"%j":ke=>{for(var Je=0,tt=0;tt<=ke.pa-1;Je+=(yt(ke.na+1900)?kt:Lt)[tt++]);return ze(ke.ra+Je,3)},"%m":ke=>ze(ke.pa+1,2),"%M":ke=>ze(ke.xa,2),"%n":()=>`
`,"%p":ke=>0<=ke.oa&&12>ke.oa?"AM":"PM","%S":ke=>ze(ke.ya,2),"%t":()=>"	","%u":ke=>ke.ha||7,"%U":ke=>ze(Math.floor((ke.ma+7-ke.ha)/7),2),"%V":ke=>{var Je=Math.floor((ke.ma+7-(ke.ha+6)%7)/7);if(2>=(ke.ha+371-ke.ma-2)%7&&Je++,Je)Je==53&&((tt=(ke.ha+371-ke.ma)%7)==4||tt==3&&yt(ke.na)||(Je=1));else{Je=52;var tt=(ke.ha+7-ke.ma-1)%7;(tt==4||tt==5&&yt(ke.na%400-1))&&Je++}return ze(Je,2)},"%w":ke=>ke.ha,"%W":ke=>ze(Math.floor((ke.ma+7-(ke.ha+6)%7)/7),2),"%y":ke=>(ke.na+1900).toString().substring(2),"%Y":ke=>ke.na+1900,"%z":ke=>{var Je=0<=(ke=ke.wa);return ke=Math.abs(ke)/60,(Je?"+":"-")+("0000"+(ke/60*100+ke%60)).slice(-4)},"%Z":ke=>ke.za,"%%":()=>"%"},De=De.replace(/%%/g,"\0\0"),pt)De.includes(ct)&&(De=De.replace(new RegExp(ct,"g"),pt[ct](Ne)));return ct=function(ke){var Je=Array(bt(ke)+1);return wt(ke,Je,0,Je.length),Je}(De=De.replace(/\0\0/g,"%")),ct.length>Ee?0:(Se.set(ct,ve>>>0),ct.length-1)}var Ht={a:function(ve,Ee,De){throw new Tt(ve>>>=0).sa(Ee>>>0,De>>>0),ve},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(ve,Ee,De){ve=Ee+2097152>>>0<4194305-!!ve?(ve>>>0)+4294967296*Ee:NaN,De>>>=0,ve=new Date(1e3*ve),be[De>>2>>>0]=ve.getUTCSeconds(),be[De+4>>2>>>0]=ve.getUTCMinutes(),be[De+8>>2>>>0]=ve.getUTCHours(),be[De+12>>2>>>0]=ve.getUTCDate(),be[De+16>>2>>>0]=ve.getUTCMonth(),be[De+20>>2>>>0]=ve.getUTCFullYear()-1900,be[De+24>>2>>>0]=ve.getUTCDay(),be[De+28>>2>>>0]=(ve.getTime()-Date.UTC(ve.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(ve,Ee,De){ve=Ee+2097152>>>0<4194305-!!ve?(ve>>>0)+4294967296*Ee:NaN,De>>>=0,ve=new Date(1e3*ve),be[De>>2>>>0]=ve.getSeconds(),be[De+4>>2>>>0]=ve.getMinutes(),be[De+8>>2>>>0]=ve.getHours(),be[De+12>>2>>>0]=ve.getDate(),be[De+16>>2>>>0]=ve.getMonth(),be[De+20>>2>>>0]=ve.getFullYear()-1900,be[De+24>>2>>>0]=ve.getDay(),be[De+28>>2>>>0]=(yt(ve.getFullYear())?It:Et)[ve.getMonth()]+ve.getDate()-1|0,be[De+36>>2>>>0]=-60*ve.getTimezoneOffset(),Ee=new Date(ve.getFullYear(),6,1).getTimezoneOffset();var Ne=new Date(ve.getFullYear(),0,1).getTimezoneOffset();be[De+32>>2>>>0]=0|(Ee!=Ne&&ve.getTimezoneOffset()==Math.min(Ne,Ee))},p:function(ve){ve>>>=0;var Ee=new Date(be[ve+20>>2>>>0]+1900,be[ve+16>>2>>>0],be[ve+12>>2>>>0],be[ve+8>>2>>>0],be[ve+4>>2>>>0],be[ve>>2>>>0],0),De=be[ve+32>>2>>>0],Ne=Ee.getTimezoneOffset(),Me=new Date(Ee.getFullYear(),6,1).getTimezoneOffset(),ze=new Date(Ee.getFullYear(),0,1).getTimezoneOffset(),Xe=Math.min(ze,Me);return 0>De?be[ve+32>>2>>>0]=+(Me!=ze&&Xe==Ne):0<De!=(Xe==Ne)&&(Me=Math.max(ze,Me),Ee.setTime(Ee.getTime()+6e4*((0<De?Xe:Me)-Ne))),be[ve+24>>2>>>0]=Ee.getDay(),be[ve+28>>2>>>0]=(yt(Ee.getFullYear())?It:Et)[Ee.getMonth()]+Ee.getDate()-1|0,be[ve>>2>>>0]=Ee.getSeconds(),be[ve+4>>2>>>0]=Ee.getMinutes(),be[ve+8>>2>>>0]=Ee.getHours(),be[ve+12>>2>>>0]=Ee.getDate(),be[ve+16>>2>>>0]=Ee.getMonth(),be[ve+20>>2>>>0]=Ee.getYear(),ve=Ee.getTime()/1e3,Ut((Ve=ve,1<=+Math.abs(Ve)?0<Ve?+Math.floor(Ve/4294967296)>>>0:~~+Math.ceil((Ve-+(~~Ve>>>0))/4294967296)>>>0:0)),ve>>>0},l:function(){return-52},m:function(){},u:function(ve,Ee,De){function Ne(lt){return(lt=lt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?lt[1]:"GMT"}De>>>=0;var Me=new Date().getFullYear(),ze=new Date(Me,0,1),Xe=new Date(Me,6,1);Me=ze.getTimezoneOffset();var it=Xe.getTimezoneOffset();Ce[ve>>>0>>2>>>0]=60*Math.max(Me,it),be[Ee>>>0>>2>>>0]=+(Me!=it),ve=Ne(ze),Ee=Ne(Xe),ve=gt(ve),Ee=gt(Ee),it<Me?(Ce[De>>2>>>0]=ve,Ce[De+4>>2>>>0]=Ee):(Ce[De>>2>>>0]=Ee,Ce[De+4>>2>>>0]=ve)},d:()=>{Ke("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(ve,Ee,De){return Ee>>>=0,Pe.copyWithin(ve>>>0>>>0,Ee>>>0,Ee+(De>>>0)>>>0)},t:function(ve){ve>>>=0;var Ee=Pe.length;if(4294901760<ve)return!1;for(var De=1;4>=De;De*=2){var Ne=Ee*(1+.2/De);Ne=Math.min(Ne,ve+100663296);var Me=Math;Ne=Math.max(ve,Ne);e:{Me=Me.min.call(Me,4294901760,Ne+(65536-Ne%65536)%65536)-Te.buffer.byteLength+65535>>>16;try{Te.grow(Me),we();var ze=1;break e}catch{}ze=void 0}if(ze)return!0}return!1},D:function(ve,Ee){ve>>>=0,Ee>>>=0;var De=0;return Ft().forEach(function(Ne,Me){var ze=Ee+De;for(Me=Ce[ve+4*Me>>2>>>0]=ze,ze=0;ze<Ne.length;++ze)Se[Me++>>0>>>0]=Ne.charCodeAt(ze);Se[Me>>0>>>0]=0,De+=Ne.length+1}),0},E:function(ve,Ee){ve>>>=0,Ee>>>=0;var De=Ft();Ce[ve>>2>>>0]=De.length;var Ne=0;return De.forEach(function(Me){Ne+=Me.length+1}),Ce[Ee>>2>>>0]=Ne,0},s:ve=>{ye||(ie.onExit&&ie.onExit(ve),me=!0),K(ve,new Ot(ve))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(ve,Ee,De,Ne){Ee>>>=0,De>>>=0,Ne>>>=0;for(var Me=0,ze=0;ze<De;ze++){var Xe=Ce[Ee>>2>>>0],it=Ce[Ee+4>>2>>>0];Ee+=8;for(var lt=0;lt<it;lt++){var pt=Pe[Xe+lt>>>0],ct=Gt[ve];pt===0||pt===10?((ve===1?fe:he)(mt(ct,0)),ct.length=0):ct.push(pt)}Me+=it}return Ce[Ne>>2>>>0]=Me,0},r:function(ve,Ee){return ve>>>=0,Dt(Pe.subarray(ve>>>0,ve+(Ee>>>0)>>>0)),0},C:Mt,c:function(ve,Ee,De,Ne){return Mt(ve>>>0,Ee>>>0,De>>>0,Ne>>>0)}};(function(){function ve(De){if(De=De.exports,xe=De=function(Me){var ze=it=>()=>it()>>>0,Xe=it=>lt=>it(lt)>>>0;return(Me=Object.assign({},Me)).__errno_location=ze(Me.__errno_location),Me.malloc=Xe(Me.malloc),Me.stackSave=ze(Me.stackSave),Me.stackAlloc=Xe(Me.stackAlloc),Me}(De),Te=xe.L,we(),Le.unshift(xe.M),Ge--,ie.monitorRunDependencies&&ie.monitorRunDependencies(Ge),Ge==0&&We){var Ne=We;We=null,Ne()}return De}var Ee={a:Ht};if(Ge++,ie.monitorRunDependencies&&ie.monitorRunDependencies(Ge),ie.instantiateWasm)try{return ie.instantiateWasm(Ee,ve)}catch(De){he("Module.instantiateWasm callback failed with error: "+De),ee(De)}(function(De,Ne){var Me=je;return pe||typeof WebAssembly.instantiateStreaming!="function"||Ye(Me)||Me.startsWith("file://")||se||typeof fetch!="function"?ft(Me,De,Ne):fetch(Me,{credentials:"same-origin"}).then(ze=>WebAssembly.instantiateStreaming(ze,De).then(Ne,function(Xe){return he("wasm streaming compile failed: "+Xe),he("falling back to ArrayBuffer instantiation"),ft(Me,De,Ne)}))})(Ee,function(De){ve(De.instance)}).catch(ee)})(),ie._OrtInit=(ve,Ee)=>(ie._OrtInit=xe.N)(ve,Ee),ie._OrtGetLastError=(ve,Ee)=>(ie._OrtGetLastError=xe.O)(ve,Ee),ie._OrtCreateSessionOptions=(ve,Ee,De,Ne,Me,ze,Xe,it,lt,pt)=>(ie._OrtCreateSessionOptions=xe.P)(ve,Ee,De,Ne,Me,ze,Xe,it,lt,pt),ie._OrtAppendExecutionProvider=(ve,Ee)=>(ie._OrtAppendExecutionProvider=xe.Q)(ve,Ee),ie._OrtAddSessionConfigEntry=(ve,Ee,De)=>(ie._OrtAddSessionConfigEntry=xe.R)(ve,Ee,De),ie._OrtReleaseSessionOptions=ve=>(ie._OrtReleaseSessionOptions=xe.S)(ve),ie._OrtCreateSession=(ve,Ee,De)=>(ie._OrtCreateSession=xe.T)(ve,Ee,De),ie._OrtReleaseSession=ve=>(ie._OrtReleaseSession=xe.U)(ve),ie._OrtGetInputOutputCount=(ve,Ee,De)=>(ie._OrtGetInputOutputCount=xe.V)(ve,Ee,De),ie._OrtGetInputName=(ve,Ee)=>(ie._OrtGetInputName=xe.W)(ve,Ee),ie._OrtGetOutputName=(ve,Ee)=>(ie._OrtGetOutputName=xe.X)(ve,Ee),ie._OrtFree=ve=>(ie._OrtFree=xe.Y)(ve),ie._OrtCreateTensor=(ve,Ee,De,Ne,Me)=>(ie._OrtCreateTensor=xe.Z)(ve,Ee,De,Ne,Me),ie._OrtGetTensorData=(ve,Ee,De,Ne,Me)=>(ie._OrtGetTensorData=xe._)(ve,Ee,De,Ne,Me),ie._OrtReleaseTensor=ve=>(ie._OrtReleaseTensor=xe.$)(ve),ie._OrtCreateRunOptions=(ve,Ee,De,Ne)=>(ie._OrtCreateRunOptions=xe.aa)(ve,Ee,De,Ne),ie._OrtAddRunConfigEntry=(ve,Ee,De)=>(ie._OrtAddRunConfigEntry=xe.ba)(ve,Ee,De),ie._OrtReleaseRunOptions=ve=>(ie._OrtReleaseRunOptions=xe.ca)(ve),ie._OrtRun=(ve,Ee,De,Ne,Me,ze,Xe,it)=>(ie._OrtRun=xe.da)(ve,Ee,De,Ne,Me,ze,Xe,it),ie._OrtEndProfiling=ve=>(ie._OrtEndProfiling=xe.ea)(ve);var jt=ie._malloc=ve=>(jt=ie._malloc=xe.fa)(ve);ie._free=ve=>(ie._free=xe.ga)(ve);var Pt,Ut=ve=>(Ut=xe.ia)(ve),Rt=()=>(Rt=xe.ja)(),He=ve=>(He=xe.ka)(ve),Ct=ve=>(Ct=xe.la)(ve);function Bt(){function ve(){if(!Pt&&(Pt=!0,ie.calledRun=!0,!me)){if(st(Le),oe(ie),ie.onRuntimeInitialized&&ie.onRuntimeInitialized(),ie.postRun)for(typeof ie.postRun=="function"&&(ie.postRun=[ie.postRun]);ie.postRun.length;){var Ee=ie.postRun.shift();Fe.unshift(Ee)}st(Fe)}}if(!(0<Ge)){if(ie.preRun)for(typeof ie.preRun=="function"&&(ie.preRun=[ie.preRun]);ie.preRun.length;)Be();st(Ae),0<Ge||(ie.setStatus?(ie.setStatus("Running..."),setTimeout(function(){setTimeout(function(){ie.setStatus("")},1),ve()},1)):ve())}}if(ie.stackAlloc=Ct,ie.stackSave=Rt,ie.stackRestore=He,ie.UTF8ToString=ht,ie.stringToUTF8=(ve,Ee,De)=>wt(ve,Pe,Ee,De),ie.lengthBytesUTF8=bt,We=function ve(){Pt||Bt(),Pt||(We=ve)},ie.preInit)for(typeof ie.preInit=="function"&&(ie.preInit=[ie.preInit]);0<ie.preInit.length;)ie.preInit.pop()();return Bt(),ae.ready});ue.exports=Q},4537:ue=>{ue.exports=function(X,re){for(var ne=new Array(arguments.length-1),Q=0,ae=2,oe=!0;ae<arguments.length;)ne[Q++]=arguments[ae++];return new Promise(function(ee,ie){ne[Q]=function(Z){if(oe)if(oe=!1,Z)ie(Z);else{for(var Y=new Array(arguments.length-1),W=0;W<Y.length;)Y[W++]=arguments[W];ee.apply(null,Y)}};try{X.apply(re||null,ne)}catch(Z){oe&&(oe=!1,ie(Z))}})}},7419:(ue,X)=>{var re=X;re.length=function(ee){var ie=ee.length;if(!ie)return 0;for(var Z=0;--ie%4>1&&ee.charAt(ie)==="=";)++Z;return Math.ceil(3*ee.length)/4-Z};for(var ne=new Array(64),Q=new Array(123),ae=0;ae<64;)Q[ne[ae]=ae<26?ae+65:ae<52?ae+71:ae<62?ae-4:ae-59|43]=ae++;re.encode=function(ee,ie,Z){for(var Y,W=null,R=[],U=0,K=0;ie<Z;){var J=ee[ie++];switch(K){case 0:R[U++]=ne[J>>2],Y=(3&J)<<4,K=1;break;case 1:R[U++]=ne[Y|J>>4],Y=(15&J)<<2,K=2;break;case 2:R[U++]=ne[Y|J>>6],R[U++]=ne[63&J],K=0}U>8191&&((W||(W=[])).push(String.fromCharCode.apply(String,R)),U=0)}return K&&(R[U++]=ne[Y],R[U++]=61,K===1&&(R[U++]=61)),W?(U&&W.push(String.fromCharCode.apply(String,R.slice(0,U))),W.join("")):String.fromCharCode.apply(String,R.slice(0,U))};var oe="invalid encoding";re.decode=function(ee,ie,Z){for(var Y,W=Z,R=0,U=0;U<ee.length;){var K=ee.charCodeAt(U++);if(K===61&&R>1)break;if((K=Q[K])===void 0)throw Error(oe);switch(R){case 0:Y=K,R=1;break;case 1:ie[Z++]=Y<<2|(48&K)>>4,Y=K,R=2;break;case 2:ie[Z++]=(15&Y)<<4|(60&K)>>2,Y=K,R=3;break;case 3:ie[Z++]=(3&Y)<<6|K,R=0}}if(R===1)throw Error(oe);return Z-W},re.test=function(ee){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ee)}},9211:ue=>{function X(){this._listeners={}}ue.exports=X,X.prototype.on=function(re,ne,Q){return(this._listeners[re]||(this._listeners[re]=[])).push({fn:ne,ctx:Q||this}),this},X.prototype.off=function(re,ne){if(re===void 0)this._listeners={};else if(ne===void 0)this._listeners[re]=[];else for(var Q=this._listeners[re],ae=0;ae<Q.length;)Q[ae].fn===ne?Q.splice(ae,1):++ae;return this},X.prototype.emit=function(re){var ne=this._listeners[re];if(ne){for(var Q=[],ae=1;ae<arguments.length;)Q.push(arguments[ae++]);for(ae=0;ae<ne.length;)ne[ae].fn.apply(ne[ae++].ctx,Q)}return this}},945:ue=>{function X(oe){return typeof Float32Array<"u"?function(){var ee=new Float32Array([-0]),ie=new Uint8Array(ee.buffer),Z=ie[3]===128;function Y(K,J,te){ee[0]=K,J[te]=ie[0],J[te+1]=ie[1],J[te+2]=ie[2],J[te+3]=ie[3]}function W(K,J,te){ee[0]=K,J[te]=ie[3],J[te+1]=ie[2],J[te+2]=ie[1],J[te+3]=ie[0]}function R(K,J){return ie[0]=K[J],ie[1]=K[J+1],ie[2]=K[J+2],ie[3]=K[J+3],ee[0]}function U(K,J){return ie[3]=K[J],ie[2]=K[J+1],ie[1]=K[J+2],ie[0]=K[J+3],ee[0]}oe.writeFloatLE=Z?Y:W,oe.writeFloatBE=Z?W:Y,oe.readFloatLE=Z?R:U,oe.readFloatBE=Z?U:R}():function(){function ee(Z,Y,W,R){var U=Y<0?1:0;if(U&&(Y=-Y),Y===0)Z(1/Y>0?0:2147483648,W,R);else if(isNaN(Y))Z(2143289344,W,R);else if(Y>34028234663852886e22)Z((U<<31|2139095040)>>>0,W,R);else if(Y<11754943508222875e-54)Z((U<<31|Math.round(Y/1401298464324817e-60))>>>0,W,R);else{var K=Math.floor(Math.log(Y)/Math.LN2);Z((U<<31|K+127<<23|8388607&Math.round(Y*Math.pow(2,-K)*8388608))>>>0,W,R)}}function ie(Z,Y,W){var R=Z(Y,W),U=2*(R>>31)+1,K=R>>>23&255,J=8388607&R;return K===255?J?NaN:U*(1/0):K===0?1401298464324817e-60*U*J:U*Math.pow(2,K-150)*(J+8388608)}oe.writeFloatLE=ee.bind(null,re),oe.writeFloatBE=ee.bind(null,ne),oe.readFloatLE=ie.bind(null,Q),oe.readFloatBE=ie.bind(null,ae)}(),typeof Float64Array<"u"?function(){var ee=new Float64Array([-0]),ie=new Uint8Array(ee.buffer),Z=ie[7]===128;function Y(K,J,te){ee[0]=K,J[te]=ie[0],J[te+1]=ie[1],J[te+2]=ie[2],J[te+3]=ie[3],J[te+4]=ie[4],J[te+5]=ie[5],J[te+6]=ie[6],J[te+7]=ie[7]}function W(K,J,te){ee[0]=K,J[te]=ie[7],J[te+1]=ie[6],J[te+2]=ie[5],J[te+3]=ie[4],J[te+4]=ie[3],J[te+5]=ie[2],J[te+6]=ie[1],J[te+7]=ie[0]}function R(K,J){return ie[0]=K[J],ie[1]=K[J+1],ie[2]=K[J+2],ie[3]=K[J+3],ie[4]=K[J+4],ie[5]=K[J+5],ie[6]=K[J+6],ie[7]=K[J+7],ee[0]}function U(K,J){return ie[7]=K[J],ie[6]=K[J+1],ie[5]=K[J+2],ie[4]=K[J+3],ie[3]=K[J+4],ie[2]=K[J+5],ie[1]=K[J+6],ie[0]=K[J+7],ee[0]}oe.writeDoubleLE=Z?Y:W,oe.writeDoubleBE=Z?W:Y,oe.readDoubleLE=Z?R:U,oe.readDoubleBE=Z?U:R}():function(){function ee(Z,Y,W,R,U,K){var J=R<0?1:0;if(J&&(R=-R),R===0)Z(0,U,K+Y),Z(1/R>0?0:2147483648,U,K+W);else if(isNaN(R))Z(0,U,K+Y),Z(2146959360,U,K+W);else if(R>17976931348623157e292)Z(0,U,K+Y),Z((J<<31|2146435072)>>>0,U,K+W);else{var te;if(R<22250738585072014e-324)Z((te=R/5e-324)>>>0,U,K+Y),Z((J<<31|te/4294967296)>>>0,U,K+W);else{var se=Math.floor(Math.log(R)/Math.LN2);se===1024&&(se=1023),Z(4503599627370496*(te=R*Math.pow(2,-se))>>>0,U,K+Y),Z((J<<31|se+1023<<20|1048576*te&1048575)>>>0,U,K+W)}}}function ie(Z,Y,W,R,U){var K=Z(R,U+Y),J=Z(R,U+W),te=2*(J>>31)+1,se=J>>>20&2047,le=4294967296*(1048575&J)+K;return se===2047?le?NaN:te*(1/0):se===0?5e-324*te*le:te*Math.pow(2,se-1075)*(le+4503599627370496)}oe.writeDoubleLE=ee.bind(null,re,0,4),oe.writeDoubleBE=ee.bind(null,ne,4,0),oe.readDoubleLE=ie.bind(null,Q,0,4),oe.readDoubleBE=ie.bind(null,ae,4,0)}(),oe}function re(oe,ee,ie){ee[ie]=255&oe,ee[ie+1]=oe>>>8&255,ee[ie+2]=oe>>>16&255,ee[ie+3]=oe>>>24}function ne(oe,ee,ie){ee[ie]=oe>>>24,ee[ie+1]=oe>>>16&255,ee[ie+2]=oe>>>8&255,ee[ie+3]=255&oe}function Q(oe,ee){return(oe[ee]|oe[ee+1]<<8|oe[ee+2]<<16|oe[ee+3]<<24)>>>0}function ae(oe,ee){return(oe[ee]<<24|oe[ee+1]<<16|oe[ee+2]<<8|oe[ee+3])>>>0}ue.exports=X(X)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(ue){}return null}module.exports=inquire},6662:ue=>{ue.exports=function(X,re,ne){var Q=ne||8192,ae=Q>>>1,oe=null,ee=Q;return function(ie){if(ie<1||ie>ae)return X(ie);ee+ie>Q&&(oe=X(Q),ee=0);var Z=re.call(oe,ee,ee+=ie);return 7&ee&&(ee=1+(7|ee)),Z}}},4997:(ue,X)=>{var re=X;re.length=function(ne){for(var Q=0,ae=0,oe=0;oe<ne.length;++oe)(ae=ne.charCodeAt(oe))<128?Q+=1:ae<2048?Q+=2:(64512&ae)==55296&&(64512&ne.charCodeAt(oe+1))==56320?(++oe,Q+=4):Q+=3;return Q},re.read=function(ne,Q,ae){if(ae-Q<1)return"";for(var oe,ee=null,ie=[],Z=0;Q<ae;)(oe=ne[Q++])<128?ie[Z++]=oe:oe>191&&oe<224?ie[Z++]=(31&oe)<<6|63&ne[Q++]:oe>239&&oe<365?(oe=((7&oe)<<18|(63&ne[Q++])<<12|(63&ne[Q++])<<6|63&ne[Q++])-65536,ie[Z++]=55296+(oe>>10),ie[Z++]=56320+(1023&oe)):ie[Z++]=(15&oe)<<12|(63&ne[Q++])<<6|63&ne[Q++],Z>8191&&((ee||(ee=[])).push(String.fromCharCode.apply(String,ie)),Z=0);return ee?(Z&&ee.push(String.fromCharCode.apply(String,ie.slice(0,Z))),ee.join("")):String.fromCharCode.apply(String,ie.slice(0,Z))},re.write=function(ne,Q,ae){for(var oe,ee,ie=ae,Z=0;Z<ne.length;++Z)(oe=ne.charCodeAt(Z))<128?Q[ae++]=oe:oe<2048?(Q[ae++]=oe>>6|192,Q[ae++]=63&oe|128):(64512&oe)==55296&&(64512&(ee=ne.charCodeAt(Z+1)))==56320?(oe=65536+((1023&oe)<<10)+(1023&ee),++Z,Q[ae++]=oe>>18|240,Q[ae++]=oe>>12&63|128,Q[ae++]=oe>>6&63|128,Q[ae++]=63&oe|128):(Q[ae++]=oe>>12|224,Q[ae++]=oe>>6&63|128,Q[ae++]=63&oe|128);return ae-ie}},3442:(ue,X)=>{X.__esModule=!0;var re=function(){function ne(Q){if(!Q)throw new TypeError("Invalid argument; `value` has no value.");this.value=ne.EMPTY,Q&&ne.isGuid(Q)&&(this.value=Q)}return ne.isGuid=function(Q){var ae=Q.toString();return Q&&(Q instanceof ne||ne.validator.test(ae))},ne.create=function(){return new ne([ne.gen(2),ne.gen(1),ne.gen(1),ne.gen(1),ne.gen(3)].join("-"))},ne.createEmpty=function(){return new ne("emptyguid")},ne.parse=function(Q){return new ne(Q)},ne.raw=function(){return[ne.gen(2),ne.gen(1),ne.gen(1),ne.gen(1),ne.gen(3)].join("-")},ne.gen=function(Q){for(var ae="",oe=0;oe<Q;oe++)ae+=(65536*(1+Math.random())|0).toString(16).substring(1);return ae},ne.prototype.equals=function(Q){return ne.isGuid(Q)&&this.value===Q.toString()},ne.prototype.isEmpty=function(){return this.value===ne.EMPTY},ne.prototype.toString=function(){return this.value},ne.prototype.toJSON=function(){return{value:this.value}},ne.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),ne.EMPTY="00000000-0000-0000-0000-000000000000",ne}();X.Guid=re},2100:(ue,X,re)=>{ue.exports=re(9482)},9482:(ue,X,re)=>{var ne=X;function Q(){ne.util._configure(),ne.Writer._configure(ne.BufferWriter),ne.Reader._configure(ne.BufferReader)}ne.build="minimal",ne.Writer=re(1173),ne.BufferWriter=re(3155),ne.Reader=re(1408),ne.BufferReader=re(593),ne.util=re(9693),ne.rpc=re(5994),ne.roots=re(5054),ne.configure=Q,Q()},1408:(ue,X,re)=>{ue.exports=ie;var ne,Q=re(9693),ae=Q.LongBits,oe=Q.utf8;function ee(J,te){return RangeError("index out of range: "+J.pos+" + "+(te||1)+" > "+J.len)}function ie(J){this.buf=J,this.pos=0,this.len=J.length}var Z,Y=typeof Uint8Array<"u"?function(J){if(J instanceof Uint8Array||Array.isArray(J))return new ie(J);throw Error("illegal buffer")}:function(J){if(Array.isArray(J))return new ie(J);throw Error("illegal buffer")},W=function(){return Q.Buffer?function(J){return(ie.create=function(te){return Q.Buffer.isBuffer(te)?new ne(te):Y(te)})(J)}:Y};function R(){var J=new ae(0,0),te=0;if(!(this.len-this.pos>4)){for(;te<3;++te){if(this.pos>=this.len)throw ee(this);if(J.lo=(J.lo|(127&this.buf[this.pos])<<7*te)>>>0,this.buf[this.pos++]<128)return J}return J.lo=(J.lo|(127&this.buf[this.pos++])<<7*te)>>>0,J}for(;te<4;++te)if(J.lo=(J.lo|(127&this.buf[this.pos])<<7*te)>>>0,this.buf[this.pos++]<128)return J;if(J.lo=(J.lo|(127&this.buf[this.pos])<<28)>>>0,J.hi=(J.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return J;if(te=0,this.len-this.pos>4){for(;te<5;++te)if(J.hi=(J.hi|(127&this.buf[this.pos])<<7*te+3)>>>0,this.buf[this.pos++]<128)return J}else for(;te<5;++te){if(this.pos>=this.len)throw ee(this);if(J.hi=(J.hi|(127&this.buf[this.pos])<<7*te+3)>>>0,this.buf[this.pos++]<128)return J}throw Error("invalid varint encoding")}function U(J,te){return(J[te-4]|J[te-3]<<8|J[te-2]<<16|J[te-1]<<24)>>>0}function K(){if(this.pos+8>this.len)throw ee(this,8);return new ae(U(this.buf,this.pos+=4),U(this.buf,this.pos+=4))}ie.create=W(),ie.prototype._slice=Q.Array.prototype.subarray||Q.Array.prototype.slice,ie.prototype.uint32=(Z=4294967295,function(){if(Z=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(Z=(Z|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(Z=(Z|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(Z=(Z|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(Z=(Z|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return Z;if((this.pos+=5)>this.len)throw this.pos=this.len,ee(this,10);return Z}),ie.prototype.int32=function(){return 0|this.uint32()},ie.prototype.sint32=function(){var J=this.uint32();return J>>>1^-(1&J)|0},ie.prototype.bool=function(){return this.uint32()!==0},ie.prototype.fixed32=function(){if(this.pos+4>this.len)throw ee(this,4);return U(this.buf,this.pos+=4)},ie.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ee(this,4);return 0|U(this.buf,this.pos+=4)},ie.prototype.float=function(){if(this.pos+4>this.len)throw ee(this,4);var J=Q.float.readFloatLE(this.buf,this.pos);return this.pos+=4,J},ie.prototype.double=function(){if(this.pos+8>this.len)throw ee(this,4);var J=Q.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,J},ie.prototype.bytes=function(){var J=this.uint32(),te=this.pos,se=this.pos+J;if(se>this.len)throw ee(this,J);return this.pos+=J,Array.isArray(this.buf)?this.buf.slice(te,se):te===se?new this.buf.constructor(0):this._slice.call(this.buf,te,se)},ie.prototype.string=function(){var J=this.bytes();return oe.read(J,0,J.length)},ie.prototype.skip=function(J){if(typeof J=="number"){if(this.pos+J>this.len)throw ee(this,J);this.pos+=J}else do if(this.pos>=this.len)throw ee(this);while(128&this.buf[this.pos++]);return this},ie.prototype.skipType=function(J){switch(J){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(J=7&this.uint32())!=4;)this.skipType(J);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+J+" at offset "+this.pos)}return this},ie._configure=function(J){ne=J,ie.create=W(),ne._configure();var te=Q.Long?"toLong":"toNumber";Q.merge(ie.prototype,{int64:function(){return R.call(this)[te](!1)},uint64:function(){return R.call(this)[te](!0)},sint64:function(){return R.call(this).zzDecode()[te](!1)},fixed64:function(){return K.call(this)[te](!0)},sfixed64:function(){return K.call(this)[te](!1)}})}},593:(ue,X,re)=>{ue.exports=ae;var ne=re(1408);(ae.prototype=Object.create(ne.prototype)).constructor=ae;var Q=re(9693);function ae(oe){ne.call(this,oe)}ae._configure=function(){Q.Buffer&&(ae.prototype._slice=Q.Buffer.prototype.slice)},ae.prototype.string=function(){var oe=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+oe,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+oe,this.len))},ae._configure()},5054:ue=>{ue.exports={}},5994:(ue,X,re)=>{X.Service=re(7948)},7948:(ue,X,re)=>{ue.exports=Q;var ne=re(9693);function Q(ae,oe,ee){if(typeof ae!="function")throw TypeError("rpcImpl must be a function");ne.EventEmitter.call(this),this.rpcImpl=ae,this.requestDelimited=!!oe,this.responseDelimited=!!ee}(Q.prototype=Object.create(ne.EventEmitter.prototype)).constructor=Q,Q.prototype.rpcCall=function ae(oe,ee,ie,Z,Y){if(!Z)throw TypeError("request must be specified");var W=this;if(!Y)return ne.asPromise(ae,W,oe,ee,ie,Z);if(W.rpcImpl)try{return W.rpcImpl(oe,ee[W.requestDelimited?"encodeDelimited":"encode"](Z).finish(),function(R,U){if(R)return W.emit("error",R,oe),Y(R);if(U!==null){if(!(U instanceof ie))try{U=ie[W.responseDelimited?"decodeDelimited":"decode"](U)}catch(K){return W.emit("error",K,oe),Y(K)}return W.emit("data",U,oe),Y(null,U)}W.end(!0)})}catch(R){return W.emit("error",R,oe),void setTimeout(function(){Y(R)},0)}else setTimeout(function(){Y(Error("already ended"))},0)},Q.prototype.end=function(ae){return this.rpcImpl&&(ae||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(ue,X,re)=>{ue.exports=Q;var ne=re(9693);function Q(ie,Z){this.lo=ie>>>0,this.hi=Z>>>0}var ae=Q.zero=new Q(0,0);ae.toNumber=function(){return 0},ae.zzEncode=ae.zzDecode=function(){return this},ae.length=function(){return 1};var oe=Q.zeroHash="\0\0\0\0\0\0\0\0";Q.fromNumber=function(ie){if(ie===0)return ae;var Z=ie<0;Z&&(ie=-ie);var Y=ie>>>0,W=(ie-Y)/4294967296>>>0;return Z&&(W=~W>>>0,Y=~Y>>>0,++Y>4294967295&&(Y=0,++W>4294967295&&(W=0))),new Q(Y,W)},Q.from=function(ie){if(typeof ie=="number")return Q.fromNumber(ie);if(ne.isString(ie)){if(!ne.Long)return Q.fromNumber(parseInt(ie,10));ie=ne.Long.fromString(ie)}return ie.low||ie.high?new Q(ie.low>>>0,ie.high>>>0):ae},Q.prototype.toNumber=function(ie){if(!ie&&this.hi>>>31){var Z=1+~this.lo>>>0,Y=~this.hi>>>0;return Z||(Y=Y+1>>>0),-(Z+4294967296*Y)}return this.lo+4294967296*this.hi},Q.prototype.toLong=function(ie){return ne.Long?new ne.Long(0|this.lo,0|this.hi,!!ie):{low:0|this.lo,high:0|this.hi,unsigned:!!ie}};var ee=String.prototype.charCodeAt;Q.fromHash=function(ie){return ie===oe?ae:new Q((ee.call(ie,0)|ee.call(ie,1)<<8|ee.call(ie,2)<<16|ee.call(ie,3)<<24)>>>0,(ee.call(ie,4)|ee.call(ie,5)<<8|ee.call(ie,6)<<16|ee.call(ie,7)<<24)>>>0)},Q.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},Q.prototype.zzEncode=function(){var ie=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^ie)>>>0,this.lo=(this.lo<<1^ie)>>>0,this},Q.prototype.zzDecode=function(){var ie=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^ie)>>>0,this.hi=(this.hi>>>1^ie)>>>0,this},Q.prototype.length=function(){var ie=this.lo,Z=(this.lo>>>28|this.hi<<4)>>>0,Y=this.hi>>>24;return Y===0?Z===0?ie<16384?ie<128?1:2:ie<2097152?3:4:Z<16384?Z<128?5:6:Z<2097152?7:8:Y<128?9:10}},9693:function(ue,X,re){var ne=X;function Q(oe,ee,ie){for(var Z=Object.keys(ee),Y=0;Y<Z.length;++Y)oe[Z[Y]]!==void 0&&ie||(oe[Z[Y]]=ee[Z[Y]]);return oe}function ae(oe){function ee(ie,Z){if(!(this instanceof ee))return new ee(ie,Z);Object.defineProperty(this,"message",{get:function(){return ie}}),Error.captureStackTrace?Error.captureStackTrace(this,ee):Object.defineProperty(this,"stack",{value:new Error().stack||""}),Z&&Q(this,Z)}return ee.prototype=Object.create(Error.prototype,{constructor:{value:ee,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return oe},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),ee}ne.asPromise=re(4537),ne.base64=re(7419),ne.EventEmitter=re(9211),ne.float=re(945),ne.inquire=re(7199),ne.utf8=re(4997),ne.pool=re(6662),ne.LongBits=re(1945),ne.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),ne.global=ne.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||this,ne.emptyArray=Object.freeze?Object.freeze([]):[],ne.emptyObject=Object.freeze?Object.freeze({}):{},ne.isInteger=Number.isInteger||function(oe){return typeof oe=="number"&&isFinite(oe)&&Math.floor(oe)===oe},ne.isString=function(oe){return typeof oe=="string"||oe instanceof String},ne.isObject=function(oe){return oe&&typeof oe=="object"},ne.isset=ne.isSet=function(oe,ee){var ie=oe[ee];return!(ie==null||!oe.hasOwnProperty(ee))&&(typeof ie!="object"||(Array.isArray(ie)?ie.length:Object.keys(ie).length)>0)},ne.Buffer=function(){try{var oe=ne.inquire("buffer").Buffer;return oe.prototype.utf8Write?oe:null}catch{return null}}(),ne._Buffer_from=null,ne._Buffer_allocUnsafe=null,ne.newBuffer=function(oe){return typeof oe=="number"?ne.Buffer?ne._Buffer_allocUnsafe(oe):new ne.Array(oe):ne.Buffer?ne._Buffer_from(oe):typeof Uint8Array>"u"?oe:new Uint8Array(oe)},ne.Array=typeof Uint8Array<"u"?Uint8Array:Array,ne.Long=ne.global.dcodeIO&&ne.global.dcodeIO.Long||ne.global.Long||ne.inquire("long"),ne.key2Re=/^true|false|0|1$/,ne.key32Re=/^-?(?:0|[1-9][0-9]*)$/,ne.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,ne.longToHash=function(oe){return oe?ne.LongBits.from(oe).toHash():ne.LongBits.zeroHash},ne.longFromHash=function(oe,ee){var ie=ne.LongBits.fromHash(oe);return ne.Long?ne.Long.fromBits(ie.lo,ie.hi,ee):ie.toNumber(!!ee)},ne.merge=Q,ne.lcFirst=function(oe){return oe.charAt(0).toLowerCase()+oe.substring(1)},ne.newError=ae,ne.ProtocolError=ae("ProtocolError"),ne.oneOfGetter=function(oe){for(var ee={},ie=0;ie<oe.length;++ie)ee[oe[ie]]=1;return function(){for(var Z=Object.keys(this),Y=Z.length-1;Y>-1;--Y)if(ee[Z[Y]]===1&&this[Z[Y]]!==void 0&&this[Z[Y]]!==null)return Z[Y]}},ne.oneOfSetter=function(oe){return function(ee){for(var ie=0;ie<oe.length;++ie)oe[ie]!==ee&&delete this[oe[ie]]}},ne.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},ne._configure=function(){var oe=ne.Buffer;oe?(ne._Buffer_from=oe.from!==Uint8Array.from&&oe.from||function(ee,ie){return new oe(ee,ie)},ne._Buffer_allocUnsafe=oe.allocUnsafe||function(ee){return new oe(ee)}):ne._Buffer_from=ne._Buffer_allocUnsafe=null}},1173:(ue,X,re)=>{ue.exports=W;var ne,Q=re(9693),ae=Q.LongBits,oe=Q.base64,ee=Q.utf8;function ie(le,ce,de){this.fn=le,this.len=ce,this.next=void 0,this.val=de}function Z(){}function Y(le){this.head=le.head,this.tail=le.tail,this.len=le.len,this.next=le.states}function W(){this.len=0,this.head=new ie(Z,0,0),this.tail=this.head,this.states=null}var R=function(){return Q.Buffer?function(){return(W.create=function(){return new ne})()}:function(){return new W}};function U(le,ce,de){ce[de]=255&le}function K(le,ce){this.len=le,this.next=void 0,this.val=ce}function J(le,ce,de){for(;le.hi;)ce[de++]=127&le.lo|128,le.lo=(le.lo>>>7|le.hi<<25)>>>0,le.hi>>>=7;for(;le.lo>127;)ce[de++]=127&le.lo|128,le.lo=le.lo>>>7;ce[de++]=le.lo}function te(le,ce,de){ce[de]=255&le,ce[de+1]=le>>>8&255,ce[de+2]=le>>>16&255,ce[de+3]=le>>>24}W.create=R(),W.alloc=function(le){return new Q.Array(le)},Q.Array!==Array&&(W.alloc=Q.pool(W.alloc,Q.Array.prototype.subarray)),W.prototype._push=function(le,ce,de){return this.tail=this.tail.next=new ie(le,ce,de),this.len+=ce,this},K.prototype=Object.create(ie.prototype),K.prototype.fn=function(le,ce,de){for(;le>127;)ce[de++]=127&le|128,le>>>=7;ce[de]=le},W.prototype.uint32=function(le){return this.len+=(this.tail=this.tail.next=new K((le>>>=0)<128?1:le<16384?2:le<2097152?3:le<268435456?4:5,le)).len,this},W.prototype.int32=function(le){return le<0?this._push(J,10,ae.fromNumber(le)):this.uint32(le)},W.prototype.sint32=function(le){return this.uint32((le<<1^le>>31)>>>0)},W.prototype.uint64=function(le){var ce=ae.from(le);return this._push(J,ce.length(),ce)},W.prototype.int64=W.prototype.uint64,W.prototype.sint64=function(le){var ce=ae.from(le).zzEncode();return this._push(J,ce.length(),ce)},W.prototype.bool=function(le){return this._push(U,1,le?1:0)},W.prototype.fixed32=function(le){return this._push(te,4,le>>>0)},W.prototype.sfixed32=W.prototype.fixed32,W.prototype.fixed64=function(le){var ce=ae.from(le);return this._push(te,4,ce.lo)._push(te,4,ce.hi)},W.prototype.sfixed64=W.prototype.fixed64,W.prototype.float=function(le){return this._push(Q.float.writeFloatLE,4,le)},W.prototype.double=function(le){return this._push(Q.float.writeDoubleLE,8,le)};var se=Q.Array.prototype.set?function(le,ce,de){ce.set(le,de)}:function(le,ce,de){for(var pe=0;pe<le.length;++pe)ce[de+pe]=le[pe]};W.prototype.bytes=function(le){var ce=le.length>>>0;if(!ce)return this._push(U,1,0);if(Q.isString(le)){var de=W.alloc(ce=oe.length(le));oe.decode(le,de,0),le=de}return this.uint32(ce)._push(se,ce,le)},W.prototype.string=function(le){var ce=ee.length(le);return ce?this.uint32(ce)._push(ee.write,ce,le):this._push(U,1,0)},W.prototype.fork=function(){return this.states=new Y(this),this.head=this.tail=new ie(Z,0,0),this.len=0,this},W.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ie(Z,0,0),this.len=0),this},W.prototype.ldelim=function(){var le=this.head,ce=this.tail,de=this.len;return this.reset().uint32(de),de&&(this.tail.next=le.next,this.tail=ce,this.len+=de),this},W.prototype.finish=function(){for(var le=this.head.next,ce=this.constructor.alloc(this.len),de=0;le;)le.fn(le.val,ce,de),de+=le.len,le=le.next;return ce},W._configure=function(le){ne=le,W.create=R(),ne._configure()}},3155:(ue,X,re)=>{ue.exports=ae;var ne=re(1173);(ae.prototype=Object.create(ne.prototype)).constructor=ae;var Q=re(9693);function ae(){ne.call(this)}function oe(ee,ie,Z){ee.length<40?Q.utf8.write(ee,ie,Z):ie.utf8Write?ie.utf8Write(ee,Z):ie.write(ee,Z)}ae._configure=function(){ae.alloc=Q._Buffer_allocUnsafe,ae.writeBytesBuffer=Q.Buffer&&Q.Buffer.prototype instanceof Uint8Array&&Q.Buffer.prototype.set.name==="set"?function(ee,ie,Z){ie.set(ee,Z)}:function(ee,ie,Z){if(ee.copy)ee.copy(ie,Z,0,ee.length);else for(var Y=0;Y<ee.length;)ie[Z++]=ee[Y++]}},ae.prototype.bytes=function(ee){Q.isString(ee)&&(ee=Q._Buffer_from(ee,"base64"));var ie=ee.length>>>0;return this.uint32(ie),ie&&this._push(ae.writeBytesBuffer,ie,ee),this},ae.prototype.string=function(ee){var ie=Q.Buffer.byteLength(ee);return this.uint32(ie),ie&&this._push(oe,ie,ee),this},ae._configure()},4154:ue=>{ue.exports=`"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};
`},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},685:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.resolveBackend=X.registerBackend=void 0;const re={},ne=[];X.registerBackend=(Q,ae,oe)=>{if(!ae||typeof ae.init!="function"||typeof ae.createSessionHandler!="function")throw new TypeError("not a valid backend");{const ee=re[Q];if(ee===void 0)re[Q]={backend:ae,priority:oe};else{if(ee.priority>oe)return;if(ee.priority===oe&&ee.backend!==ae)throw new Error(`cannot register backend "${Q}" using priority ${oe}`)}if(oe>=0){const ie=ne.indexOf(Q);ie!==-1&&ne.splice(ie,1);for(let Z=0;Z<ne.length;Z++)if(re[ne[Z]].priority<=oe)return void ne.splice(Z,0,Q);ne.push(Q)}}},X.resolveBackend=async Q=>{const ae=Q.length===0?ne:Q,oe=[];for(const ee of ae){const ie=re[ee];if(ie){if(ie.initialized)return ie.backend;if(ie.aborted)continue;const Z=!!ie.initPromise;try{return Z||(ie.initPromise=ie.backend.init()),await ie.initPromise,ie.initialized=!0,ie.backend}catch(Y){Z||oe.push({name:ee,err:Y}),ie.aborted=!0}finally{delete ie.initPromise}}}throw new Error(`no available backend found. ERR: ${oe.map(ee=>`[${ee.name}] ${ee.err}`).join(", ")}`)}},4798:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.registerBackend=void 0;var ne=re(685);Object.defineProperty(X,"registerBackend",{enumerable:!0,get:function(){return ne.registerBackend}})},3121:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.env=void 0;const ne=re(9104);let Q="warning";X.env={wasm:{},webgl:{},webgpu:{},versions:{common:ne.version},set logLevel(ae){if(ae!==void 0){if(typeof ae!="string"||["verbose","info","warning","error","fatal"].indexOf(ae)===-1)throw new Error(`Unsupported logging level: ${ae}`);Q=ae}},get logLevel(){return Q}},Object.defineProperty(X.env,"logLevel",{enumerable:!0})},2457:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.env=void 0;const ne=re(3121);X.env=ne.env},2235:function(ue,X,re){var ne=this&&this.__createBinding||(Object.create?function(ae,oe,ee,ie){ie===void 0&&(ie=ee);var Z=Object.getOwnPropertyDescriptor(oe,ee);Z&&!("get"in Z?!oe.__esModule:Z.writable||Z.configurable)||(Z={enumerable:!0,get:function(){return oe[ee]}}),Object.defineProperty(ae,ie,Z)}:function(ae,oe,ee,ie){ie===void 0&&(ie=ee),ae[ie]=oe[ee]}),Q=this&&this.__exportStar||function(ae,oe){for(var ee in ae)ee==="default"||Object.prototype.hasOwnProperty.call(oe,ee)||ne(oe,ae,ee)};Object.defineProperty(X,"__esModule",{value:!0}),Q(re(4798),X),Q(re(2457),X),Q(re(3974),X),Q(re(963),X),Q(re(7852),X)},8036:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.InferenceSession=void 0;const ne=re(685),Q=re(963);class ae{constructor(ee){this.handler=ee}async run(ee,ie,Z){const Y={};let W={};if(typeof ee!="object"||ee===null||ee instanceof Q.Tensor||Array.isArray(ee))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let R=!0;if(typeof ie=="object"){if(ie===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(ie instanceof Q.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(ie)){if(ie.length===0)throw new TypeError("'fetches' cannot be an empty array.");R=!1;for(const J of ie){if(typeof J!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(J)===-1)throw new RangeError(`'fetches' contains invalid output name: ${J}.`);Y[J]=null}if(typeof Z=="object"&&Z!==null)W=Z;else if(Z!==void 0)throw new TypeError("'options' must be an object.")}else{let J=!1;const te=Object.getOwnPropertyNames(ie);for(const se of this.outputNames)if(te.indexOf(se)!==-1){const le=ie[se];(le===null||le instanceof Q.Tensor)&&(J=!0,R=!1,Y[se]=le)}if(J){if(typeof Z=="object"&&Z!==null)W=Z;else if(Z!==void 0)throw new TypeError("'options' must be an object.")}else W=ie}}else if(ie!==void 0)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const J of this.inputNames)if(ee[J]===void 0)throw new Error(`input '${J}' is missing in 'feeds'.`);if(R)for(const J of this.outputNames)Y[J]=null;const U=await this.handler.run(ee,Y,W),K={};for(const J in U)Object.hasOwnProperty.call(U,J)&&(K[J]=new Q.Tensor(U[J].type,U[J].data,U[J].dims));return K}async release(){return this.handler.dispose()}static async create(ee,ie,Z,Y){let W,R={};if(typeof ee=="string"){if(W=ee,typeof ie=="object"&&ie!==null)R=ie;else if(ie!==void 0)throw new TypeError("'options' must be an object.")}else if(ee instanceof Uint8Array){if(W=ee,typeof ie=="object"&&ie!==null)R=ie;else if(ie!==void 0)throw new TypeError("'options' must be an object.")}else{if(!(ee instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&ee instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const te=ee;let se=0,le=ee.byteLength;if(typeof ie=="object"&&ie!==null)R=ie;else if(typeof ie=="number"){if(se=ie,!Number.isSafeInteger(se))throw new RangeError("'byteOffset' must be an integer.");if(se<0||se>=te.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${te.byteLength}).`);if(le=ee.byteLength-se,typeof Z=="number"){if(le=Z,!Number.isSafeInteger(le))throw new RangeError("'byteLength' must be an integer.");if(le<=0||se+le>te.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${te.byteLength-se}].`);if(typeof Y=="object"&&Y!==null)R=Y;else if(Y!==void 0)throw new TypeError("'options' must be an object.")}else if(Z!==void 0)throw new TypeError("'byteLength' must be a number.")}else if(ie!==void 0)throw new TypeError("'options' must be an object.");W=new Uint8Array(te,se,le)}}const U=(R.executionProviders||[]).map(te=>typeof te=="string"?te:te.name),K=await(0,ne.resolveBackend)(U),J=await K.createSessionHandler(W,R);return new ae(J)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}X.InferenceSession=ae},3974:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.InferenceSession=void 0;const ne=re(8036);X.InferenceSession=ne.InferenceSession},7852:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0})},2350:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.tensorToImageData=X.tensorToDataURL=void 0,X.tensorToDataURL=(re,ne)=>{const Q=document.createElement("canvas");Q.width=re.dims[3],Q.height=re.dims[2];const ae=Q.getContext("2d");if(ae!=null){let oe,ee;(ne==null?void 0:ne.tensorLayout)!==void 0&&ne.tensorLayout==="NHWC"?(oe=re.dims[2],ee=re.dims[3]):(oe=re.dims[3],ee=re.dims[2]);const ie=(ne==null?void 0:ne.format)!==void 0?ne.format:"RGB",Z=ne==null?void 0:ne.norm;let Y,W;Z===void 0||Z.mean===void 0?Y=[255,255,255,255]:typeof Z.mean=="number"?Y=[Z.mean,Z.mean,Z.mean,Z.mean]:(Y=[Z.mean[0],Z.mean[1],Z.mean[2],0],Z.mean[3]!==void 0&&(Y[3]=Z.mean[3])),Z===void 0||Z.bias===void 0?W=[0,0,0,0]:typeof Z.bias=="number"?W=[Z.bias,Z.bias,Z.bias,Z.bias]:(W=[Z.bias[0],Z.bias[1],Z.bias[2],0],Z.bias[3]!==void 0&&(W[3]=Z.bias[3]));const R=ee*oe;let U=0,K=R,J=2*R,te=-1;ie==="RGBA"?(U=0,K=R,J=2*R,te=3*R):ie==="RGB"?(U=0,K=R,J=2*R):ie==="RBG"&&(U=0,J=R,K=2*R);for(let se=0;se<ee;se++)for(let le=0;le<oe;le++){const ce=(re.data[U++]-W[0])*Y[0],de=(re.data[K++]-W[1])*Y[1],pe=(re.data[J++]-W[2])*Y[2],fe=te===-1?255:(re.data[te++]-W[3])*Y[3];ae.fillStyle="rgba("+ce+","+de+","+pe+","+fe+")",ae.fillRect(le,se,1,1)}return Q.toDataURL()}throw new Error("Can not access image data")},X.tensorToImageData=(re,ne)=>{const Q=document.createElement("canvas").getContext("2d");let ae;if(Q==null)throw new Error("Can not access image data");{let oe,ee,ie;(ne==null?void 0:ne.tensorLayout)!==void 0&&ne.tensorLayout==="NHWC"?(oe=re.dims[2],ee=re.dims[1],ie=re.dims[3]):(oe=re.dims[3],ee=re.dims[2],ie=re.dims[1]);const Z=ne!==void 0&&ne.format!==void 0?ne.format:"RGB",Y=ne==null?void 0:ne.norm;let W,R;Y===void 0||Y.mean===void 0?W=[255,255,255,255]:typeof Y.mean=="number"?W=[Y.mean,Y.mean,Y.mean,Y.mean]:(W=[Y.mean[0],Y.mean[1],Y.mean[2],255],Y.mean[3]!==void 0&&(W[3]=Y.mean[3])),Y===void 0||Y.bias===void 0?R=[0,0,0,0]:typeof Y.bias=="number"?R=[Y.bias,Y.bias,Y.bias,Y.bias]:(R=[Y.bias[0],Y.bias[1],Y.bias[2],0],Y.bias[3]!==void 0&&(R[3]=Y.bias[3]));const U=ee*oe;if(ne!==void 0&&(ne.format!==void 0&&ie===4&&ne.format!=="RGBA"||ie===3&&ne.format!=="RGB"&&ne.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");const K=4;let J=0,te=1,se=2,le=3,ce=0,de=U,pe=2*U,fe=-1;Z==="RGBA"?(ce=0,de=U,pe=2*U,fe=3*U):Z==="RGB"?(ce=0,de=U,pe=2*U):Z==="RBG"&&(ce=0,pe=U,de=2*U),ae=Q.createImageData(oe,ee);for(let he=0;he<ee*oe;J+=K,te+=K,se+=K,le+=K,he++)ae.data[J]=(re.data[ce++]-R[0])*W[0],ae.data[te]=(re.data[de++]-R[1])*W[1],ae.data[se]=(re.data[pe++]-R[2])*W[2],ae.data[le]=fe===-1?255:(re.data[fe++]-R[3])*W[3]}return ae}},4866:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.tensorFromImage=X.bufferToTensor=void 0;const ne=re(963);X.bufferToTensor=(Q,ae)=>{if(Q===void 0)throw new Error("Image buffer must be defined");if(ae.height===void 0||ae.width===void 0)throw new Error("Image height and width must be defined");if(ae.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:oe,width:ee}=ae,ie=ae.norm??{mean:255,bias:0};let Z,Y;Z=typeof ie.mean=="number"?[ie.mean,ie.mean,ie.mean,ie.mean]:[ie.mean[0],ie.mean[1],ie.mean[2],ie.mean[3]??255],Y=typeof ie.bias=="number"?[ie.bias,ie.bias,ie.bias,ie.bias]:[ie.bias[0],ie.bias[1],ie.bias[2],ie.bias[3]??0];const W=ae.format!==void 0?ae.format:"RGBA",R=ae.tensorFormat!==void 0&&ae.tensorFormat!==void 0?ae.tensorFormat:"RGB",U=oe*ee,K=R==="RGBA"?new Float32Array(4*U):new Float32Array(3*U);let J=4,te=0,se=1,le=2,ce=3,de=0,pe=U,fe=2*U,he=-1;W==="RGB"&&(J=3,te=0,se=1,le=2,ce=-1),R==="RGBA"?he=3*U:R==="RBG"?(de=0,fe=U,pe=2*U):R==="BGR"&&(fe=0,pe=U,de=2*U);for(let ye=0;ye<U;ye++,te+=J,le+=J,se+=J,ce+=J)K[de++]=(Q[te]+Y[0])/Z[0],K[pe++]=(Q[se]+Y[1])/Z[1],K[fe++]=(Q[le]+Y[2])/Z[2],he!==-1&&ce!==-1&&(K[he++]=(Q[ce]+Y[3])/Z[3]);return R==="RGBA"?new ne.Tensor("float32",K,[1,4,oe,ee]):new ne.Tensor("float32",K,[1,3,oe,ee])},X.tensorFromImage=async(Q,ae)=>{const oe=typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement,ee=typeof ImageData<"u"&&Q instanceof ImageData,ie=typeof ImageBitmap<"u"&&Q instanceof ImageBitmap,Z=typeof Q=="string";let Y,W=ae??{};if(oe){const R=document.createElement("canvas");R.width=Q.width,R.height=Q.height;const U=R.getContext("2d");if(U==null)throw new Error("Can not access image data");{let K=Q.height,J=Q.width;if(ae!==void 0&&ae.resizedHeight!==void 0&&ae.resizedWidth!==void 0&&(K=ae.resizedHeight,J=ae.resizedWidth),ae!==void 0){if(W=ae,ae.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");W.tensorFormat="RGBA",W.height=K,W.width=J}else W.tensorFormat="RGBA",W.height=K,W.width=J;U.drawImage(Q,0,0),Y=U.getImageData(0,0,J,K).data}}else{if(!ee){if(ie){if(ae===void 0)throw new Error("Please provide image config with format for Imagebitmap");const R=document.createElement("canvas");R.width=Q.width,R.height=Q.height;const U=R.getContext("2d");if(U!=null){const K=Q.height,J=Q.width;return U.drawImage(Q,0,0,J,K),Y=U.getImageData(0,0,J,K).data,W.height=K,W.width=J,(0,X.bufferToTensor)(Y,W)}throw new Error("Can not access image data")}if(Z)return new Promise((R,U)=>{const K=document.createElement("canvas"),J=K.getContext("2d");if(!Q||!J)return U();const te=new Image;te.crossOrigin="Anonymous",te.src=Q,te.onload=()=>{K.width=te.width,K.height=te.height,J.drawImage(te,0,0,K.width,K.height);const se=J.getImageData(0,0,K.width,K.height);W.height=K.height,W.width=K.width,R((0,X.bufferToTensor)(se.data,W))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{let R,U;if(ae!==void 0&&ae.resizedWidth!==void 0&&ae.resizedHeight!==void 0?(R=ae.resizedHeight,U=ae.resizedWidth):(R=Q.height,U=Q.width),ae!==void 0&&(W=ae),W.format="RGBA",W.height=R,W.width=U,ae!==void 0){const K=document.createElement("canvas");K.width=U,K.height=R;const J=K.getContext("2d");if(J==null)throw new Error("Can not access image data");J.putImageData(Q,0,0),Y=J.getImageData(0,0,U,R).data}else Y=Q.data}}if(Y!==void 0)return(0,X.bufferToTensor)(Y,W);throw new Error("Input data provided is not supported - aborted tensor creation")}},5957:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Tensor=void 0;const ne=re(2350),Q=re(4866),ae=re(106),oe=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),ee=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let ie=!1;X.Tensor=class{constructor(Z,Y,W){let R,U,K;if((()=>{if(!ie){ie=!0;const te=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",se=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";te&&(oe.set("int64",BigInt64Array),ee.set(BigInt64Array,"int64")),se&&(oe.set("uint64",BigUint64Array),ee.set(BigUint64Array,"uint64"))}})(),typeof Z=="string")if(R=Z,K=W,Z==="string"){if(!Array.isArray(Y))throw new TypeError("A string tensor's data must be a string array.");U=Y}else{const te=oe.get(Z);if(te===void 0)throw new TypeError(`Unsupported tensor type: ${Z}.`);if(Array.isArray(Y)){if(Z==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");U=Z==="uint64"||Z==="int64"?te.from(Y,BigInt):te.from(Y)}else{if(!(Y instanceof te))throw new TypeError(`A ${R} tensor's data must be type of ${te}`);U=Y}}else if(K=Y,Array.isArray(Z)){if(Z.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const te=typeof Z[0];if(te==="string")R="string",U=Z;else{if(te!=="boolean")throw new TypeError(`Invalid element type of data array: ${te}.`);R="bool",U=Uint8Array.from(Z)}}else{const te=ee.get(Z.constructor);if(te===void 0)throw new TypeError(`Unsupported type for tensor data: ${Z.constructor}.`);R=te,U=Z}if(K===void 0)K=[U.length];else if(!Array.isArray(K))throw new TypeError("A tensor's dims must be a number array");const J=(0,ae.calculateSize)(K);if(J!==U.length)throw new Error(`Tensor's size(${J}) does not match data length(${U.length}).`);this.dims=K,this.type=R,this.data=U,this.size=J}static async fromImage(Z,Y){return(0,Q.tensorFromImage)(Z,Y)}toDataURL(Z){return(0,ne.tensorToDataURL)(this,Z)}toImageData(Z){return(0,ne.tensorToImageData)(this,Z)}reshape(Z){return(0,ae.tensorReshape)(this,Z)}}},106:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.tensorReshape=X.calculateSize=void 0;const ne=re(963);X.calculateSize=Q=>{let ae=1;for(let oe=0;oe<Q.length;oe++){const ee=Q[oe];if(typeof ee!="number"||!Number.isSafeInteger(ee))throw new TypeError(`dims[${oe}] must be an integer, got: ${ee}`);if(ee<0)throw new RangeError(`dims[${oe}] must be a non-negative integer, got: ${ee}`);ae*=ee}return ae},X.tensorReshape=(Q,ae)=>new ne.Tensor(Q.type,Q.data,ae)},963:(ue,X,re)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.Tensor=void 0;const ne=re(5957);X.Tensor=ne.Tensor},9104:(ue,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.version=void 0,X.version="1.16.3"},1583:(ue,X)=>{var re,ne=function(Q){Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var ae=null;try{ae=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function oe(me,we,Ae){this.low=0|me,this.high=0|we,this.unsigned=!!Ae}function ee(me){return(me&&me.__isLong__)===!0}function ie(me){var we=Math.clz32(me&-me);return me?31-we:we}oe.prototype.__isLong__,Object.defineProperty(oe.prototype,"__isLong__",{value:!0}),oe.isLong=ee;var Z={},Y={};function W(me,we){var Ae,Le,Fe;return we?(Fe=0<=(me>>>=0)&&me<256)&&(Le=Y[me])?Le:(Ae=U(me,0,!0),Fe&&(Y[me]=Ae),Ae):(Fe=-128<=(me|=0)&&me<128)&&(Le=Z[me])?Le:(Ae=U(me,me<0?-1:0,!1),Fe&&(Z[me]=Ae),Ae)}function R(me,we){if(isNaN(me))return we?fe:pe;if(we){if(me<0)return fe;if(me>=le)return Se}else{if(me<=-ce)return Pe;if(me+1>=ce)return xe}return me<0?R(-me,we).neg():U(me%se|0,me/se|0,we)}function U(me,we,Ae){return new oe(me,we,Ae)}oe.fromInt=W,oe.fromNumber=R,oe.fromBits=U;var K=Math.pow;function J(me,we,Ae){if(me.length===0)throw Error("empty string");if(typeof we=="number"?(Ae=we,we=!1):we=!!we,me==="NaN"||me==="Infinity"||me==="+Infinity"||me==="-Infinity")return we?fe:pe;if((Ae=Ae||10)<2||36<Ae)throw RangeError("radix");var Le;if((Le=me.indexOf("-"))>0)throw Error("interior hyphen");if(Le===0)return J(me.substring(1),we,Ae).neg();for(var Fe=R(K(Ae,8)),Be=pe,je=0;je<me.length;je+=8){var Ve=Math.min(8,me.length-je),Ge=parseInt(me.substring(je,je+Ve),Ae);if(Ve<8){var We=R(K(Ae,Ve));Be=Be.mul(We).add(R(Ge))}else Be=(Be=Be.mul(Fe)).add(R(Ge))}return Be.unsigned=we,Be}function te(me,we){return typeof me=="number"?R(me,we):typeof me=="string"?J(me,we):U(me.low,me.high,typeof we=="boolean"?we:me.unsigned)}oe.fromString=J,oe.fromValue=te;var se=4294967296,le=se*se,ce=le/2,de=W(1<<24),pe=W(0);oe.ZERO=pe;var fe=W(0,!0);oe.UZERO=fe;var he=W(1);oe.ONE=he;var ye=W(1,!0);oe.UONE=ye;var Te=W(-1);oe.NEG_ONE=Te;var xe=U(-1,2147483647,!1);oe.MAX_VALUE=xe;var Se=U(-1,-1,!0);oe.MAX_UNSIGNED_VALUE=Se;var Pe=U(0,-2147483648,!1);oe.MIN_VALUE=Pe;var be=oe.prototype;be.toInt=function(){return this.unsigned?this.low>>>0:this.low},be.toNumber=function(){return this.unsigned?(this.high>>>0)*se+(this.low>>>0):this.high*se+(this.low>>>0)},be.toString=function(me){if((me=me||10)<2||36<me)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Pe)){var we=R(me),Ae=this.div(we),Le=Ae.mul(we).sub(this);return Ae.toString(me)+Le.toInt().toString(me)}return"-"+this.neg().toString(me)}for(var Fe=R(K(me,6),this.unsigned),Be=this,je="";;){var Ve=Be.div(Fe),Ge=(Be.sub(Ve.mul(Fe)).toInt()>>>0).toString(me);if((Be=Ve).isZero())return Ge+je;for(;Ge.length<6;)Ge="0"+Ge;je=""+Ge+je}},be.getHighBits=function(){return this.high},be.getHighBitsUnsigned=function(){return this.high>>>0},be.getLowBits=function(){return this.low},be.getLowBitsUnsigned=function(){return this.low>>>0},be.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Pe)?64:this.neg().getNumBitsAbs();for(var me=this.high!=0?this.high:this.low,we=31;we>0&&!(me&1<<we);we--);return this.high!=0?we+33:we+1},be.isZero=function(){return this.high===0&&this.low===0},be.eqz=be.isZero,be.isNegative=function(){return!this.unsigned&&this.high<0},be.isPositive=function(){return this.unsigned||this.high>=0},be.isOdd=function(){return(1&this.low)==1},be.isEven=function(){return(1&this.low)==0},be.equals=function(me){return ee(me)||(me=te(me)),(this.unsigned===me.unsigned||this.high>>>31!=1||me.high>>>31!=1)&&this.high===me.high&&this.low===me.low},be.eq=be.equals,be.notEquals=function(me){return!this.eq(me)},be.neq=be.notEquals,be.ne=be.notEquals,be.lessThan=function(me){return this.comp(me)<0},be.lt=be.lessThan,be.lessThanOrEqual=function(me){return this.comp(me)<=0},be.lte=be.lessThanOrEqual,be.le=be.lessThanOrEqual,be.greaterThan=function(me){return this.comp(me)>0},be.gt=be.greaterThan,be.greaterThanOrEqual=function(me){return this.comp(me)>=0},be.gte=be.greaterThanOrEqual,be.ge=be.greaterThanOrEqual,be.compare=function(me){if(ee(me)||(me=te(me)),this.eq(me))return 0;var we=this.isNegative(),Ae=me.isNegative();return we&&!Ae?-1:!we&&Ae?1:this.unsigned?me.high>>>0>this.high>>>0||me.high===this.high&&me.low>>>0>this.low>>>0?-1:1:this.sub(me).isNegative()?-1:1},be.comp=be.compare,be.negate=function(){return!this.unsigned&&this.eq(Pe)?Pe:this.not().add(he)},be.neg=be.negate,be.add=function(me){ee(me)||(me=te(me));var we=this.high>>>16,Ae=65535&this.high,Le=this.low>>>16,Fe=65535&this.low,Be=me.high>>>16,je=65535&me.high,Ve=me.low>>>16,Ge=0,We=0,Ke=0,Ye=0;return Ke+=(Ye+=Fe+(65535&me.low))>>>16,We+=(Ke+=Le+Ve)>>>16,Ge+=(We+=Ae+je)>>>16,Ge+=we+Be,U((Ke&=65535)<<16|(Ye&=65535),(Ge&=65535)<<16|(We&=65535),this.unsigned)},be.subtract=function(me){return ee(me)||(me=te(me)),this.add(me.neg())},be.sub=be.subtract,be.multiply=function(me){if(this.isZero())return this;if(ee(me)||(me=te(me)),ae)return U(ae.mul(this.low,this.high,me.low,me.high),ae.get_high(),this.unsigned);if(me.isZero())return this.unsigned?fe:pe;if(this.eq(Pe))return me.isOdd()?Pe:pe;if(me.eq(Pe))return this.isOdd()?Pe:pe;if(this.isNegative())return me.isNegative()?this.neg().mul(me.neg()):this.neg().mul(me).neg();if(me.isNegative())return this.mul(me.neg()).neg();if(this.lt(de)&&me.lt(de))return R(this.toNumber()*me.toNumber(),this.unsigned);var we=this.high>>>16,Ae=65535&this.high,Le=this.low>>>16,Fe=65535&this.low,Be=me.high>>>16,je=65535&me.high,Ve=me.low>>>16,Ge=65535&me.low,We=0,Ke=0,Ye=0,Qe=0;return Ye+=(Qe+=Fe*Ge)>>>16,Ke+=(Ye+=Le*Ge)>>>16,Ye&=65535,Ke+=(Ye+=Fe*Ve)>>>16,We+=(Ke+=Ae*Ge)>>>16,Ke&=65535,We+=(Ke+=Le*Ve)>>>16,Ke&=65535,We+=(Ke+=Fe*je)>>>16,We+=we*Ge+Ae*Ve+Le*je+Fe*Be,U((Ye&=65535)<<16|(Qe&=65535),(We&=65535)<<16|(Ke&=65535),this.unsigned)},be.mul=be.multiply,be.divide=function(me){if(ee(me)||(me=te(me)),me.isZero())throw Error("division by zero");var we,Ae,Le;if(ae)return this.unsigned||this.high!==-2147483648||me.low!==-1||me.high!==-1?U((this.unsigned?ae.div_u:ae.div_s)(this.low,this.high,me.low,me.high),ae.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?fe:pe;if(this.unsigned){if(me.unsigned||(me=me.toUnsigned()),me.gt(this))return fe;if(me.gt(this.shru(1)))return ye;Le=fe}else{if(this.eq(Pe))return me.eq(he)||me.eq(Te)?Pe:me.eq(Pe)?he:(we=this.shr(1).div(me).shl(1)).eq(pe)?me.isNegative()?he:Te:(Ae=this.sub(me.mul(we)),Le=we.add(Ae.div(me)));if(me.eq(Pe))return this.unsigned?fe:pe;if(this.isNegative())return me.isNegative()?this.neg().div(me.neg()):this.neg().div(me).neg();if(me.isNegative())return this.div(me.neg()).neg();Le=pe}for(Ae=this;Ae.gte(me);){we=Math.max(1,Math.floor(Ae.toNumber()/me.toNumber()));for(var Fe=Math.ceil(Math.log(we)/Math.LN2),Be=Fe<=48?1:K(2,Fe-48),je=R(we),Ve=je.mul(me);Ve.isNegative()||Ve.gt(Ae);)Ve=(je=R(we-=Be,this.unsigned)).mul(me);je.isZero()&&(je=he),Le=Le.add(je),Ae=Ae.sub(Ve)}return Le},be.div=be.divide,be.modulo=function(me){return ee(me)||(me=te(me)),ae?U((this.unsigned?ae.rem_u:ae.rem_s)(this.low,this.high,me.low,me.high),ae.get_high(),this.unsigned):this.sub(this.div(me).mul(me))},be.mod=be.modulo,be.rem=be.modulo,be.not=function(){return U(~this.low,~this.high,this.unsigned)},be.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},be.clz=be.countLeadingZeros,be.countTrailingZeros=function(){return this.low?ie(this.low):ie(this.high)+32},be.ctz=be.countTrailingZeros,be.and=function(me){return ee(me)||(me=te(me)),U(this.low&me.low,this.high&me.high,this.unsigned)},be.or=function(me){return ee(me)||(me=te(me)),U(this.low|me.low,this.high|me.high,this.unsigned)},be.xor=function(me){return ee(me)||(me=te(me)),U(this.low^me.low,this.high^me.high,this.unsigned)},be.shiftLeft=function(me){return ee(me)&&(me=me.toInt()),(me&=63)==0?this:me<32?U(this.low<<me,this.high<<me|this.low>>>32-me,this.unsigned):U(0,this.low<<me-32,this.unsigned)},be.shl=be.shiftLeft,be.shiftRight=function(me){return ee(me)&&(me=me.toInt()),(me&=63)==0?this:me<32?U(this.low>>>me|this.high<<32-me,this.high>>me,this.unsigned):U(this.high>>me-32,this.high>=0?0:-1,this.unsigned)},be.shr=be.shiftRight,be.shiftRightUnsigned=function(me){return ee(me)&&(me=me.toInt()),(me&=63)==0?this:me<32?U(this.low>>>me|this.high<<32-me,this.high>>>me,this.unsigned):U(me===32?this.high:this.high>>>me-32,0,this.unsigned)},be.shru=be.shiftRightUnsigned,be.shr_u=be.shiftRightUnsigned,be.rotateLeft=function(me){var we;return ee(me)&&(me=me.toInt()),(me&=63)==0?this:me===32?U(this.high,this.low,this.unsigned):me<32?(we=32-me,U(this.low<<me|this.high>>>we,this.high<<me|this.low>>>we,this.unsigned)):(we=32-(me-=32),U(this.high<<me|this.low>>>we,this.low<<me|this.high>>>we,this.unsigned))},be.rotl=be.rotateLeft,be.rotateRight=function(me){var we;return ee(me)&&(me=me.toInt()),(me&=63)==0?this:me===32?U(this.high,this.low,this.unsigned):me<32?(we=32-me,U(this.high<<we|this.low>>>me,this.low<<we|this.high>>>me,this.unsigned)):(we=32-(me-=32),U(this.low<<we|this.high>>>me,this.high<<we|this.low>>>me,this.unsigned))},be.rotr=be.rotateRight,be.toSigned=function(){return this.unsigned?U(this.low,this.high,!1):this},be.toUnsigned=function(){return this.unsigned?this:U(this.low,this.high,!0)},be.toBytes=function(me){return me?this.toBytesLE():this.toBytesBE()},be.toBytesLE=function(){var me=this.high,we=this.low;return[255&we,we>>>8&255,we>>>16&255,we>>>24,255&me,me>>>8&255,me>>>16&255,me>>>24]},be.toBytesBE=function(){var me=this.high,we=this.low;return[me>>>24,me>>>16&255,me>>>8&255,255&me,we>>>24,we>>>16&255,we>>>8&255,255&we]},oe.fromBytes=function(me,we,Ae){return Ae?oe.fromBytesLE(me,we):oe.fromBytesBE(me,we)},oe.fromBytesLE=function(me,we){return new oe(me[0]|me[1]<<8|me[2]<<16|me[3]<<24,me[4]|me[5]<<8|me[6]<<16|me[7]<<24,we)},oe.fromBytesBE=function(me,we){return new oe(me[4]<<24|me[5]<<16|me[6]<<8|me[7],me[0]<<24|me[1]<<16|me[2]<<8|me[3],we)};var Ce=oe;return Q.default=Ce,"default"in Q?Q.default:Q}({});(re=(function(){return ne}).apply(X,[]))===void 0||(ue.exports=re)},5686:(ue,X,re)=>{re.r(X),re.d(X,{flatbuffers:()=>ne});var ne={};ne.Offset,ne.Table,ne.SIZEOF_SHORT=2,ne.SIZEOF_INT=4,ne.FILE_IDENTIFIER_LENGTH=4,ne.SIZE_PREFIX_LENGTH=4,ne.Encoding={UTF8_BYTES:1,UTF16_STRING:2},ne.int32=new Int32Array(2),ne.float32=new Float32Array(ne.int32.buffer),ne.float64=new Float64Array(ne.int32.buffer),ne.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,ne.Long=function(Q,ae){this.low=0|Q,this.high=0|ae},ne.Long.create=function(Q,ae){return Q==0&&ae==0?ne.Long.ZERO:new ne.Long(Q,ae)},ne.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},ne.Long.prototype.equals=function(Q){return this.low==Q.low&&this.high==Q.high},ne.Long.ZERO=new ne.Long(0,0),ne.Builder=function(Q){if(Q)ae=Q;else var ae=1024;this.bb=ne.ByteBuffer.allocate(ae),this.space=ae,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},ne.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},ne.Builder.prototype.forceDefaults=function(Q){this.force_defaults=Q},ne.Builder.prototype.dataBuffer=function(){return this.bb},ne.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},ne.Builder.prototype.prep=function(Q,ae){Q>this.minalign&&(this.minalign=Q);for(var oe=1+~(this.bb.capacity()-this.space+ae)&Q-1;this.space<oe+Q+ae;){var ee=this.bb.capacity();this.bb=ne.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-ee}this.pad(oe)},ne.Builder.prototype.pad=function(Q){for(var ae=0;ae<Q;ae++)this.bb.writeInt8(--this.space,0)},ne.Builder.prototype.writeInt8=function(Q){this.bb.writeInt8(this.space-=1,Q)},ne.Builder.prototype.writeInt16=function(Q){this.bb.writeInt16(this.space-=2,Q)},ne.Builder.prototype.writeInt32=function(Q){this.bb.writeInt32(this.space-=4,Q)},ne.Builder.prototype.writeInt64=function(Q){this.bb.writeInt64(this.space-=8,Q)},ne.Builder.prototype.writeFloat32=function(Q){this.bb.writeFloat32(this.space-=4,Q)},ne.Builder.prototype.writeFloat64=function(Q){this.bb.writeFloat64(this.space-=8,Q)},ne.Builder.prototype.addInt8=function(Q){this.prep(1,0),this.writeInt8(Q)},ne.Builder.prototype.addInt16=function(Q){this.prep(2,0),this.writeInt16(Q)},ne.Builder.prototype.addInt32=function(Q){this.prep(4,0),this.writeInt32(Q)},ne.Builder.prototype.addInt64=function(Q){this.prep(8,0),this.writeInt64(Q)},ne.Builder.prototype.addFloat32=function(Q){this.prep(4,0),this.writeFloat32(Q)},ne.Builder.prototype.addFloat64=function(Q){this.prep(8,0),this.writeFloat64(Q)},ne.Builder.prototype.addFieldInt8=function(Q,ae,oe){(this.force_defaults||ae!=oe)&&(this.addInt8(ae),this.slot(Q))},ne.Builder.prototype.addFieldInt16=function(Q,ae,oe){(this.force_defaults||ae!=oe)&&(this.addInt16(ae),this.slot(Q))},ne.Builder.prototype.addFieldInt32=function(Q,ae,oe){(this.force_defaults||ae!=oe)&&(this.addInt32(ae),this.slot(Q))},ne.Builder.prototype.addFieldInt64=function(Q,ae,oe){!this.force_defaults&&ae.equals(oe)||(this.addInt64(ae),this.slot(Q))},ne.Builder.prototype.addFieldFloat32=function(Q,ae,oe){(this.force_defaults||ae!=oe)&&(this.addFloat32(ae),this.slot(Q))},ne.Builder.prototype.addFieldFloat64=function(Q,ae,oe){(this.force_defaults||ae!=oe)&&(this.addFloat64(ae),this.slot(Q))},ne.Builder.prototype.addFieldOffset=function(Q,ae,oe){(this.force_defaults||ae!=oe)&&(this.addOffset(ae),this.slot(Q))},ne.Builder.prototype.addFieldStruct=function(Q,ae,oe){ae!=oe&&(this.nested(ae),this.slot(Q))},ne.Builder.prototype.nested=function(Q){if(Q!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},ne.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},ne.Builder.prototype.slot=function(Q){this.vtable[Q]=this.offset()},ne.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},ne.Builder.growByteBuffer=function(Q){var ae=Q.capacity();if(3221225472&ae)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var oe=ae<<1,ee=ne.ByteBuffer.allocate(oe);return ee.setPosition(oe-ae),ee.bytes().set(Q.bytes(),oe-ae),ee},ne.Builder.prototype.addOffset=function(Q){this.prep(ne.SIZEOF_INT,0),this.writeInt32(this.offset()-Q+ne.SIZEOF_INT)},ne.Builder.prototype.startObject=function(Q){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=Q;for(var ae=0;ae<Q;ae++)this.vtable[ae]=0;this.isNested=!0,this.object_start=this.offset()},ne.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var Q=this.offset(),ae=this.vtable_in_use-1;ae>=0&&this.vtable[ae]==0;ae--);for(var oe=ae+1;ae>=0;ae--)this.addInt16(this.vtable[ae]!=0?Q-this.vtable[ae]:0);this.addInt16(Q-this.object_start);var ee=(oe+2)*ne.SIZEOF_SHORT;this.addInt16(ee);var ie=0,Z=this.space;e:for(ae=0;ae<this.vtables.length;ae++){var Y=this.bb.capacity()-this.vtables[ae];if(ee==this.bb.readInt16(Y)){for(var W=ne.SIZEOF_SHORT;W<ee;W+=ne.SIZEOF_SHORT)if(this.bb.readInt16(Z+W)!=this.bb.readInt16(Y+W))continue e;ie=this.vtables[ae];break}}return ie?(this.space=this.bb.capacity()-Q,this.bb.writeInt32(this.space,ie-Q)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-Q,this.offset()-Q)),this.isNested=!1,Q},ne.Builder.prototype.finish=function(Q,ae,oe){var ee=oe?ne.SIZE_PREFIX_LENGTH:0;if(ae){var ie=ae;if(this.prep(this.minalign,ne.SIZEOF_INT+ne.FILE_IDENTIFIER_LENGTH+ee),ie.length!=ne.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+ne.FILE_IDENTIFIER_LENGTH);for(var Z=ne.FILE_IDENTIFIER_LENGTH-1;Z>=0;Z--)this.writeInt8(ie.charCodeAt(Z))}this.prep(this.minalign,ne.SIZEOF_INT+ee),this.addOffset(Q),ee&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},ne.Builder.prototype.finishSizePrefixed=function(Q,ae){this.finish(Q,ae,!0)},ne.Builder.prototype.requiredField=function(Q,ae){var oe=this.bb.capacity()-Q,ee=oe-this.bb.readInt32(oe);if(this.bb.readInt16(ee+ae)==0)throw new Error("FlatBuffers: field "+ae+" must be set")},ne.Builder.prototype.startVector=function(Q,ae,oe){this.notNested(),this.vector_num_elems=ae,this.prep(ne.SIZEOF_INT,Q*ae),this.prep(oe,Q*ae)},ne.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},ne.Builder.prototype.createString=function(Q){if(Q instanceof Uint8Array)var ae=Q;else{ae=[];for(var oe=0;oe<Q.length;){var ee,ie=Q.charCodeAt(oe++);(ee=ie<55296||ie>=56320?ie:(ie<<10)+Q.charCodeAt(oe++)+-56613888)<128?ae.push(ee):(ee<2048?ae.push(ee>>6&31|192):(ee<65536?ae.push(ee>>12&15|224):ae.push(ee>>18&7|240,ee>>12&63|128),ae.push(ee>>6&63|128)),ae.push(63&ee|128))}}this.addInt8(0),this.startVector(1,ae.length,1),this.bb.setPosition(this.space-=ae.length),oe=0;for(var Z=this.space,Y=this.bb.bytes();oe<ae.length;oe++)Y[Z++]=ae[oe];return this.endVector()},ne.Builder.prototype.createLong=function(Q,ae){return ne.Long.create(Q,ae)},ne.ByteBuffer=function(Q){this.bytes_=Q,this.position_=0},ne.ByteBuffer.allocate=function(Q){return new ne.ByteBuffer(new Uint8Array(Q))},ne.ByteBuffer.prototype.clear=function(){this.position_=0},ne.ByteBuffer.prototype.bytes=function(){return this.bytes_},ne.ByteBuffer.prototype.position=function(){return this.position_},ne.ByteBuffer.prototype.setPosition=function(Q){this.position_=Q},ne.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},ne.ByteBuffer.prototype.readInt8=function(Q){return this.readUint8(Q)<<24>>24},ne.ByteBuffer.prototype.readUint8=function(Q){return this.bytes_[Q]},ne.ByteBuffer.prototype.readInt16=function(Q){return this.readUint16(Q)<<16>>16},ne.ByteBuffer.prototype.readUint16=function(Q){return this.bytes_[Q]|this.bytes_[Q+1]<<8},ne.ByteBuffer.prototype.readInt32=function(Q){return this.bytes_[Q]|this.bytes_[Q+1]<<8|this.bytes_[Q+2]<<16|this.bytes_[Q+3]<<24},ne.ByteBuffer.prototype.readUint32=function(Q){return this.readInt32(Q)>>>0},ne.ByteBuffer.prototype.readInt64=function(Q){return new ne.Long(this.readInt32(Q),this.readInt32(Q+4))},ne.ByteBuffer.prototype.readUint64=function(Q){return new ne.Long(this.readUint32(Q),this.readUint32(Q+4))},ne.ByteBuffer.prototype.readFloat32=function(Q){return ne.int32[0]=this.readInt32(Q),ne.float32[0]},ne.ByteBuffer.prototype.readFloat64=function(Q){return ne.int32[ne.isLittleEndian?0:1]=this.readInt32(Q),ne.int32[ne.isLittleEndian?1:0]=this.readInt32(Q+4),ne.float64[0]},ne.ByteBuffer.prototype.writeInt8=function(Q,ae){this.bytes_[Q]=ae},ne.ByteBuffer.prototype.writeUint8=function(Q,ae){this.bytes_[Q]=ae},ne.ByteBuffer.prototype.writeInt16=function(Q,ae){this.bytes_[Q]=ae,this.bytes_[Q+1]=ae>>8},ne.ByteBuffer.prototype.writeUint16=function(Q,ae){this.bytes_[Q]=ae,this.bytes_[Q+1]=ae>>8},ne.ByteBuffer.prototype.writeInt32=function(Q,ae){this.bytes_[Q]=ae,this.bytes_[Q+1]=ae>>8,this.bytes_[Q+2]=ae>>16,this.bytes_[Q+3]=ae>>24},ne.ByteBuffer.prototype.writeUint32=function(Q,ae){this.bytes_[Q]=ae,this.bytes_[Q+1]=ae>>8,this.bytes_[Q+2]=ae>>16,this.bytes_[Q+3]=ae>>24},ne.ByteBuffer.prototype.writeInt64=function(Q,ae){this.writeInt32(Q,ae.low),this.writeInt32(Q+4,ae.high)},ne.ByteBuffer.prototype.writeUint64=function(Q,ae){this.writeUint32(Q,ae.low),this.writeUint32(Q+4,ae.high)},ne.ByteBuffer.prototype.writeFloat32=function(Q,ae){ne.float32[0]=ae,this.writeInt32(Q,ne.int32[0])},ne.ByteBuffer.prototype.writeFloat64=function(Q,ae){ne.float64[0]=ae,this.writeInt32(Q,ne.int32[ne.isLittleEndian?0:1]),this.writeInt32(Q+4,ne.int32[ne.isLittleEndian?1:0])},ne.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+ne.SIZEOF_INT+ne.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var Q="",ae=0;ae<ne.FILE_IDENTIFIER_LENGTH;ae++)Q+=String.fromCharCode(this.readInt8(this.position_+ne.SIZEOF_INT+ae));return Q},ne.ByteBuffer.prototype.__offset=function(Q,ae){var oe=Q-this.readInt32(Q);return ae<this.readInt16(oe)?this.readInt16(oe+ae):0},ne.ByteBuffer.prototype.__union=function(Q,ae){return Q.bb_pos=ae+this.readInt32(ae),Q.bb=this,Q},ne.ByteBuffer.prototype.__string=function(Q,ae){Q+=this.readInt32(Q);var oe=this.readInt32(Q),ee="",ie=0;if(Q+=ne.SIZEOF_INT,ae===ne.Encoding.UTF8_BYTES)return this.bytes_.subarray(Q,Q+oe);for(;ie<oe;){var Z,Y=this.readUint8(Q+ie++);if(Y<192)Z=Y;else{var W=this.readUint8(Q+ie++);if(Y<224)Z=(31&Y)<<6|63&W;else{var R=this.readUint8(Q+ie++);Z=Y<240?(15&Y)<<12|(63&W)<<6|63&R:(7&Y)<<18|(63&W)<<12|(63&R)<<6|63&this.readUint8(Q+ie++)}}Z<65536?ee+=String.fromCharCode(Z):(Z-=65536,ee+=String.fromCharCode(55296+(Z>>10),56320+(1023&Z)))}return ee},ne.ByteBuffer.prototype.__indirect=function(Q){return Q+this.readInt32(Q)},ne.ByteBuffer.prototype.__vector=function(Q){return Q+this.readInt32(Q)+ne.SIZEOF_INT},ne.ByteBuffer.prototype.__vector_len=function(Q){return this.readInt32(Q+this.readInt32(Q))},ne.ByteBuffer.prototype.__has_identifier=function(Q){if(Q.length!=ne.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+ne.FILE_IDENTIFIER_LENGTH);for(var ae=0;ae<ne.FILE_IDENTIFIER_LENGTH;ae++)if(Q.charCodeAt(ae)!=this.readInt8(this.position_+ne.SIZEOF_INT+ae))return!1;return!0},ne.ByteBuffer.prototype.createLong=function(Q,ae){return ne.Long.create(Q,ae)}}},__webpack_module_cache__={};function __webpack_require__(ue){var X=__webpack_module_cache__[ue];if(X!==void 0)return X.exports;var re=__webpack_module_cache__[ue]={exports:{}};return __webpack_modules__[ue].call(re.exports,re,re.exports,__webpack_require__),re.exports}__webpack_require__.n=ue=>{var X=ue&&ue.__esModule?()=>ue.default:()=>ue;return __webpack_require__.d(X,{a:X}),X},__webpack_require__.d=(ue,X)=>{for(var re in X)__webpack_require__.o(X,re)&&!__webpack_require__.o(ue,re)&&Object.defineProperty(ue,re,{enumerable:!0,get:X[re]})},__webpack_require__.o=(ue,X)=>Object.prototype.hasOwnProperty.call(ue,X),__webpack_require__.r=ue=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ue,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ue,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(1057);return __webpack_exports__})())})(ort_min);var ort_minExports=ort_min.exports;ort_minExports.env.wasm.wasmPaths="/";const MODEL_THRESHOLD=.5,TIMEZONES=(()=>{const ue=[];for(let X=-12;X<=14;X++){const ne=`UTC${X>=0?"+":""}${X}`,Q=`Etc/GMT${X>0?"-":"+"}${Math.abs(X)}`;ue.push({label:ne,value:Q})}return ue})();class Forecast extends k{constructor(){super();vt(this,"session",null);vt(this,"mounted",!1);vt(this,"localTimezone");vt(this,"updateView",async()=>{if(!this.session||!this.mounted)return;this.setState({status:"Syncing..."});let re;try{re=await getForecastHistory()}catch(K){console.error(K),this.setState({status:"Sync Error."});return}if(!re||re.length===0){this.setState({status:"No Data"});return}this.setState({status:"Processing..."});const ne=re[0],Q=ne.status==="live",ae=ne.actualStart||ne.availableAt,oe=new Date(ae);let ee;if(Q)ee=new Date;else{const K=ne.actualEnd||ae;ee=new Date(K)}let ie=(ee.getTime()-oe.getTime())/(1e3*3600);ie<0&&(ie=0);const Z=new Date;let Y=new Date(Z);Y.setMinutes(0,0,0),Y.setHours(Y.getHours()+1);const W=[],R=[],U=K=>{const J=K.getTime();for(let te of re){if(!te.actualStart)continue;const se=new Date(te.actualStart).getTime();if(se>=J&&se<J+36e5)return 1}return 0};for(let K=0;K<200;K++){const J=new Date(Y.getTime()+K*3600*1e3);R.push(J);const te=J.getHours(),se=J.getDay(),le=Math.sin(2*Math.PI*te/24),ce=Math.cos(2*Math.PI*te/24),de=Math.sin(2*Math.PI*se/7),pe=Math.cos(2*Math.PI*se/7),fe=(J.getTime()-ee.getTime())/(1e3*3600),he=(J.getTime()-oe.getTime())/(1e3*3600),ye=new Date(J.getTime()-24*3600*1e3),Te=new Date(J.getTime()-168*3600*1e3),xe=U(ye),Se=U(Te);W.push(le,ce,de,pe,fe,he,ie,xe,Se)}try{const J={float_input:new ort_minExports.Tensor("float32",Float32Array.from(W),[200,9])},te=await this.session.run(J),se=this.session.outputNames[1]||this.session.outputNames[0],le=te[se].data,ce=[];for(let de=0;de<200;de++)ce.push(le[de*2+1]);this.processForecast(R,ce),this.mounted&&this.setState({status:"Ready"})}catch(K){console.error("Inference Error",K),this.mounted&&this.setState({status:"Prediction Error"})}});vt(this,"handleTimezoneChange",re=>{this.setState({timezone:re.target.value},()=>{this.updateView()})});this.localTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",this.state={status:"Initializing...",days:[],timezone:this.localTimezone}}async componentDidMount(){this.mounted=!0;try{this.session=await ort_minExports.InferenceSession.create("/model.onnx",{executionProviders:["wasm"]}),this.updateView()}catch(re){console.error(re),this.mounted&&this.setState({status:"Error loading model."})}}componentWillUnmount(){this.mounted=!1}processForecast(re,ne){const Q={},{timezone:ae}=this.state,oe=[];re.forEach((ie,Z)=>{const Y=ie.toLocaleDateString("en-US",{weekday:"short",day:"numeric",timeZone:ae});Q[Y]||(oe.push(Y),Q[Y]={name:Y,probs:[],maxProb:0,highProbCount:0});const W=ne[Z];Q[Y].probs.push(W),W>Q[Y].maxProb&&(Q[Y].maxProb=W),W>=MODEL_THRESHOLD&&Q[Y].highProbCount++});const ee=oe.slice(0,7).map(ie=>Q[ie]);this.setState({days:ee})}renderSparkline(re){const ne=re.map((oe,ee)=>{const ie=re.length>1?re.length-1:1,Z=ee/ie*100,W=95-Math.max(0,Math.min(1,oe))*90;return`${Z},${W}`}),Q=`M 0,100 L ${ne.join(" L ")} L 100,100 Z`,ae=`M ${ne.join(" L ")}`;return u("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",style:"width:100%; height:100%; overflow: visible;",children:[u("path",{d:Q,class:"sparkline-fill"}),u("path",{d:ae,class:"sparkline-path",vectorEffect:"non-scaling-stroke",style:{vectorEffect:"non-scaling-stroke"}})]})}render(){const{days:re,timezone:ne}=this.state;return u("div",{class:"forecast-section",children:[u("div",{class:"forecast-controls-bar",children:[u("h3",{class:"forecast-header serif",children:"7-DAY KRONIIUM FORECAST"}),u("div",{class:"forecast-actions",children:[u("select",{class:"timezone-select",value:ne,onChange:this.handleTimezoneChange,children:[u("option",{value:this.localTimezone,children:["Local (",this.localTimezone,")"]}),TIMEZONES.map(Q=>u("option",{value:Q.value,children:Q.label}))]}),u("button",{class:"icon-btn material-icons",onClick:this.updateView,title:"Refresh",children:"refresh"})]})]}),u("div",{class:"forecast-grid",children:re.map(Q=>{const ae=Q.maxProb>=MODEL_THRESHOLD;return u("div",{class:`day-card ${ae?"active":""}`,children:[u("span",{class:"day-header",children:Q.name}),u("span",{class:`material-icons day-icon ${ae?"active":"inactive"}`,children:ae?"alarm_on":"alarm_off"}),u("span",{class:"day-prob",children:[(Q.maxProb*100).toFixed(0),"%"]}),u("div",{class:"sparkline-container",children:this.renderSparkline(Q.probs)})]})})})]})}}class Doko extends k{constructor(){super(),this.state={loading:!0,data:{live:!1,krlastdate:new Date,krnext:!1,krnexttitle:"",krnextdate:new Date,krnextid:""}}}componentDidMount(){getKrData().then(X=>this.setState({loading:!1,data:{live:X.live,krlastdate:X.krlastdate,krnext:X.krnext,krnexttitle:X.krnexttitle,krnextdate:X.krnextdate,krnextid:X.krnextid}}))}render(X){const{loading:re,data:ne}=this.state,Q=!X.hideForecast;if(re)return u(b,{children:u("h3",{children:"asking holodex nicely..."})});const ae=`${ne.krlastdate.toLocaleDateString()} ${ne.krlastdate.toLocaleTimeString()}`,oe=`${ne.krnextdate.toLocaleDateString()} ${ne.krnextdate.toLocaleTimeString()}`;return ne.live?u(b,{children:[u("h2",{class:"serif",children:"KRONII KOKO!!!"}),u("h3",{class:"serif",children:u("a",{href:"https://youtube.com/watch?v="+ne.krnextid,children:ne.krnexttitle})}),Q&&u(Forecast,{})]}):u(b,{children:[u("div",{style:{margin:"2rem 0"},children:[u("h3",{class:"serif",style:{marginBottom:"1rem"},children:"THE WARDEN HAS BEEN AWAY FOR"}),u("div",{style:{display:"flex",justifyContent:"center"},children:u(TimeSinceKronii,{krdate:ne.krlastdate,transparent:!Q})})]}),u("div",{style:{margin:"2rem 0"},children:[u("h3",{class:"serif",style:{marginBottom:"1rem"},children:"NO KRONIIUM SINCE"}),u("div",{style:{display:"flex",justifyContent:"center"},children:u("div",{class:`info-card-box ${Q?"":"transparent"}`,children:u("h2",{class:"date-display",children:ae})})})]}),u("br",{}),X.next?ne.krnext?u(b,{children:[u("h3",{class:"serif",children:"NEXT SCHEDULED STREAM"}),u("h3",{class:"serif",children:u("a",{href:"https://youtube.com/watch?v="+ne.krnextid,children:ne.krnexttitle})}),u("h3",{children:"at "+oe})]}):u(b,{children:[u("h3",{class:"serif",children:"NO NEXT STREAM CURRENTLY SCHEDULED"}),u("p",{class:"lowtext",children:"according to the holodex API..."})]}):u(b,{}),Q&&u(Forecast,{})]})}}function Logo(ue){return u("svg",{id:ue.id,width:"100%",height:"100%",viewBox:"0 0 879 297",version:"1.1",style:"fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:1.5;",children:u("g",{transform:"matrix(1,0,0,1,-488.609,-299.053)",children:u("g",{id:"clock",children:[u("g",{transform:"matrix(-3.28307,2.06003,-0.645135,-1.02815,3716.77,-735.358)",children:u("path",{d:"M800,450C683.063,333.063 713.38,363.38 656.458,306.458",style:"fill:none;stroke:rgb(255,220,145);stroke-width:1.39px;"})}),u("g",{id:"Layer3",transform:"matrix(0.43285,0.901466,-0.901466,0.43285,859.38,-465.955)",children:[u("g",{transform:"matrix(1.52028,-0.19301,-0.19301,1.52028,-318.734,-81.943)",children:u("path",{d:"M788.478,450L684.75,553.727",style:"fill:none;stroke:"+ue.color+";stroke-width:3.01px;"})}),u("g",{transform:"matrix(1.32727,0,0,1.32727,-261.818,-153.575)",children:u("path",{d:"M800,459.985L653.042,606.943",style:"fill:none;stroke:"+ue.color+";stroke-width:3.01px;"})}),u("g",{transform:"matrix(0.838313,0,0,0.838313,129.35,72.7594)",children:u("path",{d:"M800,450L524.147,725.853",style:"fill:none;stroke:"+ue.color+";stroke-width:4.77px;"})})]}),u("g",{id:"Layer4",transform:"matrix(0.809326,-0.58736,0.58736,0.809326,-111.773,555.691)",children:[u("g",{transform:"matrix(1,0,0,1,1.38183,-1.38183)",children:u("path",{d:"M798.618,451.382L575.325,451.382",style:"fill:none;stroke:"+ue.color+";stroke-width:4px;"})}),u("g",{transform:"matrix(0.936777,0,0,1,51.8728,3.48395)",children:u("path",{d:"M798.618,451.382L575.325,451.382",style:"fill:none;stroke:"+ue.color+";stroke-width:4.13px;"})}),u("g",{transform:"matrix(0.864257,0,0,1,109.789,-6.27356)",children:u("path",{d:"M798.618,451.382L575.325,451.382",style:"fill:none;stroke:"+ue.color+";stroke-width:4.28px;"})}),u("g",{transform:"matrix(0.66622,0,0,1,267.945,-11.1897)",children:u("path",{d:"M798.618,451.382L575.325,451.382",style:"fill:none;stroke:"+ue.color+";stroke-width:4.71px;"})}),u("g",{transform:"matrix(0.742459,0,0,1,207.058,8.34194)",children:u("path",{d:"M798.618,451.382L575.325,451.382",style:"fill:none;stroke:"+ue.color+";stroke-width:4.54px;"})})]}),u("circle",{cx:"800",cy:"450",r:"143.542",style:"fill:none;stroke:"+ue.color+";stroke-width:4px;stroke-linecap:round;"}),u("g",{transform:"matrix(1.22222,0,0,1.22222,-177.778,-100)",children:u("circle",{cx:"800",cy:"450",r:"50.116",style:"fill:"+ue.color+";"})})]})})})}var Button$1={},interopRequireDefault={exports:{}};(function(ue){function X(re){return re&&re.__esModule?re:{default:re}}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,createClass={exports:{}},toPropertyKey={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(ue){function X(re){"@babel/helpers - typeof";return ue.exports=X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},ue.exports.__esModule=!0,ue.exports.default=ue.exports,X(re)}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(_typeof)),_typeof.exports}var toPrimitive={exports:{}},hasRequiredToPrimitive;function requireToPrimitive(){return hasRequiredToPrimitive||(hasRequiredToPrimitive=1,function(ue){var X=require_typeof().default;function re(ne,Q){if(X(ne)!="object"||!ne)return ne;var ae=ne[Symbol.toPrimitive];if(ae!==void 0){var oe=ae.call(ne,Q||"default");if(X(oe)!="object")return oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(ne)}ue.exports=re,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(toPrimitive)),toPrimitive.exports}var hasRequiredToPropertyKey;function requireToPropertyKey(){return hasRequiredToPropertyKey||(hasRequiredToPropertyKey=1,function(ue){var X=require_typeof().default,re=requireToPrimitive();function ne(Q){var ae=re(Q,"string");return X(ae)=="symbol"?ae:ae+""}ue.exports=ne,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(toPropertyKey)),toPropertyKey.exports}var hasRequiredCreateClass;function requireCreateClass(){return hasRequiredCreateClass||(hasRequiredCreateClass=1,function(ue){var X=requireToPropertyKey();function re(Q,ae){for(var oe=0;oe<ae.length;oe++){var ee=ae[oe];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(Q,X(ee.key),ee)}}function ne(Q,ae,oe){return ae&&re(Q.prototype,ae),oe&&re(Q,oe),Object.defineProperty(Q,"prototype",{writable:!1}),Q}ue.exports=ne,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(createClass)),createClass.exports}var classCallCheck={exports:{}},hasRequiredClassCallCheck;function requireClassCallCheck(){return hasRequiredClassCallCheck||(hasRequiredClassCallCheck=1,function(ue){function X(re,ne){if(!(re instanceof ne))throw new TypeError("Cannot call a class as a function")}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(classCallCheck)),classCallCheck.exports}var possibleConstructorReturn={exports:{}},assertThisInitialized={exports:{}},hasRequiredAssertThisInitialized;function requireAssertThisInitialized(){return hasRequiredAssertThisInitialized||(hasRequiredAssertThisInitialized=1,function(ue){function X(re){if(re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(assertThisInitialized)),assertThisInitialized.exports}var hasRequiredPossibleConstructorReturn;function requirePossibleConstructorReturn(){return hasRequiredPossibleConstructorReturn||(hasRequiredPossibleConstructorReturn=1,function(ue){var X=require_typeof().default,re=requireAssertThisInitialized();function ne(Q,ae){if(ae&&(X(ae)=="object"||typeof ae=="function"))return ae;if(ae!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return re(Q)}ue.exports=ne,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(possibleConstructorReturn)),possibleConstructorReturn.exports}var getPrototypeOf={exports:{}},hasRequiredGetPrototypeOf;function requireGetPrototypeOf(){return hasRequiredGetPrototypeOf||(hasRequiredGetPrototypeOf=1,function(ue){function X(re){return ue.exports=X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},ue.exports.__esModule=!0,ue.exports.default=ue.exports,X(re)}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(getPrototypeOf)),getPrototypeOf.exports}var inherits={exports:{}},setPrototypeOf={exports:{}},hasRequiredSetPrototypeOf;function requireSetPrototypeOf(){return hasRequiredSetPrototypeOf||(hasRequiredSetPrototypeOf=1,function(ue){function X(re,ne){return ue.exports=X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Q,ae){return Q.__proto__=ae,Q},ue.exports.__esModule=!0,ue.exports.default=ue.exports,X(re,ne)}ue.exports=X,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(setPrototypeOf)),setPrototypeOf.exports}var hasRequiredInherits;function requireInherits(){return hasRequiredInherits||(hasRequiredInherits=1,function(ue){var X=requireSetPrototypeOf();function re(ne,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(Q&&Q.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),Q&&X(ne,Q)}ue.exports=re,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(inherits)),inherits.exports}const require$$10=getAugmentedNamespace(preact_module);var MaterialComponent={};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */class MDCFoundation{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{}}constructor(X={}){this.adapter_=X}init(){}destroy(){}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */class MDCComponent{static attachTo(X){return new MDCComponent(X,new MDCFoundation)}constructor(X,re=void 0,...ne){this.root_=X,this.initialize(...ne),this.foundation_=re===void 0?this.getDefaultFoundation():re,this.foundation_.init(),this.initialSyncWithDOM()}initialize(){}getDefaultFoundation(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")}initialSyncWithDOM(){}destroy(){this.foundation_.destroy()}listen(X,re){this.root_.addEventListener(X,re)}unlisten(X,re){this.root_.removeEventListener(X,re)}emit(X,re,ne=!1){let Q;typeof CustomEvent=="function"?Q=new CustomEvent(X,{detail:re,bubbles:ne}):(Q=document.createEvent("CustomEvent"),Q.initCustomEvent(X,ne,!1,re)),this.root_.dispatchEvent(Q)}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */const cssClasses$1={ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded",BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation"},strings$1={VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end"},numbers$1={PADDING:10,INITIAL_ORIGIN_SCALE:.6,DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,TAP_DELAY_MS:300};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */let supportsCssVariables_,supportsPassive_;function detectEdgePseudoVarBug(ue){const X=ue.document,re=X.createElement("div");re.className="mdc-ripple-surface--test-edge-var-bug",X.body.appendChild(re);const ne=ue.getComputedStyle(re),Q=ne!==null&&ne.borderTopStyle==="solid";return re.remove(),Q}function supportsCssVariables(ue,X=!1){let re=supportsCssVariables_;if(typeof supportsCssVariables_=="boolean"&&!X)return re;if(!(ue.CSS&&typeof ue.CSS.supports=="function"))return;const Q=ue.CSS.supports("--css-vars","yes"),ae=ue.CSS.supports("(--css-vars: yes)")&&ue.CSS.supports("color","#00000000");return Q||ae?re=!detectEdgePseudoVarBug(ue):re=!1,X||(supportsCssVariables_=re),re}function applyPassive(ue=window,X=!1){if(supportsPassive_===void 0||X){let re=!1;try{ue.document.addEventListener("test",null,{get passive(){re=!0}})}catch{}supportsPassive_=re}return supportsPassive_?{passive:!0}:!1}function getMatchesProperty(ue){return["webkitMatchesSelector","msMatchesSelector","matches"].filter(X=>X in ue).pop()}function getNormalizedEventCoords(ue,X,re){const{x:ne,y:Q}=X,ae=ne+re.left,oe=Q+re.top;let ee,ie;return ue.type==="touchstart"?(ee=ue.changedTouches[0].pageX-ae,ie=ue.changedTouches[0].pageY-oe):(ee=ue.pageX-ae,ie=ue.pageY-oe),{x:ee,y:ie}}const util$1=Object.freeze(Object.defineProperty({__proto__:null,applyPassive,getMatchesProperty,getNormalizedEventCoords,supportsCssVariables},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */const ACTIVATION_EVENT_TYPES=["touchstart","pointerdown","mousedown","keydown"],POINTER_DEACTIVATION_EVENT_TYPES=["touchend","pointerup","mouseup"];let activatedTargets=[];class MDCRippleFoundation extends MDCFoundation{static get cssClasses(){return cssClasses$1}static get strings(){return strings$1}static get numbers(){return numbers$1}static get defaultAdapter(){return{browserSupportsCssVars:()=>{},isUnbounded:()=>{},isSurfaceActive:()=>{},isSurfaceDisabled:()=>{},addClass:()=>{},removeClass:()=>{},containsEventTarget:()=>{},registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:()=>{},computeBoundingRect:()=>{},getWindowPageOffset:()=>{}}}constructor(X){super(Object.assign(MDCRippleFoundation.defaultAdapter,X)),this.layoutFrame_=0,this.frame_={width:0,height:0},this.activationState_=this.defaultActivationState_(),this.initialSize_=0,this.maxRadius_=0,this.activateHandler_=re=>this.activate_(re),this.deactivateHandler_=re=>this.deactivate_(re),this.focusHandler_=()=>this.handleFocus(),this.blurHandler_=()=>this.handleBlur(),this.resizeHandler_=()=>this.layout(),this.unboundedCoords_={left:0,top:0},this.fgScale_=0,this.activationTimer_=0,this.fgDeactivationRemovalTimer_=0,this.activationAnimationHasEnded_=!1,this.activationTimerCallback_=()=>{this.activationAnimationHasEnded_=!0,this.runDeactivationUXLogicIfReady_()},this.previousActivationEvent_=null}supportsPressRipple_(){return this.adapter_.browserSupportsCssVars()}defaultActivationState_(){return{isActivated:!1,hasDeactivationUXRun:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1,activationEvent:null,isProgrammatic:!1}}init(){const X=this.supportsPressRipple_();if(this.registerRootHandlers_(X),X){const{ROOT:re,UNBOUNDED:ne}=MDCRippleFoundation.cssClasses;requestAnimationFrame(()=>{this.adapter_.addClass(re),this.adapter_.isUnbounded()&&(this.adapter_.addClass(ne),this.layoutInternal_())})}}destroy(){if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_DEACTIVATION));const{ROOT:X,UNBOUNDED:re}=MDCRippleFoundation.cssClasses;requestAnimationFrame(()=>{this.adapter_.removeClass(X),this.adapter_.removeClass(re),this.removeCssVars_()})}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()}registerRootHandlers_(X){X&&(ACTIVATION_EVENT_TYPES.forEach(re=>{this.adapter_.registerInteractionHandler(re,this.activateHandler_)}),this.adapter_.isUnbounded()&&this.adapter_.registerResizeHandler(this.resizeHandler_)),this.adapter_.registerInteractionHandler("focus",this.focusHandler_),this.adapter_.registerInteractionHandler("blur",this.blurHandler_)}registerDeactivationHandlers_(X){X.type==="keydown"?this.adapter_.registerInteractionHandler("keyup",this.deactivateHandler_):POINTER_DEACTIVATION_EVENT_TYPES.forEach(re=>{this.adapter_.registerDocumentInteractionHandler(re,this.deactivateHandler_)})}deregisterRootHandlers_(){ACTIVATION_EVENT_TYPES.forEach(X=>{this.adapter_.deregisterInteractionHandler(X,this.activateHandler_)}),this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter_.isUnbounded()&&this.adapter_.deregisterResizeHandler(this.resizeHandler_)}deregisterDeactivationHandlers_(){this.adapter_.deregisterInteractionHandler("keyup",this.deactivateHandler_),POINTER_DEACTIVATION_EVENT_TYPES.forEach(X=>{this.adapter_.deregisterDocumentInteractionHandler(X,this.deactivateHandler_)})}removeCssVars_(){const{strings:X}=MDCRippleFoundation;Object.keys(X).forEach(re=>{re.indexOf("VAR_")===0&&this.adapter_.updateCssVariable(X[re],null)})}activate_(X){if(this.adapter_.isSurfaceDisabled())return;const re=this.activationState_;if(re.isActivated)return;const ne=this.previousActivationEvent_;if(ne&&X&&ne.type!==X.type)return;if(re.isActivated=!0,re.isProgrammatic=X===null,re.activationEvent=X,re.wasActivatedByPointer=re.isProgrammatic?!1:X.type==="mousedown"||X.type==="touchstart"||X.type==="pointerdown",X&&activatedTargets.length>0&&activatedTargets.some(oe=>this.adapter_.containsEventTarget(oe))){this.resetActivationState_();return}X&&(activatedTargets.push(X.target),this.registerDeactivationHandlers_(X)),re.wasElementMadeActive=this.checkElementMadeActive_(X),re.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame(()=>{activatedTargets=[],!re.wasElementMadeActive&&(X.key===" "||X.keyCode===32)&&(re.wasElementMadeActive=this.checkElementMadeActive_(X),re.wasElementMadeActive&&this.animateActivation_()),re.wasElementMadeActive||(this.activationState_=this.defaultActivationState_())})}checkElementMadeActive_(X){return X&&X.type==="keydown"?this.adapter_.isSurfaceActive():!0}activate(X=null){this.activate_(X)}animateActivation_(){const{VAR_FG_TRANSLATE_START:X,VAR_FG_TRANSLATE_END:re}=MDCRippleFoundation.strings,{FG_DEACTIVATION:ne,FG_ACTIVATION:Q}=MDCRippleFoundation.cssClasses,{DEACTIVATION_TIMEOUT_MS:ae}=MDCRippleFoundation.numbers;this.layoutInternal_();let oe="",ee="";if(!this.adapter_.isUnbounded()){const{startPoint:ie,endPoint:Z}=this.getFgTranslationCoordinates_();oe=`${ie.x}px, ${ie.y}px`,ee=`${Z.x}px, ${Z.y}px`}this.adapter_.updateCssVariable(X,oe),this.adapter_.updateCssVariable(re,ee),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter_.removeClass(ne),this.adapter_.computeBoundingRect(),this.adapter_.addClass(Q),this.activationTimer_=setTimeout(()=>this.activationTimerCallback_(),ae)}getFgTranslationCoordinates_(){const{activationEvent:X,wasActivatedByPointer:re}=this.activationState_;let ne;re?ne=getNormalizedEventCoords(X,this.adapter_.getWindowPageOffset(),this.adapter_.computeBoundingRect()):ne={x:this.frame_.width/2,y:this.frame_.height/2},ne={x:ne.x-this.initialSize_/2,y:ne.y-this.initialSize_/2};const Q={x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2};return{startPoint:ne,endPoint:Q}}runDeactivationUXLogicIfReady_(){const{FG_DEACTIVATION:X}=MDCRippleFoundation.cssClasses,{hasDeactivationUXRun:re,isActivated:ne}=this.activationState_;(re||!ne)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter_.addClass(X),this.fgDeactivationRemovalTimer_=setTimeout(()=>{this.adapter_.removeClass(X)},numbers$1.FG_DEACTIVATION_MS))}rmBoundedActivationClasses_(){const{FG_ACTIVATION:X}=MDCRippleFoundation.cssClasses;this.adapter_.removeClass(X),this.activationAnimationHasEnded_=!1,this.adapter_.computeBoundingRect()}resetActivationState_(){this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout(()=>this.previousActivationEvent_=null,MDCRippleFoundation.numbers.TAP_DELAY_MS)}deactivate_(X){const re=this.activationState_;if(!re.isActivated)return;const ne=Object.assign({},re);re.isProgrammatic?(requestAnimationFrame(()=>this.animateDeactivation_(null,ne)),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame(()=>{this.activationState_.hasDeactivationUXRun=!0,this.animateDeactivation_(X,ne),this.resetActivationState_()}))}deactivate(X=null){this.deactivate_(X)}animateDeactivation_(X,{wasActivatedByPointer:re,wasElementMadeActive:ne}){(re||ne)&&this.runDeactivationUXLogicIfReady_()}layout(){this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame(()=>{this.layoutInternal_(),this.layoutFrame_=0})}layoutInternal_(){this.frame_=this.adapter_.computeBoundingRect();const X=Math.max(this.frame_.height,this.frame_.width),re=()=>Math.sqrt(Math.pow(this.frame_.width,2)+Math.pow(this.frame_.height,2))+MDCRippleFoundation.numbers.PADDING;this.maxRadius_=this.adapter_.isUnbounded()?X:re(),this.initialSize_=X*MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE,this.fgScale_=this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()}updateLayoutCssVars_(){const{VAR_FG_SIZE:X,VAR_LEFT:re,VAR_TOP:ne,VAR_FG_SCALE:Q}=MDCRippleFoundation.strings;this.adapter_.updateCssVariable(X,`${this.initialSize_}px`),this.adapter_.updateCssVariable(Q,this.fgScale_),this.adapter_.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter_.updateCssVariable(re,`${this.unboundedCoords_.left}px`),this.adapter_.updateCssVariable(ne,`${this.unboundedCoords_.top}px`))}setUnbounded(X){const{UNBOUNDED:re}=MDCRippleFoundation.cssClasses;X?this.adapter_.addClass(re):this.adapter_.removeClass(re)}handleFocus(){requestAnimationFrame(()=>this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED))}handleBlur(){requestAnimationFrame(()=>this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED))}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */class MDCRipple extends MDCComponent{constructor(...X){super(...X),this.disabled=!1,this.unbounded_}static attachTo(X,{isUnbounded:re=void 0}={}){const ne=new MDCRipple(X);return re!==void 0&&(ne.unbounded=re),ne}static createAdapter(X){const re=getMatchesProperty(HTMLElement.prototype);return{browserSupportsCssVars:()=>supportsCssVariables(window),isUnbounded:()=>X.unbounded,isSurfaceActive:()=>X.root_[re](":active"),isSurfaceDisabled:()=>X.disabled,addClass:ne=>X.root_.classList.add(ne),removeClass:ne=>X.root_.classList.remove(ne),containsEventTarget:ne=>X.root_.contains(ne),registerInteractionHandler:(ne,Q)=>X.root_.addEventListener(ne,Q,applyPassive()),deregisterInteractionHandler:(ne,Q)=>X.root_.removeEventListener(ne,Q,applyPassive()),registerDocumentInteractionHandler:(ne,Q)=>document.documentElement.addEventListener(ne,Q,applyPassive()),deregisterDocumentInteractionHandler:(ne,Q)=>document.documentElement.removeEventListener(ne,Q,applyPassive()),registerResizeHandler:ne=>window.addEventListener("resize",ne),deregisterResizeHandler:ne=>window.removeEventListener("resize",ne),updateCssVariable:(ne,Q)=>X.root_.style.setProperty(ne,Q),computeBoundingRect:()=>X.root_.getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}get unbounded(){return this.unbounded_}set unbounded(X){this.unbounded_=!!X,this.setUnbounded_()}setUnbounded_(){this.foundation_.setUnbounded(this.unbounded_)}activate(){this.foundation_.activate()}deactivate(){this.foundation_.deactivate()}layout(){this.foundation_.layout()}getDefaultFoundation(){return new MDCRippleFoundation(MDCRipple.createAdapter(this))}initialSyncWithDOM(){this.unbounded="mdcRippleIsUnbounded"in this.root_.dataset}}class RippleCapableSurface{}RippleCapableSurface.prototype.root_;RippleCapableSurface.prototype.unbounded;RippleCapableSurface.prototype.disabled;const ripple=Object.freeze(Object.defineProperty({__proto__:null,MDCRipple,MDCRippleFoundation,RippleCapableSurface,util:util$1},Symbol.toStringTag,{value:"Module"})),require$$7=getAugmentedNamespace(ripple);var bindDecorator={},hasRequiredBindDecorator;function requireBindDecorator(){if(hasRequiredBindDecorator)return bindDecorator;hasRequiredBindDecorator=1,Object.defineProperty(bindDecorator,"__esModule",{value:!0});var ue;(function(re){re.typeOfFunction="function",re.boolTrue=!0})(ue||(ue={}));function X(re,ne,Q){if(!Q||typeof Q.value!==ue.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+ne+"> is not a method!");return{configurable:ue.boolTrue,get:function(){var ae=Q.value.bind(this);return Object.defineProperty(this,ne,{value:ae,configurable:ue.boolTrue,writable:ue.boolTrue}),ae}}}return bindDecorator.bind=X,bindDecorator.default=X,bindDecorator}var hasRequiredMaterialComponent;function requireMaterialComponent(){if(hasRequiredMaterialComponent)return MaterialComponent;hasRequiredMaterialComponent=1;var ue=interopRequireDefaultExports;Object.defineProperty(MaterialComponent,"__esModule",{value:!0}),MaterialComponent.default=MaterialComponent.MaterialComponent=void 0;var X=ue(requireClassCallCheck()),re=ue(requireCreateClass()),ne=ue(requirePossibleConstructorReturn()),Q=ue(requireGetPrototypeOf()),ae=ue(requireInherits()),oe=ue(require_typeof()),ee=require$$7,ie=requireBindDecorator(),Z=require$$10,Y=function(K,J,te,se){var le=arguments.length,ce=le<3?J:se===null?se=Object.getOwnPropertyDescriptor(J,te):se,de;if((typeof Reflect>"u"?"undefined":(0,oe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate(K,J,te,se);else for(var pe=K.length-1;pe>=0;pe--)(de=K[pe])&&(ce=(le<3?de(ce):le>3?de(J,te,ce):de(J,te))||ce);return le>3&&ce&&Object.defineProperty(J,te,ce),ce},W=["disabled"],R=function(K){(0,ae.default)(J,K);function J(){return(0,X.default)(this,J),(0,ne.default)(this,(0,Q.default)(J).apply(this,arguments))}return(0,re.default)(J,[{key:"render",value:function(se){this.classText||(this.classText=this.buildClassName(se));var le=se,ce=le.className||le.class||"";le.class&&delete le.class,le.className&&delete le.className;var de=this.materialDom(le),pe="attributes";return"props"in de?(pe="props",de.props=de.props||{}):de.attributes=de.attributes||{},de[pe].className="".concat(ce," ").concat(this.getClassName(de)).split(" ").filter(function(fe,he,ye){return ye.indexOf(fe)===he&&fe!==""}).join(" "),this.mdcProps.forEach(function(fe){fe in W||delete de[pe][fe]}),de}},{key:"componentDidMount",value:function(){this.props.ripple&&this.control&&(this.ripple=new ee.MDCRipple(this.control))}},{key:"componentWillReceiveProps",value:function(se){if(this.MDComponent&&this.mdcNotifyProps){var le=!0,ce=!1,de=void 0;try{for(var pe=this.mdcNotifyProps[Symbol.iterator](),fe;!(le=(fe=pe.next()).done);le=!0){var he=fe.value;this.props[he]!==se[he]&&(this.MDComponent[he]=se[he])}}catch(Ce){ce=!0,de=Ce}finally{try{!le&&pe.return!=null&&pe.return()}finally{if(ce)throw de}}}var ye=!0,Te=!1,xe=void 0;try{for(var Se=this.mdcProps[Symbol.iterator](),Pe;!(ye=(Pe=Se.next()).done);ye=!0){var be=Pe.value;if(this.props[be]!==se[be]){this.classText=this.buildClassName(se);break}}}catch(Ce){Te=!0,xe=Ce}finally{try{!ye&&Se.return!=null&&Se.return()}finally{if(Te)throw xe}}}},{key:"componentWillUnmount",value:function(){this.ripple&&this.ripple.destroy()}},{key:"afterComponentDidMount",value:function(){if(this.MDComponent&&this.mdcNotifyProps){var se=!0,le=!1,ce=void 0;try{for(var de=this.mdcNotifyProps[Symbol.iterator](),pe;!(se=(pe=de.next()).done);se=!0){var fe=pe.value;this.MDComponent[fe]=this.props[fe]}}catch(he){le=!0,ce=he}finally{try{!se&&de.return!=null&&de.return()}finally{if(le)throw ce}}}}},{key:"setControlRef",value:function(se){this.control=se}},{key:"buildClassName",value:function(se){var le="mdc-"+this.componentName;for(var ce in se)if(se.hasOwnProperty(ce)){var de=se[ce];typeof de=="boolean"&&de&&this.mdcProps.indexOf(ce)!==-1&&(le+=" mdc-".concat(this.componentName,"--").concat(ce))}return le}},{key:"getClassName",value:function(se){if(!se)return"";var le="attributes";"props"in se?(le="props",se.props=se.props||{}):se.attributes=se.attributes||{};var ce=se[le]=se[le]||{},de=this.classText;return ce.class&&(de+=" "+ce.class),ce.className&&ce.className!==ce.class&&(de+=" "+ce.className),de}}]),J}(Z.Component);MaterialComponent.MaterialComponent=R,Y([ie.bind],R.prototype,"setControlRef",null);var U=R;return MaterialComponent.default=U,MaterialComponent}var Icon={},hasRequiredIcon;function requireIcon(){if(hasRequiredIcon)return Icon;hasRequiredIcon=1;var ue=interopRequireDefaultExports;Object.defineProperty(Icon,"__esModule",{value:!0}),Icon.default=Icon.Icon=void 0;var X=ue(requireClassCallCheck()),re=ue(requireCreateClass()),ne=ue(requirePossibleConstructorReturn()),Q=ue(requireGetPrototypeOf()),ae=ue(requireInherits()),oe=require$$10,ee=ue(requireMaterialComponent()),ie=function(Y){(0,ae.default)(W,Y);function W(){var R;return(0,X.default)(this,W),R=(0,ne.default)(this,(0,Q.default)(W).apply(this,arguments)),R.componentName="icon",R.mdcProps=[],R}return(0,re.default)(W,[{key:"materialDom",value:function(U){var K=["material-icons"];return U.className&&K.push(U.className),(0,oe.h)("i",Object.assign({},U,{className:K.join(" ")}),U.children)}}]),W}(ee.default);Icon.Icon=ie;var Z=ie;return Icon.default=Z,Icon}var generateThemeClass={},hasRequiredGenerateThemeClass;function requireGenerateThemeClass(){if(hasRequiredGenerateThemeClass)return generateThemeClass;hasRequiredGenerateThemeClass=1,Object.defineProperty(generateThemeClass,"__esModule",{value:!0}),generateThemeClass.default=ue;function ue(X){return"mdc-theme--".concat(X,"-bg")}return generateThemeClass}var _interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(Button$1,"__esModule",{value:!0});var _default$1=Button$1.default=Button$1.Button=Button$1.ButtonIcon=void 0,_createClass2$1=_interopRequireDefault$1(requireCreateClass()),_classCallCheck2$1=_interopRequireDefault$1(requireClassCallCheck()),_possibleConstructorReturn2$1=_interopRequireDefault$1(requirePossibleConstructorReturn()),_getPrototypeOf2$1=_interopRequireDefault$1(requireGetPrototypeOf()),_inherits2$1=_interopRequireDefault$1(requireInherits()),_preact$1=require$$10,_MaterialComponent2=_interopRequireDefault$1(requireMaterialComponent()),_Icon2=_interopRequireDefault$1(requireIcon()),_generateThemeClass=_interopRequireDefault$1(requireGenerateThemeClass()),ButtonIcon=function(ue){(0,_inherits2$1.default)(X,ue);function X(){var re;return(0,_classCallCheck2$1.default)(this,X),re=(0,_possibleConstructorReturn2$1.default)(this,(0,_getPrototypeOf2$1.default)(X).apply(this,arguments)),re.componentName="button__icon",re}return X}(_Icon2.default);Button$1.ButtonIcon=ButtonIcon;var Button=function(ue){(0,_inherits2$1.default)(X,ue);function X(){var re;return(0,_classCallCheck2$1.default)(this,X),re=(0,_possibleConstructorReturn2$1.default)(this,(0,_getPrototypeOf2$1.default)(X).apply(this,arguments)),re.componentName="button",re.mdcProps=["dense","raised","unelevated","outlined"],re.themeProps=["primary","secondary"],re}return(0,_createClass2$1.default)(X,[{key:"materialDom",value:function(ne){var Q=ne.href?"a":"button",ae="";return this.themeProps.forEach(function(oe){oe in ne&&ne[oe]!==!1&&(ae+=(0,_generateThemeClass.default)(oe)+" ")}),(0,_preact$1.h)(Q,Object.assign({ref:this.setControlRef},ne,{className:ae}),this.props.children)}}]),X}(_MaterialComponent2.default);Button$1.Button=Button;var default_1$1=function(ue){(0,_inherits2$1.default)(X,ue);function X(){return(0,_classCallCheck2$1.default)(this,X),(0,_possibleConstructorReturn2$1.default)(this,(0,_getPrototypeOf2$1.default)(X).apply(this,arguments))}return X}(Button);_default$1=Button$1.default=default_1$1;default_1$1.Icon=ButtonIcon;var Dialog$1={},get={exports:{}},superPropBase={exports:{}},hasRequiredSuperPropBase;function requireSuperPropBase(){return hasRequiredSuperPropBase||(hasRequiredSuperPropBase=1,function(ue){var X=requireGetPrototypeOf();function re(ne,Q){for(;!{}.hasOwnProperty.call(ne,Q)&&(ne=X(ne))!==null;);return ne}ue.exports=re,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(superPropBase)),superPropBase.exports}var hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,function(ue){var X=requireSuperPropBase();function re(){return ue.exports=re=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(ne,Q,ae){var oe=X(ne,Q);if(oe){var ee=Object.getOwnPropertyDescriptor(oe,Q);return ee.get?ee.get.call(arguments.length<3?ne:ae):ee.value}},ue.exports.__esModule=!0,ue.exports.default=ue.exports,re.apply(null,arguments)}ue.exports=re,ue.exports.__esModule=!0,ue.exports.default=ue.exports}(get)),get.exports}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */const cssClasses={ROOT:"mdc-dialog",OPEN:"mdc-dialog--open",ANIMATING:"mdc-dialog--animating",BACKDROP:"mdc-dialog__backdrop",SCROLL_LOCK:"mdc-dialog-scroll-lock",ACCEPT_BTN:"mdc-dialog__footer__button--accept",CANCEL_BTN:"mdc-dialog__footer__button--cancel"},strings={OPEN_DIALOG_SELECTOR:".mdc-dialog--open",DIALOG_SURFACE_SELECTOR:".mdc-dialog__surface",ACCEPT_SELECTOR:".mdc-dialog__footer__button--accept",ACCEPT_EVENT:"MDCDialog:accept",CANCEL_EVENT:"MDCDialog:cancel"},numbers={DIALOG_ANIMATION_TIME_MS:120};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */class MDCDialogFoundation extends MDCFoundation{static get cssClasses(){return cssClasses}static get strings(){return strings}static get numbers(){return numbers}static get defaultAdapter(){return{addClass:()=>{},removeClass:()=>{},addBodyClass:()=>{},removeBodyClass:()=>{},eventTargetHasClass:()=>!1,registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerSurfaceInteractionHandler:()=>{},deregisterSurfaceInteractionHandler:()=>{},registerDocumentKeydownHandler:()=>{},deregisterDocumentKeydownHandler:()=>{},notifyAccept:()=>{},notifyCancel:()=>{},trapFocusOnSurface:()=>{},untrapFocusOnSurface:()=>{},isDialog:()=>!1}}constructor(X){super(Object.assign(MDCDialogFoundation.defaultAdapter,X)),this.isOpen_=!1,this.componentClickHandler_=re=>{this.adapter_.eventTargetHasClass(re.target,cssClasses.BACKDROP)&&this.cancel(!0)},this.dialogClickHandler_=re=>this.handleDialogClick_(re),this.documentKeydownHandler_=re=>{(re.key&&re.key==="Escape"||re.keyCode===27)&&this.cancel(!0)},this.timerId_=0,this.animationTimerEnd_=re=>this.handleAnimationTimerEnd_(re)}destroy(){this.isOpen_&&this.close(),this.adapter_.removeClass(MDCDialogFoundation.cssClasses.ANIMATING),clearTimeout(this.timerId_)}open(){this.isOpen_=!0,this.disableScroll_(),this.adapter_.registerDocumentKeydownHandler(this.documentKeydownHandler_),this.adapter_.registerSurfaceInteractionHandler("click",this.dialogClickHandler_),this.adapter_.registerInteractionHandler("click",this.componentClickHandler_),clearTimeout(this.timerId_),this.timerId_=setTimeout(this.animationTimerEnd_,MDCDialogFoundation.numbers.DIALOG_ANIMATION_TIME_MS),this.adapter_.addClass(MDCDialogFoundation.cssClasses.ANIMATING),this.adapter_.addClass(MDCDialogFoundation.cssClasses.OPEN)}close(){this.isOpen_=!1,this.enableScroll_(),this.adapter_.deregisterSurfaceInteractionHandler("click",this.dialogClickHandler_),this.adapter_.deregisterDocumentKeydownHandler(this.documentKeydownHandler_),this.adapter_.deregisterInteractionHandler("click",this.componentClickHandler_),this.adapter_.untrapFocusOnSurface(),clearTimeout(this.timerId_),this.timerId_=setTimeout(this.animationTimerEnd_,MDCDialogFoundation.numbers.DIALOG_ANIMATION_TIME_MS),this.adapter_.addClass(MDCDialogFoundation.cssClasses.ANIMATING),this.adapter_.removeClass(MDCDialogFoundation.cssClasses.OPEN)}isOpen(){return this.isOpen_}accept(X){X&&this.adapter_.notifyAccept(),this.close()}cancel(X){X&&this.adapter_.notifyCancel(),this.close()}handleDialogClick_(X){const{target:re}=X;this.adapter_.eventTargetHasClass(re,cssClasses.ACCEPT_BTN)?this.accept(!0):this.adapter_.eventTargetHasClass(re,cssClasses.CANCEL_BTN)&&this.cancel(!0)}handleAnimationTimerEnd_(){this.adapter_.removeClass(MDCDialogFoundation.cssClasses.ANIMATING),this.isOpen_&&this.adapter_.trapFocusOnSurface()}disableScroll_(){this.adapter_.addBodyClass(cssClasses.SCROLL_LOCK)}enableScroll_(){this.adapter_.removeBodyClass(cssClasses.SCROLL_LOCK)}}var tabbable$1=function(ue,X){X=X||{};var re=ue.ownerDocument||ue,ne=[],Q=[],ae=createIsUnavailable(re),oe=["input","select","a[href]","textarea","button","[tabindex]"],ee=ue.querySelectorAll(oe.join(","));if(X.includeContainer){var ie=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;oe.some(function(J){return ie.call(ue,J)})&&(ee=Array.prototype.slice.apply(ee),ee.unshift(ue))}for(var Z,Y,W,R=0,U=ee.length;R<U;R++)Z=ee[R],Y=parseInt(Z.getAttribute("tabindex"),10),W=isNaN(Y)?Z.tabIndex:Y,!(W<0||Z.tagName==="INPUT"&&Z.type==="hidden"||Z.disabled||ae(Z,re))&&(W===0?ne.push(Z):Q.push({index:R,tabIndex:W,node:Z}));var K=Q.sort(function(J,te){return J.tabIndex===te.tabIndex?J.index-te.index:J.tabIndex-te.tabIndex}).map(function(J){return J.node});return Array.prototype.push.apply(K,ne),K};function createIsUnavailable(ue){var X=[];function re(ne,Q){if(ne===ue.documentElement)return!1;for(var ae=0,oe=X.length;ae<oe;ae++)if(X[ae][0]===ne)return X[ae][1];Q=Q||ue.defaultView.getComputedStyle(ne);var ee=!1;return Q.display==="none"?ee=!0:ne.parentNode&&(ee=re(ne.parentNode)),X.push([ne,ee]),ee}return function(Q){if(Q===ue.documentElement)return!1;var ae=ue.defaultView.getComputedStyle(Q);return re(Q,ae)?!0:ae.visibility==="hidden"}}var tabbable=tabbable$1,listeningFocusTrap=null;function focusTrap(ue,X){var re=[],ne=null,Q=null,ae=null,oe=!1,ee=!1,ie=null,Z=typeof ue=="string"?document.querySelector(ue):ue,Y=X||{};Y.returnFocusOnDeactivate=X&&X.returnFocusOnDeactivate!==void 0?X.returnFocusOnDeactivate:!0,Y.escapeDeactivates=X&&X.escapeDeactivates!==void 0?X.escapeDeactivates:!0;var W={activate:R,deactivate:U,pause:K,unpause:J};return W;function R(Se){if(!oe){var Pe={onActivate:Se&&Se.onActivate!==void 0?Se.onActivate:Y.onActivate};return oe=!0,ee=!1,ae=document.activeElement,Pe.onActivate&&Pe.onActivate(),te(),W}}function U(Se){if(oe){var Pe={returnFocus:Se&&Se.returnFocus!==void 0?Se.returnFocus:Y.returnFocusOnDeactivate,onDeactivate:Se&&Se.onDeactivate!==void 0?Se.onDeactivate:Y.onDeactivate};return se(),Pe.onDeactivate&&Pe.onDeactivate(),Pe.returnFocus&&setTimeout(function(){tryFocus(ae)},0),oe=!1,ee=!1,this}}function K(){ee||!oe||(ee=!0,se())}function J(){!ee||!oe||(ee=!1,te())}function te(){if(oe)return listeningFocusTrap&&listeningFocusTrap.pause(),listeningFocusTrap=W,Te(),setTimeout(function(){tryFocus(ce())},0),document.addEventListener("focus",fe,!0),document.addEventListener("click",pe,!0),document.addEventListener("mousedown",de,!0),document.addEventListener("touchstart",de,!0),document.addEventListener("keydown",he,!0),W}function se(){if(!(!oe||listeningFocusTrap!==W))return document.removeEventListener("focus",fe,!0),document.removeEventListener("click",pe,!0),document.removeEventListener("mousedown",de,!0),document.removeEventListener("touchstart",de,!0),document.removeEventListener("keydown",he,!0),listeningFocusTrap=null,W}function le(Se){var Pe=Y[Se],be=Pe;if(!Pe)return null;if(typeof Pe=="string"&&(be=document.querySelector(Pe),!be))throw new Error("`"+Se+"` refers to no known node");if(typeof Pe=="function"&&(be=Pe(),!be))throw new Error("`"+Se+"` did not return a node");return be}function ce(){var Se;if(le("initialFocus")!==null?Se=le("initialFocus"):Z.contains(document.activeElement)?Se=document.activeElement:Se=re[0]||le("fallbackFocus"),!Se)throw new Error("You can't have a focus-trap without at least one focusable element");return Se}function de(Se){Y.clickOutsideDeactivates&&!Z.contains(Se.target)&&U({returnFocus:!1})}function pe(Se){Y.clickOutsideDeactivates||Z.contains(Se.target)||(Se.preventDefault(),Se.stopImmediatePropagation())}function fe(Se){Z.contains(Se.target)||(Se.preventDefault(),Se.stopImmediatePropagation(),typeof Se.target.blur=="function"&&Se.target.blur(),ie&&xe(ie))}function he(Se){(Se.key==="Tab"||Se.keyCode===9)&&ye(Se),Y.escapeDeactivates!==!1&&isEscapeEvent(Se)&&U()}function ye(Se){if(Te(),Se.target.hasAttribute("tabindex")&&Number(Se.target.getAttribute("tabindex"))<0)return ie=Se;Se.preventDefault();var Pe=re.indexOf(Se.target);if(Se.shiftKey)return Se.target===ne||re.indexOf(Se.target)===-1?tryFocus(Q):tryFocus(re[Pe-1]);if(Se.target===Q)return tryFocus(ne);tryFocus(re[Pe+1])}function Te(){re=tabbable(Z),ne=re[0],Q=re[re.length-1]}function xe(Se){if(Se.shiftKey)return tryFocus(Q);tryFocus(ne)}}function isEscapeEvent(ue){return ue.key==="Escape"||ue.key==="Esc"||ue.keyCode===27}function tryFocus(ue){!ue||!ue.focus||ue!==document.activeElement&&(ue.focus(),ue.tagName.toLowerCase()==="input"&&ue.select())}var focusTrap_1=focusTrap;const createFocusTrap=getDefaultExportFromCjs(focusTrap_1);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function createFocusTrapInstance(ue,X,re=createFocusTrap){return re(ue,{initialFocus:X,clickOutsideDeactivates:!0})}const util=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrapInstance},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */class MDCDialog extends MDCComponent{static attachTo(X){return new MDCDialog(X)}get open(){return this.foundation_.isOpen()}get acceptButton_(){return this.root_.querySelector(MDCDialogFoundation.strings.ACCEPT_SELECTOR)}get dialogSurface_(){return this.root_.querySelector(MDCDialogFoundation.strings.DIALOG_SURFACE_SELECTOR)}initialize(){this.focusTrap_=createFocusTrapInstance(this.dialogSurface_,this.acceptButton_),this.footerBtnRipples_=[];const X=this.root_.querySelectorAll(".mdc-dialog__footer__button");for(let re=0,ne;ne=X[re];re++)this.footerBtnRipples_.push(new MDCRipple(ne))}destroy(){this.footerBtnRipples_.forEach(X=>X.destroy()),super.destroy()}show(){this.foundation_.open()}close(){this.foundation_.close()}getDefaultFoundation(){return new MDCDialogFoundation({addClass:X=>this.root_.classList.add(X),removeClass:X=>this.root_.classList.remove(X),addBodyClass:X=>document.body.classList.add(X),removeBodyClass:X=>document.body.classList.remove(X),eventTargetHasClass:(X,re)=>X.classList.contains(re),registerInteractionHandler:(X,re)=>this.root_.addEventListener(X,re),deregisterInteractionHandler:(X,re)=>this.root_.removeEventListener(X,re),registerSurfaceInteractionHandler:(X,re)=>this.dialogSurface_.addEventListener(X,re),deregisterSurfaceInteractionHandler:(X,re)=>this.dialogSurface_.removeEventListener(X,re),registerDocumentKeydownHandler:X=>document.addEventListener("keydown",X),deregisterDocumentKeydownHandler:X=>document.removeEventListener("keydown",X),notifyAccept:()=>this.emit(MDCDialogFoundation.strings.ACCEPT_EVENT),notifyCancel:()=>this.emit(MDCDialogFoundation.strings.CANCEL_EVENT),trapFocusOnSurface:()=>this.focusTrap_.activate(),untrapFocusOnSurface:()=>this.focusTrap_.deactivate(),isDialog:X=>X===this.dialogSurface_})}}const dialog=Object.freeze(Object.defineProperty({__proto__:null,MDCDialog,MDCDialogFoundation,util},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(dialog);var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(Dialog$1,"__esModule",{value:!0});var _default=Dialog$1.default=Dialog$1.Dialog=Dialog$1.DialogFooterButton=Dialog$1.DialogFooter=Dialog$1.DialogBody=Dialog$1.DialogHeader=void 0,_get2=_interopRequireDefault(requireGet()),_classCallCheck2=_interopRequireDefault(requireClassCallCheck()),_createClass2=_interopRequireDefault(requireCreateClass()),_possibleConstructorReturn2=_interopRequireDefault(requirePossibleConstructorReturn()),_getPrototypeOf2=_interopRequireDefault(requireGetPrototypeOf()),_inherits2=_interopRequireDefault(requireInherits()),_typeof2=_interopRequireDefault(require_typeof()),_dialog=require$$8,_bindDecorator=requireBindDecorator(),_preact=require$$10,_MaterialComponent5=_interopRequireDefault(requireMaterialComponent()),_Button2=Button$1,__decorate=function(ue,X,re,ne){var Q=arguments.length,ae=Q<3?X:ne===null?ne=Object.getOwnPropertyDescriptor(X,re):ne,oe;if((typeof Reflect>"u"?"undefined":(0,_typeof2.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")ae=Reflect.decorate(ue,X,re,ne);else for(var ee=ue.length-1;ee>=0;ee--)(oe=ue[ee])&&(ae=(Q<3?oe(ae):Q>3?oe(X,re,ae):oe(X,re))||ae);return Q>3&&ae&&Object.defineProperty(X,re,ae),ae},DialogHeader=function(ue){(0,_inherits2.default)(X,ue);function X(){var re;return(0,_classCallCheck2.default)(this,X),re=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments)),re.componentName="dialog__header",re.mdcProps=[],re}return(0,_createClass2.default)(X,[{key:"materialDom",value:function(ne){return(0,_preact.h)("header",Object.assign({},ne),(0,_preact.h)("h2",{className:"mdc-dialog__header__title"},ne.children))}}]),X}(_MaterialComponent5.default);Dialog$1.DialogHeader=DialogHeader;__decorate([_bindDecorator.bind],DialogHeader.prototype,"materialDom",null);var DialogBody=function(ue){(0,_inherits2.default)(X,ue);function X(){var re;return(0,_classCallCheck2.default)(this,X),re=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments)),re.componentName="dialog__body",re.mdcProps=["scrollable"],re}return(0,_createClass2.default)(X,[{key:"materialDom",value:function(ne){return(0,_preact.h)("section",Object.assign({},ne),ne.children)}}]),X}(_MaterialComponent5.default);Dialog$1.DialogBody=DialogBody;__decorate([_bindDecorator.bind],DialogBody.prototype,"materialDom",null);var DialogFooter=function(ue){(0,_inherits2.default)(X,ue);function X(){var re;return(0,_classCallCheck2.default)(this,X),re=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments)),re.componentName="dialog__footer",re.mdcProps=[],re}return(0,_createClass2.default)(X,[{key:"materialDom",value:function(ne){return(0,_preact.h)("footer",Object.assign({},ne),ne.children)}}]),X}(_MaterialComponent5.default);Dialog$1.DialogFooter=DialogFooter;__decorate([_bindDecorator.bind],DialogFooter.prototype,"materialDom",null);var DialogFooterButton=function(ue){(0,_inherits2.default)(X,ue);function X(){var re;return(0,_classCallCheck2.default)(this,X),re=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments)),re.componentName="dialog__footer__button",re.mdcProps=["cancel","accept"],re}return(0,_createClass2.default)(X,[{key:"materialDom",value:function(ne){return(0,_preact.h)("button",Object.assign({},ne,{className:"mdc-button",ref:this.setControlRef}),ne.children)}}]),X}(_Button2.Button);Dialog$1.DialogFooterButton=DialogFooterButton;__decorate([_bindDecorator.bind],DialogFooterButton.prototype,"materialDom",null);var Dialog=function(ue){(0,_inherits2.default)(X,ue);function X(){var re;return(0,_classCallCheck2.default)(this,X),re=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments)),re.componentName="dialog",re.mdcProps=[],re}return(0,_createClass2.default)(X,[{key:"componentDidMount",value:function(){(0,_get2.default)((0,_getPrototypeOf2.default)(X.prototype),"componentDidMount",this).call(this),this.control&&(this.MDComponent=new _dialog.MDCDialog(this.control),this.MDComponent.listen("MDCDialog:accept",this.onAccept),this.MDComponent.listen("MDCDialog:cancel",this.onCancel))}},{key:"componentWillUnmount",value:function(){(0,_get2.default)((0,_getPrototypeOf2.default)(X.prototype),"componentWillUnmount",this).call(this),this.MDComponent&&(this.MDComponent.unlisten("MDCDialog:accept",this.onAccept),this.MDComponent.unlisten("MDCDialog:cancel",this.onCancel),this.MDComponent.destroy())}},{key:"onAccept",value:function(ne){this.props.onAccept&&this.props.onAccept(ne)}},{key:"onCancel",value:function(ne){this.props.onCancel&&this.props.onCancel(ne)}},{key:"materialDom",value:function(ne){return(0,_preact.h)("dialog",Object.assign({role:"alertdialog",ref:this.setControlRef},ne),(0,_preact.h)("div",{className:"mdc-dialog__surface"},ne.children),(0,_preact.h)("div",{className:"mdc-dialog__backdrop"}))}}]),X}(_MaterialComponent5.default);Dialog$1.Dialog=Dialog;__decorate([_bindDecorator.bind],Dialog.prototype,"onAccept",null);__decorate([_bindDecorator.bind],Dialog.prototype,"onCancel",null);var default_1=function(ue){(0,_inherits2.default)(X,ue);function X(){return(0,_classCallCheck2.default)(this,X),(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(X).apply(this,arguments))}return X}(Dialog);_default=Dialog$1.default=default_1;default_1.Header=DialogHeader;default_1.Body=DialogBody;default_1.Footer=DialogFooter;default_1.FooterButton=DialogFooterButton;const KroniiImg="/assets/kronii-iAklpHtI.png",Hourglass="/assets/hourglass-not-done-CPOJbIWj.png";class DokoShare extends k{constructor(){super();vt(this,"prepDlg");vt(this,"shareDlg");vt(this,"shareQuote");vt(this,"handleImageChange",re=>{this.setState({fileData:URL.createObjectURL(re.target.files[0])})});vt(this,"handleNameChange",re=>{this.setState({name:re.target.value})});vt(this,"handleQuoteChange",re=>{this.setState({quote:re.target.value})});vt(this,"handlePrepSubmit",()=>{this.shareQuote&&(this.state.quote.length<=150?this.shareQuote.classList.add("beeg"):this.shareQuote.classList.remove("beeg")),this.shareDlg.MDComponent.show()});this.state={fileData:Hourglass,name:"",quote:""}}render(){return u(b,{children:[u(_default$1,{class:"serif",primary:!0,raised:!0,onClick:()=>{this.prepDlg.MDComponent.show()},children:"i miss kronii..."}),u(_default,{ref:re=>{this.prepDlg=re},onAccept:this.handlePrepSubmit,children:[u(_default.Header,{children:u("h3",{children:"i miss kronii..."})}),u(_default.Body,{children:u("div",{children:[u("p",{children:"Upload a profile image (it isn't saved):"}),u("input",{type:"file",onChange:this.handleImageChange}),u("p",{children:"Your name?"}),u("input",{onChange:this.handleNameChange}),u("p",{children:"Anything you have to say?"}),u("input",{onChange:this.handleQuoteChange})]})}),u(_default.Footer,{children:[u(_default.FooterButton,{cancel:!0,children:"Cancel"}),u(_default.FooterButton,{accept:!0,children:"Submit"})]})]}),u(_default,{ref:re=>{this.shareDlg=re},children:[u(_default.Header,{children:"kronii doko?"}),u(_default.Body,{class:"darkbg",children:[u("div",{children:[u("img",{id:"sharepfp",src:this.state.fileData}),u("h1",{id:"sharename",class:"serif",children:this.state.name}),this.state.quote?u("p",{id:"sharequote",ref:re=>{this.shareQuote=re},children:this.state.quote}):u(b,{}),u("br",{})]}),u("div",{children:[u(Doko,{next:!1,hideForecast:!0}),u("p",{class:"lowtext",children:"kroniidoko.ayrl.in"})]}),u("img",{id:"sharebg",src:KroniiImg})]}),u(_default.Footer,{children:[u(_default.FooterButton,{onClick:this.handleSharePress,children:"SHARE WEBSITE"}),u(_default.FooterButton,{cancel:!0,children:"DONE"})]})]})]})}handleSharePress(){navigator.clipboard.writeText("https://kroniidoko.ayrl.in"),console.log("Copied link to clipboard.")}}function App(){const ue=new URLSearchParams(window.location.search),X=ue.has("no_forecast")||ue.get("forecast")==="0"||ue.get("forecast")==="false";return u(b,{children:[u("div",{id:"topbar",children:[u(Logo,{id:"logo",color:"#ddd"}),u("h1",{id:"titleheading",class:"serif",children:"kronii doko?"})]}),u("br",{}),u("div",{class:"card",children:u(Doko,{next:!0,hideForecast:X})}),u("br",{}),u("br",{}),u("br",{}),u(DokoShare,{}),u("br",{}),u("br",{}),u("br",{}),u("p",{children:["a fan site for ",u("a",{href:"https://www.youtube.com/@OuroKronii",children:"Ouro Kronii"})," of hololive English -Promise-"]}),u("p",{class:"lowtext",children:"powered by holodex.js and the holodex API"}),u("p",{class:"lowtext",children:["images and intellectual property owned by COVER Corporation, and used under COVER Corp.'s ",u("a",{href:"https://hololivepro.com/en/terms/",children:"derivative works guidelines."})]})]})}B(u(App,{}),document.getElementById("app"));
